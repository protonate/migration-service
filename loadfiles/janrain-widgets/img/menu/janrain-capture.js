"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var $,T;function cb(){function b(b){var b=b||"img",c=document.createElement(b);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===b?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",aa&&(c.innerHTML=aa)):(c.src=J,R||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=I?e:f;return c}function f(b){K||(g.style.display="none",ba.style.display="none",B.style.display="none");z&&W.deactivate();
("object"===typeof b||!b)&&janrain.events.onModalClose.fire();("object"===typeof b||!b)&&ia.fire();"object"===typeof b&&w(b)}function c(){var b=document.createElement("div"),c=document.createElement("div"),e=document.createElement("a"),h=document.createElement("a"),n=document.createElement("h3");e.innerHTML=U;h.innerHTML=t;n.innerHTML=S;e.setAttribute("href","#");h.setAttribute("href","#");b.className="janrain_close_confirm_container";c.className="janrain_close_confirm";e.className="janrain_modal_confirm";
h.className="janrain_modal_cancel";D(e,"click",function(b){f();g.removeChild(P);P=null;w(b)});D(h,"click",function(b){g.removeChild(P);P=null;w(b)});c.appendChild(n);c.appendChild(h);c.appendChild(e);b.appendChild(c);return b}function e(b){P||(P=c(),g.appendChild(P));w(b)}function j(b){var c=va(),e=qa(b),g=-1*e.width/2,e=-1*e.height/2;b.style.left="50%";b.style.marginLeft=g+"px";b.style.marginTop=e+c+"px";b.style.top="50%";0>b.offsetLeft&&(b.style.left=0,b.style.marginLeft=0);0>b.offsetTop&&(b.style.marginTop=
0,b.style.top="10px");B.style.height=$+c+"px";"absolute"!==b.style.position&&(b.style.position="absolute")}function n(){if(K){var b=document.getElementById("previewMode");b.style.position="relative";b.appendChild(g)}else j(g);K||G.show()}function m(b){L||(C=ca("number",[0,20],10,b),fa.fire({radius:wa(M,C)}))}function r(b){L||(x=ca("color",null,"#000000",b))}function F(b){L||(M=ca("number",[0,20],10,b),oa.fire({radius:wa(M,C),refresh:!0}))}function xa(b){L||(X=ca("number",[0,1],0.5,b),"object"==typeof g&&
ja(g,C,x,X))}function N(b){if("portrait"===b){Q="portrait";var c="one column"}"landscape"===b&&(Q="landscape",c="two column");ka.fire({orientation:Q,format:c,width:db,height:da});n()}function la(b){b&&(Y=b);H&&ra&&(Y+=C-2);"object"==typeof g&&(g.style.width=Y+"px");return this}function p(b){b&&(ea=b);H&&ra&&(ea=ea+2*C-4);b&&"object"==typeof g&&(g.style.height=ea+"px");return this}function o(){T>=$&&"undefined"===typeof window.orientation?"landscape"!==Q&&N("landscape"):90===window.orientation||-90===
window.orientation?"landscape"!==Q&&N("landscape"):"portrait"!==Q&&N("portrait");n()}function u(){var b,c=g;b="undefined"!=typeof window.innerWidth?window.innerHeight:document.documentElement.offsetHeight;var e=va();qa(c);B.style.height=b+e+"px"}var db=380,da=131,g,ya="janrainModal",ba,B,Z,Y=db,ea=da,C=10,x="#000000",M=10,X=0.5,I=!1,J=Ta("images/lightbox-close.png?dcb=3847728844"),aa="",L=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,R=!1,S="Are you sure you want to quit?",
U="Yes, quit",t="No, stay",P,Q="landscape",ma=!0,z="boolean"===typeof z?z:"number"===typeof window.orientation?!0:!1,h="boolean"===typeof h?h:janrain.settings.previewMode,K=h,y=y||!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(J=janrain.settings.capture.modalCloseImage,R=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(aa=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=
new l);var ia=new l,pa=new l,oa=new l,fa=new l,ka=new l;W&&W.onOrientationChange&&W.onViewportChange&&(W.onOrientationChange.addHandler(function(b){N(b.orientation)}),W.onViewportChange.addHandler(function(){j(g)}));return{setWidth:function(b){la(b);return this},setHeight:function(b){p(b);return this},setBorder:function(b){("string"==typeof b||"number"==typeof b)&&m(b);L||"object"==typeof g&&ja(g,C,x,X);return this},setBorderColor:function(b){b&&r(b);L||"object"==typeof g&&ja(g,C,x,X);return this},
setBorderRadius:function(b){("string"==typeof b||"number"==typeof b)&&F(b);L||"object"==typeof g&&sa(g,M);return this},setBorderOpacity:function(b){("number"===typeof b||"string"===typeof b)&&xa(b);return this},setZIndex:function(b){B.style.zIndex=b},setPreviewMode:function(b){"boolean"===typeof b&&(K=b);return this},setId:function(b){ya=b;g&&(g.id=b);return this},show:function(){z||(g.style.display="block");"object"==typeof ba&&ma&&(ba.style.display="block");K?z&&(g.style.display="block"):(B.style.display=
"block",z?(W.setElement(g).activate(),g.style.display="block"):(D(window,"resize",o),D(window,"scroll",u),o()));L||oa.fire({radius:wa(M,C),refresh:!1});pa.fire();g.focus()},close:function(b){f(b)},closeConfirm:function(){e()},refresh:function(){y||g.appendChild(Z);n()},remove:function(){if(K){var b=document.getElementById("previewMode");"object"===typeof Z&&g.removeChild(Z);"object"===typeof g&&b.removeChild(g);"object"===typeof B&&document.body.removeChild(B);if(b=document.getElementById("janrainEngageEmbed_old"))b.id=
"janrainEngageEmbed";B=g=""}else"object"===typeof Z&&g.removeChild(Z),"object"===typeof B&&document.body.removeChild(B),"object"===typeof g&&document.body.removeChild(g)},addContent:function(c){ba=c;if(!g){g=document.createElement("div");g.id=ya;if("number"===typeof Y||"string"===typeof Y)g.style.width=Y+"px";g.style.height=ea+"px";g.style.position="absolute";L||(g.style.padding=C+"px",sa(g,M),ja(g,C,x,X));g.style.zIndex=1E3;g.style.display="none";B=document.createElement("div");B.style.width="100%";
B.style.left=0;B.style.top=0;B.style.backgroundColor="#000000";B.style.position="absolute";c=B;"undefined"!==typeof c.style.filter&&(c.style.filter="alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");B.style.display="none";B.style.zIndex=1E3;Z=aa?b("a"):b();g.appendChild(Z);document.body.appendChild(B);document.body.appendChild(g)}g.appendChild(ba);
K&&n();return this},getContent:function(){return ba},getBorderWidth:function(){return C},getState:function(){return{borderWidth:C,borderColor:x,borderRadius:M,borderOpacity:X,orientation:X}},setState:function(b){Ua("customizable_auth_widget_styling")&&("undefined"!==typeof b.borderWidth&&m(b.borderWidth),"undefined"!==typeof b.borderColor&&r(b.borderColor),"undefined"!==typeof b.borderOpacity&&xa(b.borderOpacity),"undefined"!==typeof b.orientation&&N(b.orientation),"undefined"!==typeof b.borderRadius&&
(("string"==typeof b.borderRadius||"number"==typeof b.borderRadius)&&F(b.borderRadius),"object"==typeof g&&sa(g,M)))},setConfirmClose:function(b){I=b;return this},setShowContentOnLoad:function(b){ma=b;return this},setConfirmMessageText:function(b){S=b},setConfirmLinkText:function(b){U=b},setCancelLinkText:function(b){t=b},onClose:ia,onShow:pa,onOrientationChange:ka,onBorderRadiusChange:oa,onBorderWidthChange:fa}}function eb(){return"http://janrain.ui.s3.amazonaws.com/quilt/stylesheets/"}function Ea(){var b,
f,c,e,j="/";return{create:function(){document.cookie=f+"="+c+";expires="+b+(e?"; domain="+e:"")+"; path="+j},remove:function(){var b=e?"; domain="+e:"",m=new Date;m.setTime(m.getTime()+-864E6);document.cookie=f+"="+c+";expires="+m.toGMTString()+b+"; path="+j},setExpirationDirectly:function(c){c&&(b=c);return this},setExpiration:function(c){if(c){var e=new Date;e.setTime(e.getTime()+864E5*c);b=e.toGMTString()}return this},setName:function(b){b&&(f=b);return this},setValue:function(b){b&&(c=b);return this},
setPath:function(b){b&&(j=b);return this},setDomain:function(b){b&&(e=b);return this},getCookie:function(b){a:{var c,e,f,j;c=document.cookie.split(";");e=c.length;for(var l=0;l<e;l++)if(f=c.pop(),j=f.split("="),f=j[0],j=j[1],f.trim()===b){b=j;break a}b=!1}return b}}}function sa(b,f,c,e,j,n){"number"===typeof c&&"number"===typeof e&&"number"===typeof j&&"number"===typeof n?("undefined"!==typeof b.style.borderRadius&&(b.style.borderRadius=c+"px "+e+"px "+j+"px "+n+"px"),"undefined"!==typeof b.style.MozBorderRadius&&
(b.style.MozBorderRadius=c+"px "+e+"px "+j+"px "+n+"px"),"undefined"!==typeof b.style.webkitBorderRadius&&(b.style.webkitBorderRadius=c+"px "+e+"px "+j+"px "+n+"px")):("undefined"!==typeof b.style.borderRadius&&(b.style.borderRadius=f+"px"),"undefined"!==typeof b.style.MozBorderRadius&&(b.style.MozBorderRadius=f+"px"),"undefined"!==typeof b.style.webkitBorderRadius&&(b.style.webkitBorderRadius=f+"px"));return b}function wa(b,f){if("undefined"===typeof b||"undefined"===typeof f)return!1;var c=b-f;
0>c&&(c=0);c>b&&(c=b);return c}function ja(b,f,c,e){var j=Fa(c),n=Fa(c,e);if(c=Va(c))c.a=e,n="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<f){b.style.backgroundColor=j;b.style.padding=f+"px";if(0<H&&8>=H||H&&ra)return!1;b.style.backgroundColor=n;b.style.padding=f+"px"}else b.style.backgroundColor="",b.style.padding="0px"}function Va(b){var f={};if("string"!==typeof b||!b)return!1;b=b.replace(/\s+/g,"");b=b.replace(/,{2,}/g,",");b=b.replace(/[^\d.,]/g,"");b=b.split(",");if(3>b.length||4<b.length)return!1;
f.r=b[0];f.g=b[1];f.b=b[2];f.a=b[3]?b[3]:1;return f}function Fa(b,f){var c=b.split("");if("#"!==c[0])return b;4===b.length&&(b=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);var b=b.substring(1,7),c=parseInt(b.substring(0,2),16),e=parseInt(b.substring(2,4),16),j=parseInt(b.substring(4,6),16);return isNaN(f)?"rgb("+c+","+e+","+j+")":"rgba("+c+","+e+","+j+","+f+")"}function D(b,f,c){if(null==b)return!1;"object"===typeof window.attachEvent?b.attachEvent("on"+f,c):b.addEventListener(f,c,!1)}function Ga(b,f,c){"object"===
typeof window.detachEvent?b.detachEvent("on"+f,c):b.removeEventListener(f,c,!1)}function va(){return document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}function qa(b){return{width:parseInt(b.style.width||b.offsetWidth),height:parseInt(b.style.height||b.offsetHeight)}}function ca(b,f,c,e,j){var n=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("url"===b){if("string"!==typeof e)return c;e=e.trim();return/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(e)?
e:c}if("usertext"===b)return"string"!==typeof e&&"number"!==typeof e?c:p(f)?1===f.length?e.length<=f[0]?e:c:2===f.length&&e.length<=f[1]&&e.length>=f[0]?e:c:e;"string"===typeof e&&0==e.length&&(e=" ");if(!/^(?:[^\u0000-\u0080]|[0-9a-z?,.!&\s#()])+$/i.test(e))return j||G.log(e+" contains invalid character(s)"),c;if("boolean"===b){if("boolean"===typeof e)return e;j||G.log(e+" is wrong type, must be boolean, using default value instead");return c}if("text"===b)return e;if("number"===b){if(isNaN(parseInt(e)))return j||
G.log(e+" is wrong type, must be a valid number"),c;e=parseFloat(e)}if("color"===b){e&&(e=e.trim());if("transparent"===e||n.test(e))return e;j||G.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof e!=b&&"color"!=b)return j||G.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+b),c;if("object"===typeof f&&"string"===b){if(0<=f.indexOf(e))return e;j||G.log('Value of "'+e+'" for '+arguments.callee.caller.name+
' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof f&&"number"===b){if(2===f.length)var n=f[0],m=f[1];else var n=f.shift(),m=f.pop(),r=f;if(e<n)return j||G.log("Value of "+e+" for "+arguments.callee.caller.name+" is below minimum of "+n+", using minimum value of "+n+" instead"),n;if(e>m)return j||G.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+m+", using maximum value of "+m+" instead"),m;if(r&&"number"===typeof r.indexOf(e)||
e==n||e==m)return e;return r?(j||G.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):e}return 0!=e&&!e?c:e}function za(b){for(var f=za.options,b=f.parser[f.strictMode?"strict":"loose"].exec(b),c={},e=14;e--;)c[f.key[e]]=b[e]||"";c[f.q.name]={};c[f.key[12]].replace(f.q.parser,function(b,e,m){e&&(c[f.q.name][e]=m)});return c}function R(b){return I(b).getAttribute("id")}function U(b){return document.getElementById(R(b))}function I(b){return b.target?
b.target:b.srcElement}function fa(b,f){var c=document.createElement("script"),e=document.getElementsByTagName("script")[0];c.src=b;c.setAttribute("type","text/javascript");"function"===typeof f&&(c.addEventListener?c.addEventListener("load",f,!1):c.readyState&&(c.onreadystatechange=function(){("complete"==c.readyState||"loaded"==c.readyState)&&f()}));e.parentNode.insertBefore(c,e)}function fb(b,f){H&&9>H&&Wa(b,f)}function Wa(b,f){if(H){var c=document.createElement("link");c.rel="stylesheet";c.href=
b;c.type="text/css"}else c=document.createElement("style"),c.textContent='@import "'+b+'";';if(H)c.onload=function(){"function"===typeof f&&f();"object"===typeof janrain.events.onCssLoad&&janrain.events.onCssLoad.fire({source:b})},c.onreadystatechange=function(){if("complete"==c.readyState||"loaded"==c.readyState)"function"===typeof f&&f(),"object"===typeof janrain.events.onCssLoad&&janrain.events.onCssLoad.fire({source:b})};else var e=setInterval(function(){try{c.sheet.cssRules,"function"===typeof f&&
f(),"object"===typeof janrain.events.onCssLoad&&janrain.events.onCssLoad.fire({source:b}),clearInterval(e)}catch(j){}},10);document.getElementsByTagName("head")[0].appendChild(c)}function o(b){var f;f=b&&b.className?b.className.split(" "):[];return{append:function(c){-1===f.indexOf(c)&&(f.push(c),b&&(b.className=f.join(" ")));return this},remove:function(c){-1!==f.indexOf(c)&&(f.splice([f.indexOf(c)],1),b&&(b.className=f.join(" ").trim()));return this},has:function(b){return-1!==f.indexOf(b)}}}function p(b){return"[object Array]"===
Object.prototype.toString.call(b)}function u(b,f){return!p(b)?!1:-1<b.indexOf(f)}function S(b){b&&b.parentNode&&b.parentNode.removeChild(b)}function w(b){if(!b)return!1;b.preventDefault?b.preventDefault():b.returnValue=!1}function l(){this.eventHandlers=[];this.firedEvents=[]}function Aa(){function b(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture)return!1;for(var b="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureSuccessfulLogin,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFailedLogin,onCaptureSuccessfulRegistration,onCaptureFailedRegistration,onCaptureStartRegistration,onCaptureSuccessfulSave,onCaptureFailedSave,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureCustomEvent,onCaptureFormError,onCaptureAccessDenied,onCaptureSessionFound".split(","),
e=0;e<b.length;e++)if("object"!==typeof janrain.events[b[e]])return!1;return!janrain.ready?!1:!0}if("function"===typeof janrainCaptureWidgetOnLoad)if(b())clearTimeout(f),janrainCaptureWidgetOnLoad();else var f=setTimeout(Aa,5)}var Xa="b91c0bd",ra="CSS1Compat"!==document.compatMode,ga=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
gb="number"===typeof window.orientation||null!==ga;Array.prototype.indexOf||(Array.prototype.indexOf=function(b){for(var f in this)if(this[f]===b)return parseInt(f);return-1});Array.prototype.map||(Array.prototype.map=function(b,f){if(null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof b)throw new TypeError;for(var j=Array(e),n=0;n<e;n++)n in c&&(j[n]=b.call(f,c[n],n,c));return j});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,
"")});for(var W=function(){function b(){if("undefined"===typeof window.orientation)return!1;var b;e(document.body,la);o=m().content;r();F();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(b="resize");"object"===typeof window.onorientationchange&&(b="orientationchange");b&&(window.addEventListener(b,function(){da(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});
n()},!1),setTimeout(n,30),window.addEventListener("beforeunload",function(){window.removeEventListener(b,n,!1)},!1));x.addHandler(function(){f({height:window.innerHeight,width:window.innerWidth},0)});u.addHandler(function(b){$=b.height;T=b.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,n,!1)},!1)}function f(b,c){var e=window.innerHeight,n=window.innerWidth,j=!0,m=!0;e!=b.height&&(j=!1);n!=b.width&&(m=!1);j&&m?20>c?setTimeout(function(){f({height:e,width:n},
++c)},100):u.fire({height:e,width:n}):setTimeout(function(){f({height:e,width:n},0)},100)}function c(){setTimeout(function(){xa(o)},20);e(la,document.body)}function e(b,c){for(var e=0;e<b.style.length;e++){var f=b.style[e];c.style.setProperty(f,b.style.getPropertyValue(f),b.style.getPropertyPriority(f))}}function j(){var b;b=(0===window.orientation||180===window.orientation)&&T>$||(90===window.orientation||-90===window.orientation)&&$>T?!1:!0;var c="landscape";if(b&&(0===window.orientation||180===
window.orientation))c="portrait";if(!b&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function n(){var b=j();xa("width=device-width, initial-scale=1, maximum-scale=1");x.fire({orientation:b})}function m(){var b=document.getElementsByTagName("meta"),c;for(c in b)if("viewport"===b[c].name)return b[c];return!1}function r(){if("undefined"===typeof document.getElementsByTagName||m())return!1;var b=document.getElementsByTagName("head")[0],c=document.createElement("meta");c.setAttribute("name",
"viewport");b.appendChild(c);return!0}function F(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var b=document.createElement("meta");b.setAttribute("name","HandheldFriendly");b.content="true"}function xa(b){var c=m();if(!c||c.content==b)return!1;if("undefined"===typeof b){var e=m();document.getElementsByTagName("head")[0].removeChild(e)}c.content=b;return!0}var o,la=document.createElement("div"),p=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
w=null!==p?p[0]:!1,x=new l,u=new l;w&&w[0].match(/android|\Wsilk\W/);var da=function(){var b=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},e={height:window.innerHeight,width:window.innerWidth},f=!1;return function(n,j,m){var r=!1,l=function(b,c){return b.height>=b.width&&c.height>=c.width||b.width>b.height&&c.width>c.height?!0:!1},o=b===n,p=l(j,c),F=l(m,e);if(!o&&(!p||!F))r=!0;!o&&!p&&(f=!0);r&&(f&&!l(j,m)&&(r=m.height,m.height=m.width,m.width=r),$=m.height,T=m.width);
b=n;c={height:j.height,width:j.width};e={height:m.height,width:m.width}}}();return{setElement:function(){return this},onOrientationChange:x,onViewportChange:u,getMobileDevice:function(){return w},getOrientation:function(){return j()},activate:function(){b()},deactivate:function(){c()}}}(),Ta=function(b){var f;f="http://engage-dev.janrain.com/cdn_widgets/".replace(/\/$/,"");return f+"/"+b},ga={openId:{aol:{identifier:"aol",flow:"openid1",width:514,height:550,color:"#0FD6FF"},blogger:{identifier:"blogger",
flow:"openid1",width:800,height:600,color:"#FF6600"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#FF0084"},
google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5"},hyves:{identifier:"http://hyves.nl/",flow:"openid",width:800,height:600,color:"#659BC8"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665"},verisign:{identifier:"http://pip.verisignlabs.com/",flow:"openid",width:945,height:600,color:"#B8004D"},
yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:500,height:500,color:"#3B5998",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}},contact:{counter:{},format:{},features:{message:!0,
title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#009DDC",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,
color:"#666666"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333"},orkut:{flow:"orkut",width:800,height:600,color:"#333"},vzn:{flow:"vzn",width:600,height:450,color:"#333"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333"},mixi:{flow:"mixi",width:950,height:550,color:"#333",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},ha=["openId","openId2","oauth"];0<ha.length;){var ob=ha.pop(),na;for(na in ga[ob]);}na=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&
document.documentElement.clientWidth?document.documentElement.clientWidth:0;$=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;T=na;var H;H="Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)?parseFloat(RegExp.$1):!1;var Ua=function(){var b=function(b){for(var e=[],f=0;f<b.length;f++)e.push(b[f]);
return e},f={};janrain.settings&&janrain.settings.permissions&&(f.login=b(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(f.share=b(janrain.settings.share.permissions));return function(b,e){e=e||"login";return!f[e]?!1:0<=f[e].indexOf(b)}}();za.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},
parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var Ha=function(b,f,c){Ha=document.getElementsByClassName?function(b,c,f){for(var b=(c||document).getElementsByClassName(b),f=f?RegExp("\\b"+f+"\\b",
"i"):null,c=[],m,r=0,l=b.length;r<l;r+=1)m=b[r],(!f||f.test(m.nodeName))&&c.push(m);return c}:function(b,c,f){var f=f||"*",c=c||document,m=b.split(" "),b=[],c="*"===f&&c.all?c.all:c.getElementsByTagName(f),f=[],l;l=0;for(var o=m.length;l<o;l+=1)b.push(RegExp("(^|\\s)"+m[l]+"(\\s|$)"));for(var o=0,p=c.length;o<p;o+=1){m=c[o];l=!1;for(var N=0,la=b.length;N<la&&!(l=b[N].test(m.className),!l);N+=1);l&&f.push(m)}return f};return Ha(b,f,c)},G=function(){var b=[];return{log:function(f){var c={};c.id=b.length+
1;c.message=f;b.push(c);return this},show:function(){if(0!=b.length){for(var f in b)if("undefined"!==typeof b[f].id){var c=b[f];"object"===typeof console&&console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message)}b=[]}}}}();l.prototype.addHandler=function(b){this.eventHandlers.push(b);return this.eventHandlers.length-1};l.prototype.removeHandler=function(b){return this.eventHandlers[b]?(this.eventHandlers[b]=null,!0):!1};l.prototype.fire=function(b){for(var f=this.eventHandlers.length,c=0;c<f;c++)try{if("function"===
typeof this.eventHandlers[c])this.eventHandlers[c](b)}catch(e){G.log(e),G.show()}this.firedEvents.push({event:this,args:b})};"undefined"===typeof janrain.events&&(janrain.events={});var x;x||(x={});(function(){function b(b){return 10>b?"0"+b:b}function f(b){j.lastIndex=0;return j.test(b)?'"'+b.replace(j,function(b){var c=o[b];return"string"===typeof c?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function c(b,e){var j,o,r,w,x=n,u,g=e[b];g&&"object"===typeof g&&"function"===
typeof g.toJSON&&(g=g.toJSON(b));"function"===typeof p&&(g=p.call(e,b,g));switch(typeof g){case "string":return f(g);case "number":return isFinite(g)?""+g:"null";case "boolean":case "null":return""+g;case "object":if(!g)return"null";n+=l;u=[];if("[object Array]"===Object.prototype.toString.apply(g)){w=g.length;for(j=0;j<w;j+=1)u[j]=c(j,g)||"null";r=0===u.length?"[]":n?"[\n"+n+u.join(",\n"+n)+"\n"+x+"]":"["+u.join(",")+"]";n=x;return r}if(p&&"object"===typeof p){w=p.length;for(j=0;j<w;j+=1)"string"===
typeof p[j]&&(o=p[j],(r=c(o,g))&&u.push(f(o)+(n?": ":":")+r))}else for(o in g)Object.prototype.hasOwnProperty.call(g,o)&&(r=c(o,g))&&u.push(f(o)+(n?": ":":")+r);r=0===u.length?"{}":n?"{\n"+n+u.join(",\n"+n)+"\n"+x+"}":"{"+u.join(",")+"}";n=x;return r}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+
"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,l,o={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;"function"!==typeof x.stringify&&(x.stringify=function(b,
e,f){var j;l=n="";if("number"===typeof f)for(j=0;j<f;j+=1)l+=" ";else"string"===typeof f&&(l=f);if((p=e)&&"function"!==typeof e&&("object"!==typeof e||"number"!==typeof e.length))throw Error("JSON.stringify");return c("",{"":b})});"function"!==typeof x.parse&&(x.parse=function(b,c){function f(b,e){var j,n,g=b[e];if(g&&"object"===typeof g)for(j in g)Object.prototype.hasOwnProperty.call(g,j)&&(n=f(g,j),void 0!==n?g[j]=n:delete g[j]);return c.call(b,e,g)}var j,b=""+b;e.lastIndex=0;e.test(b)&&(b=b.replace(e,
function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+b+")"),"function"===typeof c?f({"":j},""):j;throw new SyntaxError("JSON.parse");})})();"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new l);"undefined"===typeof janrain.events.onCaptureRenderStart&&
(janrain.events.onCaptureRenderStart=new l);"undefined"===typeof janrain.events.onCaptureRenderComplete&&(janrain.events.onCaptureRenderComplete=new l);"undefined"===typeof janrain.events.onCaptureScreenShow&&(janrain.events.onCaptureScreenShow=new l);"undefined"===typeof janrain.events.onCaptureSessionCreated&&(janrain.events.onCaptureSessionCreated=new l);"undefined"===typeof janrain.events.onCaptureSessionEnded&&(janrain.events.onCaptureSessionEnded=new l);"undefined"===typeof janrain.events.onCaptureAccessDenied&&
(janrain.events.onCaptureAccessDenied=new l);"undefined"===typeof janrain.events.onCaptureStartRegistration&&(janrain.events.onCaptureStartRegistration=new l);"undefined"===typeof janrain.events.onCaptureSuccessfulLogin&&(janrain.events.onCaptureSuccessfulLogin=new l);"undefined"===typeof janrain.events.onCaptureFederateNoLogin&&(janrain.events.onCaptureFederateNoLogin=new l);"undefined"===typeof janrain.events.onCaptureFederateLogin&&(janrain.events.onCaptureFederateLogin=new l);"undefined"===typeof janrain.events.onCaptureFailedLogin&&
(janrain.events.onCaptureFailedLogin=new l);"undefined"===typeof janrain.events.onCaptureSuccessfulRegistration&&(janrain.events.onCaptureSuccessfulRegistration=new l);"undefined"===typeof janrain.events.onCaptureFailedRegistration&&(janrain.events.onCaptureFailedRegistration=new l);"undefined"===typeof janrain.events.onCaptureSuccessfulSave&&(janrain.events.onCaptureSuccessfulSave=new l);"undefined"===typeof janrain.events.onCaptureFailedSave&&(janrain.events.onCaptureFailedSave=new l);"undefined"===
typeof janrain.events.onCaptureSessionFound&&(janrain.events.onCaptureSessionFound=new l);"undefined"===typeof janrain.events.onCaptureContentChange&&(janrain.events.onCaptureContentChange=new l);"undefined"===typeof janrain.events.onCaptureModalReady&&(janrain.events.onCaptureModalReady=new l);"undefined"===typeof janrain.events.onCaptureValidationSuccess&&(janrain.events.onCaptureValidationSuccess=new l);"undefined"===typeof janrain.events.onCaptureValidationFailed&&(janrain.events.onCaptureValidationFailed=
new l);"undefined"===typeof janrain.events.onCaptureFormError&&(janrain.events.onCaptureFormError=new l);"undefined"===typeof janrain.events.onCaptureCustomEvent&&(janrain.events.onCaptureCustomEvent=new l);Aa();na=new function(){return{status:"not loaded"}};ga=new function(){return{status:"not loaded"}};ha=new function(){function b(a){function d(){Ia=!0;var d=a||c();a&&(Q=za(a).queryKey.flow_path);fa(d,B);janrain.events.onCaptureSuccessfulLogin.addHandler(function(){ja(pa)});janrain.events.onCaptureSuccessfulRegistration.addHandler(function(){ja(pa)});
janrain.events.onCaptureContentChange.addHandler(function(){"object"===typeof q&&y.modal&&(q.setHeight(qa(y.div).height),q.setWidth(qa(y.div).width).refresh())})}Wa(eb()+"widgets.css");fb(eb()+"widgets-ie.css");if(janrain.settings.capture.stylesheets&&p(janrain.settings.capture.stylesheets))for(var b=janrain.settings.capture.stylesheets,k=b.length,e=0;e<k;e++)Wa(b[e]),j(b[e]);if(H&&9>H&&janrain.settings.capture.conditionalIEStylesheets&&p(janrain.settings.capture.conditionalIEStylesheets)){b=janrain.settings.capture.conditionalIEStylesheets;
k=b.length;for(e=0;e<k;e++)fb(b[e]),j(b[e])}janrain.settings.capture.federate?fa(janrain.settings.capture.federateServer+"/sso.js",function(){janrain.settings.capture.redirectFlow?Z(d):d()}):janrain.settings.capture.redirectFlow?Z(d):d()}function f(a,d,b,k){var c=[];k&&c.push({value:"",text:k,disabled:!0});if("desc"===b)for(b=d;b>a-1;b--)c.push({value:b,text:b});else for(b=a;b<d+1;b++)c.push({value:b,text:b});return c}function c(){var a=ma,d=janrain.settings.capture.flowVersion||"HEAD",b=janrain.settings.capture.flowName||
"default",k=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=k?e()+"/widget_data/flow.js:"+k+":"+a+":"+d+":"+b:e()+"/widget_data/flow.js:"+a+":"+d+":"+b}function e(){return"https://d1lqe9temigv1p.cloudfront.net"}function j(a){u(Ja,a)||Ja.push(a);Ya=Ja.length}function n(a){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+a+"' is missing."}}function l(a){if(!a)return!1;for(var d=a.getElementsByTagName("input"),b=a.getElementsByTagName("select"),
k=a.getElementsByTagName("textarea"),a=[],d=[d,b,k],b={},k=0,c=d.length;k<c;k++)for(var e=d[k],f=e.length,i=0;i<f;i++){var h=e[i];"true"===h.getAttribute("data-capturecollection")?b[h.name]||(T(h,!0)||a.push(h),b[h.name]=!0):T(h,!0)||a.push(h)}return 0===a.length}function r(){}function F(){}function G(a,d){for(var b=R(a).split("_")[3],k=I(a).parentNode,c=o(k).has("capture_tab_toggle"),e=c?"capture_tab_toggle":"capture_radio_toggle",f=0;f<d.collection.length;f++)d.collection[f].elementName!==b&&(document.getElementById("capture_"+
h+"_"+d.collection[f].elementName).style.display="none");for(var e=Ha(e,document.getElementById("capture_"+h+"_"+d.elementName)),i=e.length,f=0;f<i;f++)o(e[f]).remove("capture_toggled");o(k).append("capture_toggled");document.getElementById("capture_"+h+"_"+b).style.display="block";janrain.events.onCaptureContentChange.fire();c&&w(a)}function N(a){function d(a){a=a?x.stringify(a):b;ca(c);e.className="formClicked";e.setAttribute("next",a)}var b=I(a).getAttribute("next"),k=I(a),c=I(a).getAttribute("data-transactionId"),
e=document.getElementById("captureIFrame_"+c),f=x.parse(b),h=!1;y.values=L(y.div.id);if("true"!==k.getAttribute("data-capturedomelement")&&!l(k))return w(a),!1;if(f.conditional){for(var k=f.conditional,f=k.length,i=0;i<f;i++)if(la(k[i])){h=k[i];break}h?h.nosubmit?(w(a),ga(h.next)):d(h.next):d()}else f.dontSubmit?(w(a),f.storeValues&&L(k.id,!0),ga(f)):d()}function la(a){var d=s.fields[a.field],d=document.getElementById("capture_"+h+"_"+(d.elementId||d.elementName));switch(a.compare){case "=":if(d.value===
a.value)return!0}}function $(a){a=U(a);T(a)}function T(a,d){if(a.type&&("hidden"===a.type||"submit"===a.type))return!0;var b=s.fields[a.getAttribute("data-capturefield")],k=!1;if(!b.validation)return!0;var c="multiCheckbox"===b.element||"multiRadio"===b.element?document.getElementById("capture_"+h+"_form_collection_"+b.elementName):document.getElementById("capture_"+h+"_form_item_"+b.elementName);o(c).append("capture_validating");k=new i.validation;k.setParentDiv(c);k.setElement(a);b=P.check(a,b,
d);b.valid?(k.valid(),k=!0,o(c).remove("capture_validating")):b.pending?(k.pending(),k=!0):(k.notValid(b.reason),k=!1,o(c).remove("capture_validating"));return k}function ga(a){K.push(y);if(a.noop)return!1;a.url&&(window.location.href=a.url);a.screen&&(new aa).setScreenData(a.screen,s.screens[a.screen]).render();if(a.action&&y)janrain.capture.ui[a.action]();if(a["function"]&&"function"===typeof oa[a["function"]])oa[a["function"]]()}function na(){var a=36E5*Fa+(new Date).getTime();return(new Date((new Date).setTime(a))).toUTCString()}
function da(a,d){var b=na();E=a;J("creating session with token: "+E);if(d)janrain.events.onCaptureSessionCreated.fire({accessToken:a}),janrain.events.onCaptureSessionFound.fire({accessToken:a});else{var k=new Ea;k.setExpirationDirectly(b).setName("janrainCaptureToken").setValue(E);janrain.settings.capture.cookieDomain&&k.setDomain(janrain.settings.capture.cookieDomain);k.create();Sa&&(janrain.events.onCaptureSuccessfulLogin.fire({accessToken:a}),Sa=!1);janrain.events.onCaptureSessionCreated.fire({accessToken:a})}}
function g(){var a=new Ea,d="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){};a.setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();a.setName("janrainCaptureProfileData");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();janrain.events.onCaptureSessionEnded.fire();janrain.settings.capture.federate&&
JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},d)}function ya(){var a=new Ea;return a.getCookie("janrainCaptureToken")?(da(a.getCookie("janrainCaptureToken"),!0),!0):!1}function ba(a){var d=C();JANRAIN.SSO.CAPTURE.set_login({code:a,transaction_id:d,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});ca(d)}function B(){if(janrain.settings.capture.federate){var a=void 0,a={},d=C(),a={sso_server:janrain.settings.capture.federateServer,
client_id:janrain.settings.capture.clientId,response_method:a.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:x.stringify({js_version:Xa,capture_screen:h,capture_transactionId:d,flow:s.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:Ka,locale:ma}),transaction_id:d,logout_uri:janrain.settings.capture.federateLogoutUri,
nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver};JANRAIN.SSO.CAPTURE.check_login(a);ca(d)}else{a:{if(d=za(window.location.href).anchor)if(d=d.split("="),"access_token"===d[0]&&d[1]){Sa=!0;da(d[1]);d=!0;break a}d=!1}if(d||ya())return!1}}function Z(a){var d=za(window.location.href).anchor;if(!d)return a(),!1;var b=d.split(","),k=b.length,c,d={};if(1<k){for(var e=0;e<k;e++)c=b[e],c=c.split("="),d[c[0]]=c[1];if(!d.transactionId||!d.engageToken)return a(),!1;
Da=a=d.transactionId;Ra=d.engageToken;ha("/widget/get_result.jsonp",{transactionId:a},function(){})}else return a(),!1}function Y(){for(var a="",d=[],b=0;10>b;b++){for(var a="",k=0;40>k;k++)a+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));d.push(a)}return d}function ea(a){if(!p(a))return!1;for(var d=a.length,b=0;b<d;b++){var k=a[b];-1===La.indexOf(k)&&La.push(k)}}function C(){var a=La.pop();0===La.length&&ea(Y());-1===Ma.indexOf(a)&&Ma.push(a);return a}function ca(a){var d=
Ma.indexOf(a);-1<d&&Ma.splice(d,1);-1===Na.indexOf(a)&&Na.push(a)}function M(a){var d=Na.indexOf(a);-1<d&&Na.splice(d,1);-1===va.indexOf(a)&&va.push(a)}function X(){if("object"!==typeof q)return!1;O.modalConfirmText&&q.setConfirmMessageText(O.modalConfirmText);O.modalConfirmLinkText&&q.setConfirmLinkText(O.modalConfirmLinkText);O.modalCancelLinkText&&q.setCancelLinkText(O.modalCancelLinkText)}function ja(a){s=a;"undefined"===typeof pa&&(pa=a);"object"!==typeof s.layouts&&(s.layouts={});"object"!==
typeof s.layouts.captureAccessDeniedBuiltIn&&(s.layouts.captureAccessDeniedBuiltIn={});s.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:Za.accessDenied;for(a=0;a<ia.length;a++)s.fields[ia[a].field][ia[a].attribute]=ia[a].value}function J(){Va.push(arguments);if(window.console){var a=arguments;a.callee=a.callee.caller;newArray=[].slice.call(a);H?console.log(newArray):console.log.apply(console,
newArray)}}function aa(){function a(a){y&&y.div&&(y.div.style.display="none");var d=a.layout,b=a.source,A=a.modal,a=!!a.modalLoadOnLoad;if("server"===b){var k=document.getElementById(d);k||(k=document.createElement("div"),k.setAttribute("id",d));try{ta[d]?v.html=ta[d]:(v.html=s.layouts[d].html,ta[d]=v.html)}catch(c){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+d+"' is missing."};}}if("client"===b)try{if(k=document.getElementById(d))ta[d]?v.html=ta[d]:
(v.html=k.innerHTML,ta[d]=v.html);else throw v.html="",n(d);}catch(e){throw J(e.name+": "+e.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}o(k).append("janrain-capture-ui").append("capture-ui-content");gb&&(o(k).append("janrain-capture-ui-mobile"),W.onOrientationChange.addHandler(function(a){o(k).append("janrain-capture-ui-mobile-"+a.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[a.orientation]);janrain.events.onCaptureContentChange.fire()}),
W.onOrientationChange.fire({orientation:W.getOrientation()}));v.div=k;Ba=v.div;v.modalLoadOnLoad=a;v.source=b;v.modal=A;y=v}function d(a,d){if(a.close)return g.render.htmlElement.close(a);if("data"==a.element)return g.render.data(a);if("multiRadio"==a.element)return g.render.htmlElement.multiRadio(a);if("multiCheckbox"==a.element)return g.render.htmlElement.multiCheckbox(a);if("textarea"==a.element)return g.render.htmlElement.textarea(a);if("select"==a.element)return g.render.htmlElement.select(a);
if("input"==a.element)return g.render.htmlElement.input(a);if("form"==a.element)return g.render.htmlElement.form(a);if("div"==a.element)return g.render.htmlElement.div(a);if("capture"==a.element){if("traditionalPasswordChange"==a.type)return g.render.captureElement.traditionalPasswordChange(a);if("linkAccounts"==a.type)return g.render.captureElement.linkAccounts(a);if("radioCollection"==a.type)return g.render.captureElement.collection.radio(a);if("tabCollection"==a.type)return g.render.captureElement.collection.tab(a);
if("photoManager"==a.type)return g.render.captureElement.photoManager(a);if("dateselect"==a.type)return g.render.captureElement.dateselect(a);if("addressFull"==a.type)return g.render.captureElement.addressFull(a);if("nameFull"==a.type)return g.render.captureElement.nameFull(a);if("backButton"==a.type)return g.render.captureElement.backButton(a);if("partial"==a.type)return g.render.captureElement.partial(a,d)}return"widget"==a.element?g.render.widget[a.type](a):!1}function b(){v.div.getAttribute("data-captureventadded")||
(D(v.div,"click",function(a){var d=I(a);if(d&&d.nodeName&&"A"===d.nodeName&&(d=d.getAttribute("data-capturescreen")))janrain.capture.ui.renderScreen(d),w(a)}),v.div.setAttribute("data-captureventadded",!0));for(var a=v.div.getElementsByTagName("img"),d=a.length,A=0;A<d;A++)D(a[A],"load",function(){janrain.events.onCaptureContentChange.fire()});a=Ha(janrain.settings.capture.modalOpenClass||"capture_modal_open");d=a.length;if(!jb){for(A=0;A<d;A++)D(a[A],"click",function(a){"object"===typeof q?(janrain.capture.ui.renderScreen(y.flow.defaultScreen),
q.setShowContentOnLoad(!0).addContent(y.div).show(),janrain.events.onCaptureScreenShow.fire({screen:h}),janrain.events.onCaptureContentChange.fire()):kb=!0;w(a)});jb=!0}}function k(){if(s.cssDependencies&&p(s.cssDependencies))for(var a=0;a<s.cssDependencies.length;a++)j(s.cssDependencies[a]);Ya&&Ia&&!$a?janrain.events.onCssLoad.addHandler(function(a){Oa.push(a.source);for(a=0;a<Ya;a++)if(-1==Oa.indexOf(Ja[a]))return!1;$a||(c(),$a=!0)}):c();janrain.events.onCaptureRenderComplete.fire({flow:s,screen:h})}
function c(){var a=!1,d=janrain.settings.capture.modalBorderWidth||10,b=janrain.settings.capture.modalBorderColor||"#000",A=janrain.settings.capture.modalBorderRadius||10,k=janrain.settings.capture.modalBorderOpacity||0.5;if(v.modal){if("object"===typeof q){var a=!0,e=q.getContent();e&&document.body.appendChild(e);q.close(!0)}else q=new cb,X();lb||(janrain.events.onCaptureModalReady.fire(),lb=!0);q.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(b).setBorder(d).setBorderOpacity(k).setBorderRadius(A).setShowContentOnLoad(!0).addContent(v.div);
if(a||v.modalLoadOnLoad||kb)q.show(),janrain.events.onCaptureScreenShow.fire({screen:h})}else"object"===typeof q&&q.close(!0),janrain.events.onCaptureScreenShow.fire({screen:h});v.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function e(a,d){for(var d=d||t,b=0;b<d.length;b++){if("function"===typeof d[b].handler)if("render"===d[b].eventType)d[b].handler();else{var A=document.getElementById("capture_"+h+"_"+d[b].elementName);D(A,d[b].eventType,d[b].handler)}a&&D(document.getElementById("captureIFrame_"+
a),"load",f)}t=[]}function f(a){var d=I(a);if("formClicked"===d.className){var b=d.getAttribute("data-transactionId");ha("/widget/get_result.jsonp",{transactionId:b,cache:(new Date).getTime()},function(){function a(){k++;if(10<k)return J("could not find transaction status"),!1;if(ab[b])M(b),clearTimeout(d),d=ab[b],"success"===d.status?ga(A):J("there was a problem with the response",d);else var d=setTimeout(a,50)}var A=x.parse(d.getAttribute("next")),k=0;a()})}else d.className="";d.className=""}var v=
{},g;g=new F;P=new r;return{setScreenData:function(d,b){h=d;b&&b.requiresToken&&!E?(janrain.events.onCaptureAccessDenied.fire(),a({layout:"captureAccessDeniedBuiltIn",modal:b.modal,source:"server"})):a(b);return this},render:function(){var a=/\{\*(.*?)\*\}/,c=/^\s*\/\s*/,f=/^\s*#\s*/,hb=/\stemplateVariables\={(.*?)*\}\s*/,g=!1;janrain.events.onCaptureRenderStart.fire(s);z=[];s.fields.submitButton||(s.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",
elementName:"capture_submit",value:"Submit"});s.fields.loginWidget||(s.fields.loginWidget={element:"widget",type:"login"});s.fields.backButton||(s.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});v.originalHtml=v.html;v.flow=s;var j=Da||C();Da=null;for(var n;n=a.exec(v.html);)try{var l=n[1].trim();if(hb.test(l))var ib=l.match(hb),l=l.replace(ib[0],"").trim(),o=ib[0].match(/\{(.*?)*\}\s*/)[0];g=!1;f.test(l)&&(l=l.replace("#","").trim(),g=!0);if(c.test(l)){var p=
l.replace("/",""),m={};if("undefined"==typeof s.fields[p])return J("No field definition for"+p,"error"),!1;m.element=s.fields[p].element;m.close=!0}else{if("undefined"==typeof s.fields[l])return J("No field definition named "+l+" for tag "+n[0],"error"),!1;m=s.fields[l];m.name=l;g&&(m.start=!0);"form"===m.element&&!m.transactionId&&(m.transactionId=j);m.elementName=m.elementName||l}var o=o||null,q=d(m,o);q||(q=" ");v.html=v.html.replace(n[0],q);(m.next||"form"===m.element&&!m.close)&&z.push({elementName:m.elementName,
next:m.next});m.onclickHandler&&t.push({elementName:m.elementName,handler:m.onclickHandler,eventType:"click"});m.onchangeHandler&&t.push({elementName:m.elementName,handler:m.onchangeHandler,eventType:"change"});"string"===typeof m.element&&"form"===m.element&&!m.close&&t.push({elementName:m.elementName,handler:N,eventType:"submit"});if("form"===m.element&&("widget/traditional_register.jsonp"===m.action||"widget/social_register.jsonp"===m.action))janrain.events.onCaptureStartRegistration.fire({action:"widget/traditional_register.jsonp"===
m.action?"traditionalRegister":"socialRegister"})}catch(r){return J(r.name+": "+r.message,"error"),!1}v.div.innerHTML=v.html;"server"==v.source&&(document.getElementById("janrainCaptureWidget")||(a=document.createElement("div"),a.id="janrainCaptureWidget",document.body.appendChild(a)),document.getElementById("janrainCaptureWidget").appendChild(v.div));a=0;for(c=Pa.length;a<c;a++)T(document.getElementById(Pa[a]));Pa=[];k();b();if(0<janrain.events.onCssLoad.firedEvents.length){a=janrain.events.onCssLoad.firedEvents;
c=0;for(f=a.length;c<f;c++)"object"==typeof a&&a[c].args&&a[c].args.source&&-1==Oa.indexOf(a[c].args.source)&&a[c].event.fire(a[c].args)}i.domHelpers.createIFrame(j);for(a=0;a<z.length;a++)c=document.getElementById("capture_"+h+"_"+z[a].elementName),z[a].next&&z[a].next.type&&"server"===z[a].next.type?c.setAttribute("next",'{"noop":""}'):z[a].next?(z[a].next.conditional&&c.setAttribute("next",x.stringify(z[a].next)),z[a].next.screen&&c.setAttribute("next",x.stringify(z[a].next)),z[a].next.url&&c.setAttribute("next",
x.stringify(z[a].next)),z[a].next.action&&c.setAttribute("next",x.stringify(z[a].next))):c.setAttribute("next",'{"noop":""}');e(j);y=v;janrain.events.onCaptureContentChange.fire()},attachEventHandlers:e}}function L(a,d){for(var b=[],k=document.getElementById(a).getElementsByTagName("INPUT"),c=k.length,e=0;e<c;e++){var f={};f.id=k[e].id;f.placeholder=k[e].getAttribute("placeholder");if(sa||d)ka[k[e].getAttribute("data-capturefield")]=k[e].value;f.value=f.placeholder?f.placeholder===k[e].value?"":k[e].value:
k[e].value;"radio"===k[e].type&&(f.type="radio",f.checked=k[e].checked);b.push(f)}return b}function ha(a,d,b){var k=-1<a.indexOf("?")?"&":"?",c=0===a.indexOf("http")?"":janrain.settings.capture.captureServer,e=[],f;for(f in d)d.hasOwnProperty(f)&&e.push(f+"="+encodeURIComponent(d[f]));fa(c+a+k+e.join("&"),b)}function wa(a){function d(a){return'<li><a href="#" class="capture_suggestion">'+a+"</a></li>"}var a=a.result,b=s.fields[a.field],k=document.getElementById("capture_"+h+"_"+(b.elementId||b.elementName)),
c=a.alternatives,e=b.validation.messages.unique||"",f=document.getElementById("capture_"+h+"_form_item_"+b.elementName),g=new i.validation;g.setElement(k);g.setParentDiv(f);if(!1===a.unique){var c=c.map(d),j=function(a){var d=I(a);o(d).has("capture_suggestion")&&(k.value=d.innerHTML,Ga(f,"click",j),g.valid(),w(a))};g.notValid(e+'<ul class="capture_suggestions">'+c.join("")+"</ul>",function(){D(f,"click",j)})}else g.valid()}function ra(a){if("object"!==typeof q)q=new cb,X();else{var d=q.getContent();
d.style.display="none";d&&document.body.appendChild(d)}y&&y.modal&&K.push(y);q.addContent(a).show();q.setHeight(qa(a).height);q.setWidth(qa(a).width).refresh()}var t=[],P,Q,ma=janrain.settings.capture.language||janrain.settings.language||"en-US",z=[],h,K=[],y={},ia=[],pa,oa={},sa=janrain.settings.capture.mode13||!1,ka={},Da,V,Ra,Sa=!1,E,ua,bb=!1,$a=!1,s,O={},Ba,ta={},ab={},La=[],Ma=[],Na=[],va=[],Ia=!1,Fa=2,Ca="placeholder"in document.createElement("input"),Aa=!1,q,kb=!1,jb=!1,lb=!1,Ja=[],Ya=0,Pa=
[],Ka="HEAD",mb=!1,Za={},Ta=["accessDenied"],Qa={},Oa=[];"en"===ma&&(ma="en-US");Qa.publicPrivateTogglers=[];r.prototype.check=function(a,d,b){d=d||s.fields[a.name];if(!d.validation)return!0;d.validation.messages||(d.validation.messages={});if(!this.hasValue(a,d))return{valid:!1,reason:d.validation.messages.required||"Field not completed"};if(!this.isValidMinLength(a,d))return{valid:!1,reason:d.validation.messages.minLength||"Invalid length"};if(!this.isValidMaxLength(a,d))return{valid:!1,reason:d.validation.messages.maxLength||
"Invalid length"};if(!this.isValidMaxNumericLength(a,d))return{valid:!1,reason:d.validation.messages.maxNumericLength||"Invalid number of numeric characters"};if(!this.isValidFormat(a,d))return{valid:!1,reason:d.validation.messages.format||"Invalid format"};if(!this.isValidMatch(a,d))return{valid:!1,reason:d.validation.messages.match||"Invalid match"};return d.validation.unique&&!b?(b=document.getElementById("capture_"+h+"_form_item_"+a.getAttribute("name")),this.isUnique(a,b,d,function(){}),{pending:!0}):
{valid:!0}};r.prototype.getRating=function(a){var a=a.value,d=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],b=0,k;k=Math.min(8,Math.floor(3*Math.log(a.length+1)));for(var c=0;c<d.length;c++)d[c].test(a)&&b++;return k+=Math.floor(Math.pow(2,b)/2)};r.prototype.isValidMaxNumericLength=function(a,d){if(!d)return!0;var b=d.validation.maxNumericLength;if(!b)return!0;var k=a.value.match(/(\d)/g);return p(k)?k.length<=b:!0};r.prototype.isValidMaxLength=function(a,d){var b=a.value;if(!d)return!0;var k=d.validation.maxLength;
return!k?!0:b.length<=k};r.prototype.isValidMinLength=function(a,d){var b=a.value;if(!d)return!0;var k=d.validation.minLength;return!k?!0:b.length>=k};r.prototype.hasValue=function(a,d){var b;if("select"===d.element)b=a.options[a.selectedIndex].value;else if("checkbox"===d.type&&!("multiCheckbox"===d.element||"multiRadio"===d.element))b=a.checked;else if("multiCheckbox"===d.element||"multiRadio"===d.element)if(b=d.elementName){b=document.getElementsByName(b);for(var k=b.length,c=[],e=0;e<k;e++)b[e].checked&&
c.push(b[e]);b=c.length}else b=!1;else b=a.value;return!d||!d.validation.required?!0:b};r.prototype.isUnique=function(a,d,b,c){d=a.form.getAttribute("data-capturefield");b=a.getAttribute("data-capturefield");a={value:a.value,form:d,field:b,flow_version:Ka,locale:janrain.settings.capture.language||"en-US",flow:s.flow};E&&(a.access_token=E);ha("/widget/unique.jsonp",a,c)};r.prototype.isBlacklisted=function(a,d,b){function c(){var d=a.value,b=response;if(!b||0===b.length)return!0;for(var A,k=0;k<b.length;k++)if(A=
RegExp("^"+b[k]+"$","i"),A.test(d))return!0;return!1}captureUIBlacklistCallback=function(a){b(c(a))};p(d)?b(c(d)):"string"===typeof d?captureUIBlacklistCallback(["chad"]):b(!0)};r.prototype.isValidFormat=function(a,d){var b={alpha:/^[a-z]+$/i,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!d||!d.validation.format)return!0;var c=d.validation.format;if("string"===
typeof c&&b[c])c=b[c];else return!1;return c.test(a.value)};r.prototype.isValidMatch=function(a,d){if(!d)return!0;var b=d.validation.match;if(!b)return!0;b=s.fields[b];b=document.getElementById("capture_"+h+"_"+(b.elementId||b.elementName));return a.value===b.value};var i={attachFieldEventHandlers:function(a){a.type||(a.type="");"password"===a.type&&(t.push({elementName:a.elementName,handler:i.togglePasswordInput,eventType:"click"}),t.push({elementName:a.elementName,handler:i.togglePasswordInput,
eventType:"focus"}),a.validation&&("function"===typeof a.validation.rating?t.push({elementName:a.elementName,handler:function(d){var d=U(d),b=P.getRating(d);a.validation.rating(d,b)},eventType:"keyup"}):a.validation.rating&&t.push({elementName:a.elementName,handler:function(a){a=U(a);a=P.getRating(a);J("Password Strength",a)},eventType:"keyup"})));if("text"===a.type||"password"===a.type||"email"===a.type)t.push({elementName:a.elementName,handler:i.clearPlaceHolder,eventType:"focus"}),t.push({elementName:a.elementName,
handler:i.restorePlaceHolder,eventType:"blur"});t.push({elementName:a.elementName,handler:function(){var d=document.getElementById("capture_"+h+"_form_item_"+a.elementName);o(d).append("capture_focused").remove("capture_error");gb&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()},eventType:"focus"});t.push({elementName:a.elementName,handler:function(){var d=document.getElementById("capture_"+h+"_form_item_"+a.elementName);o(d).remove("capture_focused")},eventType:"blur"});a.validation&&
t.push({elementName:a.elementName,handler:$,eventType:"blur"});a.validation&&a.validation.custom&&t.push({elementName:a.elementName,handler:function(d){var d=U(d),b=document.getElementById("capture_"+h+"_form_item_"+a.elementName);o(b).append("capture_validating");var c=new i.validation;c.setParentDiv(b);c.setElement(d);nb[a.validation.custom](d.name,d.value,c);o(b).remove("capture_validating")},eventType:"blur"})},wrapFormItemStart:function(a){var d="",b=[],c=a.classes||[],e="elementCollection"===
a.type?"form_collection":"form_item";if(a.justElement||"submit"===a.type||"button"===a.element)return"";-1===c.indexOf("capture_"+e)&&c.push("capture_"+e);a.errors&&-1===c.indexOf("capture_error")&&!a.collection&&c.push("capture_error");!a.collection&&a.type&&-1===c.indexOf("capture_"+a.type)&&("checkbox"===a.type||"radio"===a.type?b.push("capture_"+a.type):c.push("capture_"+a.type));"elementCollection"===a.type&&a.displayInline&&-1===c.indexOf("capture_form_collection_inline")&&c.push("capture_form_collection_inline");
d+=i.createDiv({elementName:e+"_"+a.elementName,hide:a.hide,classes:c});if(("checkbox"===a.type||"radio"===a.type)&&!a.collection)d+=i.createDiv({elementName:e+"_inner_"+a.elementName,classes:b});return d},wrapFormItemEnd:function(a){return a.justElement||"submit"===a.type||"button"===a.element?"":"</div>"},createPublicPrivateToggle:function(a){function d(){for(var a=Qa.publicPrivateTogglers,d=a.length,b=0;b<d;b++)a[b]&&(a[b].style.display="none");Qa.publicPrivateTogglers=[]}function b(d){var c=I(d),
A=document.getElementById("capture_"+h+"_display_toggle_options_"+a.elementName),k=document.getElementById("capture_"+h+"_display["+a.elementName+"]"),e=document.getElementById("capture_"+h+"_display_indicator_public_"+a.elementName),f=document.getElementById("capture_"+h+"_display_indicator_private_"+a.elementName),g="capture_"+h+"_display_option_public_"+a.elementName,i="capture_"+h+"_display_option_private_"+a.elementName;document.getElementById("capture_"+h+"_display_toggle_options_"+a.elementName);
c.id===g?(o(document.getElementById(g)).append("capture_checked"),o(document.getElementById(i)).remove("capture_checked"),k.value="public",o(e).append("capture_toggled"),o(f).remove("capture_toggled")):(o(document.getElementById(g)).remove("capture_checked"),o(document.getElementById(i)).append("capture_checked"),k.value="private",o(e).remove("capture_toggled"),o(f).append("capture_toggled"));A.style.display="none";w(d)}var c;c=""+i.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+
a.elementName});c+=i.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+a.elementName});var e=["capture_display_option"];a.displayPublic&&e.push("capture_checked");c+=i.createDiv({classes:e,elementId:"display_option_public_"+a.elementName});c+='<span class="default-capture-check"></span>public <span class="capture_icon capture_public_icon"></span></div>';e=["capture_display_option"];a.displayPublic||e.push("capture_checked");c+=i.createDiv({classes:e,elementId:"display_option_private_"+
a.elementName});c+='<span class="default-capture-check"></span>private <span class="capture_icon capture_private_icon"></span></div></div>';e=["capture_display_toggle","capture_public"];a.disablePublicPrivate&&e.push("capture_display_toggle_disabled");a.displayPublic&&e.push("capture_toggled");c+=i.createDiv({classes:e,elementId:"display_indicator_public_"+a.elementName});c+='&nbsp;public <span class="capture_icon capture_public_icon"></span></div>';e=["capture_display_toggle","capture_private"];
a.disablePublicPrivate&&e.push("capture_display_toggle_disabled");a.displayPublic||e.push("capture_toggled");c+=i.createDiv({classes:e,elementId:"display_indicator_private_"+a.elementName});c=c+'private <span class="capture_icon capture_private_icon"></span></div></div>'+i.createInput({type:"hidden",elementName:"display["+a.elementName+"]",value:a.displayPublic?"public":"private"});t.push({elementName:"display_toggle_wrap_"+a.elementName,eventType:"click",handler:function(b){var c=document.getElementById("capture_"+
h+"_display_toggle_options_"+a.elementName),A="none"===c.style.display||""===c.style.display?"block":"none",k=I(b);o(k).has("capture_display_toggle")&&!o(k).has("capture_display_toggle_disabled")&&("block"===A&&(d(),Qa.publicPrivateTogglers.push(c)),c.style.display=A);w(b)}});t.push({elementName:"display_option_public_"+a.elementName,handler:b,eventType:"click"});t.push({elementName:"display_option_private_"+a.elementName,handler:b,eventType:"click"});mb||(D(document.body,"click",function(a){a=I(a);
!o(a).has("capture_display_toggle")&&!o(a).has("capture_display_option")&&d()}),mb=!0);return c},createTextarea:function(a){var d="",b=a.elementId||a.elementName,c=a.elementClasses&&p(a.elementClasses)?a.elementClasses:[],e=a.rows||"5",d=d+i.createLabel(a);u(c,"capture_"+b)||c.push("capture_"+b);d=d+"<textarea "+("id='capture_"+h+"_"+b+"' ");d+="class='"+c.join(" ")+"' ";d+="data-capturefield='"+a.name+"' ";d=d+("rows='"+e+"' ")+("name='"+a.elementName+"' ");a.placeholder&&Ca&&(d+="placeholder='"+
a.placeholder+"'");d+=">";a.value&&(d+=a.value);d+="</textarea>";a.publicPrivateToggle&&(d+=i.createPublicPrivateToggle(a));return d+=i.createTip(a)},createTip:function(a){var d;d="<div class='capture_tip' ";a.tip||(d+="style='display:none;' ");d+=">"+("undefined"!==typeof a.tip?a.tip:"")+"</div>";d=d+"<div class='capture_tip_validating'"+(" data-elementName='"+a.elementName+"'>");d=d+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+a.elementName+"'>");a.errors&&p(a.errors)&&
(d+=a.errors.join(" "));return d+"</div>"},createLabel:function(a,d){var b,c=a.elementId||a.elementName;if(!a.label)return"";b="<label ";"elementCollection"!==a.type&&(b+=" for='capture_"+h+"_"+c+"'");b+=">";d&&(b+=d);a.label&&(b+=a.label);return b+"</label>"},createSelect:function(a){var d="",b=a.elementClasses&&p(a.elementClasses)?a.elementClasses:[],c=a.elementId||a.elementName;u(b,"capture_"+c)||b.push("capture_"+c);for(var d=d+i.createLabel(a),d=d+'<span class="capture_select"><select '+("id='capture_"+
h+"_"+c+"' "),d=d+("class='"+b.join(" ")+"' "),d=d+("data-capturefield='"+a.name+"' "),d=d+("name='"+a.elementName+"' "),d=d+">",b=a.options||[],c=b.length,e=0;e<c;e++){var f=b[e],g=f.value||""===f.value?f.value:f.text,d=d+('<option value="'+g+'"');f.disabled&&(d+=' disabled="true"');g===a.value&&(d+=' selected="selected"');d+=">"+f.text+"</option>"}d+="</select></span>";a.publicPrivateToggle&&(d+=i.createPublicPrivateToggle(a));return d+=i.createTip(a)},createInput:function(a){var d="",b="",c=a.elementId||
a.elementName,e=a.elementClasses&&p(a.elementClasses)?a.elementClasses:[],f="button"===a.type||"submit"===a.type||"checkbox"===a.type||"radio"===a.type||"hidden"===a.type,g=a.justElement||a.collection||"hidden"===a.type||"button"===a.type||"submit"===a.type,j="password"===a.type&&!Ca&&a.placeholder?"text":a.type,l=("checkbox"===a.type&&!a.collection||"radio"===a.type&&!a.collection)&&!a.justElement;u(e,"capture_"+c)||e.push("capture_"+c);f||(b+=i.createLabel(a));d=d+"<input "+("id='capture_"+h+"_"+
c+"' ");"text"===a.type?u(e,"capture_text")||e.push("capture_text"):"submit"===a.type&&(u(e,"capture_btn")||e.push("capture_btn"),u(e,"capture_primary")||e.push("capture_primary"));d+="class='"+e.join(" ")+"' ";d+="data-capturefield='"+a.name+"' ";a.collection&&(d+="data-capturecollection='true' ");d+="type='"+j+"' ";a.value?(e=a.value,a.displaySavedValue&&ka[a.value]&&(e=ka[a.value]),("password"===a.type||"text"===a.type||"email"===a.type)&&!a.errors&&Pa.push("capture_"+h+"_"+c),d+="value='"+e+"' "):
d=a.placeholder&&!Ca?d+("value='"+a.placeholder+"' "):d+"value='' ";a.placeholder&&(d+="placeholder='"+a.placeholder+"' ");a.checked&&(d+="checked='checked' ");d+="name='"+a.elementName+"' ";d+="/>";b="checkbox"===a.type||"radio"===a.type?b+i.createLabel(a,d):b+d;a.publicPrivateToggle&&(b+=i.createPublicPrivateToggle(a));l&&(b+="</div>");g||(b+=i.createTip(a));return b},createDiv:function(a){var d="<div ",b=a.elementId||a.elementName,c=a.classes||[];u(c,"capture_"+b)||c.push("capture_"+b);d+="id='capture_"+
h+"_"+b+"'";if("option"===a.type&&!a["default"]||a.hide)d+=" style='display:none'";"radioCollection"===a.type&&c.push("radio_set");p(c)&&c.length&&(d=d+' class="'+c.join(" "),d+='" ');return d+">"},createImage:function(a){var d,b=a.classes||[];elementId=a.elementId||a.imageId||a.elementName||"";d="<img "+('src="'+a.src+'"');elementId&&!u(b,"capture_"+elementId)&&b.push("capture_"+elementId);a.hide&&(d+=" style='display:none'");elementId&&(d+=' id="capture_'+h+"_"+a.imageId+'" ');p(b)&&b.length&&(d=
d+'class="'+b.join(" "),d+='" ');return d+"/>"},domHelpers:{createIFrame:function(a){var d,b="captureIFrame_"+a;if(document.getElementById(b))return!1;if(H){d="";var c=document.createElement("div");c.innerHTML=d+"<iframe "+('name="'+b+'" ')+('data-transactionId="'+a+'" ')+('id="'+b+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(c)}else d=document.createElement("iframe"),d.setAttribute("name",b),d.setAttribute("data-transactionId",a),d.id=b,d.setAttribute("src",
"about:blank"),d.style.display="none",d.className="",document.body.appendChild(d)},createAnchor:function(a){var d=document.createElement("a");if(!a.classes||a.classes&&!p(a.classes))a.classes=[];a.elementId&&!u(a.classes,"capture_"+h+"_"+a.elementId)&&a.classes.push("capture_"+h+"_"+a.elementId);d.setAttribute("href",a.elementHref);d.innerHTML=a.elementText;a.elementId&&(d.id="capture_"+h+"_"+a.elementId);d.className=a.classes.join(" ");a.hideElement&&(d.style.display="none");return d},createDiv:function(a){var d=
document.createElement("div");if(!a.classes||a.classes&&!p(a.classes))a.classes=[];a.elementId&&!u(a.classes,"capture_"+h+"_"+a.elementId)&&a.classes.push("capture_"+h+"_"+a.elementId);a.elementId&&(d.id="capture_"+h+"_"+a.elementId);d.className=a.classes.join(" ");a.hideElement&&(d.style.display="none");return d},createImage:function(a){var d=document.createElement("img");if(!a.classes||a.classes&&!p(a.classes))a.classes=[];a.elementId&&!u(a.classes,"capture_"+h+"_"+a.elementId)&&a.classes.push("capture_"+
h+"_"+a.elementId);d.src=a.elementSrc;a.elementId&&(d.id="capture_"+h+"_"+a.elementId);d.className=a.classes.join(" ");a.hideElement&&(d.style.display="none");return d},createInput:function(a){var d=document.createElement("input");if(!a.classes||a.classes&&!p(a.classes))a.classes=[];a.elementId&&!u(a.classes,"capture_"+h+"_"+a.elementId)&&a.classes.push("capture_"+h+"_"+a.elementId);a.elementType&&d.setAttribute("type",a.elementType);a.name&&d.setAttribute("data-capturefield",a.name);a.elementValue&&
(d.value=a.elementValue);a.elementName&&(d.name=a.elementName);a.elementId&&(d.id="capture_"+h+"_"+a.elementId);a.hideElement&&(d.style.display="none");d.className=a.classes.join(" ");return d},createForm:function(a){a.transactionId||(a.transactionId=C());var d=a.transactionId,b=document.createElement("form"),c=p(a.fields)?a.fields:[],e=c.length;i.domHelpers.createIFrame(d);if(!a.classes||a.classes&&!p(a.classes))a.classes=[];a.elementId&&!u(a.classes,"capture_"+h+"_"+a.elementId)&&a.classes.push("capture_"+
h+"_"+a.elementId);b.id="capture_"+h+"_"+a.elementId;b.className=a.classes.join(" ");b.setAttribute("target","captureIFrame_"+d);b.setAttribute("data-transactionId",d);a.name&&b.setAttribute("data-capturefield",a.name);b.setAttribute("action",a.elementAction);b.setAttribute("method","POST");b.setAttribute("data-capturedomelement","true");b.appendChild(i.domHelpers.createInput({elementType:"hidden",elementValue:d,elementName:"capture_transactionId",elementId:"transactionId_"+d}));for(var f=0;f<e;f++)switch(d=
c[f],d.elementType){case "div":b.appendChild(i.domHelpers.createDiv(d));break;case "hidden":b.appendChild(i.domHelpers.createInput(d));break;case "file":b.setAttribute("enctype","multipart/form-data");b.appendChild(i.domHelpers.createInput(d));break;case "submit":b.appendChild(i.domHelpers.createInput(d))}i.domHelpers.createFormHandler(b,a);return b},createFormHandler:function(a,d){"function"===typeof d.callback&&(a.setAttribute("next",'{"function":"'+d.elementId+'"}'),oa[d.elementId]=d.callback);
D(a,"submit",N)},createFormAndPost:function(a){var d=C();a.transactionId=d;var d=i.domHelpers.createForm(a),b=i.domHelpers.createInput({elementType:"submit",elementName:"delete",elementId:"createFormAndPostSubmit",elementValue:"submit",hideElement:!0});d.appendChild(b);document.body.appendChild(d);i.domHelpers.createFormHandler(d,a);b.click()}},createListOfLinks:function(a,d){var b;optionsLength=a.length;b="<ul";p(d)&&d.length&&(b=b+' class="'+d.join(" "),b+='"');b+=">";for(var c=0;c<optionsLength;c++){b+=
"<li";"string"===typeof a[c].listItemId&&(b+=' id="capture_'+h+"_"+a[c].listItemId+'" ');a[c].hide&&(b+=' style="display: none;" ');if(!a[c].listItemClasses||!p(a[c].listItemClasses))a[c].listItemClasses=[];"string"===typeof a[c].listItemId&&!u(a[c].listItemClasses,"capture_"+a[c].listItemId)&&a[c].listItemClasses.push("capture_"+a[c].listItemId);p(a[c].listItemClasses)&&a[c].listItemClasses.length&&(b+=' class="',b+=a[c].listItemClasses.join(" "),b+='"');b+=">";b+='<a href="'+a[c].anchorHref+'"';
"string"===typeof a[c].anchorId&&(b+=' id="capture_'+h+"_"+a[c].anchorId+'" ');if(!a[c].anchorClasses||!p(a[c].anchorClasses))a[c].anchorClasses=[];"string"===typeof a[c].anchorId&&!u(a[c].anchorClasses,"capture_"+a[c].anchorId)&&a[c].anchorClasses.push("capture_"+a[c].anchorId);p(a[c].anchorClasses)&&a[c].anchorClasses.length&&(b+=' class="',b+=a[c].anchorClasses.join(" "),b+='"');b+=">";b+=a[c].anchorText;b+="</a>";b+="</li>"}return b+"</ul>"},togglePasswordInput:function(a){a=U(a);a.getAttribute("value")===
a.getAttribute("placeholder")&&a.setAttribute("value","");if(H&&"text"===a.type){for(var b=[],c=0,e=t.length;c<e;c++)"capture_"+h+"_"+t[c].elementName==a.id&&(t[c].elementName=t[c].elementName,b.push(t[c]));c=document.createElement("span");e=a.parentElement;e.insertBefore(c,a);e.removeChild(a);var f=document.createElement("input");f.id=a.id;f.setAttribute("data-capturefield",a.name);f.className="capture_password";f.name=a.name;f.setAttribute("type","password");e.insertBefore(f,c);e.removeChild(c);
aa().attachEventHandlers(null,b);f.focus()}else a.setAttribute("type","password")},clearPlaceHolder:function(a){if(Ca)return!0;a=U(a);a.getAttribute("value")===a.getAttribute("placeholder")&&a.setAttribute("value","")},restorePlaceHolder:function(a){if(Ca)return!0;var a=U(a),b=a.getAttribute("placeholder");"password"===a.getAttribute("type")&&(a.value||a.setAttribute("type","text"));b&&!a.value&&a.setAttribute("value",b)},validation:function(){var a,b;return{setParentDiv:function(a){(b=a)&&b.className.split(" ")},
setElement:function(c){a=c;b&&b.className.split(" ")},valid:function(){o(b).append("capture_validated").remove("capture_error");var c={};a&&(c.field=a);janrain.events.onCaptureValidationSuccess.fire(c);janrain.events.onCaptureContentChange.fire()},pending:function(){janrain.events.onCaptureContentChange.fire()},notValid:function(c,e){o(b).append("capture_error").remove("capture_validated");if(c){for(var f,g=b.getElementsByTagName("div"),i=g.length,j=0;j<i;j++)if("capture_tip_error"===g[j].className){var l=
0===b.id.indexOf("capture_"+h+"_form_collection_")?"capture_"+h+"_form_collection_":"capture_"+h+"_form_item_";if(b.id.split(l)[1]===g[j].getAttribute("data-elementName")){f=g[j];break}}f&&(f.innerHTML=c);"function"===typeof e&&e();janrain.events.onCaptureContentChange.fire()}f={};a&&(f.field=a);janrain.events.onCaptureValidationFailed.fire(f)}}}},Ua={createSelect:i.createSelect,createTextarea:i.createTextarea,createInput:i.createInput,createLabel:i.createLabel,createDiv:i.createDiv,createImage:i.createImage,
createListOfLinks:i.createListOfLinks,toggelPassword:i.togglePasswordInput,clearPlaceHolder:i.clearPlaceHolder,restorePlaceHolder:i.restorePlaceHolder,getElementByEventAttribute:U};F.prototype.render={data:function(a){var b;"string"===a.type&&(b=a.displaySavedValue&&sa&&ka[a.value]?ka[a.value]:a.value);return b},htmlElement:{parent:F.prototype.render,textarea:function(a){var b;b=""+i.wrapFormItemStart(a);b+=i.createTextarea(a);return b+=i.wrapFormItemEnd(a)},select:function(a){var b;b=""+i.wrapFormItemStart(a);
b+=i.createSelect(a);b+=i.wrapFormItemEnd(a);i.attachFieldEventHandlers(a);return b},multi:function(a,b){var c,e,f=a.options.length;a.type="elementCollection";c=""+i.wrapFormItemStart(a);c+=i.createLabel(a);for(var g=0;g<f;g++)e=a.options[g],e.value=e.value||e.label,e.label=e.label||e.value,c+=this.input({elementName:a.elementName,type:b,elementId:a.elementName+"_"+e.label.replace(" ",""),name:a.name,value:e.value,collection:!0,label:e.label,checked:u(a.value,e.value)});c+=i.createTip(a);return c+=
i.wrapFormItemEnd(a)},multiCheckbox:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},multiRadio:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},input:function(a){var b;b=""+i.wrapFormItemStart(a);b+=i.createInput(a);b+=i.wrapFormItemEnd(a);i.attachFieldEventHandlers(a);return b},form:function(a){var b="<form ",c=a.classes||[];c.indexOf("capture_form"===-1)&&c.push("capture_form");c.indexOf(-1==="capture_"+a.elementName)&&c.push("capture_"+a.elementName);
b+="id='capture_"+h+"_"+a.elementName+"' ";b+="name='"+a.elementName+"' ";b+="data-capturefield='"+a.name+"' ";b+="action='"+janrain.settings.capture.captureServer+"/"+a.action+"' ";p(c)&&(b+="class='"+c.join(" ")+"' ");b=b+"method='POST' novalidate='novalidate'"+("data-transactionId='"+a.transactionId+"'");b+="target='captureIFrame_"+a.transactionId+"'";b+=">";if(a.errors)for(error in janrain.events.onCaptureFormError.fire(a.errors),a.errors)a.errors.hasOwnProperty(error)&&(b+=i.createDiv({elementId:"formerror_"+
(new Date).getTime(),classes:["capture_form_error"]}),b+=a.errors[error]+"</div>");b+=i.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});Q&&(b+=i.createInput({elementName:"flow_path",elementId:"flow_path_"+a.transactionId,type:"hidden",value:Q}));ua?b+=i.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,type:"hidden",value:ua}):E&&(b+=i.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,type:"hidden",value:E}));h&&(b+=i.createInput({elementName:"capture_screen",
elementId:"screen_"+a.transactionId,type:"hidden",value:h}));Xa&&(b+=i.createInput({elementName:"js_version",elementId:"js_version_"+a.transactionId,type:"hidden",value:Xa}));a.serverNextScreen&&(b+=i.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+a.transactionId,type:"hidden",value:a.serverNextScreen}));a.engageTokenRequired&&(b+=i.createInput({elementName:"token",elementId:"token_"+a.transactionId,type:"hidden",value:Ra}));b+=i.createInput({elementName:"capture_transactionId",
elementId:"transactionId_"+a.transactionId,type:"hidden",value:a.transactionId});b+=i.createInput({elementName:"form",elementId:"form_"+a.transactionId,type:"hidden",value:a.name});b+=i.createInput({elementName:"flow",elementId:"flow_"+a.transactionId,type:"hidden",value:s.flow});b+=i.createInput({elementName:"client_id",elementId:"client_id_"+a.transactionId,type:"hidden",value:janrain.settings.capture.clientId});b+=i.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+a.transactionId,
type:"hidden",value:janrain.settings.capture.redirectUri});b+=i.createInput({elementName:"response_type",elementId:"response_type_"+a.transactionId,type:"hidden",value:janrain.settings.capture.responseType});b+=i.createInput({elementName:"flow_version",elementId:"flow_version_"+a.transactionId,type:"hidden",value:Ka});return b+=i.createInput({elementName:"locale",elementId:"locale_"+a.transactionId,type:"hidden",value:ma})},div:function(a){return i.createDiv(a)},close:function(a){return"</"+a.element+
">"}},captureElement:{traditionalPasswordChange:function(a){var b;b=O.currentPasswordText||"Current Password";var c=O.changePasswordText||"Change Password",e=O.createANewPasswordText||"Create a new password.",f="capture_"+h+"_"+a.name+"_changepasswordscreen",g=F.prototype.render;b='<div class="capture_traditionalPasswordChange"><div class="capture_form_item">'+('<label class="form_label">'+b+"</label>")+'<div class="capture_inputPlaceholder capture_backgroundColor">\u2022 \u2022 \u2022 \u2022 \u2022 \u2022 \u2022 \u2022 </div>'+
('<div class="capture_tip"><a href="#" id="capture_'+h+"_"+a.name+'_changepasswordlink">'+c+"</a></div>");b+="</div></div>";t.push({elementName:a.name+"_changepasswordlink",handler:function(a){ra(document.getElementById(f));w(a)},eventType:"click"});b=b+'<div style="display: none;">'+('<div id="'+f+'" class="janrain-capture-ui capture-ui-content capture_changeTraditionalPassword capture_med_footer">');y&&y.modal&&(b+=g.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",
name:"backButton",value:""}));b+=g.htmlElement.form({name:a.name,elementName:a.name,action:"widget/profile.jsonp"});b=b+('<div class="capture_header"><h1>'+e+"</h1></div>")+g.htmlElement.input({elementName:"newpassword",label:"New Password",tip:"Desired Password",type:"password"});b+=g.htmlElement.input({elementName:"newpasswordConfirm",label:"Password Confirm",tip:"Re-type your password",type:"password"});b=b+'<div class="capture_footer">'+g.htmlElement.input({name:"submitButton",elementName:"submitButton",
value:"Save",type:"submit"});return b+"</div></form></div></div>"},linkAccounts:function(a){for(var b='<div class="capture_linkAccounts">',c=O.linkAnotherAccount||"Link Another Account",e=O.linkAnotherAccountDescription||"<h2>Link any of these providers with your account.</h2><h3>Allows you to sign in to your example.com account using that provider in the future.</h3>",f=p(a.providers)?a.providers.length:0,g="capture_"+h+"_"+a.name+"_linkaccountsscreen",i=F.prototype.render,b=b+'<ul class="capture_provider">',
j=0;j<f;j++)b+='<li><span class="janrain-provider16-'+a.providers[j]+'"></span><span class="capture_capitalize">'+a.providers[j]+"</span>";b+='<li><a href="#" id="capture_'+h+"_"+a.name+'_linknewlink">'+c+"</a></li>";b+="</ul></div>";t.push({elementName:a.name+"_linknewlink",handler:function(a){ra(document.getElementById(g));w(a)},eventType:"click"});b=b+'<div style="display: none;">'+('<div id="'+g+'" class="janrain-capture-ui capture-ui-content capture_addLinkedAccount">');y&&y.modal&&(b+=i.captureElement.backButton({element:"capture",
type:"backButton",elementName:"backButton",name:"backButton",value:""}));b=b+('<div class="capture_header"><h1>'+c+"</h1></div>")+e+i.widget.login();return b+"</div></div>"},nameFull:function(a){var b,c=F.prototype.render.htmlElement;b='<div class="capture_form_item capture_nameBlock">'+c.input({elementName:"firstName",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",justElement:"true",publicPrivateToggle:a.publicPrivateToggle,value:a.value&&a.value.firstname?
a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:""});b=b+"<br />"+c.input({elementName:"middleName",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",justElement:"true",value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""});b=b+"<br />"+c.input({elementName:"lastName",elementClasses:["capture_nameFull_lastName"],elementId:a.name+
"_lastname",type:"text",justElement:"true",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return b+"</div>"},dateselect:function(a){var b,c=a.value&&a.value.day?a.value.day:"",e=a.value&&a.value.year?a.value.year:"";b=[{text:"month",value:"",disabled:!0},{text:"January",value:1},{text:"February",value:2},{text:"March",value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},{text:"August",
value:8},{text:"September",value:9},{text:"October",value:10},{text:"November",value:11},{text:"December",value:12}];var g=a.monthStart||1,h=a.monthEnd||12,j=a.dayStart||1,l=a.dayEnd||31,m=a.yearStart||1967,n=a.yearEnd||1989;b='<div class="capture_form_item capture_dateselectBlock">'+i.createSelect({elementName:a.name+"_dateselect_month",elementId:a.name+"_dateselectmonth",label:a.label,elementClasses:["capture_dateselect_month"],justElement:!0,publicPrivateToggle:a.publicPrivateToggle,value:a.value&&
a.value.month?a.value.month:"",options:b.slice(0,1).concat(b.slice(g,h))});b+=i.createSelect({elementName:"dateselect_day",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],justElement:!0,value:c,options:f(j,l,"asc","day")});m=parseInt(m,10);n=parseInt(n,10);b+=i.createSelect({elementName:"dateselect_year",elementId:a.name+"_dateselectyear",elementClasses:["capture_dateselect_year"],justElement:!0,value:e,options:f(m,n,"desc","year")});return b+"</div>"},addressFull:function(a){var b,
c=F.prototype.render.htmlElement;b='<div class="capture_form_item capture_addressBlock">'+c.input({elementName:"street_address",elementId:a.name+"_streetaddress",label:"Address",type:"text",justElement:"true",publicPrivateToggle:a.publicPrivateToggle,value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});b=b+"<br />"+c.input({elementName:"street_address2",elementId:a.name+"_streetaddress2",type:"text",justElement:"true",
value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});b=b+"<br />"+c.input({elementName:"city",elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],justElement:"true",value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});b+=c.select({elementName:"stateprovince",elementId:a.name+"_stateprovince",justElement:"true",elementClasses:["capture_addressFull_stateprovince"],
label:"",placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:"",options:[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",
value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",
value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"},{text:"AB",value:"AB"},{text:"BC",value:"BC"},{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",
value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}]});t.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});b+=c.input({elementName:"zippostalcode",elementId:a.name+"_zippostalcode",justElement:"true",elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&
a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});b=b+"<br />"+c.select({elementName:"country",elementId:a.name+"_country",elementClasses:["capture_addressFull_country"],justElement:"true",value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:"",options:[{text:"country",value:"0",disabled:"true"},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",
value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},
{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},
{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",
value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},
{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",
value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},
{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},
{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",
value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",
value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},
{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",
value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},
{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",
value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},
{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},
{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}]});t.push({elementName:a.name+"_country",handler:function(){var a=
this.options[this.selectedIndex].value||"";"United States"===a||"Canada"===a?document.getElementById("capture_"+h+"_form_item_stateprovince").style.display="inline-block":document.getElementById("capture_"+h+"_form_item_stateprovince").style.display="none"},eventType:"change"});return b+"</div>"},backButton:function(a){var b;a.type="button";b=""+i.createInput(a);a.type="backButton";t.push({elementName:a.elementName,handler:function(){Ia=!1;var a=K.pop();a&&janrain.capture.ui.render(a.flow,a.values)},
eventType:"click"});return b},partial:function(a){var b=document.getElementById(a.layout);if(b)return b.innerHTML;throw n(a.layout);},photoManager:function(a){V=a.value;var a=i.createDiv({elementName:a.elementName}),b=p(V)&&V.length,a=a+'<div id="profile_pic" class="normal image default">';b&&(a+=i.createImage({src:V[1].value,imageId:"profile_pic_image"}));a=a+"&nbsp;</div>"+i.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:"Choose new photo",anchorHref:"#",anchorClasses:[],
anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:"Edit photo",anchorHref:"#",anchorClasses:["three","four"],anchorId:"edit_photo_link",hide:!b},{listItemId:"remove_photo",listItemClasses:[],anchorText:"Remove photo",anchorHref:"#",anchorClasses:["three","four"],anchorId:"remove_photo_link",hide:!b}],["options"]);a+="</div>";t.push({elementName:"upload_photo_link",handler:function(a){if(!document.getElementById("capture_"+h+"_upload_photo_form")){var b=i.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+
"/photo/upload_photo?access_token="+E,classes:["capture_popup_container"],elementId:"upload_photo_form",fields:[{elementName:"",classes:["capture_popup-arrow"],elementType:"div"},{elementName:"photo",elementId:"photo_chooser",elementType:"file"},{elementName:"photo_submit",elementId:"photo_submit",elementValue:"Submit",classes:["capture_btn","capture_primary"],hideElement:!1,elementType:"submit"}],callback:function(){janrain.capture.ui.getUserPhotos(function(){var a=document.getElementById("capture_"+
h+"_profile_pic_image");a&&S(a);document.getElementById("profile_pic").appendChild(i.domHelpers.createImage({elementSrc:V[1].value,elementId:"profile_pic_image"}));document.getElementById("capture_"+h+"_edit_photo").style.display="block";document.getElementById("capture_"+h+"_remove_photo").style.display="block";S(document.getElementById("capture_"+h+"_upload_photo_form"))})}});document.getElementById("capture_"+h+"_upload_photo").appendChild(b);var d=function(a){R(a)!=="capture_"+h+"_upload_photo_link"&&
R(a)!=="capture_"+h+"_photo_chooser"&&R(a)!=="capture_"+h+"_photo_submit"&&(b.innerHTML="",S(b),Ga(document,"click",d),w(a))};D(document,"click",d)}w(a)},eventType:"click"});t.push({elementName:"edit_photo_link",handler:function(a){if(!document.getElementById("capture_"+h+"_crop_photo_form")){var b,d=i.domHelpers.createDiv({classes:["capture_popup_container"],elementId:"containEditDiv"}),c=document.createElement("div"),e=document.createElement("div"),f=i.domHelpers.createImage({elementSrc:V[4].value,
elementId:"CropPhotoPreview"}),g=i.domHelpers.createImage({elementSrc:V[4].value+"?"+(new Date).getTime(),elementId:"cropbox"}),j=function(){crop(document.getElementById("capture_"+h+"_cropbox"),n,375,375)};D(g,"load",function(){"function"!==typeof crop?fa("http://engage-dev.janrain.com/renderers/crop/crop.js",j):j()});var l=i.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+"/photo/crop_photo?access_token="+E,elementId:"crop_photo_form",fields:[{elementName:"",classes:["capture_popup-arrow"],
elementType:"div"},{elementId:"width",elementName:"width",elementType:"hidden"},{elementId:"height",elementName:"height",elementType:"hidden"},{elementId:"x",elementName:"x",elementType:"hidden"},{elementId:"y",elementName:"y",elementType:"hidden"},{elementValue:"Submit",elementName:"edit_photo_submit",hideElement:!1,classes:["capture_btn","capture_primary"],elementType:"submit"}],callback:function(){janrain.capture.ui.getUserPhotos(function(){S(document.getElementById("capture_"+h+"_profile_pic_image"));
document.getElementById("profile_pic").appendChild(i.domHelpers.createImage({elementSrc:V[1].value,elementId:"profile_pic_image"}));S(document.getElementById("capture_"+h+"_containEditDiv"))})}});c.id="captureCropPhotoPreviewContainer";e.id="captureCropPhotoPreviewInnerContainer";c.appendChild(e);f.style.display="none";f.style.cssFloat="left";f.id="capture_CropPhotoPreview";e.appendChild(f);d.appendChild(c);d.appendChild(g);d.appendChild(l);document.getElementById("capture"+h+"__edit_photo").appendChild(d);
var m=function(a){var b;if(b="capture_edit_photo_link"!==R(a)){a:{for(b=I(a).parentNode;null!=b;){if(b==d){b=!0;break a}b=b.parentNode}b=!1}b=!b}b&&(d.innerHTML="",S(d),Ga(document,"click",m),w(a))};D(document,"click",m);var n=function(a){if(0<parseInt(a.unscaled.width)){b=a;var d=a.unscaled.height/a.sizedHeight,c=Math.round(100/(a.unscaled.width/a.sizedWidth)),d=Math.round(100/d);"none"===f.style.display&&(f.style.display="block");f.style.width=c+"px";f.style.height=d+"px";f.style.marginLeft="-"+
Math.round(a.unscaled.left/a.sizedWidth*c)+"px";f.style.marginTop="-"+Math.round(a.unscaled.top/a.sizedHeight*d)+"px"}};D(l,"submit",function(){var a=b.sizedWidth/b.originalWidth,d=b.sizedHeight/b.originalHeight;document.getElementById("capture_"+h+"_width").value=Math.round(b.unscaled.width/a);document.getElementById("capture_"+h+"_height").value=Math.round(b.unscaled.height/d);document.getElementById("capture_"+h+"_x").value=Math.round(b.unscaled.left/a);document.getElementById("capture_"+h+"_y").value=
Math.round(b.unscaled.top/d)})}w(a)},eventType:"click"});t.push({elementName:"remove_photo_link",handler:function(a){if(!document.getElementById("capture_"+h+"_remove_photo_contain")){var b=i.domHelpers.createDiv({elementId:"remove_photo_contain",classes:["capture_popup_container pad"]}),d=i.domHelpers.createAnchor({elementHref:"#",elementText:"Remove",elementId:"confirm_remove_photo_link"}),c=i.domHelpers.createAnchor({elementHref:"#",elementText:"Cancel"});b.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';
b.appendChild(d);b.appendChild(c);document.getElementById("capture_"+h+"_remove_photo").appendChild(b);var e=function(a){"capture_createFormAndPostSubmit"!==R(a)&&"capture_confirm_remove_photo_link"!==R(a)&&"capture_remove_photo_link"!==R(a)&&(b.innerHTML="",S(b),Ga(document,"click",e),w(a))};D(c,"click",e);D(document,"click",e);D(d,"click",function(a){i.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/photo/delete_photo?reset_photo=true&access_token="+E,elementId:"delete_photo_form",
callback:function(){janrain.capture.ui.getUserPhotos(function(){0===V.length?(S(document.getElementById("capture_"+h+"_profile_pic_image")),document.getElementById("capture_"+h+"_edit_photo").style.display="none",document.getElementById("capture_"+h+"_remove_photo").style.display="none"):J("maybe there was a problem deleting your image");S(document.getElementById("capture_"+h+"_remove_photo_contain"))})}});w(a)});w(a)}},eventType:"click"});return a},collection:{radio:function(a){for(var b=i.createDiv({elementName:a.elementName,
classes:a.classes||""}),c=0;c<a.collection.length;c++)b+="<div class='capture_radio_toggle",b+=(0===c?" capture_toggled":"")+"'>",b+="<input type='radio' id='capture_"+h+"_radio_"+a.collection[c].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===c?"checked='true' ":"")+"/>",b+="<label ",b+="class='capture_radio_label' ",b+="for='capture_"+h+"_radio_"+a.collection[c].elementName+"'>"+a.collection[c].label+" ",b+="</label></div>",t.push({elementName:"radio_"+a.collection[c].elementName,
handler:function(b){G(b,a)},eventType:"click"});return b+"</div>"},accordion:function(){return"<div>"},tab:function(a){for(var b,c=[],e=i.createDiv({elementName:a.elementName,classes:a.classes||""}),f=0;f<a.collection.length;f++)b={},b.listItemId="tab_li_"+a.collection[f].elementName,b.listItemClasses=["capture_tab_toggle"],0===f&&b.listItemClasses.push("capture_toggled"),b.anchorId="tab_"+a.collection[f].elementName,b.anchorText=a.collection[f].label,b.anchorHref="#",c.push(b),t.push({elementName:"tab_"+
a.collection[f].elementName,handler:function(b){G(b,a)},eventType:"click"});e+=i.createListOfLinks(c,["capture_tabs"]);return e+"</div>"}}},widget:{login:function(){t.push({handler:function(){function a(){janrain.events.onProviderLoginToken.addHandler(function(a){Ra=a.token;y.values=L(y.div.id);K.push(y);var b=a.token,a=C(),b={token:b,redirect_uri:janrain.settings.capture.redirectUri,client_id:janrain.settings.capture.clientId,response_type:janrain.settings.capture.responseType,capture_transactionId:a,
flow:janrain.settings.capture.registerFlow||"socialRegister"};Q&&(b.flow_path=Q);ha("/widget/token_url.jsonp",b);ca(a)});Aa=!0}var b=document.getElementById("janrainEngageEmbed"),c=document.getElementById("capture_"+h+"_login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var e=C();janrain.engage.signin.appendTokenParams({capture_transactionId:e});Da=e}b?(c.appendChild(b),b.style.display="block",janrain.engage.signin.removeNotice()):(b=document.createElement("div"),
b.id="janrainEngageEmbed",document.body.appendChild(b),c.appendChild(b),b.style.display="block",janrain.engage.signin.widget.init());Aa||a()},eventType:"render"});var a=i.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(){}}};Za.accessDenied='<div class="capture_backgroundColor">'+(O.accessDenied||"access denied")+"</div>";var Va=[],nb={};return{modal:{close:function(){"object"==typeof q&&q.close()},closeConfirm:function(){"object"==typeof q&&q.closeConfirm()},
open:function(a){a=a||y.flow.defaultScreen;"object"==typeof q&&(janrain.capture.ui.renderScreen(a),q.setShowContentOnLoad(!0).addContent(y.div).show(),janrain.events.onCaptureContentChange.fire())},setBorder:function(a){"object"===typeof q&&(q.setBorder(a),q.refresh());return!0},setBorderColor:function(a){"object"===typeof q&&(q.setBorderColor(a),q.refresh());return!0},setBorderOpacity:function(a){"object"===typeof q&&(q.setBorderOpacity(a),q.refresh());return!0},setBorderRadius:function(a){"object"==
typeof q&&(q.setBorderRadius(a),q.refresh());return!0}},start:function(a,c){b(a,c)},hasActiveSession:function(){return!!E},render:function(a,b){ea(Y());a.i18nStrings&&(O=a.i18nStrings);if(a.version)Ka=a.version;else throw Error("MissingVersionError: Missing version.");ja(a);var c=new aa,e=s.oneTimeRender||s.defaultScreen;c.setScreenData(e,s.screens[e]).render();if(b)for(var f in b)b[f].id&&b[f].value&&(c=document.getElementById(b[f].id),c.value=b[f].value,"radio"===b[f].type&&(c.checked=b[f].checked,
b[f].checked&&c.click()))},renderScreen:function(a,b){Ia=!1;b||K.push(y);(new aa).setScreenData(a,s.screens[a]).render()},setHandler:function(a,b,c){this.setFieldAttribute(a,b+"Handler",c)},setFieldAttribute:function(a,b,c){ia.push({field:a,attribute:b,value:c})},setRenderer:function(a,b,c){F.prototype.render[a].helpers=Ua;F.prototype.render[a][b]=c},setValidator:function(a,b){r.prototype[a]=b},registerFunction:function(a,b){nb[a]=b},addRenderer:function(a,b,c){this.setRenderer(a,b,c)},trackLoadedCssFiles:function(a){Oa.push(a)},
handleCaptureUniqueResponse:function(a){wa(a)},handleCaptureResponse:function(a,b){var c;if("ok"===a.stat&&(c=a.result,c.accessToken&&c.oneTime&&(ua=c.accessToken,bb=!0),c.accessToken&&!c.oneTime&&da(c.accessToken),c&&c.status)){ab[c.transactionId]=c;"success"===c.status?(janrain.events.onCaptureSuccessfulSave.fire(c),ua&&!bb?ua="":bb=!1):janrain.events.onCaptureFailedSave.fire(c);if("traditionalSignin"===c.action||"socialSignin"===c.action||"ssoSignin"===c.action)if("success"===c.status){if(c.authorizationCode){var e;
e=janrain.settings.capture.redirectUri;var f={code:c.authorizationCode},g=-1<e.indexOf("?")?"&":"?",i=[],h;for(h in f)f.hasOwnProperty(h)&&i.push(h+"="+encodeURIComponent(f[h]));e=e+g+i.join("&");c.redirectUri=e}if(c.accessToken||c.authorizationCode)janrain.events.onCaptureSuccessfulLogin.fire(c),janrain.settings.capture.federate&&c.sso&&c.ssoCode&&ba(c.ssoCode),janrain.settings.capture.federate&&c.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(c),M(c.transactionId));c.authorizationCode&&
janrain.settings.capture.redirectOnLogin&&(window.location=e)}else janrain.events.onCaptureFailedLogin.fire(c);if("traditionalRegister"===c.action||"socialRegister"===c.action)"success"===c.status?(janrain.events.onCaptureSuccessfulRegistration.fire(c),(c.accessToken||c.authorizationCode)&&janrain.settings.capture.federate&&c.sso&&c.ssoCode&&ba(c.ssoCode)):janrain.events.onCaptureFailedRegistration.fire(c);c.userData&&janrain.settings.capture.setProfileCookie&&(c=c.userData,h=na(),(new Ea).setExpirationDirectly(h).setName("janrainCaptureProfileData").setValue(x.stringify(c)).create())}"function"===
typeof b&&b()},handleErrorResponse:function(a,b){var c=a.result.error+": "+a.result.errorDescription;if(Ba){var e=i.domHelpers.createDiv({classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()});e.innerHTML=c;Ba.insertBefore(e,Ba.firstChild);janrain.events.onCaptureContentChange.fire()}Ba||alert(c);J(a);"function"===typeof b&&b()},createCaptureSession:function(a){da(a)},endCaptureSession:function(){g()},addTransactionIds:function(a){ea(a)},getPayload:function(){},getUserPhotos:function(a){"undefined"!==
typeof E&&fa(janrain.settings.capture.captureServer+"/photo/get_user_photos?access_token="+E,a)},setUserPhotos:function(a){V=a},getUserData:function(a){"undefined"!==typeof E&&fa(janrain.settings.capture.captureServer+"/photo/get_user_json?access_token="+E,a)},setUserData:function(){},setCustomHtml:function(a,b){u(Ta,a)&&(Za[a]=b)},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);M(a.transactionId);"token"===janrain.settings.capture.responseType&&ya()},federateSetLoginSuccess:function(a){M(a)},
validationHandler:function(a){var b=document.getElementById(a.elementId),c=new i.validation;c.setParentDiv(b);a.valid?c.valid():c.notValid(a.reason)}}};return{engage:{signin:janrain.engage.signin?janrain.engage.signin:na,share:janrain.engage.share?janrain.engage.share:ga},capture:{ui:ha}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;