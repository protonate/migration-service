/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: master
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var Ha,Ea;function vc(){return"http://janrain.ui.s3.amazonaws.com/quilt/stylesheets/"}function Nc(a,d,c){var f;if(document.getElementById(a))return!1;if(i){f="";var v=document.createElement("div");v.innerHTML=f+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+d+'" ')+'style="display: none;"></iframe>';document.body.appendChild(v)}else f=document.createElement("iframe"),f.setAttribute("name",a),f.id=a,f.setAttribute("src",d),f.style.display="none",f.className="",document.body.appendChild(f);
"function"===typeof c&&c()}function fc(a){for(var d="",d="",c=0;c<a;c++)d+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return d}function Cb(){function a(a,c,d,f){c={action:a,key:c,messageId:d};"set"===a&&(c.value=f);return"janrainCapture:"+L.stringify(c)}function d(a,c){function d(){f++;if(10<f)return!1;if("undefined"!==typeof ca[a])return clearTimeout(k),"get"===ca[a].action&&"function"===typeof c&&c(ca[a].storedValue),!0;var k=setTimeout(d,50)}var f=0;d()}function c(c,
f){_xdomainStorageIframeLoaded;var k=fc(40);window.setTimeout(function(){h.contentWindow.postMessage(a("get",c,k),o)});return d(k,f)}function f(a,d){if(k)_xdomainStorageIframeLoaded?c(a,d):setTimeout(function(){f(a,d)},50);else return window.localStorage.getItem(a)}function v(a){if(0!==a.data.indexOf("janrainCapture:")||!A(X,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=L.parse(a.data.replace("janrainCapture:",""));ca[a.messageId]=a}var k=!1,ca={},h,o,X=janrain.settings&&
janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,f){if(k){var v=fc(40);window.setTimeout(function(){h.contentWindow.postMessage(a("set",c,v,f),o)});return d(v)}return window.localStorage.setItem(c,f)},removeItem:function(c){if(k){var f=fc(40);window.setTimeout(function(){h.contentWindow.postMessage(a("remove",c,f),o)});return d(f)}return window.localStorage.removeItem(c)},getItem:f,setMultiDomain:function(a){if(k=a)window.addEventListener?window.addEventListener("message",
v,!1):window.attachEvent?window.attachEvent("onmessage",v):document.attachEvent&&document.attachEvent("onmessage",v),h=document.getElementById("xDomainLocalStorageJanrain"),o=janrain.settings.storageServerDomain}}}function M(){function a(){if(v&&Db){var a=new Cb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(f);a.removeItem(f+"_Expires")}else{var a=ca?"; domain="+ca:"",c=new Date;c.setTime(c.getTime()+-864E6);document.cookie=f+"="+k+";expires="+c.toUTCString()+a+"; path="+
h}}function d(c,d){var k,ca,h,y,i;if(v&&Db)if(i=new Cb,janrain.settings.multiDomainLocalStorage)i.setMultiDomain(!0),i.getItem(c,function(k){k?i.getItem(c+"_Expires",function(p){p?Math.round((new Date).getTime()/1E3)>Math.round((new Date(p)).getTime()/1E3)?(f=c,a(),"function"===typeof d&&d(!1)):"function"===typeof d&&d(k):(new M).getCookie(c+"_session")?"function"===typeof d&&d(k):(f=c,a())}):"function"===typeof d&&d(!1)});else if(y=i.getItem(c),k=i.getItem(c+"_Expires"),y){if(!(k&&Math.round((new Date).getTime()/
1E3)>Math.round((new Date(k)).getTime()/1E3))&&(k||(new M).getCookie(c+"_session")))return y;f=c;a()}else return!1;else{k=document.cookie.split(";");ca=k.length;for(var za=0;za<ca;za++)if(h=k.pop(),y=h.split("="),h=y[0],y=y[1],h.trim()===c)return y;return!1}}var c,f,v=!1,k,ca,h="/";return{create:function(){if(v&&Db){var a=new Cb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(f,k);c?a.setItem(f+"_Expires",c):(new M).setName(f+"_session").setValue("session").create()}else document.cookie=
f+"="+k+";expires="+c+(ca?"; domain="+ca:"")+"; path="+h},remove:a,setExpirationDirectly:function(a){a&&(c=a);return this},setExpiration:function(a){if(a){var d=new Date;d.setTime(d.getTime()+864E5*a);c=d.toUTCString()}return this},setName:function(a){a&&(f=a);return this},setValue:function(a){"undefined"!==typeof a&&(k=a);return this},setUseLocalStorage:function(a){v=a;return this},setPath:function(a){a&&(h=a);return this},setDomain:function(a){a&&(ca=a);return this},getCookie:function(a,c){return d(a,
c)}}}function qb(){return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(Fa)?parseFloat(RegExp.$1):!1}function hb(){var a;return Fa&&(a=Fa.match(/(\d)[\d.]+ Safari/))&&a[1]?1*a[1]:0}function hb(){return!/Chrome\//.test(Fa)&&/Safari\//.test(Fa)}function ha(a,d,c,f,v,k){"number"===typeof c&&"number"===typeof f&&"number"===typeof v&&"number"===typeof k?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=c+"px "+f+"px "+v+"px "+k+"px"),"undefined"!==
typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px "+f+"px "+v+"px "+k+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px "+f+"px "+v+"px "+k+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=d+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=d+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=d+"px"));return a}function ib(a,d){if("undefined"===typeof a||"undefined"===
typeof d)return!1;var c=a-d;0>c&&(c=0);c>a&&(c=a);return c}function Sb(a,d){if(i&&9>=i)return a.style.backgroundImage="url('"+rb("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;if(hb()&&4>=hb()||ua.getMobileDevice()){var c="",f="",v="",k=d.split(","),h={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};k[0]&&h[k[0]]&&(c=h[k[0]]);k[1]&&(f="from("+k[1]+")");k[k.length-1]&&(v="to("+k[k.length-1]+")");a.style.backgroundImage=
"-webkit-gradient(linear,"+c+","+f+","+v+")"}a.style.backgroundImage="-moz-linear-gradient("+d+")";a.style.backgroundImage="-webkit-linear-gradient("+d+")";a.style.backgroundImage="-ms-linear-gradient("+d+")";a.style.backgroundImage="-o-linear-gradient("+d+")";a.style.backgroundImage="linear-gradient("+d+")"}function jb(a,d,c,f){var v=Tb(c),k=Tb(c,f);if(c=Oc(c))c.a=f,k="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<d){a.style.backgroundColor=v;a.style.padding=d+"px";if(0<i&&8>=i||i&&T)return!1;a.style.backgroundColor=
k;a.style.padding=d+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function Oc(a){var d={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;d.r=a[0];d.g=a[1];d.b=a[2];d.a=a[3]?a[3]:1;return d}function Tb(a,d){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),f=parseInt(a.substring(2,
4),16),v=parseInt(a.substring(4,6),16);return isNaN(d)?"rgb("+c+","+f+","+v+")":"rgba("+c+","+f+","+v+","+d+")"}function Q(a,d,c){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+d,c):a.addEventListener(d,c,!1)}function gc(a,d,c){"object"===typeof window.detachEvent?a.detachEvent("on"+d,c):a.removeEventListener(d,c,!1)}function Ub(){return document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}function Pa(a){return{width:parseInt(a.style.width||
a.offsetWidth),height:parseInt(a.style.height||a.offsetHeight)}}function Cc(a,d){var c=document.getElementById(a);if("object"===typeof c.currentStyle)var f=c.currentStyle[d];else window.getComputedStyle&&(f=document.defaultView.getComputedStyle(c,null).getPropertyValue(d));return f}function O(a,d,c,f,v){var k=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,h=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!u(f))return v||C.log(f+" is wrong type, must be array, using default value instead"),
c;if(d&&u(d))for(var i=0;i<f.length;i++)if(0>d.indexOf(f[i]))return v||C.log(f+" is not within the valid range, using default value instead"),c;return f}if("url"===a){if("string"!==typeof f)return c;f&&(f=f.trim());if(/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(f))return f;v||C.log(f+" is not the valid format, using default value instead");return c}if("text"===a){if(d){if(0<=d.indexOf(f))return f;v||C.log('Value of "'+f+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+
c+'" instead');return c}return k.test(f)?f:c}if("usertext"===a){if("string"!==typeof f&&"number"!==typeof f)return c;if(u(d)){if(1===d.length){if(f.length<=d[0])return f;v||C.log(f+" is too long, using default value instead");return c}if(2===d.length){if(f.length<=d[1]&&f.length>=d[0])return f;v||C.log(f+" is not within the valid range, using default value instead");return c}v||C.log("usertext range is invalid, using default value instead");return c}return f}"string"===typeof f&&0==f.length&&(f=" ");
if(!k.test(f))return v||C.log(f+" contains invalid character(s)"),c;if("boolean"===a){if("boolean"===typeof f)return f;v||C.log(f+" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return f;if("number"===a){if(isNaN(parseInt(f)))return v||C.log(f+" is wrong type, must be a valid number"),c;f=parseFloat(f)}if("color"===a){f&&(f=f.trim());if("transparent"===f||h.test(f))return f;v||C.log('Value of "'+f+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+
c+'" instead');return c}if(typeof f!=a&&"color"!=a)return v||C.log(f+" for "+arguments.callee.caller.name+" is "+typeof f+" expected "+a),c;if("object"===typeof d&&"string"===a){if(0<=d.indexOf(f))return f;v||C.log('Value of "'+f+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof d&&"number"===a){2===d.length?(k=d[0],h=d[1]):(k=d.shift(),h=d.pop(),i=d);if(f<k)return v||C.log("Value of "+f+" for "+arguments.callee.caller.name+
" is below minimum of "+k+", using minimum value of "+k+" instead"),k;if(f>h)return v||C.log("Value of "+f+" for "+arguments.callee.caller.name+" is above maximum of "+h+", using maximum value of "+h+" instead"),h;if(i&&"number"===typeof i.indexOf(f)||f==k||f==h)return f;return i?(v||C.log("Value of "+f+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):f}return 0!=f&&!f?c:f}function Y(a){for(var d=Y.options,a=d.parser[d.strictMode?"strict":"loose"].exec(a),
c={},f=14;f--;)c[d.key[f]]=a[f]||"";c[d.q.name]={};c[d.key[12]].replace(d.q.parser,function(a,f,h){f&&(c[d.q.name][f]=h)});return c}function Qa(a){return document.getElementById(H(a).getAttribute("id"))}function H(a){return a.target?a.target:a.srcElement}function Dc(a,d){function c(a){F=!0;"undefined"!==typeof X&&clearTimeout(X);if("string"===typeof a)return"function"===typeof i&&i(a),!0;if("object"===typeof a||"undefined"===typeof a)return"function"===typeof h&&h(),!0}function f(){o++;if(F)return!0;
o<k?X=setTimeout(f,50):c("Load Timeout Error")}var h=d,k=200,ca=!1,i,o=0,X,qa=document.createElement("script"),ta=document.getElementsByTagName("script")[0],F=!1;qa.src=a;qa.setAttribute("type","text/javascript");qa.onload=qa.onerror=qa.onreadystatechange=function(a){!F&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&c(a)};return{setTimeoutCallback:function(a){ca=!0;i=a;return this},setCallback:function(a){h=a;return this},setTimeoutLimit:function(a){k=a;return this},
load:function(){ta.parentNode.insertBefore(qa,ta);ca&&f()}}}function ia(a,d){Dc(a,d).load()}function Ec(a,d){i&&9>i&&hc(a,d)}function hc(a,d){function c(c){za=!1;"function"===typeof d&&d();janrain.events.onCssLoad.fire({source:a,noload:c})}function f(){if(za){for(X=o.length;0<=--X;)if(o[X].href===k.href){c();break}i+=1;za&&(200>i?setTimeout(f,50):c(!0))}}function h(){var a;try{a=!!k.sheet.cssRules}catch(d){i+=1;200>i?setTimeout(h,50):a&&c(!0);return}c()}var k,i=0,za=!0,o=document.styleSheets,X;"undefined"===
typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new Ia);sb?(k=document.createElement("style"),k.innerHTML='@import "'+a+'";'):(k=document.createElement("link"),k.rel="stylesheet",k.href=a,k.type="text/css");Vb||sb?(Vb&&f(),sb&&h()):(k.onload=function(){c()},k.onerror=function(){c(!0)});document.getElementsByTagName("head")[0].appendChild(k)}function z(a){var d;d=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===d.indexOf(c)&&(d.push(c),a&&(a.className=d.join(" ")));
return this},remove:function(c){-1!==d.indexOf(c)&&(d.splice([d.indexOf(c)],1),a&&(a.className=d.join(" ").trim()));return this},has:function(a){return-1!==d.indexOf(a)}}}function u(a){return"[object Array]"===Object.prototype.toString.call(a)}function A(a,d){return!u(a)?!1:-1<a.indexOf(d)}function Eb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Fb(a){var d="",c;for(c in a)d+="&"+encodeURIComponent(c)+"="+encodeURIComponent(a[c]);return d="?"+d.substr(1)}function P(a){if(!a)return!1;a.preventDefault?
a.preventDefault():a.returnValue=!1}function Gb(a){if(!a)return!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Pc(a){if(!a)return!1;var d=a.getElementsByTagName("input");d||(d=a.getElementsByTagName("button"));if(!d)return!1;for(var c=d.length,f=0;f<c;f++)if("submit"===d[f].type)return d[f];d=a.getElementsByTagName("button");for(f=0;f<c;f++)if("submit"===d[f].type)return d[f]}function ic(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Fc(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var d=
a.split("/"),a=parseInt(d[1],10),c=parseInt(d[0],10),d=parseInt(d[2],10),f=new Date(d,c-1,a);return f.getFullYear()==d&&f.getMonth()==c-1&&f.getDate()==a?!0:!1}return!1}function R(a,d){for(var c=d,f=/\{\|(.*?)\|\}/,h;h=f.exec(c);)try{var k=h[1].trim(),c=c.replace(h[0],"undefined"!==typeof a[k]?a[k]:"")}catch(i){return window.console&&window.console.log&&console.log(i.name+": "+i.message,"error"),!1}return c}function Gc(a,d){var c=a.parentNode.nodeName.toLowerCase();return"body"===c?!1:a.nodeName.toLowerCase()===
d.toLowerCase()?a:c===d.toLowerCase()?a.parentNode:Gc(a.parentNode,d)}function xc(a){var d=[],c;for(c in a)a.hasOwnProperty(c)&&d.push(c+'="'+a[c]+'"');return d.join(" ")}function jc(){function a(a){var a=a||"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",Ra&&(c.innerHTML=Ra)):(c.src=Ja,ia||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width=
"28px"));c.onclick=ka?f:d;return c}function d(a){ja||(p.style.display="none",A.style.display="none",U.style.display="none");N&&ua.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&Sa.fire();"object"===typeof a&&P(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),f=document.createElement("a"),k=document.createElement("a"),h=document.createElement("h3");f.innerHTML=W;k.innerHTML=Ba;h.innerHTML=ea;f.setAttribute("href",
"#");k.setAttribute("href","#");a.className="janrain_close_confirm_container";c.className="janrain_close_confirm";f.className="janrain_modal_confirm";k.className="janrain_modal_cancel";Q(f,"click",function(a){d();p.removeChild(da);da=null;P(a)});Q(k,"click",function(a){p.removeChild(da);da=null;P(a)});c.appendChild(h);c.appendChild(k);c.appendChild(f);a.appendChild(c);return a}function f(a){da||(da=c(),p.appendChild(da));P(a)}function h(a){var c=Ub(),d=Pa(a),f=-1*d.width/2,d=-1*d.height/2;a.style.left=
"50%";a.style.marginLeft=f+"px";a.style.marginTop=d+c+"px";a.style.top="50%";0>a.offsetLeft&&(a.style.left=0,a.style.marginLeft=0);0>a.offsetTop&&(a.style.marginTop=0,a.style.top="10px");U.style.height=Ha+c+"px";"absolute"!==a.style.position&&(a.style.position="absolute")}function k(){if(ja){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(p)}else h(p);ja||C.show()}function ca(a){la||(ga=O("number",[0,20],10,a),Aa.fire({radius:ib(R,ga)}))}function za(a){la||(M=
O("color",null,"#000000",a))}function o(a){la||(R=O("number",[0,20],10,a),va.fire({radius:ib(R,ga),refresh:!0}))}function X(a){la||(ma=O("number",[0,1],0.5,a),"object"==typeof p&&jb(p,ga,M,ma))}function qa(a){if("portrait"===a){oa="portrait";var c="one column"}"landscape"===a&&(oa="landscape",c="two column");Ta.fire({orientation:oa,format:c,width:u,height:z});k()}function ta(a){a&&(pa=a);i&&T&&(pa+=ga-2);"object"==typeof p&&(p.style.width=pa+"px");return this}function F(a){a&&(L=a);i&&T&&(L=L+2*ga-
4);a&&"object"==typeof p&&(p.style.height=L+"px");return this}function y(){Ea>=Ha&&"undefined"===typeof window.orientation?"landscape"!==oa&&qa("landscape"):90===window.orientation||-90===window.orientation?"landscape"!==oa&&qa("landscape"):"portrait"!==oa&&qa("portrait");k()}function wc(){var a,c=p;a="undefined"!=typeof window.innerWidth?window.innerHeight:document.documentElement.offsetHeight;var d=Ub();Pa(c);U.style.height=a+d+"px"}var u=380,z=131,p,Hc="janrainModal",A,U,H,pa=u,L=z,ga=10,M="#000000",
R=10,ma=0.5,ka=!1,Ja=rb("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),Ra="",la=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,ia=!1,ea="Are you sure you want to quit?",W="Yes, quit",Ba="No, stay",da,oa="landscape",Ua=!0,N="boolean"===typeof N?N:"number"===typeof window.orientation?!0:!1,ra="boolean"===typeof ra?ra:janrain.settings.previewMode,ja=ra,Y=Y||!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(Ja=janrain.settings.capture.modalCloseImage,
ia=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(Ra=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=$());var Sa=$(),ya=$(),va=$(),Aa=$(),Ta=$();ua&&ua.onOrientationChange&&ua.onViewportChange&&(ua.onOrientationChange.addHandler(function(a){qa(a.orientation)}),ua.onViewportChange.addHandler(function(){h(p)}));return{isOpen:function(){return"object"===typeof p&&"none"!==p.style.display},setWidth:function(a){ta(a);
return this},setHeight:function(a){F(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&ca(a);la||"object"==typeof p&&jb(p,ga,M,ma);return this},setBorderColor:function(a){a&&za(a);la||"object"==typeof p&&jb(p,ga,M,ma);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&o(a);la||"object"==typeof p&&ha(p,R);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&X(a);return this},setZIndex:function(a){U.style.zIndex=
a},setPreviewMode:function(a){"boolean"===typeof a&&(ja=a);return this},setId:function(a){Hc=a;p&&(p.id=a);return this},show:function(){N||(p.style.display="block");"object"==typeof A&&Ua&&(A.style.display="block");ja?N&&(p.style.display="block"):(U.style.display="block",N?(ua.setElement(p).activate(),p.style.display="block"):(Q(window,"resize",y),Q(window,"resize",wc),Q(window,"scroll",wc),y(),wc()));la||va.fire({radius:ib(R,ga),refresh:!1});ya.fire();p.focus()},close:function(a){d(a)},closeConfirm:function(){f()},
refresh:function(){Y||p.appendChild(H);k()},remove:function(){if(ja){var a=document.getElementById("previewMode");"object"===typeof H&&p.removeChild(H);"object"===typeof p&&a.removeChild(p);"object"===typeof U&&document.body.removeChild(U);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";U=p=""}else"object"===typeof H&&p.removeChild(H),"object"===typeof U&&document.body.removeChild(U),"object"===typeof p&&document.body.removeChild(p)},addContent:function(c){A=c;if(!p){p=
document.createElement("div");p.id=Hc;if("number"===typeof pa||"string"===typeof pa)p.style.width=pa+"px";p.style.height=L+"px";p.style.position="absolute";la||(p.style.padding=ga+"px",ha(p,R),jb(p,ga,M,ma));p.style.zIndex=1E3;p.style.display="none";U=document.createElement("div");U.style.width="100%";U.style.left=0;U.style.top=0;U.style.backgroundColor="#000000";U.style.position="absolute";c=U;"undefined"!==typeof c.style.filter&&(c.style.filter="alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&
(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");U.style.display="none";U.style.zIndex=1E3;H=Ra?a("a"):a();p.appendChild(H);document.body.appendChild(U);document.body.appendChild(p)}p.appendChild(A);ja&&k();return this},getContent:function(){return A},getBorderWidth:function(){return ga},getState:function(){return{borderWidth:ga,borderColor:M,borderRadius:R,borderOpacity:ma,orientation:oa}},
setState:function(a){E("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&ca(a.borderWidth),"undefined"!==typeof a.borderColor&&za(a.borderColor),"undefined"!==typeof a.borderOpacity&&X(a.borderOpacity),"undefined"!==typeof a.orientation&&qa(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&o(a.borderRadius),"object"==typeof p&&ha(p,R)))},setConfirmClose:function(a){ka=a;return this},setShowContentOnLoad:function(a){Ua=
a;return this},setConfirmMessageText:function(a){ea=a},setConfirmLinkText:function(a){W=a},setCancelLinkText:function(a){Ba=a},onClose:Sa,onShow:ya,onOrientationChange:Ta,onBorderRadiusChange:va,onBorderWidthChange:Aa}}function Qc(a){function d(){var a=window.open(c,"","width="+f+", height="+h+", status=1, location=1, resizable=yes"),d=window.setInterval(function(){if(a&&a.closed||"undefined"===typeof a.closed)window.clearInterval(d),"function"===typeof k&&k()},500)}var c=a,f=400,h=400,k;return{show:function(){d()},
setWidth:function(a){a&&(f=a);return this},setHeight:function(a){a&&(h=a);return this},setCallback:function(a){a&&(k=a);return this}}}function yc(){function a(){ta=(new Date).getTime()-f;if(ta<c){var a=Math.round(d()*X+i);h.style[o]=a+"px"}else clearInterval(qa),h.style[o]=u+"px",y()}function d(){if("flat"==F)return ta*(1/c);if("sinusoidal"==F)return Math.abs(Math.sin(ta*(Math.PI/(2*c))))}var c="1000",f,h,k=document,i,u,o="left",X,qa,ta,F="flat",y;return{setAcceleration:function(a){F=a;return this},
setCallback:function(a){y=a;return this},setDuration:function(a){c=a;return this},setDirection:function(a){"horizontal"===a&&(o="left");"vertical"===a&&(o="top");return this},setElement:function(a){h=a;return this},setElementBoundry:function(a){k=a;return this},startPosition:function(a){i=a;return this},endPosition:function(a){u=a;return this},animate:function(){X=u-i;f=(new Date).getTime();qa=setInterval(a,10);return this},drag:function(a){function c(a){var d=kc({event:a,boundry:k});h.style.left=
d.x()+"px";Gb(a);P(a)}function d(a){var f=kc({event:a,boundry:k});h.style.left=f.x()+"px";gc(document,"mouseup",d);gc(document,"mousemove",c);Gb(a);P(a);y({pos_x:f.x()})}Q(document,"mousemove",c);Q(document,"mouseup",d);Gb(a);P(a)}}}function kc(a){return{x:function(){var d=a.event.clientX-Ic(a.boundry).x,d=d<this.boundry_x()?d:this.boundry_x();return 0<d?d:0},boundry_x:function(){return a.boundry.getBoundingClientRect().width},y:function(){},boundry_y:function(){}}}function Ic(a){var d=curtop=0;if(a.offsetParent){do d+=
a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return{x:d,y:curtop}}}function $(){return new Ia}function Ia(){this.eventHandlers=[];this.firedEvents=[]}function Jc(){if(function(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onCustomizationChange,onProviderLoginComplete,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),
c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}())clearTimeout(a),janrain.events.onAuthWidgetLoad.fire();else var a=setTimeout(Jc,5)}function Kc(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,d=janrain.events.captureEvents.length;a<d;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;return!janrain.ready?!1:!0}if("function"===
typeof janrainCaptureWidgetOnLoad)if(a())clearTimeout(d),janrainCaptureWidgetOnLoad();else var d=setTimeout(Kc,5)}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var d in this)if(this[d]===a)return parseInt(d);return-1});Array.prototype.map||(Array.prototype.map=function(a,d){if(null===this)throw new TypeError;var c=Object(this),f=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var h=Array(f),k=0;k<f;k++)k in c&&(h[k]=a.call(d,c[k],k,c));return h});Array.prototype.filter||
(Array.prototype.filter=function(a,d){if(null==this)throw new TypeError;var c=Object(this),f=c.length>>>0;if("function"!=typeof a)throw new TypeError;for(var h=[],k=0;k<f;k++)if(k in c){var i=c[k];a.call(d,i,k,c)&&h.push(i)}return h});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var ea=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?
document.documentElement.clientWidth:0;Ha=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;Ea=ea;var Db=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,T="CSS1Compat"!==document.compatMode,lb=!1,ka=!1,h=[],mb="d59db6f",ea=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
Ib=null!==ea?ea[0]:!1,Jb="number"===typeof window.orientation||null!==ea,Rc="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),Sc="January,February,March,April,May,June,July,August,September,October,November,December".split(","),Tc=[16,20,30,32,48,50,64];janrain.settings&&janrain.settings.storageServer&&Nc("xDomainLocalStorageJanrain",janrain.settings.storageServer,function(){Q(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){_xdomainStorageIframeLoaded=!0})});
var Fa=navigator.userAgent,i=qb(),sb=/Gecko\//.test(Fa),Vb=/AppleWebKit\//.test(Fa);/Chrome\//.test(Fa);var Uc=hb(),E=function(){var a=function(a){for(var d=[],h=0;h<a.length;h++)d.push(a[h]);return d},d={};janrain.settings&&janrain.settings.permissions&&(d.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(d.share=a(janrain.settings.share.permissions));return function(a,f){f=f||"login";return!d[f]?!1:0<=d[f].indexOf(a)}}();Y.options=
{strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
for(var La=function(a,d,c){La=document.getElementsByClassName?function(a,c,d){for(var a=(c||document).getElementsByClassName(a),d=d?RegExp("\\b"+d+"\\b","i"):null,c=[],h,i=0,o=a.length;i<o;i+=1)h=a[i],(!d||d.test(h.nodeName))&&c.push(h);return c}:function(a,c,d){var d=d||"*",c=c||document,h=a.split(" "),a=[],c="*"===d&&c.all?c.all:c.getElementsByTagName(d),d=[],i;i=0;for(var o=h.length;i<o;i+=1)a.push(RegExp("(^|\\s)"+h[i]+"(\\s|$)"));for(var o=0,X=c.length;o<X;o+=1){h=c[o];i=!1;for(var u=0,ta=a.length;u<
ta&&!(i=a[u].test(h.className),!i);u+=1);i&&d.push(h)}return d};return La(a,d,c)},ua=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;f(document.body,ta);z=i().content;u();o();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){E(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:
0},{height:window.innerHeight,width:window.innerWidth});k()},!1),setTimeout(k,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,k,!1)},!1));A.addHandler(function(){d({height:window.innerHeight,width:window.innerWidth},0)});C.addHandler(function(a){Ha=a.height;Ea=a.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,k,!1)},!1)}function d(a,c){var f=window.innerHeight,h=window.innerWidth,k=!0,i=!0;f!=a.height&&(k=!1);h!=a.width&&
(i=!1);k&&i?20>c?setTimeout(function(){d({height:f,width:h},++c)},100):C.fire({height:f,width:h}):setTimeout(function(){d({height:f,width:h},0)},100)}function c(){setTimeout(function(){X(z)},20);f(ta,document.body)}function f(a,c){for(var d=0;d<a.style.length;d++){var f=a.style[d];c.style.setProperty(f,a.style.getPropertyValue(f),a.style.getPropertyPriority(f))}}function h(){var a;a=(0===window.orientation||180===window.orientation)&&Ea>Ha||(90===window.orientation||-90===window.orientation)&&Ha>
Ea?!1:!0;var c="landscape";if(a&&(0===window.orientation||180===window.orientation))c="portrait";if(!a&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function k(){var a=h();X("width=device-width, initial-scale=1, maximum-scale=1");A.fire({orientation:a})}function i(){var a=document.getElementsByTagName("meta"),c;for(c in a)if("viewport"===a[c].name)return a[c];return!1}function u(){if("undefined"===typeof document.getElementsByTagName||i())return!1;var a=document.getElementsByTagName("head")[0],
c=document.createElement("meta");c.setAttribute("name","viewport");a.appendChild(c);return!0}function o(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function X(a){var c=i();if(!c||c.content==a)return!1;if("undefined"===typeof a){var d=i();document.getElementsByTagName("head")[0].removeChild(d)}c.content=a;return!0}var z,ta=document.createElement("div"),
F=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),y=null!==F?F[0]:!1,A=$(),C=$();y&&y[0].match(/android|\Wsilk\W/);var E=function(){var a=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},d={height:window.innerHeight,
width:window.innerWidth},f=!1;return function(h,k,i){var y=!1,o=function(a,c){return a.height>=a.width&&c.height>=c.width||a.width>a.height&&c.width>c.height?!0:!1},v=a===h,u=o(k,c),F=o(i,d);if(!v&&(!u||!F))y=!0;!v&&!u&&(f=!0);y&&(f&&!o(k,i)&&(y=i.height,i.height=i.width,i.width=y),Ha=i.height,Ea=i.width);a=h;c={height:k.height,width:k.width};d={height:i.height,width:i.width}}}();return{setElement:function(){return this},onOrientationChange:A,onViewportChange:C,getMobileDevice:function(){return y},
getOrientation:function(){return h()},activate:function(){a()},deactivate:function(){c()}}}(),rb=function(a){var d;d="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";d=d.replace(/\/$/,"");return d+"/"+a},ea={openId:{aol:{identifier:"aol",flow:"openid1",width:514,height:550,color:"#0FD6FF"},blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,
color:"##213368"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#FF0084"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5"},hyves:{identifier:"http://hyves.nl/",
flow:"openid",width:800,height:600,color:"#659BC8"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665"},verisign:{identifier:"http://pip.verisignlabs.com/",flow:"openid",width:945,height:600,color:"#B8004D"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:1050,height:550,color:"#3B5998",publishSettings:{},shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}},contact:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",shareSettings:{broadcast:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#009DDC",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,
color:"#666666"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333"},orkut:{flow:"orkut",width:800,height:600,color:"#333"},vzn:{flow:"vzn",width:600,height:450,color:"#333"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333"},mixi:{flow:"mixi",width:950,height:550,color:"#333",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},nb={},ob=["openId","openId2","oauth"];0<ob.length;){var cb=ob.pop(),W;for(W in ea[cb])nb[W]=ea[cb][W]}var C=function(){var a=[];return{log:function(d){var c={};c.id=a.length+1;c.message=d;a.push(c);return this},
show:function(){if(0!=a.length){for(var d in a)if("undefined"!==typeof a[d].id){var c=a[d];"object"===typeof console&&console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message)}a=[]}}}}();Ia.prototype.addHandler=function(a){this.eventHandlers.push(a);return this.eventHandlers.length-1};Ia.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};Ia.prototype.fire=function(a){for(var d=this.eventHandlers.length,c=0;c<d;c++)try{if("function"===typeof this.eventHandlers[c])this.eventHandlers[c](a)}catch(f){C.log(f),
C.show()}this.firedEvents.push({event:this,args:a})};"undefined"===typeof janrain.events&&(janrain.events={});var L;L||(L={});(function(){function a(a){return 10>a?"0"+a:a}function d(a){h.lastIndex=0;return h.test(a)?'"'+a.replace(h,function(a){var c=u[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,f){var h,u,y,v,z=k,A,p=f[a];p&&"object"===typeof p&&"function"===typeof p.toJSON&&(p=p.toJSON(a));"function"===typeof o&&(p=o.call(f,a,
p));switch(typeof p){case "string":return d(p);case "number":return isFinite(p)?""+p:"null";case "boolean":case "null":return""+p;case "object":if(!p)return"null";k+=i;A=[];if("[object Array]"===Object.prototype.toString.apply(p)){v=p.length;for(h=0;h<v;h+=1)A[h]=c(h,p)||"null";y=0===A.length?"[]":k?"[\n"+k+A.join(",\n"+k)+"\n"+z+"]":"["+A.join(",")+"]";k=z;return y}if(o&&"object"===typeof o){v=o.length;for(h=0;h<v;h+=1)"string"===typeof o[h]&&(u=o[h],(y=c(u,p))&&A.push(d(u)+(k?": ":":")+y))}else for(u in p)Object.prototype.hasOwnProperty.call(p,
u)&&(y=c(u,p))&&A.push(d(u)+(k?": ":":")+y);y=0===A.length?"{}":k?"{\n"+k+A.join(",\n"+k)+"\n"+z+"}":"{"+A.join(",")+"}";k=z;return y}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});
var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,i,u={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;"function"!==typeof L.stringify&&(L.stringify=function(a,d,f){var h;i=k="";if("number"===typeof f)for(h=0;h<f;h+=1)i+=" ";else"string"===typeof f&&(i=f);if((o=d)&&"function"!==
typeof d&&("object"!==typeof d||"number"!==typeof d.length))throw Error("JSON.stringify");return c("",{"":a})});"function"!==typeof L.parse&&(L.parse=function(a,c){function d(a,f){var h,k,i=a[f];if(i&&"object"===typeof i)for(h in i)Object.prototype.hasOwnProperty.call(i,h)&&(k=d(i,h),void 0!==k?i[h]=k:delete i[h]);return c.call(a,f,i)}var h,a=""+a;f.lastIndex=0;f.test(a)&&(a=a.replace(f,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+a+")"),"function"===typeof c?d({"":h},""):h;throw new SyntaxError("JSON.parse");})})();janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=$());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=$());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=$());janrain.events.onProviderLoginError||
(janrain.events.onProviderLoginError=$());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=$());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=$());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=$());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=$());Jc();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureStartRegistration,onCaptureStartLogin,onCaptureSuccessfulLogin,onCaptureSuccessfulProfileSave,onCaptureFailedProfileSave,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureFailedLogin,onCaptureSuccessfulRegistration,onCaptureFailedRegistration,onCaptureSuccessfulEmailVerification,onCaptureFailedEmailVerification,onCaptureSuccessfulSave,onCaptureFailedSave,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureFormError,onCaptureExpiredToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCaptureAutoSaveUpdate".split(",");
W=0;for(ea=janrain.events.captureEvents.length;W<ea;W++)"undefined"===typeof janrain.events[janrain.events.captureEvents[W]]&&(janrain.events[janrain.events.captureEvents[W]]=new Ia);Kc();W=new function(){var a;function d(){function a(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){if(Ga){var b=document.createElement("div");b.style.backgroundColor=
ia?"aqua":aa;b.style.width=S+"px";b.style.height=ub+"px";b.style.position="absolute";b.style.left="0px";b.style.paddingLeft=q+"px";b.style.paddingRight=q+"px";b.style.paddingBottom=q+"px";b.style.bottom="0px";b.style.fontSize="10px";b.style.textAlign="left";b.style.color=sa;ha(b,null,0,0,G,G);var g=document.createElement("div");g.appendChild(document.createTextNode(janrain.settings.translate.POWERED_BY_PREFIX||"Powered by "));g.style.paddingLeft="1px";var a=document.createElement("a");a.setAttribute("href",
"http://www.janrain.com/products/engage/engage-introduction?utm_source=login.janrain.com&utm_medium=partner&utm_campaign=attribution");a.setAttribute("target","_blank");a.appendChild(document.createTextNode("Janrain"));g.appendChild(a);b.appendChild(g);Lc=b}I=k();b=document.createElement("div");b.style.backgroundColor=ia?"orange":aa;b.className="janrainHeader";b.style.fontSize=la+"px";b.style.color=sa;b.style.position="relative";b.style.height=e+"px";40===D&&(b.style.cssFloat="left");b.style.left=
40===D?"-6px":"-5px";b.style.paddingLeft=q+"px";b.style.paddingRight=q+"px";b.style.paddingTop=q+"px";b.style.paddingBottom="0px";b.style.whiteSpace="nowrap";b.style.width=40===D?"81px":S+"px";b.style.zIndex="100";40===D?ha(b,null,G,0,0,G):ha(b,null,G,G,0,0);40===D&&(b.style.marginTop="-3px");b.style.textAlign="one column"===n?"center":"left";g=f();j=document.createElement("div");j.style.paddingLeft="1px";j.style.fontFamily=W;" "!==g&&j.appendChild(document.createTextNode(g));b.appendChild(j);Mc=
b;B=document.createElement("div");B.className="janrainContent";B.style.width=S+"px";B.style.height=l()+"px";B.style.paddingLeft=q+"px";B.style.paddingRight=q+"px";B.style.boxSizing="content-box";40===D&&(B.style.paddingTop=q-1+"px");ka||(B.style.backgroundColor=aa);ka||(B.style.border=va?"1px solid "+ua:"1px solid "+aa);B=ha(B,G);ka||(B.style.overflow="hidden");B.style.position=va?"relative":"absolute";Mb=A();2==I||0==I?(Va=(new u).setSide("right").create(),Wa=(new u).setSide("left").create()):(Va=
(new u).setSide("top").create(),Wa=(new u).setSide("bottom").create());b=document.createElement("div");b.id="janrainView";" "!==f()&&b.appendChild(Mc);g=z("blank");g.style.display="none";b.appendChild(g);b.appendChild(Mb);!ka&&Va&&Wa&&(b.appendChild(Va),b.appendChild(Wa));0<I&&Ga&&b.appendChild(Lc);B.appendChild(b);E("customizable_auth_widget_styling")||d(B);lb||C.show()}function d(b){function g(b){var a="string"===typeof b.getAttribute("style")?b.getAttribute("style"):null;a&&(a.cssText&&(a=a.cssText),
b.style.setAttribute?b.style.setAttribute("cssText",a.replace(/(((?!!important).)+?);/g,"$1 !important;")):b.setAttribute("style",a.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var a=b.getElementsByTagName("*"),r=0,e=a.length;r<e;r++)"janrainProviderPages"===a[r].id||"janrainSlideControl"===a[r].className||"janrainSlideControl"===a[r].parentNode.className||g(a[r]);g(b)}function f(){return ra?wa:h.translate.HEADER?h.translate.HEADER:"two column"===n?a().twoColumn.actionText:"one column"===
n?a().oneColumn.actionText:"one row"===n?a().oneRow.actionText:wa}function k(){var b=n;if("default"==b||"two column"==b)return 2;if("one column"==b)return 1;if("one row"==b)return 0}function l(){var b=" "===wa?0:e+q,g=Ga&&"one row"!==n?ub+q:0;return s()+b+g}function p(){var b=parseInt(Mb.style.left),g=parseInt(Mb.style.top),a;1==I?parseInt(Mb.style.height):parseInt(Mb.style.width);2==I&&(a=(S-3*q-(2==I?10:0))/I);if("one column"===n){if(" "===wa&&(g+=11,0<g||-9<=g))return 0;if(9>g)return 1;if(0<g||
g>=-(e-(q+1)))return 0}0==I&&(a=S-100);if(0>b&&b<-a)return 1;if(0<b||b>=-q)return 0}function s(){if("two column"===n)var b=fa/2;"one column"===n&&(b=fa);"one row"===n&&(b=1);var g="one row"===n?0:2*b,a="one column"===n?3*q:0;if(7===i||6===i||i&&T){if("two column"===n&&(a=q,7===i||6===i))a=2*q;if("one column"===n&&(a=3*q,(7===i||6===i)&&!T))a+=q;if("one row"===n&&(7===i||6===i))a=q}"one column"===n&&Y<=fa&&(a=i&&T?a+2*q:a-2*q);return r*b+q*(b+1)+g+a}function u(){function b(){var g;m="over";var c=p();
if(0==c&&"left"===e||0==c&&"top"===e||1==c&&"right"===e||1==c&&"bottom"===e)return this.style.cursor="default",j.onclick="",!1;var D=this;setTimeout(function(){if(1===h){if("over"!==m)return!1;i&&(r.style.display="block");d.style.display="block";j.onclick=a;D.style.cursor="pointer";var b=document.getElementById("janrainProviderPages");g="top"==e||"bottom"==e?parseInt(b.style.top):parseInt(b.style.left);var c="right"===e||"bottom"===e?g-mc:g+mc;"top"===e||"bottom"===e?b.style.top=c+"px":b.style.left=
c+"px";h=2}},i?50:100)}function g(){var b;m="out";var a=p();if(1==a&&"right"===e||0==a&&"left"===e||0==a&&"top"===e||1==a&&"bottom"===e)return!1;setTimeout(function(){if(2===h){if("out"!==m)return!1;i&&(r.style.display="none");d.style.display="none";var g=document.getElementById("janrainProviderPages");b="top"==e||"bottom"==e?parseInt(g.style.top):parseInt(g.style.left);var a="right"===e||"bottom"===e?b+mc:b-mc;"top"===e||"bottom"===e?g.style.top=a+"px":g.style.left=a+"px";h=1}},i?200:400)}function a(){d.style.display=
"none";j.style.cursor="default";o(e,function(b){v(b);h=1})}var r,e,c,d,f={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},m="",h=1,j;return{setSide:function(b){e=b;return this},create:function(){var m;if(Y<=fa)m=!1;else{m=document.createElement("div");m.setAttribute("id","janrainShim_"+e);m.style.background="black";"top"===e||"bottom"===e?(m.style.height="19px",m.style.width="100%"):(m.style.height="100%",m.style.width="17px");m.style.filter=ia?"alpha(opacity=100)":"alpha(opacity=0)";
m.style.position="absolute";m.style.zindex="99";if("top"===e||"bottom"===e)m.style.left="0";m.style[e]=q+"px";m.style.top="one column"!==n?q+1+"px":"top"===e?"10px":"0px";m.style.display="none";r=m;m=document.createElement("div");m.style.backgroundColor=ia?"green":aa;m.className="janrainSlideControllerMask";m.style.position="absolute";"one column"!==n&&(m.style.width=q+"px",m.style.height="100%",m.style.top="0px",m.style[e]="0px",m.style.borderWidth="1px","right"===e&&(!Ga||"one row"===n)&&ha(m,null,
0,0,G,0),"left"===e&&(!Ga||"one row"===n)&&ha(m,null,0,0,0,G),"right"===e&&" "===wa&&ha(m,null,0,G,G,0),"left"===e&&" "===wa&&ha(m,null,G,0,0,G));"one column"===n&&(m.style.height=q+"px",m.style.fontSize="0px",m.style.width="100%",m.style.padding="0px",m.style[e]="0px","top"===e&&" "===wa?ha(m,null,G,G,0,0):"bottom"===e&&!Ga&&ha(m,null,0,0,G,G));"one row"===n&&(m.style.height="105.5%");c=m;m=document.createElement("div");m.setAttribute("id","janrainArrow_"+e);m.style.background="url("+rb("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+
") no-repeat scroll "+f[e]+" transparent";m.style.height="19px";m.style.width="17px";m.style.position="absolute";if("top"===e||"bottom"===e)m.style.left=S/2+"px";m.style[e]=q+"px";m.style.top="one column"!==n?s()/2-2*q+1+"px":"top"===e?"10px":"0px";m.style.display="none";d=m;m=document.createElement("div");m.className="janrainSlideControl";m.style.backgroundColor=ia?"purple":"transparent";"one column"===n?(m.style.width=S+4+"px",m.style.left="3px","top"==e?(m.style.height=q+"px"," "===wa&&(m.style.left=
"0px",m.style.width=S+10+"px")):(m.style.height="20px",m.style.bottom=(Ga?ub+q:0)+"px",ha(m,null,0,0,G,G))):(m.style.width="right"===e?"20px":"0px",m.style[e]="0px",m.style.height=s()-(q*(" "===wa)?1:2)+"px",40===D&&"one row"===n&&"left"===e&&(m.style.left=db+"px"),"right"===e&&!Ga&&ha(m,null,0,0,G,0),"left"===e&&!Ga&&ha(m,null,0,0,0,G));m.style.position="absolute";m.style.zIndex="100";m.style.cursor="pointer";m.onmouseover=b;m.onmouseout=g;m.onclick=a;j=m;j.appendChild(c);j.appendChild(r);j.appendChild(d);
m=j}return m}}}function o(b,g){var a=document.getElementById("janrainProviderPages"),c=new yc;if("top"===b||"bottom"===b){if(" "===wa)var D=-(s()-r),m=0;else D=-(s()-r-e-q),m=e+q;50===r&&(D-=20);i&&T&&(D+=q," "!==wa&&(m+=q));c.setElement(a).setAcceleration("sinusoidal").setDuration(100*fa).startPosition(parseInt(a.style.top)).endPosition("bottom"===b?D:m).setDirection("vertical").setCallback(function(){g(b)}).animate()}else i&&T?(D=-(S-2*q-39),"one row"===n&&(D=-(db-1*q))):(D=-(S-32),"one row"===
n&&(D=-(S-24))),c.setElement(a).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(a.style.left)).endPosition("right"==b?D:q).setDirection("horizontal").setCallback(function(){g(b)}).animate()}function A(){var b,g;function a(r){r.preventDefault();r=r.touches[0];r="one column"===n?b-r.pageY:g-r.pageX;if(35<r||-35>r)"one column"===n?(c.style.top=parseInt(c.style.top)-r+"px",r=0<r?"bottom":"top"):(c.style.left=parseInt(c.style.left)-r+"px",r=0<r?"right":"left"),o(r,function(){v()}),
c.ontouchmove=""}var r,c,m,d,f,h=I,j=[];d=y();f=ka?1:Math.ceil(Y/fa);2<f&&C.log("Either reduce the number of providers, or increase the setting for providersPerPage.");c=document.createElement("div");c.setAttribute("id","janrainProviderPages");ka&&(c.className="janrainConfigureMode");c.style.paddingTop=(6===i||7===i)&&i&&T?2*q:q+"px";if((6===i||7===i)&&!T)c.style.paddingTop=q+4+"px";c.ontouchstart=function(a){a=a.touches[0];"one column"===n?b=a.pageY:g=a.pageX};c.ontouchmove=a;c.ontouchend=function(){c.ontouchmove=
a};40===D&&"one row"===n?c.style.left=db+q+"px":i&&T?"one column"!==n&&(c.style.left=q+"px"):c.style.left=q+"px";40===D&&"one row"===n&&(c.style.cssFloat="left");40===D&&"one row"===n&&(c.style.marginTop="1px");"one column"===n&&(c.style.top=(i&&T?1:0)+e+q+"px");"one row"!==n&&" "===wa&&(c.style.top="0px");"one column"===n&&" "===wa&&(c.style.top="0px");r=S*f;c.style.position="absolute";"two column"===n&&!(Y<=fa)&&(c.style.width=r+"px");"one row"===n&&(c.style.width=(!0===ka?S+q:2*S)+"px");ka&&(h=
0);g=0;b=0;for(var ub=0;ub<f;ub++){for(m=0;m<=h;m++)j[m]=document.createElement("ul"),j[m].className="providers",j[m].id="janrainProviders_"+m,1<h&&(j[m].style.cssFloat="left"),1<h&&(j[m].style.styleFloat="left"),j[m].style.listStyleType="none",j[m].style.marginTop="0px",j[m].style.marginLeft="0px",j[m].style.marginRight="0px",j[m].style.marginBottom="0px",j[m].style.padding="0px";r=document.createElement("div");r.className="janrainPage";r.setAttribute("pageIndex",ub);i&&T&&1===f&&(r.style.width=
"110%");for(m=0;m<=h;m++)r.appendChild(j[m]);for(var uc=d.length%2,k=ka?Y:fa,tb=0;tb<k&&!(0==d.length);tb++){if(2==h)var cc=1==uc?j[d.length%2?0:1]:j[d.length%2];if(1==h||0==h)cc=j[0];m=d.shift();cc.appendChild(m)}c.appendChild(r)}return c}function v(b){0==p()?("left"===b&&(Wa.style.width=q+"px",Va.style.display="block",Va.style.width="20px"),"top"===b&&(Va.style.height=q+"px",Wa.style.display="block",Wa.style.height="20px")):("right"===b&&(Va.style.width=q+"px",Wa.style.display="block",Wa.style.width=
"20px"),"bottom"===b&&(Wa.style.height=q+"px",Va.style.display="block",Va.style.height="20px"))}function y(){for(var b=[],g=0;g<Y;g++){var a=z(za[g]);b.push(a)}return b}function t(b,a){a.style.cursor="pointer";a.setAttribute("id","janrain-"+b);a.setAttribute("role","button");"one row"===n?a.style.background="transparent":("gradient"===g&&Sb(a,"bottom, #eeeeee, #ffffff"),"gray"===g&&(a.style.backgroundColor="#eeeeee"),"white"===g&&(a.style.backgroundColor="#ffffff"));Q(a,"mouseover",function(){qb();
"one row"===n?a.style.background="transparent":(a.style.backgroundColor="#E3E3E3",a.style.backgroundImage="")});Q(a,"mouseout",function(){qb();"one row"===n?a.style.background="transparent":("gradient"===g&&Sb(a,"bottom, #eeeeee, #ffffff"),"gray"===g&&(a.style.backgroundColor="#eeeeee"),"white"===g&&(a.style.backgroundColor="#ffffff"))});lb||J(a,b);return a}function z(g){var a=document.createElement("li");a.style.listStyle="none";0==I&&!1===ka&&(a.style.cssFloat="left");0==I&&!1===ka&&(a.style.styleFloat=
"left");a.style.textAlign="center";a.style.height=i&&T?r-2:r+"px";if("two column"==n){var e=ka?3*q:Y<=fa?0:3*q;a.style.width=6===i||qb&&T?(S-e-4*q)/I+"px":(S-e-(2==I?10:0))/I+"px"}a.style.marginTop="0px";if("one column"==n){if(7==i||6==i)a.style.marginTop="-1px";i&&T?a.style.marginRight="0px":a.style.width=S-q/2+"px";a.style.marginLeft="0px"}else a.style.marginRight=q+"px";0==I&&(a.style.width=r+"px");a.style.marginBottom=(7===i||6===i||i&&T?3:q)+"px";a.style.position="relative";0!=I&&(a.style.border=
"1px solid "+xa);0!=I&&ha(a,b);if("customopenid"===g){e=document.createElement("img");if(1==I||2==I)30==r&&(e.src=Aa.smallLogo),50==r&&(e.src=Aa.largeLogo);0==I&&(30==r&&(e.src=Aa.smallIcon),50==r&&(e.src=Aa.largeIcon))}else if(e=document.createElement("span"),"blank"!==g){if(1==I||2==I)30==r&&(e.className="janrain-provider100-"+g),50==r&&(e.className="janrain-provider150-"+g);0==I&&(30==r&&(e.className="janrain-provider30-"+g),50==r&&(e.className="janrain-provider50-"+g))}e.style.backgroundColor=
"transparent";i&&T&&(e.style.height=r-2+"px");if(6===i&&"one row"!==n){var c=document.createElement("div");c.style.height=e.style.height;c.style.width="90px";c.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+e.src+"')";e.style.filter="alpha(opacity=0)";c.appendChild(e);a.appendChild(c)}else a.appendChild(e);return t(g,a)}function H(g,a){var e=document.createElement("div"),c=h.translate.SIGN_IN_AS||"Sign in as {name}",c=c.replace("{name}",a),c=
document.createTextNode(c),D=document.createElement("div");D.style.cssFloat="right";D.style.styleFloat="right";D.style.fontFamily=W;D.style.position="relative";D.style.top=r/4-3+"px";D.appendChild(c);var m=document.createElement("div"),d=7.5*c.length+30,f=l();m.style.fontSize="16px";m.style.height="100%";m.style.position="relative";if(0==I||120>f)15<=c.length&&(m.style.fontSize="14px",d=7*c.length+30),20<=c.length&&(m.style.fontSize="12px",d=6*c.length+30),24<=c.length&&(m.style.fontSize="10px",d=
5*c.length+25),30<=c.length&&(c.textContent=c.textContent.substr(0,26)+"...",d=162);m.style.width=d+"px";if(0==I||116>f)if("customopenid"===g){var q=document.createElement("img");q.src=Aa.smallIcon;q.style.width="20px";q.style.height="20px";q.style.cssFloat="left";q.style.styleFloat="left"}else q=document.createElement("span"),q.style.margin="2px 0",q.className="janrain-provider16-"+g;e.style.overflow="hidden";e.style.position="relative";e.style.height=("one row"!==n?r:25)+"px";e.style.marginBottom=
"one row"===n?"-4px":"4px";"one row"===n&&(e.style.top="-4px");e.style.left="0px";i&&T&&(e.style.marginRight="5px");i&&T&&(e.style.marginLeft="3px");e.style.border="1px solid "+xa;e.style.color=nb[g].color;ha(e,b);if(0==I||116>f)m.style.paddingTop=(50===r?16:2)+"px",m.appendChild(q);6===i||7===i||i&&T?m.style.left="0px":m.style.margin="0 auto";m.appendChild(D);0==I||116>f?e.appendChild(m):(50===r&&parseInt(e.style.height),D.style.cssFloat="none",D.style.styleFloat="none",e.appendChild(D));return t(g,
e)}function J(b,g){Q(b,"click",function(){F(g)})}function F(b){var g=nb[b],a={appUrl:h.appUrl,mobileDevice:Ib,language:h.language,popup:Sa,tokenUrl:Ua||h.tokenUrl||window.location.href,facebookPermissions:Pa,forceReauth:Ba,widgetType:"auth",tokenAction:da,bpChannel:kb,customOpenid:mb,customOpenidOpxblob:h.customOpenidOpxblob};g.name=b;new Ea(g,a,function(){ya||(Ma=setTimeout(function(){oa(g)},300))})}function L(b){var g=document.createElement("div");if("customopenid"===b){var a=document.createElement("img");
a.src=Aa.largeLogo;a.style.width="150px";a.style.height="50px"}else a=document.createElement("span"),a.className="janrain-provider150-"+b;g.style.position="absolute";g.style.top="0px";if(!i||!T)g.style.left="0px",g.style.width=S+"px";g.style.zIndex="102";g.style.textAlign="center";g.style.padding=q+"px";g.style.backgroundColor="transparent"===aa?"#ffffff":aa;g.style.height=l()-(i&&T?0:2*q)+"px";ha(g,G);"one row"!==n&&116<=l()&&g.appendChild(a);return g}function P(b){var g=document.createElement("a"),
a=document.createTextNode(h.translate.USE_ANOTHER_ACCOUNT||"switch accounts");g.setAttribute("class","janrainSwitchAccountLink");g.setAttribute("href","");g.style.fontSize="12px";g.style.fontFamily=W;g.style.color=sa;g.onclick=b;g.appendChild(a);return g}function K(){return"modal"===N?document.getElementById("janrainModal"):"embed"===N?document.getElementById("janrainEngageEmbed"):!1}function M(){var b=parseInt(B.style.width);return b=b+2*q+2}function R(){var b=K();null!==b&&"object"===typeof B&&
B.parentNode===b&&b.removeChild(B)}function U(){var a="";"object"===typeof w&&(a=w.getState());return{type:N,width:M(),fontFamily:W,fontSize:la,fontColor:sa,backgroundColor:aa,borderColor:ua,borderRadius:G,format:n,providersPerPage:fa,providers:za,buttonBackgroundStyle:g,buttonBorderColor:xa,buttonBorderRadius:b,actionText:f(),showAttribution:Ga,modalState:a}}function Z(b){n=O("string",["default","two column","one column","one row"],"two column",b);"default"===n&&(n="two column");"one row"==b&&(G=
O("number",[0,5],5,G));ja()}function ca(b){"two column"===n&&(S=O("number",[225,600],380,b));"one column"===n&&(S=O("number",[160,600],200,b));"one row"===n&&(r=30,b=Y<=fa?q*(parseInt(fa)-1):q*(parseInt(fa)+2),40===D&&(b+=db-q),S=r*fa+b);if(("two column"===n||"one column"===n)&&!ka)S=S-2*q-2;i&&T&&(S=S+2*q+2);"one row"!==n&&(r=380<S?50:30)}function X(b){"string"===typeof b&&(ra=!0,wa=O("text",null,wa,b)," "===wa?G=O("number",[0,5],5,G,!0):e="two column"!==n?a().headerHeight-5:a().headerHeight)}function ba(b){g=
O("string",["gray","white","gradient"],"gradient",b)}function qa(b){xa=O("color",null,"#CCCCCC",b)}function x(b){aa=O("color",null,"#ffffff",b)}function ga(b){"undefined"===typeof b&&(b=5);G=" "===wa||!Ga||"one row"===n?O("number",[0,5],5,b,!0):O("number",[0,10],10,b)}function $(b){Ga=O("boolean",null,!0,b);l();G=b?O("number",[0,10],5,G,!0):O("number",[0,5],5,G,!0)}function ta(b){ua=O("color",null,"#C0C0C0",b)}function ja(){"two column"===n&&(la=18);if("one column"===n||"one row"===n)la=14}function ea(b){sa=
O("color",null,"#333333",b)}function na(b){if("object"==typeof b){I=k();for(var g=0,a=b.length;g<a;g++)if(!nb[b[g]])return ma(4),C.log(b[g]+" is not a valid provider, using default providers instead"),this;za=b;Y=b.length;"object"===typeof w&&w.setHeight(l()-2*q).refresh()}}function ma(b){"two column"===n&&(fa=O("number",[4,6,8],6,b));"one column"===n&&(fa=O("number",[1,6],6,b));"one row"===n&&(fa=xb?Y:O("number",[4,8],6,b),ca(S))}function oa(b){var g=document.createTextNode(h.translate.SIGNING_IN||
"Signing in ..."),a=document.createElement("div");bc=L(b.name);a.appendChild(g);bc.appendChild(a);B&&B.appendChild(bc)}var ia=!1,S=380,ra=!1,W="lucida grande, Helvetica, Verdana, sans-serif",la=18,sa="#666666",aa="#ffffff",ua="#C0C0C0",G=10,B,j,n="two column",I,va,fa=6,za=["aol","google","yahoo","openid"],Y=4,xa="#CCCCCC",b=5,g="gradient",r=30,e=a().headerHeight,D=60,db=89,ub=a().footerHeight,q=5,mc=10,wa="Sign in using your account with",bc,Mb,Va,Wa,Ga=!0,uc=!1,cc=!1,Mc,Lc;janrain.events.onProviderLoginStart.addHandler(function(b){Qa("login_tab",
b.provider,1)});return{build:c,setFormat:function(b){b&&Z(b);"two column"!==n&&(e=a().headerHeight-5);"two column"===n&&(fa=a().twoColumn.providersPerPage,e=a().headerHeight);return this},setActionText:function(b){"string"===typeof b&&X(b);return this},setFontSize:function(b){b&&ja(b);return this},setFontFamily:function(b){b&&b&&(W=b);return this},setFontColor:function(b){b&&ea(b);return this},setButtonBorderColor:function(b){b&&qa(b);return this},setButtonBorderRadius:function(g){if("string"==typeof g||
"number"==typeof g)b=O("number",[0,20],5,g);return this},setButtonBackgroundStyle:function(b){b&&ba(b);return this},setWidth:function(b){("string"==typeof b||"number"==typeof b)&&ca(b);return this},refresh:function(){R();var b=K();c();var g=pa("expected_tab");g&&!V?$a("expected_tab",g):(null!==b&&"object"===typeof B&&b.appendChild(B),"object"===typeof w&&w.setHeight(parseInt(B.style.height)+2).refresh());janrain.events.onCustomizationChange.fire(U());return this},remove:function(){R();return this},
setRowHeight:function(b){if(0!==k())return this;b||(b=60);oneRowHeaderHeight=O("number",[40,60,90],60,b);40===oneRowHeaderHeight&&(r=30,D=40);60===oneRowHeaderHeight&&(r=30);90===oneRowHeaderHeight&&(r=50);return this},setHeight:function(b){"object"==typeof B&&(B.style.height=b+"px");return this},setBackgroundColor:function(b){b&&x(b);return this},setBorderColor:function(b){b&&ta(b);return this},setBorderRadius:function(b){("string"==typeof b||"number"==typeof b)&&ga(b);return this},setProviders:function(b){"object"==
typeof b&&na(b);return this},setProvidersPerPage:function(b){if("string"==typeof b||"number"==typeof b)ma(b),"object"===typeof w&&w.setHeight(l()).refresh("janrainModal");return this},setShowAttribution:function(b){"boolean"===typeof b&&$(b);return this},setPreviewMode:function(b){"boolean"===typeof b&&(lb=b);return this},setProviderFlow:function(b,g){return J(b,g)},triggerFlow:function(b){return F(b)},setNoReturnExperience:function(b){"boolean"===typeof b&&(uc=b);return this},setNoReturnExperienceSwitchAccountLink:function(b){"boolean"===
typeof b&&(cc=b);return this},setConfigureMode:function(b){"boolean"===typeof b&&(ka=b,I=k());return this},embed:function(b){if((va=b)&&"object"==typeof B)B.style.position="relative";return this},getContentsDiv:function(){return B},getErrorPage:function(b,g){var a=document.createTextNode(g.msg),e=document.createElement("div");e.appendChild(a);e.style.color=sa;e.style.fontSize=la+"px";e.style.width="100%";var r=L(b);r.appendChild(e);r.appendChild(P(function(){B.removeChild(r);B.removeChild(bc);Ba=
!0;return!1},b));B.appendChild(r);return B},getReturnExperience:function(b,g){if(lb||uc||-1===za.indexOf(b))return B;var a=H(b,g),e=L(b),r=function(){Ba=V=!0;B.removeChild(e);return!1};e.id="janrainAuthReturnExperience";e.appendChild(a);cc||e.appendChild(P(r,b));B.appendChild(e);return B},getWidth:function(){return M()},getActualHeight:function(){return parseInt(B.style.height)+2},getHeight:function(){return l()-2*q},getState:function(){return U()},setState:function(g){if(E("customizable_auth_widget_styling")){var r=
g.fontFamily;r&&(W=r);ja(g.fontSize);ea(g.fontColor);x(g.backgroundColor);ta(g.borderColor);"embed"===N&&g.format&&(g.format&&Z(g.format),"two column"!==n&&(e=a().headerHeight-5),"two column"===n&&(fa=a().twoColumn.providersPerPage,e=a().headerHeight));if("string"==typeof g.providersPerPage||"number"==typeof g.providersPerPage)ma(g.providersPerPage),"object"===typeof w&&w.setHeight(l()).refresh("janrainModal");ba(g.buttonBackgroundStyle);qa(g.buttonBorderColor);b=O("number",[0,20],5,g.buttonBorderRadius);
X(g.actionText);$(g.showAttribution);ga(g.borderRadius);"embed"===N&&("string"==typeof width||"number"==typeof width)&&ca(g.width)}na(g.providers)},showNotice:function(){oa()},removeNotice:function(){Eb(bc)},removeReturnExperience:function(){var b=document.getElementById("janrainAuthReturnExperience");Eb(b)}}}function c(){if("object"===typeof l)if("object"===typeof K){var a=l.getState();a.width=K.width;K=a}else K=l.getState();"object"===typeof l&&l.remove();"object"===typeof w&&w.remove();z();N="modal";
"object"===typeof l&&K&&E("customizable_auth_widget_styling")&&l.setState(K);"object"===typeof w&&Ta&&E("customizable_auth_widget_styling")&&w.setState(Ta);"object"===typeof w&&w.show();"object"===typeof l&&l.refresh()}function f(){if("object"===typeof l){if("object"===typeof K){var a=l.getState();a.borderRadius=K.borderRadius;a.format=K.format;a.width=K.width;K=a}else K=l.getState();Ta=K.modalState;delete Ta.orientation}"object"===typeof l&&l.remove();"object"===typeof w&&w.remove();"object"===typeof w&&
(w="");k();N="embed";"object"===typeof l&&K&&E("customizable_auth_widget_styling")&&l.setState(K);"object"===typeof l&&l.refresh()}function u(){var a,c;z();c=document.getElementsByTagName("a");var d=RegExp("(\\s|^)"+h.linkClass+"(\\s|$)");for(a in c)d.test(c[a].className)&&(c[a].onclick=A)}function k(){var a=pa("expected_tab");l=new d;l.setBackgroundColor(xa).embed(!0).setPreviewMode(fb).setShowAttribution(Ya).setNoReturnExperience(gb).setNoReturnExperienceSwitchAccountLink(Pb).setFormat(Qb).setRowHeight(dc).setFontSize(aa).setFontFamily(Na).setFontColor(ba).setActionText(Za).setProviders(Rb).setProvidersPerPage(s).setWidth(Oa).setBorderColor(ec).setBorderRadius(yb).setButtonBorderColor(Z).setButtonBorderRadius(pb).setButtonBackgroundStyle(J).build();
var c=document.getElementById("janrainEngageEmbed");null===c&&(c=document.getElementById("janrainModal"));ja||(a?(ma("welcome_info_name",unescape(pa("welcome_info_name"))),$a("expected_tab",a)):Ja(c,l.getContentsDiv()))}function A(){"object"===typeof w&&w.show();return!1}function z(){var a=ib(ab,na),c=pa("expected_tab");if("undefined"===typeof a||0>a)a=5;l=new d;l.setBackgroundColor(xa).setPreviewMode(fb).setShowAttribution(Ya).setNoReturnExperience(gb).setNoReturnExperienceSwitchAccountLink(Pb).setFontSize(aa).setFontFamily(Na).setFontColor(ba).setActionText(Za).setProviders(Rb).setProvidersPerPage(s).setBorderRadius(a).setButtonBorderColor(Z).setButtonBorderRadius(pb).setButtonBackgroundStyle(J).build();
if("object"!==typeof w){w=new jc;w.ready=!1;var f=w.addContent;w.addContent=function(a){w.ready=!0;f(a);janrain.events.onModalWidgetReady.fire()}}w.setHeight(l.getActualHeight()).setWidth(l.getWidth()).setPreviewMode(fb).setBorderColor(Ka).setBorder(na).setBorderOpacity(Hb).setBorderRadius(ab);ja||(c?(ma("welcome_info_name",unescape(pa("welcome_info_name"))),$a("expected_tab",c)):w.addContent(l.getContentsDiv()));w.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&l.setFormat(a.format).setWidth(200).refresh();
"landscape"===a.orientation&&l.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh();w.setHeight(l.getActualHeight());w.setWidth(l.getWidth())});w.onShow.addHandler(function(){"object"==typeof l&&w.setWidth(l.getWidth())});w.onBorderWidthChange.addHandler(function(a){"object"===typeof w&&"object"===typeof l&&(l.setBorderRadius(a.radius).refresh(),a=l.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&w.setBorderRadius(a.borderRadius+a.modalState.borderWidth))});
w.onBorderRadiusChange.addHandler(function(a){"object"===typeof l&&(l.setBorderRadius(a.radius).refresh(),a=l.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&w.setBorderRadius(a.borderRadius+a.modalState.borderWidth))})}function o(a,c){if(!E("customizable_auth_widget_styling"))return!1;if("object"===typeof l)return c(a),!0}function H(a){return o(a,function(a){l.setBackgroundColor(a).refresh()})}function P(a){return o(a,function(a){l.setBorderRadius(a).refresh()})}function R(a){return o(a,
function(a){l.setBorderColor(a).refresh()})}function F(a){return"modal"===N?!1:o(a,function(a){l.setWidth(a).refresh()})}function y(a){return o(a,function(a){l.setActionText(a).refresh()})}function ea(a){return o(a,function(a){l.setButtonBorderColor(a).refresh()})}function W(a){return o(a,function(a){l.setButtonBorderRadius(a).refresh()})}function ua(a){return o(a,function(a){l.setButtonBackgroundStyle(a).refresh()})}function p(a){return"modal"==N?!1:o(a,function(a){l.setFormat(a).refresh()})}function La(a){return o(a,
function(a){l.setProvidersPerPage(a).refresh()})}function Fa(a){return o(a,function(a){l.setFontFamily(a).refresh()})}function U(a){return o(a,function(a){l.setFontSize(a).refresh()})}function Ha(a){return o(a,function(a){l.setFontColor(a).refresh()})}function pa(a){var c;if("single cookie"===va){c=M().getCookie("janrain_engage_login_data");if(!c)return;c=L.parse(c);return!c[a]?void 0:a=c[a]}if("default"===va)return a=M().getCookie(a),!a?void 0:a}function Qa(a,c,d){var f;if(!a||!c)return!1;d||(d=
1);if("single cookie"===va)return(oldCookieJSON=M().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),d=L.parse(oldCookieJSON),d[a]=c,f=new M,f.setName("janrain_engage_login_data").setValue(L.stringify(d)).setExpiration(1826).create(),!0;return"default"===va?(f=new M,f.setName(a).setValue(c).setExpiration(d).create(),!0):!1}function ga(a,c){if(gb)return!1;if("expected_tab"===a&&!c){var d=pa("login_tab");d&&ga("expected_tab",d);return!1}if(!c||"undefined"===c||"expected_tab"!==a&&"expected_user_input"!==
a&&"welcome_info_name"!==a)return!1;c="welcome_info_name"===a?escape(c):c;Qa(a,c,1826)}function bb(c,d){var f;d||(d=a);if(i&&3>zb)return(void 0).time=(new Date).getTime(),f=Fb(void 0),ia(d+"/signin/get_login_info"+f),zb++,!0;"undefined"!==typeof Ma&&clearTimeout(Ma);return!1}function Ea(c,d,f){var h=d.appUrl+"/"+c.flow+"/start",k=window.location.href;d.mobileDevice&&(k="mobile");var i=d.language||"en",l=d.popup?"xdr":"xdrsw",p=d.tokenUrl||window.location.href,s={};a=d.appUrl;s.language_preference=
i;s.token_url=p;s.display="popup";s.widget=!0;"object"===typeof d.facebookPermissions&&(s.ext_perm=d.facebookPermissions.toString());s.openid_identifier=c.identifier;s.origin_url=k;s.provider_name=c.name;s.force_reauth=d.forceReauth;s.xdReceiver=d.appUrl+"/"+l;s.callback="none";s.widget_type=d.widgetType;s.token_action="url";if("event"===d.tokenAction||"hybrid"===d.tokenAction)s.token_action="event";d.mobileDevice&&"hybrid"===d.tokenAction&&(s.token_action="url");d.bpChannel&&(s.bpChannel=d.bpChannel);
d.customOpenid&&"string"===typeof d.customOpenidOpxblob&&(s.opx_blob=d.customOpenidOpxblob);h+=Fb(s);(function(){janrain.events.onProviderLoginStart.fire({provider:c.name,width:c.width,height:c.height});var a;d.mobileDevice&&"event"!==d.tokenAction||!d.popup?ia(d.appUrl+"/signin/set_login_tab?login_tab="+c.name+"&origin_url="+window.location.href,function(){window.top.location.href=h}):(a=new Qc(h),a.setWidth(c.width).setHeight(c.height).setCallback(function(){var a={},h="";a.widget_type=d.widgetType;
a.provider=c.name||"";a.time=(new Date).getTime();h=Fb(a);"function"===typeof f&&f();ia(d.appUrl+"/signin/get_login_info"+h);janrain.events.onProviderLoginComplete.fire({provider:c.name})}).show())})()}function ma(a,c){if(!c||"undefined"===c||"welcome_info_name"!==a)return!1;c&&(ra=c)}function $a(a,c){var d=function(a){var m=function(){600>a&&setTimeout(function(){d(++a)},50)};if("object"!==typeof l)return m(),!1;"modal"===N?w.addContent(l.getReturnExperience(c,ra)):"embed"===N&&Ja(document.getElementById("janrainEngageEmbed"),
l.getReturnExperience(c,ra));"modal"===N&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!c)return!1;"object"===typeof l&&l.removeReturnExperience();janrain.events.onAuthWidgetLoad.addHandler(function(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,welcomeName:ra})});d(0)}function Ja(a,c){janrain.settings.capture&&(a?a.appendChild(c):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?a.appendChild(c):
C.log('Missing container div, please place this div where you want the embedded widget to be displayed on your page - <div id="janrainEngageEmbed"></div>.').show();return a}function Ra(a,c){Ua=Ua||oa;tokenUrl=c?Ua:oa;var d="";if(!Y(tokenUrl).query)var d=d+"?",f=!0;for(var h in a)f?(d+=h+"="+a[h],f=!1):d+="&"+h+"="+a[h];Ua=tokenUrl+d}function la(){h=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout(la,5),!1;hc(vc()+"providers.css");
if(h.stop)return!0;Jb&&ia(h.appUrl+"/signin/establish_session");da=h.tokenAction?h.tokenAction:da;if(!h.tokenUrl&&"event"===da)oa=window.location.href;else if(h.tokenUrl)oa=h.tokenUrl;else return C.log("Missing tokenUrl.  tokenUrl is required."),C.show(),!1;N=O("string",["modal","embed"],"embed",h.type?h.type:N);ja=h.multi?h.multi:Ib?!0:ja;ya=h.custom?h.custom:ya;Ba=h.forceReauth?h.forceReauth:Ba;kb=h.bpChannel?h.bpChannel:kb;Pa=h.facebookPermissions?h.facebookPermissions:Pa;va=h.storageType?O("string",
["default","single cookie"],"default",h.storageType):va;Sa="boolean"===typeof h.popup?h.popup:Sa;Ib&&"event"!==da&&(Sa=!1);Wb=h.returnExperienceTimeout?h.returnExperienceTimeout:Wb;ja&&(setTimeout(function(){var a=pa("expected_tab");a?(ma("welcome_info_name",unescape(pa("welcome_info_name"))),$a("expected_tab",a)):"modal"===N?w.addContent(l.getContentsDiv()):"embed"===N&&Ja(embedDiv,l.getContentsDiv())},Wb),ia(h.appUrl+"/signin/get_cookies"));if(ya)return!0;da=h.tokenAction?h.tokenAction:da;na=E("customizable_auth_widget_styling")?
h.modalBorderWidth:na;Ka=E("customizable_auth_widget_styling")?h.modalBorderColor:Ka;ab=E("customizable_auth_widget_styling")?h.modalBorderRadius:ab;Hb=E("customizable_auth_widget_styling")?h.modalBorderOpacity:Hb;xa=E("customizable_auth_widget_styling")?h.backgroundColor:xa;yb=E("customizable_auth_widget_styling")?h.borderRadius:yb;ec=E("customizable_auth_widget_styling")?h.borderColor:ec;Qb=E("customizable_auth_widget_styling")?h.format:Qb;ba=E("customizable_auth_widget_styling")?h.fontColor:ba;
aa=E("customizable_auth_widget_styling")?h.fontSize:aa;Na=E("customizable_auth_widget_styling")?h.fontFamily:Na;Oa=E("customizable_auth_widget_styling")?h.width:Oa;dc=E("customizable_auth_widget_styling")?h.rowHeight:dc;s=E("customizable_auth_widget_styling")?h.providersPerPage:s;xb=E("customizable_auth_widget_styling")?h.providersNotPaged:xb;Za=E("customizable_auth_widget_styling")?h.actionText:Za;Z=E("customizable_auth_widget_styling")?h.buttonBorderColor:Z;pb=E("customizable_auth_widget_styling")?
h.buttonBorderRadius:pb;J=E("customizable_auth_widget_styling")?h.buttonBackgroundStyle:J;Ya=E("customizable_auth_widget_hide_attribution")?h.showAttribution:Ya;fb=h.previewMode;gb=h.noReturnExperience;Pb=h.noReturnExperienceSwitchAccountLink;Rb=h.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate={});if(h.customOpenid&&E("customizable_auth_widget_styling")){mb=!0;if(!h.customOpenidFlow)return C.log("Missing customOpenidFlow. customOpenidFlow is required when adding a custom openid provider."),
C.show(),!1;if(!h.customOpenidIdentifier)return C.log("Missing customOpenidIdentifier. customOpenidIdentifier is required when adding a custom openid provider."),C.show(),!1;if(!h.customOpenidSmallLogo)return C.log("Missing customOpenidSmallLogo.  customOpenidSmallLogo is required and should be the full path to an image that has a width of 90px and height of 30px."),C.show(),!1;if(!h.customOpenidSmallIcon)return C.log("Missing customOpenidSmallIcon.  customOpenidSmallIcon is required and should be the full path to an image that is 30px x 30px."),
C.show(),!1;if(!h.customOpenidLargeLogo)return C.log("Missing customOpenidLargeLogo.  customOpenidLargeLogo is required and should be the full path to an image that has a width of 150px and height of 50px."),C.show(),!1;if(!h.customOpenidLargeIcon)return C.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),C.show(),!1;Aa={smallLogo:h.customOpenidSmallLogo,smallIcon:h.customOpenidSmallIcon,largeLogo:h.customOpenidLargeLogo,
largeIcon:h.customOpenidLargeIcon};nb.customopenid={flow:h.customOpenidFlow,identifier:h.customOpenidIdentifier}}h.previewMode?("modal"===N&&(janrain.ready?c():Q(window,"load",c)),"embed"===N&&(janrain.ready?f():Q(window,"load",f))):("modal"===N&&(janrain.ready?u():Q(window,"load",u)),"embed"===N&&(janrain.ready?k():Q(window,"load",k)))}var Pa,kb,mb=!1,Ba=!1,da="url",oa,Ua,N="embed",ra="unknown",ja=!1,Wb=300,Ba=!1,Sa=!0,ya=!1,va="default",Aa,Ta,w,na,Ka,ab,Hb,l,K,xa,yb,ec,Oa,dc,Qb,Rb=[],xb=!1,s,Za,
aa,Na,ba,Z,pb,J,fb,gb,Pb,Ya,V=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=$());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=$());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=$());janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===typeof janrainWidgetOnload&&(ya?janrainWidgetOnload():l?janrainWidgetOnload(l.getState()):janrainWidgetOnload())});for(var Ma,zb=0,Ab="onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),
Bb=0;Bb<Ab.length;Bb++)"undefined"===typeof janrain.events[Ab[Bb]]&&(janrain.events[Ab[Bb]]=new Ia);janrain.events.onProviderLoginError.addHandler(function(a){if(ya)return!0;var c=pa("login_tab");if("modal"===N){var d=document.getElementById("janrainModal");d&&d.appendChild(l.getErrorPage(c,a.err))}"embed"===N&&(d=document.getElementById("janrainEngageEmbed"))&&Ja(d,l.getErrorPage(c,a.err))});la();return{appendTokenParams:function(a,c){Ra(a,c)},appendTokenParamsCumulative:function(a){Ra(a,!0)},setBackplaneChannel:function(a){kb=
a},setLoginCookie:function(a,c){ga(a,c)},loginHandler:function(a){var c=da;a?("ok"===a.stat&&("event"===c||"hybrid"===c?ia(a.redirectUrl):(c=document.createElement("form"),c.action=a.redirectUrl,c.method="POST",janrain.settings.targetTop&&(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===a.stat&&(janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof Ma&&clearTimeout(Ma))):bb()},cancelLogin:function(a){bb(a,h.appUrl);ya||l.removeNotice()},removeNotice:function(){l.removeNotice()},
setWelcomeInfoName:function(a,c){ma(a,c)},setReturnExperience:function(a,c){$a(a,c)},setNoReturnExperience:function(a){"boolean"===typeof a&&l?(l.setNoReturnExperience(a).refresh(),a=!0):a=!1;return a},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&l?(l.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&l?(l.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&
l?(l.setConfigureMode(a).refresh(),a=!0):a=!1;return a},setCustom:function(a){ya=a},getState:function(){return"object"===typeof l?l.getState():!1},setProviderFlow:function(a,c){var f;f=!E("customizable_auth_widget_styling")||!ya?!1:d().setProviderFlow(a,c);return f},triggerFlow:function(a){a=!E("customizable_auth_widget_styling")||!ya?!1:d().triggerFlow(a);return a},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+
document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);
console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+a+": "+janrain.settings[a]),"object"===typeof janrain.settings[a])for(var c in janrain.settings[a])"function"!==typeof janrain.settings[a][c]&&console.log(" --- --- "+c+": "+janrain.settings[a][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){f()},setBackgroundColor:function(a){return H(a)},setBorderColor:function(a){return R(a)},
setBorderRadius:function(a){return P(a)},setWidth:function(a){return F(a)},setActionText:function(a){return y(a)},setFontFamily:function(a){return Fa(a)},setFontSize:function(a){return U(a)},setFontColor:function(a){return Ha(a)},setFormat:function(a){return p(a)},setButtonBorderColor:function(a){return ea(a)},setButtonBorderRadius:function(a){return W(a)},setButtonBackgroundStyle:function(a){return ua(a)},setProviders:function(a){var c;"object"===typeof l&&(ka?l.setProviders(a):l.setProviders(a).refresh(),
c=!0);return c},setProvidersPerPage:function(a){return La(a)},setShowAttribution:function(a){var c;E("customizable_auth_widget_hide_attribution")?"object"===typeof l&&l.setShowAttribution(a).refresh():c=!1;return c},refresh:function(){return l.refresh()},getWidth:function(){return l.getWidth()}},modal:{init:function(){c()},close:function(){"object"==typeof w&&w.close()},create:function(){return new jc},setBorder:function(a){E("customizable_auth_widget_styling")?("object"===typeof w&&(w.setBorder(a),
w.refresh()),a=!0):a=!1;return a},setBorderColor:function(a){E("customizable_auth_widget_styling")?("object"===typeof w&&(w.setBorderColor(a),w.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){E("customizable_auth_widget_styling")?("object"===typeof w&&(w.setBorderOpacity(a),w.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){E("customizable_auth_widget_styling")?("object"==typeof w&&(w.setBorderRadius(a),w.refresh()),a=!0):a=!1;return a}}}};var ea=new function(){return{status:"not loaded"}},
ob=new function(){return{status:"not loaded"}},cb=new function(){return{status:"not loaded"}},Vc=new function(){function a(b){function g(){pc=!0;var g=b||h();b&&(aa=Y(b).queryKey.flow_path);ia(g,Wb);p();la();janrain.events.onCaptureFailedLogin.addHandler(function(){Lb++;Ra()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){Lb=0;Ra()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){l(zb)});janrain.events.onCaptureSuccessfulRegistration.addHandler(function(){l(zb)});janrain.events.onCaptureValidationComplete.addHandler(function(){for(var b=
!1,g=sa.length,a=0;a<g;a++){var e=sa[a],r;for(r in e)if(e.hasOwnProperty(r))switch(r){case "render":e.render.screen&&!b&&(b=!0,(new xa).setScreenData(e.render.screen,t.screens[e.render.screen]));break;case "setCookie":var c=e.setCookie.name,d=e.setCookie.value,D=e.setCookie.days;(new M).setExpiration(D).setUseLocalStorage(!0).setName(c).setValue(d).create()}}sa=[]});janrain.events.onCaptureRenderComplete.addHandler(function(){if(jb){var b=Xa.savedProfileMessage||"Your profile has been saved",g=La("capture_profileSavedMessage_container",
V.div),a=g.length;if(a)for(var e=0,a=g.length;e<a;e++)g[e].innerHTML=b,g[e].style.display="";else if(sb&&(g=document.getElementById(J+sb+"_defaultSavedProfileMessage")))g.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+b+"</div>";jb=!1}ha()});janrain.events.onCaptureContentChange.addHandler(function(){"object"===typeof x&&x.isOpen()&&(x.setHeight(Pa(x.getContent()).height),x.setWidth(Pa(x.getContent()).width).refresh())});janrain.settings.custom&&!rb&&ka()}function a(){Uc&&
(janrain.settings.capture.federate=!1);janrain.settings.capture.federate?ia(janrain.settings.capture.federateServer+"/sso.js",function(){janrain.settings.capture.redirectFlow?Sa(g):g()}):janrain.settings.capture.redirectFlow?Sa(g):g()}function e(){function b(){Backplane.expectMessages("identity/login")}eb=Backplane.getChannelID();janrain.events.onCaptureSuccessfulLogin.addHandler(b);janrain.events.onCaptureSuccessfulRegistration.addHandler(b);a()}w(Ta());janrain.settings.capture.noStyling||(hc(vc()+
"widgets.css"),Ec(vc()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&u(janrain.settings.capture.stylesheets))for(var c=janrain.settings.capture.stylesheets,d=c.length,f=0;f<d;f++)hc(c[f]),C(c[f]);if(i&&9>i&&janrain.settings.capture.conditionalIEStylesheets&&u(janrain.settings.capture.conditionalIEStylesheets)){c=janrain.settings.capture.conditionalIEStylesheets;d=c.length;for(f=0;f<d;f++)Ec(c[f]),C(c[f])}janrain.settings.capture.backplane?ia("https://d134l0cdryxgwa.cloudfront.net/backplane.js",
function(){Backplane(e);Backplane.init({serverBaseURL:"https://backplane1.janrainbackplane.com/v1.2",busName:janrain.settings.capture.backplaneBusName,channelExpires:janrain.settings.capture.backplaneChannelExpires||""})}):a()}function d(b,g,a,e){var c=[];e&&c.push({value:"",text:e,disabled:!0});if("desc"===a)for(a=g;a>b-1;a--)c.push({value:a,text:a});else for(a=b;a<g+1;a++)c.push({value:a,text:a});return c}function c(b){return"string"===typeof b?"capture_"+b+"_":"capture_"+f(b)+"_"}function f(b){var g=
b.getAttribute("data-capturescreenname");if(g&&t.screens[g])return g;for(var g=La("capture_screen_container"),a=0,e=g.length;a<e;a++){var c;a:{for(c=b.parentNode;null!=c;){if(c==g[a]){c=!0;break a}c=c.parentNode}c=!1}if(c)return g=g[a].getAttribute("data-capturescreenname"),b.setAttribute("data-capturescreenname",g),g}}function h(){var b=Na,g=janrain.settings.capture.flowVersion||"HEAD",a=janrain.settings.capture.flowName||"default",e=janrain.settings.capture.appid||janrain.settings.capture.appId;
return uri=e?k()+"/widget_data/flow.js:"+e+":"+b+":"+g+":"+a:k()+"/widget_data/flow.js:"+b+":"+g+":"+a}function k(){return"https://dlzjvycct5xka.cloudfront.net"}function C(b){A(qc,b)||qc.push(b);Bc=qc.length}function E(b){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+b+"' is missing."}}function o(b){b=H(b);O(b)}function O(b,g){var a=b.getAttribute("data-capturefield"),a=Za.check(b,t.fields[a]),e=document.getElementById(b.id+"_errors");!a.valid&&a.reason?
e&&(e.innerHTML=a.reason):e&&(e.innerHTML="");if(g)return"object"!==typeof a&&(a={valid:!0}),a}function T(b,g){var a=c(b),e=document.getElementById(a+g.name+"_dateselectmonth"),e=e.options[e.selectedIndex].value,d=document.getElementById(a+g.name+"_dateselectday"),d=d.options[d.selectedIndex].value,a=document.getElementById(a+g.name+"_dateselectyear");return e+"/"+d+"/"+a.options[a.selectedIndex].value}function $(b,g){if(!b)return!1;for(var a=b.getElementsByTagName("input"),e=b.getElementsByTagName("select"),
c=b.getElementsByTagName("textarea"),d=[],a=[a,e,c],g=g||!1,e={},c=0,f=a.length;c<f;c++)for(var h=a[c],j=h.length,k=0;k<j;k++){var i=h[k];"true"===i.getAttribute("data-capturecollection")?e[i.name]||(ma(i,!0,g)||d.push(i),e[i.name]=!0):"file"===i.type?O(i,!0).valid||d.push(i):ma(i,!0,g)||d.push(i)}janrain.events.onCaptureValidationComplete.fire({fieldsWithError:d});return 0===d.length}function F(){}function y(){}function W(b){Q(document.getElementById("captureIFrame_"+b),"load",Fa)}function ea(b,
g,a){if(!u(b)&&!g)return!1;u(b)||(b=[]);var e=b.length,c,d=new xa,f="",h=[],j=document.getElementById(a+g);if(!j)return!1;for(g=0;g<e;g++)if(c=t.fields[b[g]])c.fieldPrefix=a,c.name=c.elementName=b[g],f+=d.renderField(c),h.push(c.name);if(!f.length&&j)return j.innerHTML="",!1;j.innerHTML=f;g=0;for(e=h.length;g<e;g++)(b=document.getElementById(a+h[g]))&&Q(b,"blur",Ia)}function ha(){for(var b=V.div.getElementsByTagName("select"),g=b.length,a=0;a<g;a++)b[a].getElementsByTagName("option")[b[a].selectedIndex].disabled&&
(z(b[a]).append("capture_disabled"),Q(b[a],"change",function(){z(this).remove("capture_disabled")}))}function p(){Q(document.body,"click",function(b){var g=janrain.settings.capture.logoutLinksClass||"capture_end_session",a=H(b);a&&a.nodeName&&"A"===a.nodeName&&(z(a).has(g)&&(oa(),P(b)),g=a.getAttribute("data-capturescreen"),a=a.getAttribute("data-captureuseruuid"),g&&(a&&(!t.userUUID||t.userUUID&&t.userUUID!==a?(G=a,t.fused=!1):G=""),janrain.capture.ui.renderScreen(g),P(b)))})}function ka(){janrain.events.onProviderLoginToken.addHandler(function(b){b.linkAccounts?
j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:b.currentScreen,needsResponse:!0,callback:function(){janrain.events.onCaptureProfileLink.fire({provider:b.janrainWidgetParameters.provider})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",elementValue:b.token}]}):(janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience),
rc&&(Zb=Kb),Kb=b.token,V.values=yb(V.div.id),Ya.push(V),Ua(b.keepMeLoggedIn))});rb=!0}function Fa(b){var g=H(b);if("formClicked"===g.className){var a=g.getAttribute("data-transactionId");Oa("/widget/get_result.jsonp",{transactionId:a,cache:(new Date).getTime()},function(){function b(){d++;if(10<d)return K("could not find transaction status"),!1;if(ob[a])ab(a),clearTimeout(g),g=ob[a],"success"===g.status?$a(c):K("there was a problem with the response",g);else var g=setTimeout(b,50)}var c=L.parse(g.getAttribute("next")),
d=0;b()})}else g.className="";g.className=""}function U(b,g){for(var a=H(b).getAttribute("id").split("_")[3],e=H(b),d=c(e),e=e.parentNode,f=z(e).has("capture_tab_toggle"),h=f?"capture_tab_toggle":"capture_radio_toggle",j=0;j<g.collection.length;j++)g.collection[j].elementName!==a&&(document.getElementById(d+g.collection[j].elementName).style.display="none");for(var h=La(h,document.getElementById(d+g.elementName)),i=h.length,j=0;j<i;j++)z(h[j]).remove("capture_toggled");z(e).append("capture_toggled");
document.getElementById(d+a).style.display="block";janrain.events.onCaptureContentChange.fire();f&&P(b)}function Ha(){if(0===fa)return!1;var b=(new Date).getTime()-fa,b=Math.floor(b/1E3);if(60>b)return b+" seconds ago";b=Math.floor(b/60);if(1==b)return b+" minute ago";if(59>b)return b+" minutes ago"}function pa(b){wb=!0;var g=document.getElementById(b),b=janrain.settings.capture.autoSaveInterval||45E3,a=janrain.settings.capture.autoSaveUpdateInterval||1E4;clearInterval(I);I=setInterval(function(){if(!wb)return!1;
if($(g,!0)){g.submit();g.getAttribute("next");var b=g.getAttribute("data-transactionId"),a=document.getElementById("captureIFrame_"+b);(new ga).setIframe(a).setTransactionId(b).setNext('{"noop": ""}').setForm(g).setEvent(null).process()}},b);clearInterval(Vb);Vb=setInterval(function(){if(!wb)return!1;janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:Ha()})},a)}function Ea(b,g,a,e){a=e?L.stringify(e):a;Ka(g);b.className="formClicked";b.setAttribute("next",a)}function ga(){var b,
g,a,e,d,f,h=!1;return{setIframe:function(g){b=g;return this},setTransactionId:function(b){g=b;return this},setNext:function(b){a=b;e=L.parse(a);return this},setForm:function(b){d=b;return this},setEvent:function(b){f=b;return this},process:function(){if(e.conditional){for(var j=e.conditional,i=j.length,k=0;k<i;k++){var m;a:{m=j[k];var l=t.fields[m.field],l=c(d)+(l.elementId||l.elementName),l=document.getElementById(l);switch(m.compare){case "=":if(l.value===m.value){m=!0;break a}}m=void 0}if(m){h=
j[k];break}}h?h.nosubmit?(P(f),$a(h.next)):Ea(b,g,a,h.next):Ea(b,g,a)}else e.dontSubmit?(P(f),e.storeValues&&yb(d.id,!0),$a(e)):Ea(b,g,a)}}}function bb(b){var g=H(b),a=H(b).getAttribute("data-transactionId"),e=document.getElementById("captureIFrame_"+a);g.getAttribute("next")||g.setAttribute("next",'{"noop":""}');var c=g.getAttribute("next");if("true"!==g.getAttribute("data-capturedomelement")||"true"===g.getAttribute("data-capturedomelementvalidate")){V.values=yb(V.div.id);if(!$(g))return P(b),!1;
var d=Pc(g),f=document.createElement("div");f.className="capture_btn capture_processing";f.innerHTML="Processing";d.parentNode.insertBefore(f,d);d.style.display="none"}(new ga).setIframe(e).setTransactionId(a).setNext(c).setForm(g).setEvent(b).process()}function Ia(b){b=Qa(b);ma(b,!1)}function ma(b,g,a){if(b.type&&("hidden"===b.type||"submit"===b.type||"file"===b.type)||!b.getAttribute("data-capturefield"))return!0;var e=b.getAttribute("data-capturerendererfield")?t.fields[b.getAttribute("data-capturerendererfield")]:
t.fields[b.getAttribute("data-capturefield")],d=b.getAttribute("data-capturerendererchildfieldname"),f=d?e.elementName+"["+d+"]":e.elementName,h=c(b),q=!1;if(!e.validation||e.validation.type&&"server"===e.validation.type||d&&!e.validation[d]&&"dateselect"!==e.type||"dateselect"===e.type&&"dateselect_year"!==d)return!0;d="multiCheckbox"===e.element||"multiRadio"===e.element?document.getElementById(h+"form_collection_"+e.elementName):"dateselect"===e.type?document.getElementById(h+"form_item_"+e.name):
document.getElementById(h+"form_item_"+f);a||z(d).append("capture_validating");f=new j.validation;f.setParentDiv(d);f.setElement(b);b=Za.check(b,e,g);b.valid?(q=!0,a||(f.valid(),z(d).remove("capture_validating"))):b.pending?(a||f.pending(),q=!0):(q=!1,a||(f.notValid(b.reason),z(d).remove("capture_validating")));return q}function $a(b){Ya.push(V);if(b.noop)return!1;b.url&&(window.location.href=b.url);b.screen&&(new xa).setScreenData(b.screen,t.screens[b.screen]);if(b.action&&V)janrain.capture.ui[b.action]();
if(b["function"]&&"function"===typeof Ab[b["function"]])Ab[b["function"]]()}function Ja(b){(new M).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(b).create()}function Ra(){(new M).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(Lb).create()}function la(){var b=new M;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainFailedLogins",function(b){ic(b)&&(Lb=parseInt(b,10))}):(b=b.getCookie("janrainFailedLogins"),ic(b)&&
(Lb=parseInt(b,10)))}function nb(){var b=36E5*Db+(new Date).getTime();return(new Date((new Date).setTime(b))).toUTCString()}function kb(){clearTimeout(Ub);Ub=setTimeout(Ba,1E4)}function qb(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b,g,a=new M;a.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)a.getCookie("janrainCaptureTokenRefresh",function(a){a&&(g=new Date,expiretime=
new Date(a),g.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):kb())});else if(a=a.getCookie("janrainCaptureTokenRefresh"))g=new Date,b=new Date(a),g.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):kb()}}function Ba(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b=new M;b.setUseLocalStorage(!0);
janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureToken",function(b){b?qb():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}):b.getCookie("janrainCaptureToken")?qb():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}}function da(b,g,a){var e=nb();Da=b;g?(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&Ba(),janrain.events.onCaptureSessionCreated.fire({accessToken:b}),janrain.events.onCaptureSessionFound.fire({accessToken:b})):
(g=new M,g.setExpirationDirectly(e).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(Da),janrain.settings.capture.cookieDomain&&g.setDomain(janrain.settings.capture.cookieDomain),g.create(),janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&(e=new M,g=36E5*Db-6E5+(new Date).getTime(),g=(new Date((new Date).setTime(g))).toUTCString(),e.setExpirationDirectly(g).setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(g),janrain.settings.capture.cookieDomain&&
e.setDomain(janrain.settings.capture.cookieDomain),e.create(),Ba()),hb&&(janrain.events.onCaptureSuccessfulLogin.fire({accessToken:b}),hb=!1),a?janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:b}):janrain.events.onCaptureSessionCreated.fire({accessToken:b}))}function oa(){var b=new M,a="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){};b.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&
b.setDomain(janrain.settings.capture.cookieDomain);b.remove();b.setName("janrainCaptureProfileData");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove();janrain.events.onCaptureSessionEnded.fire();janrain.settings.capture.federate&&JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},a)}function Ua(b){var a=na(),c=ra({capture_screen:janrain.settings.capture.registerFlow||"socialRegister",
token:Kb,capture_transactionId:a});Zb&&(c.merge_token=Zb,Zb=null);b&&(c.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(c.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var b=janrain.settings.capture.dataDefaults,e;for(e in b)b.hasOwnProperty(e)&&"undefined"===typeof c[e]&&(c[e]=b[e])}Oa("/widget/token_url.jsonp",c);Ka(a);rc&&(rc=!1)}function N(){var b=new M;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureToken",
function(b){b?da(b,!0):janrain.events.onCaptureSessionNotFound.fire()});else{if(b.getCookie("janrainCaptureToken"))return da(b.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function ra(b){var a={js_version:mb,capture_screen:Z,flow:t.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:tc,locale:Na};eb&&(a.bp_channel=eb);aa&&(a.flow_path=
aa);if("object"===typeof b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function ja(b){var a=na();JANRAIN.SSO.CAPTURE.set_login({code:b,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});Ka(a)}function Wb(){if(janrain.settings.capture.federate){var b=void 0,b={},a=na(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:b.response_method||"jsonp",response_type:janrain.settings.capture.responseType,
redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:L.stringify(ra({capture_transactionId:a})),transaction_id:a,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver};eb&&(b.bp_channel=eb);JANRAIN.SSO.CAPTURE.check_login(b);Ka(a)}else{a:{if(a=Y(window.location.href).anchor)if(a=a.split("="),"access_token"===a[0]&&a[1]){hb=!0;da(a[1]);a=!0;break a}a=!1}if(a||N())return Nb=!0,!1;Nb=!0}}function Sa(b){var a=
Y(window.location.href).anchor;if(!a)return b(),!1;var c=a.split(","),e=c.length,d,a={};if(1<e){for(var f=0;f<e;f++)d=c[f],d=d.split("="),a[d[0]]=d[1];if(!a.transactionId||!a.engageToken)return b(),!1;tb=b=a.transactionId;Kb=a.engageToken;Oa("/widget/get_result.jsonp",{transactionId:b},function(){})}else return b(),!1}function ya(b,a){var c=b["if"].compare;if(!c||0>c.indexOf(":"))return!1;switch(c.split(":")[0]){case "cookie":var e=c.split(":")[1],c=new M;c.setUseLocalStorage(!0);"janrainLastAuthMethod"===
e&&!fb&&(fb=Z);if(janrain.settings.multiDomainLocalStorage)c.getCookie(e,function(c){d&&"janrainLastAuthMethod"===e&&(gb=!0);Aa(va(b["if"],c)?b.then:b["else"],a)});else{var d=c.getCookie(e);d&&"janrainLastAuthMethod"===e&&(gb=!0);Aa(va(b["if"],d)?b.then:b["else"],a)}}}function va(b,a){var c=ic(a)?parseInt(a,10):a,e,d=ic(b.to)?parseInt(b.to,10):b.to;switch(b.withOperator){case "===":e=d===c;break;case "!==":e=d!==c;break;case "==":e=d==c;break;case "!=":e=d!==c;break;case ">":e=c>d;break;case "<":e=
c<d}return e}function Aa(b,a){!b&&"function"===typeof a&&a();if(!b)return!1;if("undefined"===typeof b["if"]){if(b.render){var c=b.render.screen,e=t.screens[c];(new xa).setScreenData(c,e)}}else ya(b,a)}function Ta(){for(var b="",a=[],c=0;10>c;c++)b=fc(40),a.push(b);return a}function w(b){if(!u(b))return!1;for(var a=b.length,c=0;c<a;c++){var e=b[c];-1===cb.indexOf(e)&&cb.push(e)}}function na(){var b=cb.pop();0===cb.length&&w(Ta());-1===nc.indexOf(b)&&nc.push(b);return b}function Ka(b){var a=nc.indexOf(b);
-1<a&&nc.splice(a,1);-1===oc.indexOf(b)&&oc.push(b)}function ab(b){var a=oc.indexOf(b);-1<a&&oc.splice(a,1);-1===Cb.indexOf(b)&&Cb.push(b)}function Hb(){if("object"!==typeof x)return!1;Xa.modalConfirmText&&x.setConfirmMessageText(Xa.modalConfirmText);Xa.modalConfirmLinkText&&x.setConfirmLinkText(Xa.modalConfirmLinkText);Xa.modalCancelLinkText&&x.setCancelLinkText(Xa.modalCancelLinkText)}function l(b){t=b;t.flow=janrain.settings.capture.flowName;"undefined"===typeof zb&&(zb=b);"object"!==typeof t.layouts&&
(t.layouts={});"object"!==typeof t.layouts.captureAccessDeniedBuiltIn&&(t.layouts.captureAccessDeniedBuiltIn={});t.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:Xb.accessDenied;"object"!==typeof t.layouts.captureRetrievingUserDataBuiltIn&&(t.layouts.captureRetrievingUserDataBuiltIn={});t.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?
document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:Xb.retrievingUserData;for(b=0;b<Ma.length;b++)t.fields[Ma[b].field][Ma[b].attribute]=Ma[b].value}function K(){kc.push(arguments);if(window.console){var b=arguments;b.callee=b.callee.caller;b=[].slice.call(b);i?console.log(b):console.log.apply(console,b)}}function xa(){function b(b,a,g){a&&a.screenConditionals?Aa(a.screenConditionals,g):"function"===typeof g&&g()}function a(b){janrain.events.onCaptureAccessDenied.fire();Yb=!0;f({layout:"captureAccessDeniedBuiltIn",
modal:b.modal,source:"server"})}function c(b){var a,g=na();switch(b){case "email":(b=Y(window.location.href).queryKey.verification_code)?(a=ra({capture_transactionId:g,verification_code:b}),Oa("/widget/email_code.jsonp",a),Ka(g),K("need to verify "+b)):K("no code supplied");break;case "password":(b=Y(window.location.href).queryKey.code)?(K("need to verify "+b),a=ra({capture_transactionId:g,code:b}),Oa("/widget/email_code.jsonp",a),Ka(g)):K("no code supplied")}}function e(b){b&&(Pb=b.validateOnRender);
if(b&&"changePasswordLink"===b.dataType&&!b.errors)return c("password"),!1;if(b&&"verifyEmail"===b.dataType&&!b.errors)return c("email"),!1;if(b&&b.hasUserData&&!t.fused){var e=b.dataType&&"public"===b.dataType;!Da&&!e?a(b):(Yb=!0,f({layout:"captureRetrievingUserDataBuiltIn",modal:b.modal,source:"server"}),ec(e));q();return!1}if(!Da&&b&&b.requireAccessToken)return a(b),q(),!1;Yb=!1;f(b);q();gb&&(gb=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}
function d(a,g){if(Jb&&g&&(t.noModalForMobile||g.noModalForMobile))g.modal=!1;if(Jb&&g&&(t.modalForMobile||g.modalForMobile))g.modal=!0;Nb?(Z=a,J="capture_"+Z+"_",b(a,g,function(){e(g)})):setTimeout(function(){d(a,g)},50)}function f(b){if(V&&V.div&&(!b.modal||V.modal&&b.modal)&&!b.keepPreviousScreen)V.div.style.display="none";var a=b.layout,g=b.source,e=b.modal,b=!!b.modalLoadOnLoad;if("server"===g){var c=document.getElementById(a);c||(c=document.createElement("div"),c.setAttribute("id",a));try{Ob[a]?
n.html=Ob[a]:(n.html=t.layouts[a].html,Ob[a]=n.html)}catch(r){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===g)try{if(c=document.getElementById(a))Ob[a]?n.html=Ob[a]:(n.html=c.innerHTML,Ob[a]=n.html);else throw n.html="",E(a);}catch(d){throw K(d.name+": "+d.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}z(c).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");
Jb&&(z(c).append("janrain-capture-ui-mobile"),ua.onOrientationChange.addHandler(function(b){z(c).append("janrain-capture-ui-mobile-"+b.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[b.orientation]);janrain.events.onCaptureContentChange.fire()}),ua.onOrientationChange.fire({orientation:ua.getOrientation()}));n.div=c;Yb||n.div.setAttribute("data-capturescreenname",Z);$b=n.div;n.modalLoadOnLoad=b;n.source=g;n.modal=e;V=n;"undefined"===typeof pb[Z]&&(pb[Z]=
{});pb[Z].layout=n}function h(b,a){if(b.close)return o.render.htmlElement.close(b);if("data"==b.element){if("string"===b.type)return o.render.data.stringData(b);if("image"===b.type)return o.render.data.imageData(b);if("engageCookie"===b.type)return o.render.data.engageCookieData(b)}if("multiRadio"==b.element)return o.render.htmlElement.multiRadio(b);if("multiCheckbox"==b.element)return o.render.htmlElement.multiCheckbox(b);if("textarea"==b.element)return o.render.htmlElement.textarea(b);if("select"==
b.element)return o.render.htmlElement.select(b);if("input"==b.element)return o.render.htmlElement.input(b);if("form"==b.element)return o.render.htmlElement.form(b);if("div"==b.element)return o.render.htmlElement.div(b);if("button"==b.element)return o.render.htmlElement.button(b);if("capture"==b.element){if("keepMeLoggedIn"==b.type)return o.render.captureElement.keepMeLoggedIn(b);if("countrySelect"==b.type)return o.render.captureElement.countrySelect(b);if("stateSelect"==b.type)return o.render.captureElement.stateSelect(b);
if("publicProfileLink"==b.type)return o.render.captureElement.publicProfileLink(b,a);if("errorMessages"==b.type)return o.render.captureElement.errorMessages(b);if("savedProfileMessage"==b.type)return o.render.captureElement.savedProfileMessage(b);if("captcha"==b.type)return o.render.captureElement.captcha(b);if("linkAccounts"==b.type)return o.render.captureElement.linkAccounts(b);if("mergeAccounts"==b.type)return o.render.captureElement.mergeAccounts(b,a);if("radioCollection"==b.type)return o.render.captureElement.collection.radio(b);
if("tabCollection"==b.type)return o.render.captureElement.collection.tab(b);if("photoManager"==b.type)return o.render.captureElement.photoManager(b,a);if("dateselect_public"==b.type)return o.render.captureElement.dateselect_public(b);if("dateselect"==b.type)return o.render.captureElement.dateselect(b);if("addressFull"==b.type)return o.render.captureElement.addressFull(b);if("addressFull_public"==b.type)return o.render.captureElement.addressFull_public(b);if("nameFull"==b.type)return o.render.captureElement.nameFull(b);
if("nameFull_public"==b.type)return o.render.captureElement.nameFull_public(b);if("backButton"==b.type)return o.render.captureElement.backButton(b);if("partial"==b.type)return o.render.captureElement.partial(b,a);if("slider"==b.type)return o.render.captureElement.slider(b,a);if("table"==b.type)return o.render.captureElement.table(b,a)}return"widget"==b.element?o.render.widget[b.type](b,a):!1}function q(){janrain.events.onCaptureRenderStart.fire(t);ba=[];t.fields.submitButton||(t.fields.submitButton=
{element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});t.fields.loginWidget||(t.fields.loginWidget={element:"widget",type:"login"});t.fields.shareWidget||(t.fields.shareWidget={element:"widget",type:"share"});t.fields.backButton||(t.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});t.fields.captcha||(t.fields.captcha={element:"capture",type:"captcha"});t.fields.keepMeLoggedIn||(t.fields.keepMeLoggedIn=
{element:"capture",type:"keepMeLoggedIn"});t.fields.errorMessages||(t.fields.errorMessages={element:"capture",type:"errorMessages"});t.fields.savedProfileMessage||(t.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});n.originalHtml=n.html;n.flow=t;var b=tb||na();tb=null;n.html=i(n.html,b);n.div.innerHTML=n.html;if("server"==n.source){if(!document.getElementById("janrainCaptureWidget")){var a=document.createElement("div");a.id="janrainCaptureWidget";document.body.appendChild(a)}document.getElementById("janrainCaptureWidget").appendChild(n.div)}if(!Yb){for(var a=
0,g=sc.length;a<g;a++)ma(document.getElementById(sc[a]),!1);sc=[]}m();k();if(0<janrain.events.onCssLoad.firedEvents.length)for(var a=janrain.events.onCssLoad.firedEvents,g=0,e=a.length;g<e;g++)"object"==typeof a&&a[g].args&&a[g].args.source&&-1==B.indexOf(a[g].args.source)&&a[g].event.fire(a[g].args);j.domHelpers.createIFrame(b);for(a=0;a<ba.length;a++)g=document.getElementById(J+ba[a].elementName),ba[a].next&&ba[a].next.type&&"server"===ba[a].next.type?g.setAttribute("next",'{"noop":""}'):ba[a].next?
(ba[a].next.conditional&&g.setAttribute("next",L.stringify(ba[a].next)),ba[a].next.screen&&g.setAttribute("next",L.stringify(ba[a].next)),ba[a].next.url&&g.setAttribute("next",L.stringify(ba[a].next)),ba[a].next.action&&g.setAttribute("next",L.stringify(ba[a].next))):g.setAttribute("next",'{"noop":""}');p(b);V=n;janrain.events.onCaptureContentChange.fire()}function i(b,a){for(var g=/\{\*(.*?)\*\}/,e=/^\s*\/\s*/,c=/^\s*#\s*/,r=/\{(.*?)*\}\s*/,d=!1,f,D=[],j=[];f=g.exec(b);)try{var q=f[1].trim();if(r.test(q))var k=
q.match(r),q=q.replace(k[0],"").trim(),db=k[0].match(/\{(.*?)*\}\s*/)[0];else db=null;d=!1;c.test(q)&&(q=q.replace("#","").trim(),d=!0);if(e.test(q)){var m=q.replace("/",""),l={};if("undefined"==typeof t.fields[m])return K("No field definition for"+m,"error"),!1;l.element=t.fields[m].element;l.close=!0}else{if("undefined"==typeof t.fields[q])return K("No field definition named "+q+" for tag "+f[0],"error"),!1;l=t.fields[q];l.name=q;d&&(l.start=!0);"form"===l.element&&!l.transactionId&&(l.transactionId=
a);l.elementName=l.elementName||q}var db=db||null,n=h(l,db);n||(n=" ");b=b.replace(f[0],n);(l.next||"form"===l.element&&!l.close)&&ba.push({elementName:l.elementName,next:l.next});l.onclickHandler&&s.push({elementName:l.elementName,handler:l.onclickHandler,eventType:"click"});l.onchangeHandler&&s.push({elementName:l.elementName,handler:l.onchangeHandler,eventType:"change"});"string"===typeof l.element&&"form"===l.element&&!l.close&&(s.push({elementName:l.elementName,handler:bb,eventType:"submit"}),
janrain.settings.capture.autoSave&&s.push({elementName:l.elementName,handler:pa,eventType:"render"}));if("form"===l.element&&("widget/traditional_register.jsonp"===l.action||"widget/social_register.jsonp"===l.action))j.push("widget/traditional_register.jsonp"===l.action?"traditionalRegister":"socialRegister");if("form"===l.element&&"widget/traditional_signin.jsonp"===l.action||"widget"===l.element&&"login"===l.type)D.push("widget/traditional_signin.jsonp"===l.action?"traditionalSignin":"socialSignin")}catch(o){return K(o.name+
": "+o.message,"error"),!1}D.length&&janrain.events.onCaptureStartLogin.fire({action:D.join(","),screen:Z});j.length&&janrain.events.onCaptureStartRegistration.fire({action:j.join(","),screen:Z});return b}function k(){n.div.getAttribute("data-captureventadded")||(Q(n.div,"click",function(b){var a=H(b);if(a&&a.nodeName&&"A"===a.nodeName){var g=a.getAttribute("data-capturecontrol");if(g){var e=na(),g=ra({flow_control:g,token:Da,capture_transactionId:e});Oa("/widget/control.jsonp",g);Ka(e);P(b)}a.getAttribute("data-cancelcapturereturnexperience")&&
fb&&(e=new M,e.setUseLocalStorage(!0).setName("janrainLastAuthMethod"),e.remove(),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.capture.ui.renderScreen(fb),P(b));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof x)"close"===a&&(janrain.capture.ui.modal.close(),P(b)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),P(b))}}),n.div.setAttribute("data-captureventadded",!0));for(var b=n.div.getElementsByTagName("img"),a=b.length,g=
0;g<a;g++)Q(b[g],"load",function(){janrain.events.onCaptureContentChange.fire()});b=La(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=b.length;if(!Gb){for(g=0;g<a;g++)Q(b[g],"click",function(b){"object"===typeof x?(janrain.capture.ui.renderScreen(V.flow.defaultScreen),x.setShowContentOnLoad(!0).addContent(V.div).show(),janrain.events.onCaptureScreenShow.fire({screen:Z}),janrain.events.onCaptureContentChange.fire()):Fb=!0;P(b)});Gb=!0}}function m(){if(t.cssDependencies&&u(t.cssDependencies))for(var b=
0;b<t.cssDependencies.length;b++)C(t.cssDependencies[b]);Bc&&pc&&!lb?janrain.events.onCssLoad.addHandler(function(b){n=V;B.push(b.source);for(b=0;b<Bc;b++)if(-1==B.indexOf(qc[b]))return!1;lb||(l(),lb=!0)}):l();janrain.events.onCaptureRenderComplete.fire({flow:t,screen:Z})}function l(){var b=!1;if(n.modal){if("object"===typeof x){var b=!0,a=x.getContent();a&&document.body.appendChild(a);x.close(!0)}else x=new jc,Hb();Ib||(janrain.events.onCaptureModalReady.fire(),janrain.events.onModalClose.addHandler(function(){t&&
t.mergeToken&&(t.mergeToken="")}),Ib=!0);x=Rb(x);x.setShowContentOnLoad(!0).addContent(n.div);if(b||n.modalLoadOnLoad||Fb)x.show(),janrain.events.onCaptureScreenShow.fire({screen:Z})}else"object"===typeof x&&x.close(!0),janrain.events.onCaptureScreenShow.fire({screen:Z});n.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function p(b,a){for(var a=a||s,g=0;g<a.length;g++){if("function"===typeof a[g].handler)if("render"===a[g].eventType)a[g].handler(J+a[g].elementName);else{var e=
document.getElementById(J+a[g].elementName);Q(e,a[g].eventType,a[g].handler)}b&&W(b)}s=[]}var n={},o;o=new y;Za=new F;return{setScreenData:d,render:q,renderField:h,attachEventHandlers:p}}function yb(b,a){for(var c=[],e=document.getElementById(b).getElementsByTagName("INPUT"),d=e.length,f=0;f<d;f++){var h={};h.id=e[f].id;h.placeholder=e[f].getAttribute("placeholder");if(Bb||a)m[e[f].getAttribute("data-capturefield")]=e[f].value;h.value=h.placeholder?h.placeholder===e[f].value?"":e[f].value:e[f].value;
"radio"===e[f].type&&(h.type="radio",h.checked=e[f].checked);c.push(h)}return c}function ec(b,a){var c="function"===typeof a?a:function(){};if(b){var e=G||Y(window.location.href).queryKey.uuid;G&&(G="");e?(K("need to get data for "+e),j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",
elementType:"hidden",elementValue:e}]})):K("no uuid supplied")}else{if(!Da)return!1;j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function Oa(b,a,c){var e=-1<b.indexOf("?")?"&":"?",d=0===b.indexOf("http")?"":janrain.settings.capture.captureServer,f=[],h;for(h in a)a.hasOwnProperty(h)&&f.push(h+"="+encodeURIComponent(a[h]));
ia(d+b+e+f.join("&"),c)}function dc(b){function a(b){return'<li><a href="#" class="capture_suggestion">'+b+"</a></li>"}var b=b.result,r=c(b.submittedScreen),e=t.fields[b.field],d=document.getElementById(r+(e.elementId||e.elementName)),f=b.alternatives,h=e.validation.messages.unique||"",q=document.getElementById(r+"form_item_"+e.elementName),k=new j.validation;k.setElement(d);k.setParentDiv(q);if(!1===b.unique)if(f){var f=f.map(a),i=function(b){var a=H(b);z(a).has("capture_suggestion")&&(d.value=a.innerHTML,
gc(q,"click",i),k.valid(),P(b))};k.notValid(h+'<ul class="capture_suggestions">'+f.join("")+"</ul>",function(){Q(q,"click",i)})}else k.notValid(h);else k.valid()}function Qb(b){var a=M();return A(["expected_tab","welcome_info_name","login_tab"],b)&&(b=a.getCookie(b))?unescape(b):""}function Rb(b){var a=janrain.settings.capture.modalBorderWidth||10,c=janrain.settings.capture.modalBorderColor||"#000",e=janrain.settings.capture.modalBorderRadius||10,d=janrain.settings.capture.modalBorderOpacity||0.5;
b.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(c).setBorder(a).setBorderOpacity(d).setBorderRadius(e);return b}function xb(b){if("object"!==typeof x)x=new jc,Hb();else{var a=x.getContent();a.style.display="none";a&&document.body.appendChild(a)}V&&V.modal&&Ya.push(V);x=Rb(x);x.addContent(b).show();x.setHeight(Pa(b).height);x.setWidth(Pa(b).width).refresh()}var s=[],Za,aa,Na=janrain.settings.capture.language||janrain.settings.language||"en-US",ba=[],Z,pb={},J,fb,gb=!1,
Pb,Ya=[],V={},Ma=[],zb,Ab={},Bb=janrain.settings.capture.mode13||!1,m={},tb,Ca,Yb=!1,Kb,Zb,hb=!1,Da,Nb=!1,vb,ib=!1,jb=!1,lb=!1,t,Xa={},$b,eb,Ob={},ob={},cb=[],nc=[],oc=[],Cb=[],pc=!1,Db=1,ac="placeholder"in document.createElement("input"),rb=!1,rc=!1,sb,x,Fb=!1,Gb=!1,Ib=!1,qc=[],Bc=0,sc=[],tc="HEAD",Sb=!1,Xb={},S=["accessDenied","retrievingUserData"],lc={},Tb=!1,Lb=0,sa=[],zc=!1,Ub,G,B=[];"en"===Na&&(Na="en-US");lc.publicPrivateTogglers=[];F.prototype.check=function(b,a,r){var a=a||t.fields[b.name],
e=b.getAttribute("data-capturerendererchildfieldname");if(!a.validation)return!0;a.validation.temp=e&&a.validation&&a.validation[e]?a.validation[e]:e&&"dateselect"!==a.type?!1:a.validation;if(!a.validation.temp)return!0;a.validation.temp.messages||(a.validation.temp.messages={});if(!this.hasValue(b,a))return{valid:!1,reason:a.validation.temp.messages.required||"Field not completed"};if(!this.isDate(b,a))return{valid:!1,reason:a.validation.temp.messages.isDate||"Not a valid date"};if(!this.isValidMaxFileSize(b,
a))return{valid:!1,reason:a.validation.temp.messages.maxFileSize||"File is too large"};if(!this.isValidFileType(b,a))return{valid:!1,reason:a.validation.temp.messages.validFileTypes||"File is not a valid file type"};if(!this.isValidMinYears(b,a))return{valid:!1,reason:a.validation.temp.messages.minYears||"Not old enough"};if(!this.isValidMinLength(b,a))return{valid:!1,reason:a.validation.temp.messages.minLength||"Invalid length"};if(!this.isValidMaxLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxLength||
"Invalid length"};if(!this.isValidMaxNumericLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxNumericLength||"Invalid number of numeric characters"};if(!this.isValidFormat(b,a))return{valid:!1,reason:a.validation.temp.messages.format||"Invalid format"};if(!this.isValidMatch(b,a))return{valid:!1,reason:a.validation.temp.messages.match||"Invalid match"};if(!this.custom(b,a))return"undefined"===typeof this.custom(b,a)?{pending:!0}:{valid:!1,reason:a.validation.temp.messages.custom||"Invalid"};
return a.validation.temp.unique&&!r?(r=document.getElementById(c(b)+"form_item_"+b.getAttribute("name")),this.isUnique(b,r,a,function(){}),{pending:!0}):{valid:!0}};F.prototype.custom=function(b,a){if(!a.validation.temp.custom||"function"!==typeof Ac[a.validation.temp.custom])return!0;var r=new j.validation,e=document.getElementById(c(b)+"form_item_"+a.elementName);r.setParentDiv(e);r.setElement(b);return Ac[a.validation.temp.custom](b.name,b.value,r)};F.prototype.getRating=function(b){var b=b.value,
a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],c=0,e;e=Math.min(8,Math.floor(3*Math.log(b.length+1)));for(var d=0;d<a.length;d++)a[d].test(b)&&c++;return e+=Math.floor(Math.pow(2,c)/2)};F.prototype.isValidMaxNumericLength=function(b,a){if(!a)return!0;var c=a.validation.temp.maxNumericLength;if(!c)return!0;var e=b.value.match(/(\d)/g);u(e)&&e.length>c&&a.validation.temp.actions&&a.validation.temp.actions.maxNumericLength&&sa.push(a.validation.temp.actions.maxNumericLength);return u(e)?e.length<=c:!0};
F.prototype.isValidMaxLength=function(b,a){var c=b.value;if(!a)return!0;var e=a.validation.temp.maxLength;if(!e)return!0;c.length>e&&a.validation.temp.actions&&a.validation.temp.actions.maxLength&&sa.push(a.validation.temp.actions.maxLength);return c.length<=e};F.prototype.isValidMinLength=function(b,a){var c=b.value;if(!a)return!0;var e=a.validation.temp.minLength;if(!e)return!0;c.length<e&&a.validation.temp.actions&&a.validation.temp.actions.minLength&&sa.push(a.validation.temp.actions.minLength);
return c.length>=e};F.prototype.isValidMaxFileSize=function(b,a){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.maxFileSize;return!c?!0:b.files[0].size<c};F.prototype.isValidFileType=function(b,a){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.validFileTypes;return!u(c)?!0:A(c,b.files[0].type)};F.prototype.isDate=function(b,a){if(!a||"dateselect"!==
a.type)return!0;var c=a.validation.temp.isDate,e=T(b,a);return!c?!0:Fc(e)};F.prototype.isValidMinYears=function(b,a){if(!a||"dateselect"!==a.type)return!0;var c=T(b,a),e=a.validation.temp.minYears;if(!Fc(c)||!e)return!0;var d=new Date,c=Math.abs(((new Date(c)).getTime()-d.getTime())/864E5),c=Math.floor(c/365.242199);c>=e||a.validation.temp.actions&&a.validation.temp.actions.minYears&&sa.push(a.validation.temp.actions.minYears);return c>=e};F.prototype.hasValue=function(b,a){var c;if("select"===a.element)c=
b.options[b.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=b.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var e=c.length,d=[],f=0;f<e;f++)c[f].checked&&d.push(c[f]);c=d.length}else c=!1;else c=b.value;if(!a||!a.validation.temp.required)return!0;if("dateselect"===a.type)return c=T(b,a),8>c.length&&a.validation.temp.actions&&a.validation.temp.actions.required&&
sa.push(a.validation.temp.actions.required),7<c.length;c||a.validation.temp.actions&&a.validation.temp.actions.required&&sa.push(a.validation.temp.actions.required);return c};F.prototype.isUnique=function(b,a,c,e){a=b.form.getAttribute("data-capturefield");c=b.getAttribute("data-capturefield");b=ra({value:b.value,form:a,capture_screen:f(b),field:c});Da&&(b.access_token=Da);aa&&(b.flow_path=aa);Oa("/widget/unique.jsonp",b,e)};F.prototype.isBlacklisted=function(b,a,c){function e(){var a=b.value,g=response;
if(!g||0===g.length)return!0;for(var e,c=0;c<g.length;c++)if(e=RegExp("^"+g[c]+"$","i"),e.test(a))return!0;return!1}captureUIBlacklistCallback=function(b){c(e(b))};u(a)?c(e(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):c(!0)};F.prototype.isValidFormat=function(b,a){var c={alpha:/^[a-z]+$/i,alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};
if(!a||!a.validation.temp.format)return!0;var e=a.validation.temp.format;if("string"===typeof e&&c[e])e=c[e];else return!1;e.test(b.value)||a.validation.temp.actions&&a.validation.temp.actions.format&&sa.push(a.validation.temp.actions.format);return e.test(b.value)};F.prototype.isValidMatch=function(b,a){if(!a)return!0;var d=a.validation.temp.match;if(!d)return!0;d=t.fields[d];d=c(b)+(d.elementId||d.elementName);d=document.getElementById(d);b.value!==d.value&&a.validation.temp.actions&&a.validation.temp.actions.match&&
sa.push(a.validation.temp.actions.match);return b.value===d.value};var j={attachFieldEventHandlers:function(b){b.type||(b.type="");"password"===b.type&&(s.push({elementName:b.elementName,handler:j.togglePasswordInput,eventType:"click"}),s.push({elementName:b.elementName,handler:j.togglePasswordInput,eventType:"focus"}),b.validation&&("function"===typeof b.validation.rating?s.push({elementName:b.elementName,handler:function(a){var a=Qa(a),c=Za.getRating(a);b.validation.rating(a,c)},eventType:"keyup"}):
b.validation.rating&&s.push({elementName:b.elementName,handler:function(b){b=Qa(b);b=Za.getRating(b);K("Password Strength",b)},eventType:"keyup"})));if("text"===b.type||"password"===b.type||"email"===b.type)s.push({elementName:b.elementName,handler:j.clearPlaceHolder,eventType:"focus"}),s.push({elementName:b.elementName,handler:j.restorePlaceHolder,eventType:"blur"});s.push({elementName:b.elementName,handler:function(a){a=H(a);a=c(a);a=document.getElementById(a+"form_item_"+b.elementName);z(a).append("capture_focused").remove("capture_error");
Jb&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()},eventType:"focus"});s.push({elementName:b.elementName,handler:function(a){a=H(a);a=c(a);a=document.getElementById(a+"form_item_"+b.elementName);z(a).remove("capture_focused")},eventType:"blur"});b.validation&&s.push({elementName:b.elementName,handler:Ia,eventType:b.validation.eventType||"blur"});b.rendererFieldName&&b.rendererChildFieldName&&t.fields[b.rendererFieldName].validation&&t.fields[b.rendererFieldName].validation[b.rendererChildFieldName]&&
s.push({elementName:b.rendererFieldName+"_"+b.rendererChildFieldName,handler:Ia,eventType:"blur"})},wrapStringData:function(b,a,c){var e="",d=["capture_data_item"];c&&d.push(c);e+=j.createDiv({elementId:"stringdata_"+b.name,classes:d});b.label&&(e+=j.createLabel({elementId:b.name,label:b.label,classes:["capture_data_label"]}));e+=j.createDiv({elementId:b.name,classes:["capture_data"]});return e+a+"</div></div>"},wrapFormItemStart:function(b){var a="",c=[],e=b.classes||[],d="elementCollection"===b.type?
"form_collection":"form_item";if(b.justElement||"submit"===b.type||"button"===b.type)return"";-1===e.indexOf("capture_"+d)&&e.push("capture_"+d);b.errors&&-1===e.indexOf("capture_error")&&!b.collection&&e.push("capture_error");!b.collection&&b.type&&-1===e.indexOf("capture_"+b.type)&&("checkbox"===b.type||"radio"===b.type?c.push("capture_"+b.type):e.push("capture_"+b.type));"elementCollection"===b.type&&b.displayInline&&-1===e.indexOf("capture_form_collection_inline")&&e.push("capture_form_collection_inline");
b.collection?(-1===e.indexOf("capture_"+d+"_"+b.elementName)&&e.push("capture_"+d+"_"+b.elementName),b.checked&&e.push("capture_toggled"),a+=j.createDiv({elementName:d+"_"+b.elementId,hide:b.hide,classes:e})):a+=j.createDiv({elementName:d+"_"+b.elementName,hide:b.hide,classes:e});if(("checkbox"===b.type||"radio"===b.type)&&!b.collection)a+=j.createDiv({elementName:d+"_inner_"+b.elementName,classes:c});return a},wrapFormItemEnd:function(b){return b.justElement||"submit"===b.type||"button"===b.type?
"":"</div>"},createPublicPrivateToggle:function(b){function a(){for(var b=lc.publicPrivateTogglers,g=b.length,c=0;c<g;c++)b[c]&&(b[c].style.display="none");lc.publicPrivateTogglers=[]}function d(a){var g=H(a),e=c(g),r=document.getElementById(e+"display_toggle_options_"+b.elementName),f=document.getElementById(e+"display["+(b.rendererFieldName||b.elementName)+"]"),h=document.getElementById(e+"display_indicator_public_"+b.elementName),D=document.getElementById(e+"display_indicator_private_"+b.elementName),
j=e+"display_option_public_"+b.elementName,k=e+"display_option_private_"+b.elementName;document.getElementById(e+"display_toggle_options_"+b.elementName);if(g.parentNode&&g.parentNode.id&&(g.parentNode.id===j||g.parentNode.id===k))g=g.parentNode;if(!g.id)return!1;g.id===j?(z(document.getElementById(j)).append("capture_checked"),z(document.getElementById(k)).remove("capture_checked"),f.value="public",z(h).append("capture_toggled"),z(D).remove("capture_toggled")):(z(document.getElementById(j)).remove("capture_checked"),
z(document.getElementById(k)).append("capture_checked"),f.value="private",z(h).remove("capture_toggled"),z(D).append("capture_toggled"));r.style.display="none";P(a)}var e;e=""+j.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+b.elementName});e+=j.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+b.elementName});var f=["capture_display_option"];b.displayPublic&&f.push("capture_checked");e+=j.createDiv({classes:f,elementId:"display_option_public_"+
b.elementName});e+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';f=["capture_display_option"];b.displayPublic||f.push("capture_checked");e+=j.createDiv({classes:f,elementId:"display_option_private_"+b.elementName});e+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';
f=["capture_display_toggle","capture_public"];b.disablePublicPrivate&&f.push("capture_display_toggle_disabled");b.displayPublic&&f.push("capture_toggled");e+=j.createDiv({classes:f,elementId:"display_indicator_public_"+b.elementName});e+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';f=["capture_display_toggle","capture_private"];b.disablePublicPrivate&&f.push("capture_display_toggle_disabled");b.displayPublic||f.push("capture_toggled");
e+=j.createDiv({classes:f,elementId:"display_indicator_private_"+b.elementName});e=e+'<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+j.createInput({type:"hidden",elementName:"display["+(b.rendererFieldName||b.elementName)+"]",value:b.displayPublic?"public":"private"});s.push({elementName:"display_toggle_wrap_"+b.elementName,eventType:"click",handler:function(e){var d=H(e),r=c(d),r=document.getElementById(r+"display_toggle_options_"+
b.elementName),f="none"===r.style.display||""===r.style.display?"block":"none";d.parentNode&&z(d.parentNode).has("capture_display_toggle")&&(d=d.parentNode);z(d).has("capture_display_toggle")&&!z(d).has("capture_display_toggle_disabled")&&("block"===f&&(a(),lc.publicPrivateTogglers.push(r)),r.style.display=f);P(e)}});s.push({elementName:"display_option_public_"+b.elementName,handler:d,eventType:"click"});s.push({elementName:"display_option_private_"+b.elementName,handler:d,eventType:"click"});Sb||
(Q(document.body,"click",function(b){b=H(b);b.parentNode&&z(b.parentNode).has("capture_display_toggle")&&(b=b.parentNode);!z(b).has("capture_display_toggle")&&!z(b).has("capture_display_option")&&a()}),Sb=!0);return e},createAnchor:function(b){var a="",c=b.fieldPrefix||J,e=b.elementId||b.elementName,d="object"===typeof b.elementAttributes?b.elementAttributes:{},f=b.elementClasses&&u(b.elementClasses)?b.elementClasses:[];A(f,"capture_"+e)||f.push("capture_"+e);a=a+"<a "+("id='"+c+e+"' ");b.target&&
(a+="target='"+b.target+"' ");a+="class='"+f.join(" ")+"' ";a+=xc(d)+" ";a+="data-capturefield='"+b.name+"' ";a+="href='"+b.elementHref+"' ";a+="name='"+b.elementName+"' ";a+=">";b.elementText&&(a+=b.elementText);return a+"</a>"},createTextarea:function(b){var a="",c=b.fieldPrefix||J,e=b.elementId||b.elementName,d=b.elementClasses&&u(b.elementClasses)?b.elementClasses:[],f=b.rows||"5",a=a+j.createLabel(b);A(d,"capture_"+e)||d.push("capture_"+e);A(d,"capture_textarea")||d.push("capture_textarea");
a=a+"<textarea "+("id='"+c+e+"' ")+("class='"+d.join(" ")+"' ");a+="data-capturefield='"+b.name+"' ";a=a+("rows='"+f+"' ")+("name='"+b.elementName+"' ");b.placeholder&&ac&&(a+="placeholder='"+b.placeholder+"'");a+=">";b.value&&(a+=b.value);a+="</textarea>";b.publicPrivateToggle&&(a+=j.createPublicPrivateToggle(b));return a+=j.createTip(b)},createTip:function(b){var a;a="<div class='capture_tip' ";b.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof b.tip?b.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+
(" data-elementName='"+b.elementName+"'>");a=a+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+b.elementName+"'>");b.errors&&u(b.errors)&&(a+=b.errors.join(" "));return a+"</div>"},createLabel:function(b,a){var c,e=b.fieldPrefix||J,d=b.elementId||b.elementName;if(!b.label)return a?a:"";c="<label ";"elementCollection"!==b.type&&(c+=" for='"+e+d+"'");c+=">";a&&(c+=a);b.label&&(c+=b.label);return c+"</label>"},createSelect:function(b){var a="",d=b.fieldPrefix||J,e=b.rendererFieldName,
f=b.rendererChildFieldName,h,k=b.justElement,i=b.elementClasses&&u(b.elementClasses)?b.elementClasses:[],l=b.elementId||b.elementName;A(i,"capture_"+l)||i.push("capture_"+l);A(i,"capture_select")||i.push("capture_select");a+=j.createLabel(b);a=a+'<span class="capture_select_arrow"><select '+("id='"+d+l+"' ")+("class='"+i.join(" ")+"' ");e&&(a+="data-capturerendererfield='"+e+"' ");b.showFieldWhere&&(a+='data-showFieldWhere="'+b.showFieldWhere+'" ');f&&(a+="data-capturerendererchildfieldname='"+f+
"' ");a+="data-capturefield='"+b.name+"' ";a+="name='"+b.elementName+"' ";a+=">";e=b.options||[];f=e.length;for(i=0;i<f;i++){var l=e[i],m=l.value||""===l.value?l.value:l.text,a=a+('<option value="'+m+'"');l.disabled&&(a+=' disabled="true"');u(l.showField)&&(a+=' data-showField="'+l.showField.join(",")+'"');m===b.value&&(a+=' selected="selected"',h=l.showField);a+=">"+l.text+"</option>"}a+="</select></span>";b.publicPrivateToggle&&(a+=j.createPublicPrivateToggle(b));k||(a+=j.createTip(b));s.push({handler:function(){h&&
ea(h,b.showFieldWhere,d)},eventType:"render"});s.push({elementName:b.elementName,handler:function(b){var a=H(b),b=c(a),g=a.getElementsByTagName("option")[a.selectedIndex].getAttribute("data-showField"),a=a.getAttribute("data-showFieldWhere");g&&g.length&&(g=g.split(","));ea(g,a,b)},eventType:"change"});return a},createButton:function(b){var a="",c=b.fieldPrefix||J,e=b.elementId||b.elementName,d=b.elementClasses&&u(b.elementClasses)?b.elementClasses:[],f=b.type?b.type:"submit";A(d,"capture_"+e)||d.push("capture_"+
e);A(d,"capture_btn")||d.push("capture_btn");A(d,"capture_primary")||d.push("capture_primary");a+="<button ";b.hide&&(a+="style='display:none' ");a=a+("id='"+c+e+"' ")+("class='"+d.join(" ")+"' ");a=a+("type='"+f+"' ")+("data-capturefield='"+b.name+"' ");b.value&&(a+="value='"+b.value+"' ");a+="name='"+b.elementName+"' ";a+=">";b.elementContent&&(a+=b.elementContent);return a+"</button>"},createInput:function(b){var a="",c="",e=b.fieldPrefix||J,d=b.elementId||b.elementName,f=b.elementClasses&&u(b.elementClasses)?
b.elementClasses:[],h="object"===typeof b.elementAttributes?b.elementAttributes:{},k="button"===b.type||"submit"===b.type||"checkbox"===b.type||"radio"===b.type||"hidden"===b.type,i=b.justElement||b.collection||"hidden"===b.type||"button"===b.type||"submit"===b.type,l="password"===b.type&&!ac&&b.placeholder?"text":b.type,n=("checkbox"===b.type&&!b.collection||"radio"===b.type&&!b.collection)&&!b.justElement,o=b.rendererFieldName,s=b.rendererChildFieldName,p=Pb&&!b.collection;A(f,"capture_"+d)||f.push("capture_"+
d);k||(c+=j.createLabel(b));a+="<input ";b.hide&&(a+="style='display:none' ");a=a+("id='"+e+d+"' ")+(xc(h)+" ");"text"===b.type||"email"===b.type||"password"===b.type||"file"===b.type?A(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===b.type||"radio"===b.type?A(f,"capture_input_"+b.type)||f.push("capture_input_"+b.type):"submit"===b.type&&(A(f,"capture_btn")||f.push("capture_btn"),A(f,"capture_primary")||f.push("capture_primary"));a+="class='"+f.join(" ")+"' ";a+="data-capturefield='"+
b.name+"' ";b.collection&&(a+="data-capturecollection='true' ");o&&(a+="data-capturerendererfield='"+o+"' ");s&&(a+="data-capturerendererchildfieldname='"+s+"' ");a+="type='"+l+"' ";("checkbox"===b.type||"radio"===b.type)&&b.elementValue?a+="value='"+b.elementValue+"' ":b.value?(f=b.value,b.displaySavedValue&&m[b.value]&&(f=m[b.value]),("password"===b.type||"text"===b.type||"email"===b.type)&&!b.errors&&p&&sc.push(e+d),a+="value='"+f+"' "):a=b.placeholder&&!ac?a+("value='"+b.placeholder+"' "):a+"value='' ";
b.placeholder&&(a+="placeholder='"+b.placeholder+"' ");if(b.checked||b.elementValue&&b.value===b.elementValue)a+="checked='checked' ";a+="name='"+b.elementName+"' ";a+="/>";c="checkbox"===b.type||"radio"===b.type?c+j.createLabel(b,a):c+a;b.publicPrivateToggle&&(c+=j.createPublicPrivateToggle(b));n&&(c+="</div>");i||(c+=j.createTip(b));return c},createDiv:function(b){var a="<div ",c=b.fieldPrefix||J,e=b.elementId||b.elementName,d=b.classes||[];A(d,"capture_"+e)||d.push("capture_"+e);a+="id='"+c+e+
"'";if("option"===b.type&&!b["default"]||b.hide)a+=" style='display:none'";"radioCollection"===b.type&&d.push("radio_set");u(d)&&d.length&&(a=a+' class="'+d.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=">";b.closeDiv&&(a+="</div>");return a},createImage:function(b){var a,c=b.fieldPrefix||J,e=b.classes||[],d=b.elementId||b.imageId||b.elementName||"";a="<img "+('src="'+b.src+'"');d&&!A(e,"capture_"+d)&&e.push("capture_"+d);b.hide&&(a+=" style='display:none'");b.alt&&(a+=" alt='"+b.alt+
"'");"undefined"!==typeof b.width&&(a+=" width='"+b.width+"'");"undefined"!==typeof b.height&&(a+=" height='"+b.height+"'");d&&(a+=' id="'+c+b.imageId+'" ');u(e)&&e.length&&(a=a+'class="'+e.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(b){var a,c="captureIFrame_"+b;if(document.getElementById(c))return!1;if(i){a="";var e=document.createElement("div");e.innerHTML=a+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+b+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';
document.body.appendChild(e)}else a=document.createElement("iframe"),a.setAttribute("name",c),a.setAttribute("data-transactionId",b),a.id=c,a.setAttribute("src","about:blank"),a.style.display="none",a.className="",document.body.appendChild(a)},createAnchor:function(b){var a=b.fieldPrefix||J,c=document.createElement("a");if(!b.classes||b.classes&&!u(b.classes))b.classes=[];b.elementId&&!A(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);c.setAttribute("href",b.elementHref);c.innerHTML=b.elementText;
b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createDiv:function(b){var a=b.fieldPrefix||J,c=document.createElement("div");if(!b.classes||b.classes&&!u(b.classes))b.classes=[];b.elementId&&!A(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createImage:function(b){var a=b.fieldPrefix||J,c=document.createElement("img");
if(!b.classes||b.classes&&!u(b.classes))b.classes=[];b.elementId&&!A(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.alt&&c.setAttribute("alt",b.alt);"undefined"!==typeof b.width&&c.setAttribute("width",b.width);"undefined"!==typeof b.height&&c.setAttribute("height",b.height);c.src=b.elementSrc;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createInput:function(b){var a=document.createElement("input"),c=b.fieldPrefix||
J,e="object"===typeof b.elementAttributes?b.elementAttributes:{},d=b.containerDivClasses||[],f;"submit"===b.elementType&&b.containerDiv&&(f=this.createDiv({elementName:b.elementName+"_containverDiv",classes:d}));if(!b.classes||b.classes&&!u(b.classes))b.classes=[];for(var h in e)e.hasOwnProperty(h)&&a.setAttribute(h,e[h]);b.elementId&&!A(b.classes,c+b.elementId)&&b.classes.push(c+b.elementId);b.elementType&&a.setAttribute("type",b.elementType);b.name&&a.setAttribute("data-capturefield",b.name);b.elementValue&&
(a.value=b.elementValue);b.elementName&&(a.name=b.elementName);b.elementId&&(a.id=c+b.elementId);b.hideElement&&(a.style.display="none");a.className=b.classes.join(" ");return f?(f.appendChild(a),f):a},createForm:function(b){b.transactionId||(b.transactionId=na());var a=b.transactionId,d=b.captureScreen||Z,e=c(d),f=document.createElement("form"),h=u(b.fields)?b.fields:[],k=h.length;j.domHelpers.createIFrame(a);b.needsResponse&&W(a);if(!b.classes||b.classes&&!u(b.classes))b.classes=[];b.elementId&&
!A(b.classes,e+b.elementId)&&b.classes.push(e+b.elementId);f.id=e+b.elementId+"_"+a;f.className=b.classes.join(" ");f.setAttribute("target","captureIFrame_"+a);f.setAttribute("data-transactionId",a);b.name&&f.setAttribute("data-capturefield",b.name);f.setAttribute("action",b.elementAction);f.setAttribute("method","POST");f.setAttribute("data-capturedomelement","true");b.validate&&f.setAttribute("data-capturedomelementvalidate","true");f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,
elementValue:"\u2713",elementName:"utf8"}));t&&t.mergeToken&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:t.mergeToken,elementName:"merge_token",elementId:"merge_token_"+a}));eb&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:eb,elementName:"bp_channel",elementId:"bp_channel_"+a}));aa&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:aa,elementName:"flow_path",elementId:"flow_path_"+
a}));vb?f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:vb,elementName:"access_token",elementId:"access_token_"+a})):Da&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Da,elementName:"access_token",elementId:"access_token_"+a}));Z&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:d,elementName:"capture_screen",elementId:"screen_"+a}));mb&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",
fieldPrefix:e,elementValue:mb,elementName:"js_version",elementId:"js_version_"+a}));b.serverNextScreen&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:b.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+a}));b.engageTokenRequired&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:Kb,fieldPrefix:e,elementName:"token",elementId:"token_"+a}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:a,
fieldPrefix:e,elementName:"capture_transactionId",elementId:"transactionId_"+a}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:b.name,elementName:"form",elementId:"form_"+a}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:t.flow,elementName:"flow",elementId:"flow_"+a}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"client_id",elementId:"client_id_"+a,elementValue:janrain.settings.capture.clientId}));
f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"redirect_uri",elementId:"redirect_uri_"+a,elementValue:janrain.settings.capture.redirectUri}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:janrain.settings.capture.responseType,elementName:"reponse_type",elementId:"response_type_"+a}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:tc,elementName:"flow_version",elementId:"flow_version_"+
a}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Na,elementName:"locale",elementId:"locale_"+a}));for(d=0;d<k;d++)switch(a=h[d],a.elementType){case "div":a.fieldPrefix=a.fieldPrefix||e;f.appendChild(j.domHelpers.createDiv(a));break;case "anchor":a.fieldPrefix=a.fieldPrefix||e;f.appendChild(j.domHelpers.createAnchor(a));break;case "hidden":a.fieldPrefix=a.fieldPrefix||e;f.appendChild(j.domHelpers.createInput(a));break;case "file":a.fieldPrefix=a.fieldPrefix||
e;f.setAttribute("enctype","multipart/form-data");f.appendChild(j.domHelpers.createInput(a));break;case "submit":a.fieldPrefix=a.fieldPrefix||e,f.appendChild(j.domHelpers.createInput(a))}j.domHelpers.createFormHandler(f,b);return f},createFormHandler:function(b,a){"function"===typeof a.callback&&(b.setAttribute("next",'{"function":"'+a.elementId+'"}'),Ab[a.elementId]=a.callback);Q(b,"submit",bb)},createFormAndPost:function(b){var a=b.fieldPrefix||J,c=na();b.fieldPrefix=b.fieldPrefix||a;b.transactionId=
c;var e=j.domHelpers.createForm(b),a=j.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:a,elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});e.appendChild(a);document.body.appendChild(e);j.domHelpers.createFormHandler(e,b);a.click()}},createListOfLinks:function(b,a){var c=b.fieldPrefix||J,e;optionsLength=b.length;e="<ul";u(a)&&a.length&&(e=e+' class="'+a.join(" "),e+='"');e+=">";for(var d=0;d<optionsLength;d++){e+="<li";"string"===typeof b[d].listItemId&&
(e+=' id="'+c+b[d].listItemId+'" ');b[d].hide&&(e+=' style="display: none;" ');if(!b[d].listItemClasses||!u(b[d].listItemClasses))b[d].listItemClasses=[];"string"===typeof b[d].listItemId&&!A(b[d].listItemClasses,"capture_"+b[d].listItemId)&&b[d].listItemClasses.push("capture_"+b[d].listItemId);u(b[d].listItemClasses)&&b[d].listItemClasses.length&&(e+=' class="',e+=b[d].listItemClasses.join(" "),e+='"');e+=">";e+='<a href="'+b[d].anchorHref+'"';"string"===typeof b[d].anchorId&&(e+=' id="'+c+b[d].anchorId+
'" ');if(!b[d].anchorClasses||!u(b[d].anchorClasses))b[d].anchorClasses=[];"string"===typeof b[d].anchorId&&!A(b[d].anchorClasses,"capture_"+b[d].anchorId)&&b[d].anchorClasses.push("capture_"+b[d].anchorId);u(b[d].anchorClasses)&&b[d].anchorClasses.length&&(e+=' class="',e+=b[d].anchorClasses.join(" "),e+='"');e+=">";e+=b[d].anchorText;e+="</a>";e+="</li>"}return e+"</ul>"},togglePasswordInput:function(b){var b=Qa(b),a=c(b);b.getAttribute("value")===b.getAttribute("placeholder")&&b.setAttribute("value",
"");if(i&&"text"===b.type){for(var d=[],e=0,f=s.length;e<f;e++)a+s[e].elementName==b.id&&(s[e].elementName=s[e].elementName,d.push(s[e]));a=document.createElement("span");e=b.parentElement;e.insertBefore(a,b);e.removeChild(b);f=document.createElement("input");f.id=b.id;f.setAttribute("data-capturefield",b.name);f.className="capture_password";f.name=b.name;f.setAttribute("type","password");e.insertBefore(f,a);e.removeChild(a);xa().attachEventHandlers(null,d);f.focus()}else b.setAttribute("type","password")},
clearPlaceHolder:function(b){if(ac)return!0;b=Qa(b);b.getAttribute("value")===b.getAttribute("placeholder")&&(i?b.value="":b.setAttribute("value",""))},restorePlaceHolder:function(b){if(ac)return!0;var b=Qa(b),a=b.getAttribute("placeholder");"password"===b.getAttribute("type")&&""===b.value&&b.setAttribute("type","text");a&&""===b.value&&(i?b.value=a:b.setAttribute("value",a))},validation:function(){var b,a;return{getElement:function(){return b},getParentDiv:function(){return a},setParentDiv:function(b){(a=
b)&&a.className.split(" ")},setElement:function(c){b=c;a&&a.className.split(" ")},valid:function(){z(a).append("capture_validated").remove("capture_error");var c={};b&&(c.field=b);janrain.events.onCaptureValidationSuccess.fire(c);janrain.events.onCaptureContentChange.fire()},pending:function(){z(a).append("capture_validating");janrain.events.onCaptureContentChange.fire()},notValid:function(d,e){z(a).append("capture_error").remove("capture_validated");if(d){for(var f,h=c(a),j=a.getElementsByTagName("div"),
k=j.length,i=0;i<k;i++)if("capture_tip_error"===j[i].className){var l=0===a.id.indexOf(h+"form_collection_")?h+"form_collection_":h+"form_item_";if(a.id.split(l)[1]===j[i].getAttribute("data-elementName")||a.id.split(l)[1]+"[dateselect_year]"===j[i].getAttribute("data-elementName")){f=j[i];break}}f&&(f.innerHTML=d);"function"===typeof e&&e();janrain.events.onCaptureContentChange.fire()}f={};b&&(f.field=b);janrain.events.onCaptureValidationFailed.fire(f)}}}},n={createSelect:j.createSelect,createTextarea:j.createTextarea,
createAnchor:j.createAnchor,createInput:j.createInput,createLabel:j.createLabel,createDiv:j.createDiv,createImage:j.createImage,createListOfLinks:j.createListOfLinks,toggelPassword:j.togglePasswordInput,clearPlaceHolder:j.clearPlaceHolder,restorePlaceHolder:j.restorePlaceHolder,getElementByEventAttribute:Qa};y.prototype.render={data:{engageCookieData:function(b){return Qb(b.cookieName)},stringData:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",a=b.displaySavedValue&&
Bb&&m[b.value]?m[b.value]:b.value;return a=b.justString?a:j.wrapStringData(b,a)},imageData:function(b){var a;b.value&&(b.returnImageTag?(a={elementName:b.elementname,hide:b.hide,src:b.value},b.classes&&(a.classes=b.classes),b.elementId&&(a.elementId=b.elementId),a=j.createImage(a)):a=b.value);return a}},htmlElement:{parent:y.prototype.render,textarea:function(b){var a;a=""+j.wrapFormItemStart(b);a+=j.createTextarea(b);return a+=j.wrapFormItemEnd(b)},select:function(b){var a;a=""+j.wrapFormItemStart(b);
a+=j.createSelect(b);a+=j.wrapFormItemEnd(b);j.attachFieldEventHandlers(b);return a},multi:function(b,a){var d,e,f=b.options.length;b.type="elementCollection";d=""+j.wrapFormItemStart(b);d+=j.createLabel(b);for(var h=0;h<f;h++)e=b.options[h],e.value=e.value||e.label,e.label=e.label||e.value,d+=this.input({elementName:b.elementName,type:a,elementId:b.elementName+"_"+e.value+"_"+h,name:b.name,value:e.value,collection:!0,label:e.label,checked:A(b.value,e.value)}),s.push({elementName:b.elementName+"_"+
e.value+"_"+h,handler:function(a,e){return function(){for(var g=c(this),d=document.getElementById(g+"form_collection_"+b.elementName),d=La("capture_form_item_"+b.elementName,d),g=document.getElementById(g+"form_item_"+b.elementName+"_"+a+"_"+e),f=0,h=d.length;f<h;f++)z(d[f]).remove("capture_toggled");g&&z(g).append("capture_toggled")}}(e.value,h),eventType:"click"});d+=j.createTip(b);return d+=j.wrapFormItemEnd(b)},multiCheckbox:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},
multiRadio:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},input:function(b){var a;a=""+j.wrapFormItemStart(b);a+=j.createInput(b);a+=j.wrapFormItemEnd(b);j.attachFieldEventHandlers(b);return a},button:function(b){var a;a=""+j.wrapFormItemStart(b);a+=j.createButton(b);a+=j.wrapFormItemEnd(b);j.attachFieldEventHandlers(b);return a},form:function(b){var a="<form ",c="object"===typeof b.elementAttributes?b.elementAttributes:{},e=b.localFieldPrefix||J,d=b.classes||[];d.indexOf("capture_form"===
-1)&&d.push("capture_form");d.indexOf(-1==="capture_"+b.elementName)&&d.push("capture_"+b.elementName);a+="id='"+e+b.elementName+"' ";a+=xc(c)+" ";a+="name='"+b.elementName+"' ";a+="data-capturefield='"+b.name+"' ";a+="action='"+janrain.settings.capture.captureServer+"/"+b.action+"' ";u(d)&&(a+="class='"+d.join(" ")+"' ");var a=a+"method='POST' novalidate='novalidate' "+("data-transactionId='"+b.transactionId+"' "),a=a+("target='captureIFrame_"+b.transactionId+"' "),a=a+">"+('<div id="'+e+b.elementName+
'_defaultSavedProfileMessage"></div>'),a=a+('<div id="'+e+b.elementName+'_errorMessages"></div>'),f="";if(b.errors){janrain.events.onCaptureFormError.fire(b.errors);for(var h in b.errors)b.errors.hasOwnProperty(h)&&(f+=j.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),f+=b.errors[h]+"</div>")}s.push({handler:function(){var a=document.getElementById(e+b.elementName);if(!a)return!1;var c=La("capture_form_error_container",a),c=c.length?c[0]:document.getElementById(e+
b.elementName+"_errorMessages");f?(c.innerHTML=f,z(a).append("capture_form_level_error")):c.innerHTML=""},eventType:"render"});a+=j.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});eb&&(a+=j.createInput({elementName:"bp_channel",elementId:"bp_channel"+b.transactionId,type:"hidden",value:eb}));aa&&(a+=j.createInput({elementName:"flow_path",elementId:"flow_path_"+b.transactionId,type:"hidden",value:aa}));t&&t.mergeToken&&(a+=j.createInput({elementName:"merge_token",elementId:"merge_token_"+
b.transactionId,type:"hidden",value:t.mergeToken}));vb?a+=j.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,type:"hidden",value:vb}):Da&&(a+=j.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,type:"hidden",value:Da}));Z&&(a+=j.createInput({elementName:"capture_screen",elementId:"screen_"+b.transactionId,type:"hidden",value:Z}));mb&&(a+=j.createInput({elementName:"js_version",elementId:"js_version_"+b.transactionId,type:"hidden",value:mb}));
b.serverNextScreen&&(a+=j.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+b.transactionId,type:"hidden",value:b.serverNextScreen}));b.engageTokenRequired&&(a+=j.createInput({elementName:"token",elementId:"token_"+b.transactionId,type:"hidden",value:Kb}));a+=j.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+b.transactionId,type:"hidden",value:b.transactionId});a+=j.createInput({elementName:"form",elementId:"form_"+b.transactionId,type:"hidden",
value:b.name});a+=j.createInput({elementName:"flow",elementId:"flow_"+b.transactionId,type:"hidden",value:t.flow});a+=j.createInput({elementName:"client_id",elementId:"client_id_"+b.transactionId,type:"hidden",value:janrain.settings.capture.clientId});a+=j.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+b.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});a+=j.createInput({elementName:"response_type",elementId:"response_type_"+b.transactionId,type:"hidden",
value:janrain.settings.capture.responseType});a+=j.createInput({elementName:"flow_version",elementId:"flow_version_"+b.transactionId,type:"hidden",value:tc});return a+=j.createInput({elementName:"locale",elementId:"locale_"+b.transactionId,type:"hidden",value:Na})},div:function(b){return j.createDiv(b)},close:function(b){return"</"+b.element+">"}},captureElement:{table:function(b){var a='<table class="capture_table">',c=y.prototype.render.htmlElement;if(b.th.display){var a=a+"<tr>",e;for(e in b.th.cols)a+=
"<th>"+b.th.cols[e]+"</th>";a+="</tr>"}for(var d in b.rows){var a=a+"<tr>",f;for(f in b.rows[d].cells)b.rows[d].cells[f].type&&"radio"===b.rows[d].cells[f].type?(e=b.rows[d].cells[f],e.name="table",b.value&&e.elementValue===b.value[e.rendererChildFieldName]&&(e.checked=!0),a+="<td>",a+=j.wrapFormItemStart(b),a+=c.input(e),a+=j.wrapFormItemEnd(b),a+="</td>"):a+="<td>"+b.rows[d].cells[f]+"</td>";a+="</tr>"}return a+"</table>"},countrySelect:function(b){b.options=[{text:"country",value:"",disabled:!0},
{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},
{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",
value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",
value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",
value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",
value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},
{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},
{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",
value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},
{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",
value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",
value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},
{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},
{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},
{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",
value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",
value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return y.prototype.render.htmlElement.select(b)},stateSelect:function(b){b.options=[{text:"state",value:"",disabled:!0},{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},{text:"GA",value:"GA"},{text:"HI",
value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},{text:"NY",value:"NY"},{text:"NC",
value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"},{text:"AB",value:"AB"},{text:"BC",value:"BC"},{text:"MB",value:"MB"},{text:"NB",
value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];return y.prototype.render.htmlElement.select(b)},keepMeLoggedIn:function(b){b=""+j.createInput({label:b.label||"Keep me logged in",type:"checkbox",name:b.name,justElement:!0,value:"yes",elementName:"capture_keep_me_logged_in"});s.push({elementName:"capture_keep_me_logged_in",handler:function(b){H(b).checked?
janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},!0)},eventType:"click"});return b},captcha:function(b){Tb||ia("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Tb=!0});s.push({elementName:b.name,handler:function(){function b(){if("undefined"===typeof Recaptcha)setTimeout(b,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,
"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}b()},eventType:"render"});var a;a=""+j.wrapFormItemStart(b);b.label&&(a+=j.createLabel(b));a=a+'<div id="recaptcha_container"></div>'+j.createTip(b);return a+=j.wrapFormItemEnd(b)},mergeAccounts:function(b,a){var a=a?L.parse(a):{custom:!1},c=y.prototype.render,e=b.value,d="";e.existing_provider="legacy"===e.existing_provider?"email":e.existing_provider;b.customText||(b.customText={});var f=b.customText.connectRadio||
'Connect this session with your existing account <br /><span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',h=b.customText.connectLegacyRadio||'Connect this session with your existing account <br /><span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',
j=b.customText.createRadio||"Create a new account using Google sign-in.",i=b.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",k=b.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',l=b.customText.moreInfo||"More Info ?",m=b.customText.createButton||
"Create",n=b.customText.connectButton||"Connect";e.connectRadioText=R(e,f);e.connectLegacyRadioText=R(e,h);e.createRadioText=R(e,j);e.foundExistingAccountText=R(e,i);e.moreInfoHoverText=R(e,k);e.moreInfoText=R(e,l);e.createButtonText=R(e,m);e.connectButtonText=R(e,n);e.connect_button=c.htmlElement.button({elementContent:'<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase()+'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+
e.current_provider.toLowerCase()+'"></span>'+n,elementName:b.name+"_connectButton",name:b.name+"_connectButton",element:"button",type:"button"});e.create_button=c.htmlElement.button({elementContent:m,hide:!0,elementName:b.name+"_createButton",name:b.name+"_createButton",element:"button",type:"submit"});e.merge_radio=c.htmlElement.multiRadio({element:"multiRadio",value:[1],elementName:b.name+"_mergeRadio",classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===e.existing_provider?
R(e,h):R(e,f),value:1},{label:j,value:2}]});e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase();e.existing_provider_lowerCase=e.existing_provider.toLowerCase();a.custom?s.push({handler:function(){var a=document.getElementById(b.name);
a.innerHTML=R(e,a.innerHTML)},eventType:"render"}):d+=R(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}          </div>         <span class="capture_mergeProvider janrain-provider-icon-30 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
s.push({elementName:b.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(b.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(rc=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});s.push({elementName:b.name+"_createButton",handler:function(){Zb=null;janrain.apps.capture.ui.renderScreen(janrain.settings.capture.registerFlow||"socialRegister")},
eventType:"click"});s.push({elementName:b.name+"_mergeRadio_1_0",handler:function(){document.getElementById(J+b.name+"_connectButton").style.display="block";document.getElementById(J+b.name+"_createButton").style.display="none"},eventType:"click"});s.push({elementName:b.name+"_mergeRadio_2_1",handler:function(){document.getElementById(J+b.name+"_connectButton").style.display="none";document.getElementById(J+b.name+"_createButton").style.display="block"},eventType:"click"});return d},publicProfileLink:function(b,
a){var c="",e=a?L.parse(a).elementHref:b.elementHref;b.elementAttributes="object"===typeof b.elementAttributes?b.elementAttributes:{};b.addUUIDToLink&&(b.elementAttributes["data-captureuseruuid"]=b.value);b.elementHref=e+"?uuid="+b.value;b.elementText=b.elementText||"Public Profile";return c+=j.createAnchor(b)},linkAccounts:function(b){b.value||(b.value={});b.customText||(b.customText={});var a=Z,c=b.fieldPrefix||J,e='<div class="capture_linkAccounts" id="'+c+b.name+'_currentlinkedaccounts">',d=t.fields[b.linkAccountContainer].elementName||
t.fields[b.linkAccountContainer].name||b.linkAccountContainer,f=b.customText.linkAnotherAccount||"Link Another Account",h=u(b.value.providers)?b.value.providers.length:0,i=c+b.name+"_linkaccountsscreen",k=b.providerIconSize&&A(Tc,b.providerIconSize)?b.providerIconSize:16,l=y.prototype.render;u(b.customProviders)&&(b.customProviders=b.customProviders.filter(function(a){return!A(b.value.providers,a)}));for(var e=e+('<ul class="capture_provider" id="'+c+b.name+'_linkedproviderlist">'),m=0;m<h;m++){e+=
'<li class="capture_provider_linked"><span class="';e+="janrain-provider-icon-"+k+" janrain-provider-icon-"+b.value.providers[m]+(b.customIcons?"-custom":"")+'">';e+='</span><span class="';e+="janrain-provider-text-"+b.value.providers[m]+(b.customIcons?"-custom":"")+'">'+(b.displayFormat?R({provider:b.value.providers[m],displayName:b.value.displayNames[m]},b.displayFormat):b.value.providers[m]);e+="</span>";if(zc||0!==m)e+='<span class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+
b.value.providers[m]+'" data-captureidentifier="'+b.value.identifiers[m]+'"></span>';e+="</li>"}if(b.customAddLinks){m=0;for(f=b.customProviders.length;m<f;m++)e+='<li class="capture_custom_add_linkedaccount" data-captureprovider="'+b.customProviders[m]+'">',e+=R({provider:b.customProviders[m]},b.customAddLinkFormat)+"</li>";s.push({elementName:b.name+"_linkedproviderlist",handler:function(b){b=H(b);b=Gc(b,"li");z(b).has("capture_custom_add_linkedaccount")&&(b=b.getAttribute("data-captureprovider"),
janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:a},!0),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.triggerFlow(b))},eventType:"click"})}else e+='<li class="capture_linkAccount"><a href="#" id="'+c+b.name+'_linknewlink">'+f+"</a></li>";e+="</ul></div>";s.push({elementName:b.name+"_linknewlink",handler:function(b){janrain.engage&&janrain.engage.signin&&
janrain.engage.signin.setNoReturnExperience(!0);janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:a},!0);xb(document.getElementById(i));P(b)},eventType:"click"});s.push({elementName:b.name+"_currentlinkedaccounts",handler:function(e){var d=H(e);if(z(d).has("capture_remove_linkedaccount")){var f=d.getAttribute("data-captureidentifier");j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",
elementId:"getUserData_form",fieldPrefix:c,captureScreen:a,needsResponse:!0,callback:function(){var a=d.getAttribute("data-captureprovider");janrain.events.onCaptureProfileUnlink.fire({provider:a});if(b.customAddLinks){var e=document.createElement("li");e.className="capture_custom_add_linkedaccount";e.setAttribute("data-captureprovider",a);e.innerHTML=R({provider:a},b.customAddLinkFormat);document.getElementById(c+b.name+"_linkedproviderlist").appendChild(e)}Eb(d.parentNode)},fields:[{elementName:"identifier[]",
elementType:"hidden",elementValue:f},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:f}]})}P(e)},eventType:"click"});e=e+'<div style="display: none;">'+('<div id="'+i+'" class="janrain-capture-ui capture-ui-content capture_addLinkedAccount">');V&&V.modal&&(e+=l.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));e+='<div  id="'+c+b.name+'_linkAccountContainerContainer">';e+="</div></div></div>";b.customAddLinks||
s.push({handler:function(){var a=document.getElementById(c+d);document.getElementById(c+b.name+"_linkAccountContainerContainer").appendChild(a)},eventType:"render"});return e},errorMessages:function(){var b;b=""+y.prototype.render.htmlElement.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return b+"</div>"},savedProfileMessage:function(){var b;b=""+y.prototype.render.htmlElement.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),
hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});return b+"</div>"},nameFull_public:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",a="";b.value.firstname&&(a+=b.justString?b.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+b.value.firstname+"</span> ");b.value.middlename&&(a+=b.justString?b.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+b.value.middlename+"</span> ");
b.value.lastname&&(a+=b.justString?b.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+b.value.lastname+"</span>");return a=b.justString?a:j.wrapStringData(b,a,"capture_stringdata_nameBlock")},nameFull:function(b){var a,c=y.prototype.render.htmlElement;a='<div class="capture_form_item capture_nameBlock">'+c.input({elementName:b.name+"[firstname]",elementId:b.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",
rendererFieldName:b.name,publicPrivateToggle:b.publicPrivateToggle,displayPublic:b.displayPublic,value:b.value&&b.value.firstname?b.value.firstname:"",placeholder:b.placeholder&&b.placeholder.firstname?b.placeholder.firstname:""});a+=c.input({elementName:b.name+"[middlename]",elementId:b.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:b.name,value:b.value&&b.value.middlename?b.value.middlename:"",placeholder:b.placeholder&&
b.placeholder.middlename?b.placeholder.middlename:""});a+=c.input({elementName:b.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:b.name+"_lastname",type:"text",rendererFieldName:b.name,rendererChildFieldName:"lastname",value:b.value&&b.value.lastname?b.value.lastname:"",placeholder:b.placeholder&&b.placeholder.lastname?b.placeholder.lastname:""});return a+"</div>"},dateselect_public:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic||!b.value.dateselect_month||
!b.value.dateselect_year||!b.value.dateselect_day)return"";var a="",c="",a=parseInt(b.value.dateselect_month,10),c=parseInt(b.value.dateselect_year,10),e=parseInt(b.value.dateselect_day,10);b.format?(a=new Date(c,a-1,e),c=b.format,c=c.replace("{yyyy}",a.getFullYear()),c=c.replace("{month}",Sc[a.getMonth()]),c=c.replace("{day}",Rc[a.getDay()]),c=c.replace("{m}",a.getMonth()+1),c=c.replace("{d}",a.getDate())):c=a+"/"+e+"/"+c;return a=b.justString?c:j.wrapStringData(b,c,"capture_stringdata_dateselectBlock")},
dateselect:function(b){function a(e){e=H(e);e=c(e);e=document.getElementById(e+"form_item_"+b.elementName);z(e).append("capture_focused").remove("capture_error");Jb&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()}function f(a){a=H(a);a=c(a);a=document.getElementById(a+"form_item_"+b.elementName);z(a).remove("capture_focused")}b.customText||(b.customText={});var e=b.customText.dayLabelDateSelect||"day",h=b.customText.monthLabelDateSelect||"month",i=b.customText.yearLabelDateSelect||
"year",k='<div id="'+(b.fieldPrefix||J)+"form_item_"+b.name+'" class="capture_form_item capture_dateselectBlock">',l,m=u(b.format)&&3===b.format.length?b.format:["month","day","year"],n=b.value&&b.value.dateselect_day?b.value.dateselect_day:"",o=b.value&&b.value.dateselect_year?b.value.dateselect_year:"";l=[{text:h,value:"",disabled:!0},{text:"January",value:1},{text:"February",value:2},{text:"March",value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},
{text:"August",value:8},{text:"September",value:9},{text:"October",value:10},{text:"November",value:11},{text:"December",value:12}];var p=b.monthStart||1,t=b.monthEnd||13,w=b.dayStart||1,A=b.dayEnd||31,h=b.yearStart||1929,y=b.yearEnd||2012;l={elementName:b.name+"[dateselect_month]",elementId:b.name+"_dateselectmonth",rendererFieldName:b.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],justElement:!0,value:b.value&&b.value.dateselect_month?b.value.dateselect_month:
"",options:l.slice(0,1).concat(l.slice(p,t))};e={elementName:b.name+"[dateselect_day]",elementId:b.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:b.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:n,options:d(w,A,"asc",e)};h=parseInt(h,10);y=parseInt(y,10);i={elementName:b.name+"[dateselect_year]",justElement:!0,elementId:b.name+"_dateselectyear",rendererFieldName:b.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],
value:o,options:d(h,y,"desc",i)};for(o=0;3>o;o++){var v;switch(m[o]){case "month":v=l;break;case "day":v=e;break;case "year":v=i}0===o&&(v.label=b.label);2===o&&(v.publicPrivateToggle=b.publicPrivateToggle,v.displayPublic=b.displayPublic,v.tip=b.tip,v.justElement=!1);k+=j.createSelect(v)}k+="</div>";s.push({elementName:b.name+"_dateselectyear",handler:a,eventType:"focus"});s.push({elementName:b.name+"_dateselectyear",handler:f,eventType:"blur"});s.push({elementName:b.name+"_dateselectday",handler:a,
eventType:"focus"});s.push({elementName:b.name+"_dateselectday",handler:f,eventType:"blur"});s.push({elementName:b.name+"_dateselectmonth",handler:a,eventType:"focus"});s.push({elementName:b.name+"_dateselectmonth",handler:f,eventType:"blur"});return k},addressFull_public:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",a="";b.value.streetaddress&&(a+='<div class="capture_stringdata_addressBlock_streetaddress">'+b.value.streetaddress+"</div>");b.value.streetaddress2&&
(a+='<div class="capture_stringdata_addressBlock_streetaddress2">'+b.value.streetaddress2+"</div>");if(b.value.city||b.value.stateprovince||b.value.zippostalcode)a+='<div class="capture_stringdata_addressBlock_citystatezip">';b.value.city&&(a+='<span class="capture_stringdata_addressBlock_city">'+b.value.city+"</span>, ");b.value.stateprovince&&(a+='<span class="capture_stringdata_addressBlock_stateprovince">'+b.value.stateprovince+"</span> ");b.value.zippostalcode&&(a+='<span class="capture_stringdata_addressBlock_zippostalcode">'+
b.value.zippostalcode+"</span>");if(b.value.city||b.value.stateprovince||b.value.zippostalcode)a+="</div>";b.value.country&&(a+='<div class="capture_stringdata_addressBlock_country">'+b.value.country+"</div>");return a=j.wrapStringData(b,a,"capture_stringdata_addressBlock")},addressFull:function(b){var a,d=y.prototype.render.htmlElement;b.value||(b.value={});b.value.country||(b.value.country="United States");a='<div class="capture_form_item capture_addressBlock">'+d.input({elementName:b.name+"[streetaddress]",
elementId:b.name+"_streetaddress",label:"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:b.name,publicPrivateToggle:b.publicPrivateToggle,displayPublic:b.displayPublic,value:b.value&&b.value.streetaddress?b.value.streetaddress:"",placeholder:b.placeholder&&b.placeholder.streetaddress?b.placeholder.streetaddress:""});a+=d.input({elementName:b.name+"[streetaddress2]",elementId:b.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:b.name,
value:b.value&&b.value.streetaddress2?b.value.streetaddress2:"",placeholder:b.placeholder&&b.placeholder.streetaddress2?b.placeholder.streetaddress2:""});a+=d.input({elementName:b.name+"[city]",elementId:b.name+"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:b.name,value:b.value&&b.value.city?b.value.city:"",placeholder:b.placeholder&&b.placeholder.city?b.placeholder.city:""});a+=y.prototype.render.captureElement.stateSelect({elementName:b.name+
"[stateprovince]",elementId:b.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:b.name,label:"",placeholder:"State/Province",hide:!(b.value&&"United States"===b.value.country||b.value&&"Canada"===b.value.country),value:b.value&&b.value.stateprovince?b.value.stateprovince:""});s.push({elementName:b.name+"_stateprovince",handler:function(){},eventType:"change"});a+=d.input({elementName:b.name+"[zippostalcode]",elementId:b.name+
"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:b.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:b.value&&b.value.zippostalcode?b.value.zippostalcode:"",placeholder:b.placeholder&&b.placeholder.zippostalcode?b.placeholder.zippostalcode:""});a+=y.prototype.render.captureElement.countrySelect({elementName:b.name+"[country]",elementId:b.name+"_country",rendererChildFieldName:"country",rendererFieldName:b.name,elementClasses:["capture_addressFull_country"],
value:b.value&&b.value.country?b.value.country:"",placeholder:b.placeholder&&b.placeholder.country?b.placeholder.country:""});s.push({elementName:b.name+"_country",handler:function(a){var a=H(a),a=c(a),d=this.options[this.selectedIndex].value||"",f=document.getElementById(a+b.name+"_stateprovince");"United States"===d||"Canada"===d?document.getElementById(a+"form_item_"+b.name+"[stateprovince]").style.display="inline-block":(f.selectedIndex=0,document.getElementById(a+"form_item_"+b.name+"[stateprovince]").style.display=
"none")},eventType:"change"});return a+"</div>"},backButton:function(a){var c;a.type="button";c=""+j.createInput(a);a.type="backButton";s.push({elementName:a.elementName,handler:function(){pc=!1;var a=Ya.pop();a&&janrain.capture.ui.render(a.flow,a.values)},eventType:"click"});return c},partial:function(a){var c=document.getElementById(a.layout);if(c)return c.innerHTML;throw E(a.layout);},photoManager:function(a,d){function f(c){wb=!1;var e=document.getElementById(p+a.name+"_profile_pic_uploadform_container"),
d=document.getElementById(p+a.name+"_upload_photo_form");e.innerHTML="";var g=document.createElement("div");g.innerHTML=aa;var h=document.createElement("div");h.innerHTML=ba;e.appendChild(g);e.appendChild(d);e.appendChild(h);xb(document.getElementById(F));e=document.getElementById(p+"photo_chooser");Q(e,"change",o);janrain.events.onModalClose.addHandler(function(){wb=!0});c&&P(c)}function e(c){if(0<parseInt(c.unscaled.width)){x=c;var e=c.unscaled.height/c.sizedHeight,d=Math.round(t/(c.unscaled.width/
c.sizedWidth)),f=document.getElementById(p+a.name+"_profile_pic_image_edit"),e=Math.round(v/e);"none"===f.style.display&&(f.style.display="block");f.style.width=d+"px";f.style.height=e+"px";f.style.marginLeft="-"+Math.round(c.unscaled.left/c.sizedWidth*d)+"px";f.style.marginTop="-"+Math.round(c.unscaled.top/c.sizedHeight*e)+"px"}}function h(){if(C)return!1;var c=document.getElementById(p+a.name+"_profile_pic_image_edit_crop");crop(c,e,z,w,function(){janrain.events.onCaptureContentChange.fire()});
c.style.display="inline";C=!0}function k(a){if(!x)return!1;H(a);var a=x.sizedWidth/x.originalWidth,b=x.sizedHeight/x.originalHeight;document.getElementById(p+"width").value=Math.round(x.unscaled.width/a);document.getElementById(p+"height").value=Math.round(x.unscaled.height/b);document.getElementById(p+"x").value=Math.round(x.unscaled.left/a);document.getElementById(p+"y").value=Math.round(x.unscaled.top/b)}var d=d?L.parse(d):{custom:!1},i={};if(u(a.value)&&a.value.length){Ca={};for(var l=0,m=a.value.length;l<
m;l++)Ca[a.value[l].type]=a.value[l]}else Ca=!1;var l=j.createDiv({elementName:a.elementName+"_parent"}),n=Z,p=a.fieldPrefix||J,m=y.prototype.render.htmlElement,t=a.previewSizeWidth||100,v=a.previewSizeHeight||100,w=a.originalMaxWidth||450,z=a.originalMaxHeight||450,x,C=!1,B="object"===typeof Ca,E=B?"":"capture_profile_pic ",F=p+a.name+"_uploadphotoscreen",G=p+a.name+"_editphotoscreen";i.profilePicClass=E;i.uploadPhotoScreenId=F;i.editPhotoScreenId=G;var t=parseInt(t,10),v=parseInt(v,10),w=parseInt(w,
10),z=parseInt(z,10),I={elementName:a.elementName};B&&Ca.large&&(I.classes=["capture_userphoto"]);i.mainDiv=j.createDiv(I);i.closeDiv="</div>";a.customText||(a.customText={});var I=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",K=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",M=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",N=a.customText.removePhotoLinkPhotoManager||"Remove photo",O=a.customText.editPhotoLinkPhotoManager||
"Edit Photo",S=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo",T=a.customText.editPhotoButtonTextPhotoManager||"Save",U=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",V=a.customText.removePhotoButtonTextPhotoManager||"Remove",$=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",aa=a.customText.uploadNewPhotoInstructionPhotoManager||"",ba=a.customText.uploadNextStepInstructionPhotoManager||"",ca=a.customText.editPhotoPreviewTitlePhotoManager||"";
i.editProfilePhotoTitle=a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo";i.editProfileInstruction=K;i.profilePhotoTitle=I;i.prefixFieldName=p+a.name;i.editPhotoPreviewTitle=ca;Eb(document.getElementById(F));Eb(document.getElementById(G));i.profileImage='<div id="'+p+a.name+'_profile_pic" class="'+E+'capture_profile_pic_display capture_default">';B&&Ca.large&&(i.profileImage+=j.createImage({src:Ca.large.value,imageId:a.name+"_profile_pic_image"}));i.profileImage+="</div>";i.photoLinks=
j.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:M,anchorHref:"#",anchorClasses:["capture_upload_photo_link"],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:O,anchorHref:"#",anchorClasses:["capture_edit_photo_link"],anchorId:"edit_photo_link",hide:!B},{listItemId:"remove_photo",listItemClasses:[],anchorText:N,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!B}],["options"]);i.uploadImage=
B&&Ca.large?j.createImage({src:Ca.large.value,imageId:a.name+"_profile_pic_image_upload"}):"";i.editImage=B&&Ca.original?j.createImage({src:Ca.original.value+"?"+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit"}):"";i.cropImage=B&&Ca.original?j.createImage({src:Ca.original.value+"?"+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}):"";i.photoChooserErrors=j.createDiv({elementId:"photo_chooser_errors"});i.photoChooserErrors+=
"</div>";var X=na();j.domHelpers.createIFrame(X);i.uploadFormOpen=m.form({action:"widget/photo/upload_photo.jsonp",elementAttributes:{enctype:"multipart/form-data"},transactionId:X,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form"});i.uploadFileField=j.createInput({elementName:"photo",elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});i.uploadSubmitButton=j.createInput({elementName:"photo_submit",elementId:"photo_submit",value:U,
classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});i.uploadFormClose="</form>";var Y=na();j.domHelpers.createIFrame(Y);i.editFormOpen=m.form({action:"widget/photo/crop_photo.jsonp",transactionId:Y,name:a.name+"_crop_photo_form",elementName:a.name+"_crop_photo_form"});i.editFormOpen+=j.createDiv({elementName:"",classes:["capture_popup-arrow"],type:"div"});i.editFormOpen+="</div>";i.editFormOpen+=j.createInput({elementName:"width",elementId:"width",justElement:!0,type:"hidden"});
i.editFormOpen+=j.createInput({elementName:"height",elementId:"height",justElement:!0,type:"hidden"});i.editFormOpen+=j.createInput({elementName:"x",elementId:"x",justElement:!0,type:"hidden"});i.editFormOpen+=j.createInput({elementName:"y",elementId:"y",justElement:!0,type:"hidden"});i.editSubmitButton=j.createInput({elementName:"edit_photo_submit",elementId:"edit_photo_submit",value:T,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});i.editFormClose="</form>";i.chooseDifferentPhotoLink=
j.createAnchor({elementHref:"#",elementText:S,elementId:a.name+"_different_photo_link"});d.custom?s.push({handler:function(){var c=document.getElementById(p+a.name+"_parent");c.innerHTML=R(i,c.innerHTML);s.push({elementName:a.name+"_upload_photo_form",handler:bb,eventType:"submit"});s.push({elementName:a.name+"_crop_photo_form",handler:bb,eventType:"submit"});W(X);W(Y)},eventType:"render"}):(l+=R(i,'{| mainDiv |}      {| profileImage |}     {| photoLinks |}     &nbsp;  {| closeDiv |}  <\!-- hidden crop form --\> <div style="display: none;"> {| editFormOpen |} <div class="capture_footer"> {| chooseDifferentPhotoLink |} {| editSubmitButton |} </div> {| editFormClose |} </div> <\!-- hidden upload form --\> <div style="display: none;"> {| uploadFormOpen |} {| uploadFileField |} <div class="capture_footer"> {| uploadSubmitButton |} </div> {| uploadFormClose |} </div> <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| photoChooserErrors |}             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div>  <\!-- hidden edit photo screen --\> <div style="display: none;">     <div id="{| editPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| editProfilePhotoTitle |}</h1>         </div>         <div class="{| profilePicClass |}profile_pic_edit_container">             <h2>{| editPhotoPreviewTitle |}</h2>             <div id="{| prefixFieldName |}_profile_pic_edit" class="{| profilePicClass |}capture_profile_pic_edit capture_default">                 {| editImage |}                 &nbsp;             </div>         </div>         <div id="{| prefixFieldName |}_profile_pic_editPhoto_container" class="capture_editPhoto_container">             <h2>{| editProfileInstruction |}</h2>             {| cropImage |}         </div>     </div> </div> '),
l+="</div>",s.push({elementName:a.name+"_upload_photo_form",handler:bb,eventType:"submit"}),s.push({elementName:a.name+"_crop_photo_form",handler:bb,eventType:"submit"}),W(X),W(Y));s.push({eventType:"render",handler:function(){var c=document.getElementById(p+a.name+"_different_photo_link");Q(c,"click",f);c=document.getElementById(p+a.name+"_crop_photo_form");document.getElementById(p+a.name+"_profile_pic_editPhoto_container").appendChild(c);Q(c,"submit",k)}});s.push({elementName:"upload_photo_link",
handler:f,eventType:"click"});s.push({elementName:"edit_photo_link",handler:function(a){"function"!==typeof crop?ia("http://janrain-widgets.s3.amazonaws.com/crop/crop.js",h):setTimeout(h,50);wb=!1;xb(document.getElementById(G));janrain.events.onModalClose.addHandler(function(){wb=!0});P(a)},eventType:"click"});s.push({elementName:"remove_photo_link",handler:function(a){var b=H(a),e=c(b);if(!document.getElementById(e+"remove_photo_contain")){var d=j.domHelpers.createDiv({elementId:"remove_photo_contain",
fieldPrefix:e,classes:["capture_popup_container pad"]}),b=j.domHelpers.createAnchor({elementHref:"#",fieldPrefix:e,elementText:V,elementId:"confirm_remove_photo_link"}),f=j.domHelpers.createAnchor({elementHref:"#",fieldPrefix:e,elementId:"cancel_remove_photo_link",elementText:$});d.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';d.appendChild(b);d.appendChild(f);document.getElementById(e+"remove_photo").appendChild(d);var g=function(a){var b=[e+"createFormAndPostSubmit",e+
"confirm_remove_photo_link",e+"remove_photo_link"],c=H(a).getAttribute("id")||"";!A(b,H(a).getAttribute("id"))&&0>c.indexOf(e+"createFormAndPostSubmit_")&&(d.innerHTML="",Eb(d),gc(document,"click",g),P(a))};Q(f,"click",g);Q(document,"click",g);Q(b,"click",function(a){j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:e,captureScreen:n,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});P(a)});P(a)}},
eventType:"click"});return l},slider:function(a){for(var c=j.createDiv({elementName:"slider capture_form_item"}),d=y.prototype.render.htmlElement,e=a.fieldPrefix||J,f=a.value&&a.value.score?a.value.score:0,c=c+("<label>"+a.label+"</label>"),c=c+j.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),c=c+j.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),c=c+j.createDiv({elementName:a.elementName+"_marker",classes:["capture_slider_marker"]}),
c=c+'</div></div><div class="capture_slider_list"><ul>',h=0,i;i=a.legend_items[h];h++)c+="<li>"+i+"</li> ";c=c+"</ul></div></div>"+d.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&a.value.score?a.value.score:""});c+="</div>";s.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(e+a.elementName+
"_marker").style.left=f+"%"}});if(!0===a.enabled){var k=!1;s.push({elementName:a.elementName+"_marker",eventType:"mousedown",handler:function(c){k=!0;var d=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),g=d.getBoundingClientRect().width;(new yc).setElement(document.getElementById(e+a.elementName+"_marker")).setElementBoundry(document.getElementById(e+a.elementName+"_container")).setCallback(function(a){f.value=Math.round(100*(a.pos_x/g))}).drag(c)}});
s.push({elementName:a.elementName+"_marker",eventType:"mouseup",handler:function(){var c=document.getElementById(e+a.elementName+"_marker"),d=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),g=d.getBoundingClientRect().width,c=parseInt(Cc(c.id,"left")),g=d.getBoundingClientRect().width;f.value=Math.round(100*(c/g))}});s.push({elementName:a.elementName+"_container",eventType:"mouseover",handler:function(){document.getElementById(e+a.elementName+"_container").style.cursor=
"pointer"}});s.push({elementName:a.elementName+"_container",eventType:"click",handler:function(c){if(!0===k)k=!1;else{var d=document.getElementById(e+a.elementName+"_marker"),f=document.getElementById(e+a.elementName+"_base"),g=document.getElementById(e+a.elementName+"_score"),h=f.getBoundingClientRect().width,i=c.clientX-Ic(f).x;_marker_left_style=parseInt(Cc(d.id,"left"));_marker_left=isNaN(_marker_left_style)?0:_marker_left_style;_time=500;(new yc).setElement(d).setAcceleration("sinusoidal").setDuration(_time).startPosition(_marker_left).endPosition(i).setDirection("horizontal").setCallback(function(){g.value=
Math.round(100*(i/h))}).animate()}}})}return c},collection:{radio:function(a){for(var c=a.fieldPrefix||J,d=j.createDiv({elementName:a.elementName,classes:a.classes||""}),e=0;e<a.collection.length;e++)d+="<div class='capture_radio_toggle",d+=(0===e?" capture_toggled":"")+"'>",d+="<input type='radio' id='"+c+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",d+="<label ",d+="class='capture_radio_label' ",d+="for='"+
c+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",d+="</label></div>",s.push({elementName:"radio_"+a.collection[e].elementName,handler:function(c){U(c,a)},eventType:"click"});return d+"</div>"},accordion:function(){return"<div>"},tab:function(a){for(var c,d=[],e=j.createDiv({elementName:a.elementName,classes:a.classes||""}),f=0;f<a.collection.length;f++)c={},c.listItemId="tab_li_"+a.collection[f].elementName,c.listItemClasses=["capture_tab_toggle"],0===f&&c.listItemClasses.push("capture_toggled"),
c.anchorId="tab_"+a.collection[f].elementName,c.anchorText=a.collection[f].label,c.anchorHref="#",d.push(c),s.push({elementName:"tab_"+a.collection[f].elementName,handler:function(c){U(c,a)},eventType:"click"});e+=j.createListOfLinks(d,["capture_tabs"]);return e+"</div>"}}},widget:{login:function(){s.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),b=document.getElementById(J+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=
na();janrain.engage.signin.appendTokenParams({capture_transactionId:c});tb=c}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());rb||ka()},eventType:"render"});var a=j.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(a,c){c=c?L.parse(c):{text:"Share"};s.push({elementName:"share_widget",
eventType:"click",handler:function(){janrain.engage.share.show()}});var d=j.createDiv({elementName:"share_widget",classes:["share_widget"]});return d+=c.text+" </div>"}}};var I,Vb,fa=0,wb=!0;Xb.accessDenied='<div class="capture_access">'+(Xa.accessDenied||"Sorry. Access denied.")+"</div>";Xb.retrievingUserData='<div class="capture_retrieving">'+(Xa.retrievingUserData||"Please wait while we retrieve your user data.")+"</div>";var kc=[],Ac={};return{modal:{close:function(){"object"==typeof x&&x.close()},
closeConfirm:function(){"object"==typeof x&&x.closeConfirm()},open:function(a){a=a||V.flow.defaultScreen;if("object"==typeof x&&(janrain.capture.ui.renderScreen(a),a=document.getElementById(t.screens[a].layout)))x.setShowContentOnLoad(!0),x.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof x&&(x.setBorder(a),x.refresh());return!0},setBorderColor:function(a){"object"===typeof x&&(x.setBorderColor(a),x.refresh());return!0},setBorderOpacity:function(a){"object"===
typeof x&&(x.setBorderOpacity(a),x.refresh());return!0},setBorderRadius:function(a){"object"==typeof x&&(x.setBorderRadius(a),x.refresh());return!0}},start:function(b,c){a(b,c)},hasActiveSession:function(){return!!Da},render:function(a,c){a.i18nStrings&&(Xa=a.i18nStrings);if(a.version)tc=a.version;else throw Error("MissingVersionError: Missing version.");l(a);zc=a.hasTraditionalAccount;sb=a.form;if(zc)for(var d=La("janrain_traditional_account_only"),e=d.length,f=0;f<e;f++)d[f].style.display="";d=
new xa;e=t.oneTimeRender||janrain.settings.capture.screenToRender||t.defaultScreen;d.setScreenData(e,t.screens[e]);if(c)for(var h in c)c[h].id&&c[h].value&&(d=document.getElementById(c[h].id),d.value=c[h].value,"radio"===c[h].type&&(d.checked=c[h].checked,c[h].checked&&d.click()))},renderScreen:function(a,c){pc=!1;c||Ya.push(V);(new xa).setScreenData(a,t.screens[a])},setHandler:function(a,c,d){this.setFieldAttribute(a,c+"Handler",d)},setFieldAttribute:function(a,c,d){Ma.push({field:a,attribute:c,
value:d})},setRenderer:function(a,c,d){y.prototype.render[a].helpers=n;y.prototype.render[a][c]=d},setValidator:function(a,c){F.prototype[a]=c},registerFunction:function(a,c){Ac[a]=c},addRenderer:function(a,c,d){this.setRenderer(a,c,d)},trackLoadedCssFiles:function(a){B.push(a)},handleCaptureUniqueResponse:function(a){dc(a)},handleCaptureResponse:function(a,c){var d;if("ok"===a.stat&&(d=a.result,d.accessToken&&d.oneTime&&(vb=d.accessToken,ib=!0),d.accessToken&&!d.oneTime&&da(d.accessToken),d&&d.status)){ob[d.transactionId]=
d;"success"===d.status?(janrain.events.onCaptureSuccessfulSave.fire(d),vb&&!ib?vb="":ib=!1):janrain.events.onCaptureFailedSave.fire(d);if("emailCode"===d.action&&d.statusMessage&&("verified"===d.statusMessage||"invalidVerificationCode"===d.statusMessage))"success"===d.status?(janrain.events.onCaptureSuccessfulEmailVerification.fire(d),(d.accessToken||d.authorizationCode)&&janrain.settings.capture.federate&&d.sso&&d.ssoCode&&ja(d.ssoCode)):janrain.events.onCaptureFailedEmailVerification.fire(d);"profile"===
d.action&&d.statusMessage&&"profileFound"!==d.statusMessage&&("success"===d.status?(jb=!0,fa=(new Date).getTime(),janrain.events.onCaptureSuccessfulProfileSave.fire(d)):janrain.events.onCaptureFailedProfileSave.fire(d));if("traditionalSignin"===d.action||"socialSignin"===d.action||"ssoSignin"===d.action)if("success"===d.status){if(d.authorizationCode){var e;e=janrain.settings.capture.redirectUri;var f={code:d.authorizationCode},h=-1<e.indexOf("?")?"&":"?",i=[],j;for(j in f)f.hasOwnProperty(j)&&i.push(j+
"="+encodeURIComponent(f[j]));e=e+h+i.join("&");d.redirectUri=e}if(d.accessToken||d.authorizationCode)janrain.events.onCaptureSuccessfulLogin.fire(d),("traditionalSignin"===d.action||"socialSignin"===d.action)&&Ja(d.action),janrain.settings.capture.federate&&d.sso&&d.ssoCode&&ja(d.ssoCode),janrain.settings.capture.federate&&d.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(d),ab(d.transactionId),Nb=!0);d.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=e)}else janrain.events.onCaptureFailedLogin.fire(d);
if("traditionalRegister"===d.action||"socialRegister"===d.action)if("success"===d.status){if(janrain.events.onCaptureSuccessfulRegistration.fire(d),d.accessToken||d.authorizationCode)"socialRegister"===d.action?Ja("socialSignin"):Ja("traditionalSignin"),janrain.settings.capture.federate&&d.sso&&d.ssoCode&&ja(d.ssoCode)}else janrain.events.onCaptureFailedRegistration.fire(d);d.userData&&janrain.settings.capture.setProfileCookie&&(d=d.userData,j=nb(),(new M).setExpirationDirectly(j).setName("janrainCaptureProfileData").setValue(L.stringify(d)).create())}"function"===
typeof c&&c()},handleErrorResponse:function(a,c){a.result&&a.result.error&&"access_token_expired"===a.result.error&&(oa(),janrain.events.onCaptureExpiredToken.fire());var d=a.result.error+": "+a.result.errorDescription;if($b){var e=j.domHelpers.createDiv({classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()});e.innerHTML=d;$b.insertBefore(e,$b.firstChild);janrain.events.onCaptureContentChange.fire()}$b||alert(d);K(a);"function"===typeof c&&c()},createCaptureSession:function(a){da(a)},
endCaptureSession:function(){oa()},addTransactionIds:function(a){w(a)},getFailedLogins:function(){return Lb},setCustomHtml:function(a,c){A(S,a)&&(Xb[a]=c)},getEngageCookie:function(a){return Qb(a)},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);ab(a.transactionId);N();Nb=!0},federateSetLoginSuccess:function(a){ab(a)},federateRefreshToken:function(a){a&&"ok"===a.stat&&(da(a.accessToken,!1,!0),kb())},scriptLoader:function(a,c){return Dc(a,c)},validationHandler:function(a){var c=
document.getElementById(a.elementId),d=new j.validation;d.setParentDiv(c);d.setElement(c);d.valid();a.valid?d.valid():d.notValid(a.reason)}}};return{engage:{signin:janrain&&janrain.engage&&janrain.engage.signin?janrain.engage.signin:W,share:janrain&&janrain.engage&&janrain.engage.share?janrain.engage.share:ea,publish:janrain&&janrain.engage&&janrain.engage.publish?janrain.engage.publish:ob,simpleshare:janrain&&janrain.engage&&janrain.engage.simpleshare?janrain.engage.simpleshare:cb},capture:{ui:Vc}}}();
janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;