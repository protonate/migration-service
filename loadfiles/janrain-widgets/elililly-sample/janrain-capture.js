/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: master
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var za,Aa;function rc(){return"http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.0.9/":"https://d3hmp0045zy3cs.cloudfront.net/2.0.9/"}function sc(a,f,c){var g;if(document.getElementById(a))return!1;if(k){g="";var q=document.createElement("div");q.innerHTML=g+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+f+'" ')+'style="display: none;"></iframe>';document.body.appendChild(q)}else g=document.createElement("iframe"),g.setAttribute("name",a),g.id=a,g.setAttribute("src",
f),g.style.display="none",g.className="",document.body.appendChild(g);"function"===typeof c&&c()}function Yb(a){for(var f="",f="",c=0;c<a;c++)f+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return f}function Ab(){function a(a,c,g,f){c={action:a,key:c,messageId:g};"set"===a&&(c.value=f);return"janrainCapture:"+G.stringify(c)}function f(a,c){function g(){f++;if(10<f)return!1;if("undefined"!==typeof ba[a])return clearTimeout(j),"get"===ba[a].action&&"function"===typeof c&&
c(ba[a].storedValue),!0;var j=setTimeout(g,50)}var f=0;g()}function c(c,g){_xdomainStorageIframeLoaded;var j=Yb(40);window.setTimeout(function(){d.contentWindow.postMessage(a("get",c,j),E)});return f(j,g)}function g(a,f){if(j)_xdomainStorageIframeLoaded?c(a,f):setTimeout(function(){g(a,f)},50);else return window.localStorage.getItem(a)}function q(a){if(0!==a.data.indexOf("janrainCapture:")||!z(V,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=G.parse(a.data.replace("janrainCapture:",
""));ba[a.messageId]=a}var j=!1,ba={},d,E,V=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,g){if(j){var q=Yb(40);window.setTimeout(function(){d.contentWindow.postMessage(a("set",c,q,g),E)});return f(q)}return window.localStorage.setItem(c,g)},removeItem:function(c){if(j){var g=Yb(40);window.setTimeout(function(){d.contentWindow.postMessage(a("remove",c,g),E)});return f(g)}return window.localStorage.removeItem(c)},getItem:g,setMultiDomain:function(a){if(j=
a)window.addEventListener?window.addEventListener("message",q,!1):window.attachEvent?window.attachEvent("onmessage",q):document.attachEvent&&document.attachEvent("onmessage",q),d=document.getElementById("xDomainLocalStorageJanrain"),E=janrain.settings.storageServerDomain}}}function L(){function a(){if(q&&Bb){var a=new Ab;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(g);a.removeItem(g+"_Expires")}else{var a=ba?"; domain="+ba:"",c=new Date;c.setTime(c.getTime()+-864E6);document.cookie=
g+"="+j+";expires="+c.toUTCString()+a+"; path="+d}}function f(c,f){var j,ba,d,qa,k;if(q&&Bb)if(k=new Ab,janrain.settings.multiDomainLocalStorage)k.setMultiDomain(!0),k.getItem(c,function(j){j?k.getItem(c+"_Expires",function(m){m?Math.round((new Date).getTime()/1E3)>Math.round((new Date(m)).getTime()/1E3)?(g=c,a(),"function"===typeof f&&f(!1)):"function"===typeof f&&f(j):(new L).getCookie(c+"_session")?"function"===typeof f&&f(j):(g=c,a())}):"function"===typeof f&&f(!1)});else if(qa=k.getItem(c),j=
k.getItem(c+"_Expires"),qa){if(!(j&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(j)).getTime()/1E3))&&(j||(new L).getCookie(c+"_session")))return qa;g=c;a()}else return!1;else{j=document.cookie.split(";");ba=j.length;for(var vc=0;vc<ba;vc++)if(d=j.pop(),qa=d.split("="),d=qa[0],qa=qa[1],d.trim()===c)return qa;return!1}}var c,g,q=!1,j,ba,d="/";return{create:function(){if(q&&Bb){var a=new Ab;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(g,j);c?a.setItem(g+"_Expires",
c):(new L).setName(g+"_session").setValue("session").create()}else document.cookie=g+"="+j+";expires="+c+(ba?"; domain="+ba:"")+"; path="+d},remove:a,setExpirationDirectly:function(a){a&&(c=a);return this},setExpiration:function(a){if(a){var f=new Date;f.setTime(f.getTime()+864E5*a);c=f.toUTCString()}return this},setName:function(a){a&&(g=a);return this},setValue:function(a){"undefined"!==typeof a&&(j=a);return this},setUseLocalStorage:function(a){q=a;return this},setPath:function(a){a&&(d=a);return this},
setDomain:function(a){a&&(ba=a);return this},getCookie:function(a,c){return f(a,c)}}}function pb(){return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(Ba)?parseFloat(RegExp.$1):!1}function Cb(){var a;return Ba&&(a=Ba.match(/(\d)[\d.]+ Safari/))&&a[1]?1*a[1]:0}function Cb(){return!/Chrome\//.test(Ba)&&/Safari\//.test(Ba)}function ha(a,f,c,g,q,j){"number"===typeof c&&"number"===typeof g&&"number"===typeof q&&"number"===typeof j?("undefined"!==typeof a.style.borderRadius&&
(a.style.borderRadius=c+"px "+g+"px "+q+"px "+j+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px "+g+"px "+q+"px "+j+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px "+g+"px "+q+"px "+j+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=f+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=f+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=f+"px"));
return a}function db(a,f){if("undefined"===typeof a||"undefined"===typeof f)return!1;var c=a-f;0>c&&(c=0);c>a&&(c=a);return c}function Nb(a,f){if(k&&9>=k)return a.style.backgroundImage="url('"+qb("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;if(Cb()&&4>=Cb()||ua.getMobileDevice()){var c="",g="",q="",j=f.split(","),d={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};j[0]&&d[j[0]]&&(c=d[j[0]]);j[1]&&(g="from("+j[1]+")");
j[j.length-1]&&(q="to("+j[j.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+c+","+g+","+q+")"}a.style.backgroundImage="-moz-linear-gradient("+f+")";a.style.backgroundImage="-webkit-linear-gradient("+f+")";a.style.backgroundImage="-ms-linear-gradient("+f+")";a.style.backgroundImage="-o-linear-gradient("+f+")";a.style.backgroundImage="linear-gradient("+f+")"}function eb(a,f,c,g){var q=Ob(c),j=Ob(c,g);if(c=Ec(c))c.a=g,j="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<f){a.style.backgroundColor=
q;a.style.padding=f+"px";if(0<k&&8>=k||k&&R)return!1;a.style.backgroundColor=j;a.style.padding=f+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function Ec(a){var f={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;f.r=a[0];f.g=a[1];f.b=a[2];f.a=a[3]?a[3]:1;return f}function Ob(a,f){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);
var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),g=parseInt(a.substring(2,4),16),q=parseInt(a.substring(4,6),16);return isNaN(f)?"rgb("+c+","+g+","+q+")":"rgba("+c+","+g+","+q+","+f+")"}function S(a,f,c){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+f,c):a.addEventListener(f,c,!1)}function xc(a,f,c){"object"===typeof window.detachEvent?a.detachEvent("on"+f,c):a.removeEventListener(f,c,!1)}function Zb(){return document.documentElement.scrollTop>=document.body.scrollTop?
document.documentElement.scrollTop:document.body.scrollTop}function Xa(a){return{width:parseInt(a.style.width||a.offsetWidth),height:parseInt(a.style.height||a.offsetHeight)}}function O(a,f,c,g,q){var j=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,d=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!v(g))return q||t.log(g+" is wrong type, must be array, using default value instead"),c;if(f&&v(f))for(var k=0;k<g.length;k++)if(0>f.indexOf(g[k]))return q||t.log(g+
" is not within the valid range, using default value instead"),c;return g}if("url"===a){if("string"!==typeof g)return c;g&&(g=g.trim());if(/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(g))return g;q||t.log(g+" is not the valid format, using default value instead");return c}if("text"===a){if(f){if(0<=f.indexOf(g))return g;q||t.log('Value of "'+g+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return j.test(g)?g:c}if("usertext"===
a){if("string"!==typeof g&&"number"!==typeof g)return c;if(v(f)){if(1===f.length){if(g.length<=f[0])return g;q||t.log(g+" is too long, using default value instead");return c}if(2===f.length){if(g.length<=f[1]&&g.length>=f[0])return g;q||t.log(g+" is not within the valid range, using default value instead");return c}q||t.log("usertext range is invalid, using default value instead");return c}return g}"string"===typeof g&&0==g.length&&(g=" ");if(!j.test(g))return q||t.log(g+" contains invalid character(s)"),
c;if("boolean"===a){if("boolean"===typeof g)return g;q||t.log(g+" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return g;if("number"===a){if(isNaN(parseInt(g)))return q||t.log(g+" is wrong type, must be a valid number"),c;g=parseFloat(g)}if("color"===a){g&&(g=g.trim());if("transparent"===g||d.test(g))return g;q||t.log('Value of "'+g+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof g!=a&&
"color"!=a)return q||t.log(g+" for "+arguments.callee.caller.name+" is "+typeof g+" expected "+a),c;if("object"===typeof f&&"string"===a){if(0<=f.indexOf(g))return g;q||t.log('Value of "'+g+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof f&&"number"===a){2===f.length?(j=f[0],d=f[1]):(j=f.shift(),d=f.pop(),k=f);if(g<j)return q||t.log("Value of "+g+" for "+arguments.callee.caller.name+" is below minimum of "+j+", using minimum value of "+
j+" instead"),j;if(g>d)return q||t.log("Value of "+g+" for "+arguments.callee.caller.name+" is above maximum of "+d+", using maximum value of "+d+" instead"),d;if(k&&"number"===typeof k.indexOf(g)||g==j||g==d)return g;return k?(q||t.log("Value of "+g+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):g}return 0!=g&&!g?c:g}function xa(a){for(var f=xa.options,a=f.parser[f.strictMode?"strict":"loose"].exec(a),c={},g=14;g--;)c[f.key[g]]=a[g]||"";c[f.q.name]=
{};c[f.key[12]].replace(f.q.parser,function(a,g,d){g&&(c[f.q.name][g]=d)});return c}function Ya(a){return document.getElementById(J(a).getAttribute("id"))}function J(a){return a.target?a.target:a.srcElement}function yc(a,f){function c(a){n=!0;"undefined"!==typeof V&&clearTimeout(V);if("string"===typeof a)return"function"===typeof k&&k(a),!0;if("object"===typeof a||"undefined"===typeof a)return"function"===typeof d&&d(),!0}function g(){E++;if(n)return!0;E<j?V=setTimeout(g,50):c("Load Timeout Error")}
var d=f,j=200,ba=!1,k,E=0,V,y=document.createElement("script"),F=document.getElementsByTagName("script")[0],n=!1;y.src=a;y.setAttribute("type","text/javascript");y.onload=y.onerror=y.onreadystatechange=function(a){!n&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&c(a)};return{setTimeoutCallback:function(a){ba=!0;k=a;return this},setCallback:function(a){d=a;return this},setTimeoutLimit:function(a){j=a;return this},load:function(){F.parentNode.insertBefore(y,F);ba&&g()}}}
function ia(a,f){yc(a,f).load()}function zc(a,f){k&&9>k&&$b(a,f)}function $b(a,f){function c(c){n=!1;"function"===typeof f&&f();janrain.events.onCssLoad.fire({source:a,noload:c})}function g(){if(n){for(V=E.length;0<=--V;)if(E[V].href===j.href){c();break}k+=1;n&&(200>k?setTimeout(g,50):c(!0))}}function d(){var a;try{a=!!j.sheet.cssRules}catch(f){k+=1;200>k?setTimeout(d,50):a&&c(!0);return}c()}var j,k=0,n=!0,E=document.styleSheets,V;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=
new Za);rb?(j=document.createElement("style"),j.innerHTML='@import "'+a+'";'):(j=document.createElement("link"),j.rel="stylesheet",j.href=a,j.type="text/css");Pb||rb?(Pb&&g(),rb&&d()):(j.onload=function(){c()},j.onerror=function(){c(!0)});document.getElementsByTagName("head")[0].appendChild(j)}function n(a){var f;f=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===f.indexOf(c)&&(f.push(c),a&&(a.className=f.join(" ")));return this},remove:function(c){-1!==f.indexOf(c)&&(f.splice([f.indexOf(c)],
1),a&&(a.className=f.join(" ").trim()));return this},has:function(a){return-1!==f.indexOf(a)}}}function v(a){return"[object Array]"===Object.prototype.toString.call(a)}function z(a,f){return!v(a)?!1:-1<a.indexOf(f)}function Db(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Eb(a){var f="",c;for(c in a)f+="&"+encodeURIComponent(c)+"="+encodeURIComponent(a[c]);return f="?"+f.substr(1)}function Q(a){if(!a)return!1;a.preventDefault?a.preventDefault():a.returnValue=!1}function Fc(a){if(!a)return!1;
var f=a.getElementsByTagName("input");f||(f=a.getElementsByTagName("button"));if(!f)return!1;for(var c=f.length,g=0;g<c;g++)if("submit"===f[g].type)return f[g];f=a.getElementsByTagName("button");for(g=0;g<c;g++)if("submit"===f[g].type)return f[g]}function ac(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Ac(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var f=a.split("/"),a=parseInt(f[1],10),c=parseInt(f[0],10),f=parseInt(f[2],10),g=new Date(f,c-1,a);return g.getFullYear()==f&&g.getMonth()==c-1&&
g.getDate()==a?!0:!1}return!1}function P(a,f){for(var c=f,g=/\{\|(.*?)\|\}/,d;d=g.exec(c);)try{var j=d[1].trim(),c=c.replace(d[0],"undefined"!==typeof a[j]?a[j]:"")}catch(k){return window.console&&window.console.log&&console.log(k.name+": "+k.message,"error"),!1}return c}function Bc(a,f){var c=a.parentNode.nodeName.toLowerCase();return"body"===c?!1:a.nodeName.toLowerCase()===f.toLowerCase()?a:c===f.toLowerCase()?a.parentNode:Bc(a.parentNode,f)}function bc(){function a(a){var a=a||"img",c=document.createElement(a);
c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",Ga&&(c.innerHTML=Ga)):(c.src=Oa,ga||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=ja?g:f;return c}function f(a){ma||(m.style.display="none",fb.style.display="none",T.style.display="none");M&&ua.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&Ha.fire();
"object"===typeof a&&Q(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),g=document.createElement("a"),j=document.createElement("a"),d=document.createElement("h3");g.innerHTML=ka;j.innerHTML=va;d.innerHTML=ia;g.setAttribute("href","#");j.setAttribute("href","#");a.className="janrain_close_confirm_container";c.className="janrain_close_confirm";g.className="janrain_modal_confirm";j.className="janrain_modal_cancel";S(g,"click",function(a){f();m.removeChild(na);na=null;
Q(a)});S(j,"click",function(a){m.removeChild(na);na=null;Q(a)});c.appendChild(d);c.appendChild(j);c.appendChild(g);a.appendChild(c);return a}function g(a){na||(na=c(),m.appendChild(na));Q(a)}function d(a){var c=Zb(),g=Xa(a),f=-1*g.width/2,g=-1*g.height/2;a.style.left="50%";a.style.marginLeft=f+"px";a.style.marginTop=g+c+"px";a.style.top="50%";0>a.offsetLeft&&(a.style.left=0,a.style.marginLeft=0);0>a.offsetTop&&(a.style.marginTop=0,a.style.top="10px");T.style.height=za+c+"px";"absolute"!==a.style.position&&
(a.style.position="absolute")}function j(){if(ma){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(m)}else d(m);ma||t.show()}function ba(a){da||($=O("number",[0,20],10,a),ya.fire({radius:db(P,$)}))}function n(a){da||(L=O("color",null,"#000000",a))}function E(a){da||(P=O("number",[0,20],10,a),ea.fire({radius:db(P,$),refresh:!0}))}function V(a){da||(Y=O("number",[0,1],0.5,a),"object"==typeof m&&eb(m,$,L,Y))}function y(a){if("portrait"===a){ra="portrait";var c="one column"}"landscape"===
a&&(ra="landscape",c="two column");Pa.fire({orientation:ra,format:c,width:J,height:wc});j()}function F(a){a&&(fa=a);k&&R&&(fa+=$-2);"object"==typeof m&&(m.style.width=fa+"px");return this}function v(a){a&&(Ea=a);k&&R&&(Ea=Ea+2*$-4);a&&"object"==typeof m&&(m.style.height=Ea+"px");return this}function qa(){Aa>=za&&"undefined"===typeof window.orientation?"landscape"!==ra&&y("landscape"):90===window.orientation||-90===window.orientation?"landscape"!==ra&&y("landscape"):"portrait"!==ra&&y("portrait");
j()}function z(){var a,c=m;a="undefined"!=typeof window.innerWidth?window.innerHeight:document.documentElement.offsetHeight;var g=Zb();Xa(c);T.style.height=a+g+"px"}var J=380,wc=131,m,Cc="janrainModal",fb,T,G,fa=J,Ea=wc,$=10,L="#000000",P=10,Y=0.5,ja=!1,Oa=qb("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),Ga="",da=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,ga=!1,ia="Are you sure you want to quit?",ka="Yes, quit",va="No, stay",na,ra="landscape",Ja=
!0,M="boolean"===typeof M?M:"number"===typeof window.orientation?!0:!1,Ka="boolean"===typeof Ka?Ka:janrain.settings.previewMode,ma=Ka,xa=xa||!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(Oa=janrain.settings.capture.modalCloseImage,ga=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(Ga=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=W());var Ha=W(),aa=
W(),ea=W(),ya=W(),Pa=W();ua&&ua.onOrientationChange&&ua.onViewportChange&&(ua.onOrientationChange.addHandler(function(a){y(a.orientation)}),ua.onViewportChange.addHandler(function(){d(m)}));return{isOpen:function(){return"object"===typeof m&&"none"!==m.style.display},setWidth:function(a){F(a);return this},setHeight:function(a){v(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&ba(a);da||"object"==typeof m&&eb(m,$,L,Y);return this},setBorderColor:function(a){a&&n(a);
da||"object"==typeof m&&eb(m,$,L,Y);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&E(a);da||"object"==typeof m&&ha(m,P);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&V(a);return this},setZIndex:function(a){T.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(ma=a);return this},setId:function(a){Cc=a;m&&(m.id=a);return this},show:function(){M||(m.style.display="block");"object"==typeof fb&&Ja&&(fb.style.display=
"block");ma?M&&(m.style.display="block"):(T.style.display="block",M?(ua.setElement(m).activate(),m.style.display="block"):(S(window,"resize",qa),S(window,"resize",z),S(window,"scroll",z),qa(),z()));da||ea.fire({radius:db(P,$),refresh:!1});aa.fire();m.focus()},close:function(a){f(a)},closeConfirm:function(){g()},refresh:function(){xa||m.appendChild(G);j()},remove:function(){if(ma){var a=document.getElementById("previewMode");"object"===typeof G&&m.removeChild(G);"object"===typeof m&&a.removeChild(m);
"object"===typeof T&&document.body.removeChild(T);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";T=m=""}else"object"===typeof G&&m.removeChild(G),"object"===typeof T&&document.body.removeChild(T),"object"===typeof m&&document.body.removeChild(m)},addContent:function(c){fb=c;if(!m){m=document.createElement("div");m.id=Cc;if("number"===typeof fa||"string"===typeof fa)m.style.width=fa+"px";m.style.height=Ea+"px";m.style.position="absolute";da||(m.style.padding=$+"px",
ha(m,P),eb(m,$,L,Y));m.style.zIndex=1E3;m.style.display="none";T=document.createElement("div");T.style.width="100%";T.style.left=0;T.style.top=0;T.style.backgroundColor="#000000";T.style.position="absolute";c=T;"undefined"!==typeof c.style.filter&&(c.style.filter="alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");T.style.display=
"none";T.style.zIndex=1E3;G=Ga?a("a"):a();m.appendChild(G);document.body.appendChild(T);document.body.appendChild(m)}m.appendChild(fb);ma&&j();return this},getContent:function(){return fb},getBorderWidth:function(){return $},getState:function(){return{borderWidth:$,borderColor:L,borderRadius:P,borderOpacity:Y,orientation:ra}},setState:function(a){C("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&ba(a.borderWidth),"undefined"!==typeof a.borderColor&&n(a.borderColor),"undefined"!==
typeof a.borderOpacity&&V(a.borderOpacity),"undefined"!==typeof a.orientation&&y(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&E(a.borderRadius),"object"==typeof m&&ha(m,P)))},setConfirmClose:function(a){ja=a;return this},setShowContentOnLoad:function(a){Ja=a;return this},setConfirmMessageText:function(a){ia=a},setConfirmLinkText:function(a){ka=a},setCancelLinkText:function(a){va=a},onClose:Ha,onShow:aa,onOrientationChange:Pa,
onBorderRadiusChange:ea,onBorderWidthChange:ya}}function Gc(a){function f(){var a=window.open(c,"","width="+g+", height="+d+", status=1, location=1, resizable=yes"),f=window.setInterval(function(){if(a&&a.closed||"undefined"===typeof a.closed)window.clearInterval(f),"function"===typeof j&&j()},500)}var c=a,g=400,d=400,j;return{show:function(){f()},setWidth:function(a){a&&(g=a);return this},setHeight:function(a){a&&(d=a);return this},setCallback:function(a){a&&(j=a);return this}}}function Hc(){function a(){y=
(new Date).getTime()-g;if(y<c){var a=Math.round(f()*E+j);d.style[n]=a+"px"}else clearInterval(V),d.style[n]=k+"px",v()}function f(){if("flat"==F)return y*(1/c);if("sinusoidal"==F)return Math.abs(Math.sin(y*(Math.PI/(2*c))))}var c="1000",g,d,j,k,n="left",E,V,y,F="flat",v;return{setAcceleration:function(a){F=a;return this},setCallback:function(a){v=a;return this},setDuration:function(a){c=a;return this},setDirection:function(a){"horizontal"===a&&(n="left");"vertical"===a&&(n="top");return this},setElement:function(a){d=
a;return this},startPosition:function(a){j=a;return this},endPosition:function(a){k=a;return this},animate:function(){E=k-j;g=(new Date).getTime();V=setInterval(a,10);return this}}}function W(){return new Za}function Za(){this.eventHandlers=[];this.firedEvents=[]}function Qb(){if(function(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onCustomizationChange,onProviderLoginComplete,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),
c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}())clearTimeout(a),janrain.events.onAuthWidgetLoad.fire();else var a=setTimeout(Qb,5)}function cc(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,g=janrain.events.captureEvents.length;a<g;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;return!janrain.ready?!1:!0}if("function"===
typeof janrainCaptureWidgetOnLoad)if(a())clearTimeout(f),janrainCaptureWidgetOnLoad();else var f=setTimeout(cc,5)}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var f in this)if(this[f]===a)return parseInt(f);return-1});Array.prototype.map||(Array.prototype.map=function(a,f){if(null===this)throw new TypeError;var c=Object(this),g=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var d=Array(g),j=0;j<g;j++)j in c&&(d[j]=a.call(f,c[j],j,c));return d});Array.prototype.filter||
(Array.prototype.filter=function(a,f){if(null==this)throw new TypeError;var c=Object(this),g=c.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],j=0;j<g;j++)if(j in c){var k=c[j];a.call(f,k,j,c)&&d.push(k)}return d});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var ga=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?
document.documentElement.clientWidth:0;za=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;Aa=ga;var Bb=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,R="CSS1Compat"!==document.compatMode,hb=!1,ja=!1,d=[],ab="d13a40e",ga=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
Gb=null!==ga?ga[0]:!1,dc="number"===typeof window.orientation||null!==ga,Ic="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),Jc="January,February,March,April,May,June,July,August,September,October,November,December".split(","),Kc=[16,20,30,32,48,50,64];janrain.settings&&janrain.settings.storageServer&&sc("xDomainLocalStorageJanrain",janrain.settings.storageServer,function(){S(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){_xdomainStorageIframeLoaded=!0})});
var Ba=navigator.userAgent,k=pb(),rb=/Gecko\//.test(Ba),Pb=/AppleWebKit\//.test(Ba);/Chrome\//.test(Ba);var Lc=Cb(),C=function(){var a=function(a){for(var g=[],f=0;f<a.length;f++)g.push(a[f]);return g},f={};janrain.settings&&janrain.settings.permissions&&(f.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(f.share=a(janrain.settings.share.permissions));return function(a,g){g=g||"login";return!f[g]?!1:0<=f[g].indexOf(a)}}();xa.options=
{strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
for(var La=function(a,f,c){La=document.getElementsByClassName?function(a,c,f){for(var a=(c||document).getElementsByClassName(a),f=f?RegExp("\\b"+f+"\\b","i"):null,c=[],d,k=0,n=a.length;k<n;k+=1)d=a[k],(!f||f.test(d.nodeName))&&c.push(d);return c}:function(a,c,f){var f=f||"*",c=c||document,d=a.split(" "),a=[],c="*"===f&&c.all?c.all:c.getElementsByTagName(f),f=[],k;k=0;for(var n=d.length;k<n;k+=1)a.push(RegExp("(^|\\s)"+d[k]+"(\\s|$)"));for(var n=0,V=c.length;n<V;n+=1){d=c[n];k=!1;for(var y=0,F=a.length;y<
F&&!(k=a[y].test(d.className),!k);y+=1);k&&f.push(d)}return f};return La(a,f,c)},ua=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;g(document.body,F);y=k().content;n();E();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){G(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:
0},{height:window.innerHeight,width:window.innerWidth});j()},!1),setTimeout(j,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,j,!1)},!1));C.addHandler(function(){f({height:window.innerHeight,width:window.innerWidth},0)});z.addHandler(function(a){za=a.height;Aa=a.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,j,!1)},!1)}function f(a,c){var g=window.innerHeight,d=window.innerWidth,j=!0,k=!0;g!=a.height&&(j=!1);d!=a.width&&
(k=!1);j&&k?20>c?setTimeout(function(){f({height:g,width:d},++c)},100):z.fire({height:g,width:d}):setTimeout(function(){f({height:g,width:d},0)},100)}function c(){setTimeout(function(){V(y)},20);g(F,document.body)}function g(a,c){for(var f=0;f<a.style.length;f++){var g=a.style[f];c.style.setProperty(g,a.style.getPropertyValue(g),a.style.getPropertyPriority(g))}}function d(){var a;a=(0===window.orientation||180===window.orientation)&&Aa>za||(90===window.orientation||-90===window.orientation)&&za>Aa?
!1:!0;var c="landscape";if(a&&(0===window.orientation||180===window.orientation))c="portrait";if(!a&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function j(){var a=d();V("width=device-width, initial-scale=1, maximum-scale=1");C.fire({orientation:a})}function k(){var a=document.getElementsByTagName("meta"),c;for(c in a)if("viewport"===a[c].name)return a[c];return!1}function n(){if("undefined"===typeof document.getElementsByTagName||k())return!1;var a=document.getElementsByTagName("head")[0],
c=document.createElement("meta");c.setAttribute("name","viewport");a.appendChild(c);return!0}function E(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function V(a){var c=k();if(!c||c.content==a)return!1;if("undefined"===typeof a){var f=k();document.getElementsByTagName("head")[0].removeChild(f)}c.content=a;return!0}var y,F=document.createElement("div"),
v=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),t=null!==v?v[0]:!1,C=W(),z=W();t&&t[0].match(/android|\Wsilk\W/);var G=function(){var a=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},f={height:window.innerHeight,
width:window.innerWidth},g=!1;return function(d,j,k){var n=!1,y=function(a,c){return a.height>=a.width&&c.height>=c.width||a.width>a.height&&c.width>c.height?!0:!1},F=a===d,q=y(j,c),V=y(k,f);if(!F&&(!q||!V))n=!0;!F&&!q&&(g=!0);n&&(g&&!y(j,k)&&(n=k.height,k.height=k.width,k.width=n),za=k.height,Aa=k.width);a=d;c={height:j.height,width:j.width};f={height:k.height,width:k.width}}}();return{setElement:function(){return this},onOrientationChange:C,onViewportChange:z,getMobileDevice:function(){return t},
getOrientation:function(){return d()},activate:function(){a()},deactivate:function(){c()}}}(),qb=function(a){var f;f="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";f=f.replace(/\/$/,"");return f+"/"+a},ga={openId:{aol:{identifier:"aol",flow:"openid1",width:514,height:550,color:"#0FD6FF"},blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,
color:"##213368"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#FF0084"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5"},hyves:{identifier:"http://hyves.nl/",
flow:"openid",width:800,height:600,color:"#659BC8"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665"},verisign:{identifier:"http://pip.verisignlabs.com/",flow:"openid",width:945,height:600,color:"#B8004D"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:1050,height:550,color:"#3B5998",publishSettings:{},shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}},contact:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",shareSettings:{broadcast:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#009DDC",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,
color:"#666666"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333"},orkut:{flow:"orkut",width:800,height:600,color:"#333"},vzn:{flow:"vzn",width:600,height:450,color:"#333"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333"},mixi:{flow:"mixi",width:950,height:550,color:"#333",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},tb={},ib=["openId","openId2","oauth"];0<ib.length;){var jb=ib.pop(),ka;for(ka in ga[jb])tb[ka]=ga[jb][ka]}var t=function(){var a=[];return{log:function(f){var c={};c.id=a.length+1;c.message=f;a.push(c);
return this},show:function(){if(0!=a.length){for(var f in a)if("undefined"!==typeof a[f].id){var c=a[f];"object"===typeof console&&console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message)}a=[]}}}}();Za.prototype.addHandler=function(a){this.eventHandlers.push(a);return this.eventHandlers.length-1};Za.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};Za.prototype.fire=function(a){for(var f=this.eventHandlers.length,c=0;c<f;c++)try{if("function"===typeof this.eventHandlers[c])this.eventHandlers[c](a)}catch(g){t.log(g),
t.show()}this.firedEvents.push({event:this,args:a})};"undefined"===typeof janrain.events&&(janrain.events={});var G;G||(G={});(function(){function a(a){return 10>a?"0"+a:a}function f(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var c=n[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,g){var d,n,q,t,C=j,z,m=g[a];m&&"object"===typeof m&&"function"===typeof m.toJSON&&(m=m.toJSON(a));"function"===typeof v&&(m=v.call(g,a,
m));switch(typeof m){case "string":return f(m);case "number":return isFinite(m)?""+m:"null";case "boolean":case "null":return""+m;case "object":if(!m)return"null";j+=k;z=[];if("[object Array]"===Object.prototype.toString.apply(m)){t=m.length;for(d=0;d<t;d+=1)z[d]=c(d,m)||"null";q=0===z.length?"[]":j?"[\n"+j+z.join(",\n"+j)+"\n"+C+"]":"["+z.join(",")+"]";j=C;return q}if(v&&"object"===typeof v){t=v.length;for(d=0;d<t;d+=1)"string"===typeof v[d]&&(n=v[d],(q=c(n,m))&&z.push(f(n)+(j?": ":":")+q))}else for(n in m)Object.prototype.hasOwnProperty.call(m,
n)&&(q=c(n,m))&&z.push(f(n)+(j?": ":":")+q);q=0===z.length?"{}":j?"{\n"+j+z.join(",\n"+j)+"\n"+C+"}":"{"+z.join(",")+"}";j=C;return q}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});
var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,k,n={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},v;"function"!==typeof G.stringify&&(G.stringify=function(a,f,g){var d;k=j="";if("number"===typeof g)for(d=0;d<g;d+=1)k+=" ";else"string"===typeof g&&(k=g);if((v=f)&&"function"!==
typeof f&&("object"!==typeof f||"number"!==typeof f.length))throw Error("JSON.stringify");return c("",{"":a})});"function"!==typeof G.parse&&(G.parse=function(a,c){function f(a,g){var d,j,k=a[g];if(k&&"object"===typeof k)for(d in k)Object.prototype.hasOwnProperty.call(k,d)&&(j=f(k,d),void 0!==j?k[d]=j:delete k[d]);return c.call(a,g,k)}var d,a=""+a;g.lastIndex=0;g.test(a)&&(a=a.replace(g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"===typeof c?f({"":d},""):d;throw new SyntaxError("JSON.parse");})})();janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=W());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=W());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=W());janrain.events.onProviderLoginError||
(janrain.events.onProviderLoginError=W());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=W());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=W());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=W());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=W());Qb();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureStartRegistration,onCaptureStartLogin,onCaptureSuccessfulLogin,onCaptureSuccessfulProfileSave,onCaptureFailedProfileSave,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureFailedLogin,onCaptureSuccessfulRegistration,onCaptureFailedRegistration,onCaptureSuccessfulEmailVerification,onCaptureFailedEmailVerification,onCaptureSuccessfulSave,onCaptureFailedSave,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureFormError,onCaptureExpiredToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink".split(",");
ka=0;for(ga=janrain.events.captureEvents.length;ka<ga;ka++)"undefined"===typeof janrain.events[janrain.events.captureEvents[ka]]&&(janrain.events[janrain.events.captureEvents[ka]]=new Za);cc();ka=new function(){var a;function f(){function a(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){if(Fa){var a=document.createElement("div");a.style.backgroundColor=
sa?"aqua":Y;a.style.width=N+"px";a.style.height=Hb+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=r+"px";a.style.paddingRight=r+"px";a.style.paddingBottom=r+"px";a.style.bottom="0px";a.style.fontSize="10px";a.style.textAlign="left";a.style.color=ia;ha(a,null,0,0,b,b);var H=document.createElement("div");H.appendChild(document.createTextNode(janrain.settings.translate.POWERED_BY_PREFIX||"Powered by "));H.style.paddingLeft="1px";var d=document.createElement("a");d.setAttribute("href",
"http://www.janrain.com/products/engage/engage-introduction?utm_source=login.janrain.com&utm_medium=partner&utm_campaign=attribution");d.setAttribute("target","_blank");d.appendChild(document.createTextNode("Janrain"));H.appendChild(d);a.appendChild(H);xa=a}A=j();a=document.createElement("div");a.style.backgroundColor=sa?"orange":Y;a.className="janrainHeader";a.style.fontSize=l+"px";a.style.color=ia;a.style.position="relative";a.style.height=u+"px";40===D&&(a.style.cssFloat="left");a.style.left=40===
D?"-6px":"-5px";a.style.paddingLeft=r+"px";a.style.paddingRight=r+"px";a.style.paddingTop=r+"px";a.style.paddingBottom="0px";a.style.whiteSpace="nowrap";a.style.width=40===D?"81px":N+"px";a.style.zIndex="100";40===D?ha(a,null,b,0,0,b):ha(a,null,b,b,0,0);40===D&&(a.style.marginTop="-3px");a.style.textAlign="one column"===e?"center":"left";H=g();i=document.createElement("div");i.style.paddingLeft="1px";i.style.fontFamily=qa;" "!==H&&i.appendChild(document.createTextNode(H));a.appendChild(i);wa=a;h=
document.createElement("div");h.className="janrainContent";h.style.width=N+"px";h.style.height=o()+"px";h.style.paddingLeft=r+"px";h.style.paddingRight=r+"px";h.style.boxSizing="content-box";40===D&&(h.style.paddingTop=r-1+"px");ja||(h.style.backgroundColor=Y);ja||(h.style.border=B?"1px solid "+ra:"1px solid "+Y);h=ha(h,b);ja||(h.style.overflow="hidden");h.style.position=B?"relative":"absolute";Jb=x();2==A||0==A?(Ra=(new q).setSide("right").create(),Sa=(new q).setSide("left").create()):(Ra=(new q).setSide("top").create(),
Sa=(new q).setSide("bottom").create());a=document.createElement("div");a.id="janrainView";" "!==g()&&a.appendChild(wa);H=E("blank");H.style.display="none";a.appendChild(H);a.appendChild(Jb);!ja&&Ra&&Sa&&(a.appendChild(Ra),a.appendChild(Sa));0<A&&Fa&&a.appendChild(xa);h.appendChild(a);C("customizable_auth_widget_styling")||f(h);hb||t.show()}function f(b){function h(b){var a="string"===typeof b.getAttribute("style")?b.getAttribute("style"):null;a&&(a.cssText&&(a=a.cssText),b.style.setAttribute?b.style.setAttribute("cssText",
a.replace(/(((?!!important).)+?);/g,"$1 !important;")):b.setAttribute("style",a.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var a=b.getElementsByTagName("*"),e=0,i=a.length;e<i;e++)"janrainProviderPages"===a[e].id||"janrainSlideControl"===a[e].className||"janrainSlideControl"===a[e].parentNode.className||h(a[e]);h(b)}function g(){return ka?ta:d.translate.HEADER?d.translate.HEADER:"two column"===e?a().twoColumn.actionText:"one column"===e?a().oneColumn.actionText:"one row"===e?a().oneRow.actionText:
ta}function j(){var b=e;if("default"==b||"two column"==b)return 2;if("one column"==b)return 1;if("one row"==b)return 0}function o(){var b=" "===ta?0:u+r,h=Fa&&"one row"!==e?Hb+r:0;return m()+b+h}function n(){var b=parseInt(Jb.style.left),h=parseInt(Jb.style.top),a;1==A?parseInt(Jb.style.height):parseInt(Jb.style.width);2==A&&(a=(N-3*r-(2==A?10:0))/A);if("one column"===e){if(" "===ta&&(h+=11,0<h||-9<=h))return 0;if(9>h)return 1;if(0<h||h>=-(u-(r+1)))return 0}0==A&&(a=N-100);if(0>b&&b<-a)return 1;if(0<
b||b>=-r)return 0}function m(){if("two column"===e)var b=oa/2;"one column"===e&&(b=oa);"one row"===e&&(b=1);var h="one row"===e?0:2*b,a="one column"===e?3*r:0;if(7===k||6===k||k&&R){if("two column"===e&&(a=r,7===k||6===k))a=2*r;if("one column"===e&&(a=3*r,(7===k||6===k)&&!R))a+=r;if("one row"===e&&(7===k||6===k))a=r}"one column"===e&&Da<=oa&&(a=k&&R?a+2*r:a-2*r);return U*b+r*(b+1)+h+a}function q(){function h(){var b;d="over";var a=n();if(0==a&&"left"===c||0==a&&"top"===c||1==a&&"right"===c||1==a&&
"bottom"===c)return this.style.cursor="default",j.onclick="",!1;var e=this;setTimeout(function(){if(1===B){if("over"!==d)return!1;k&&(A.style.display="block");H.style.display="block";j.onclick=i;e.style.cursor="pointer";var h=document.getElementById("janrainProviderPages");b="top"==c||"bottom"==c?parseInt(h.style.top):parseInt(h.style.left);var a="right"===c||"bottom"===c?b-gc:b+gc;"top"===c||"bottom"===c?h.style.top=a+"px":h.style.left=a+"px";B=2}},k?50:100)}function a(){var b;d="out";var h=n();
if(1==h&&"right"===c||0==h&&"left"===c||0==h&&"top"===c||1==h&&"bottom"===c)return!1;setTimeout(function(){if(2===B){if("out"!==d)return!1;k&&(A.style.display="none");H.style.display="none";var h=document.getElementById("janrainProviderPages");b="top"==c||"bottom"==c?parseInt(h.style.top):parseInt(h.style.left);var a="right"===c||"bottom"===c?b+gc:b-gc;"top"===c||"bottom"===c?h.style.top=a+"px":h.style.left=a+"px";B=1}},k?200:400)}function i(){H.style.display="none";j.style.cursor="default";p(c,function(b){v(b);
B=1})}var A,c,f,H,g={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},d="",B=1,j;return{setSide:function(b){c=b;return this},create:function(){var d;if(Da<=oa)d=!1;else{d=document.createElement("div");d.setAttribute("id","janrainShim_"+c);d.style.background="black";"top"===c||"bottom"===c?(d.style.height="19px",d.style.width="100%"):(d.style.height="100%",d.style.width="17px");d.style.filter=sa?"alpha(opacity=100)":"alpha(opacity=0)";d.style.position="absolute";d.style.zindex=
"99";if("top"===c||"bottom"===c)d.style.left="0";d.style[c]=r+"px";d.style.top="one column"!==e?r+1+"px":"top"===c?"10px":"0px";d.style.display="none";A=d;d=document.createElement("div");d.style.backgroundColor=sa?"green":Y;d.className="janrainSlideControllerMask";d.style.position="absolute";"one column"!==e&&(d.style.width=r+"px",d.style.height="100%",d.style.top="0px",d.style[c]="0px",d.style.borderWidth="1px","right"===c&&(!Fa||"one row"===e)&&ha(d,null,0,0,b,0),"left"===c&&(!Fa||"one row"===e)&&
ha(d,null,0,0,0,b),"right"===c&&" "===ta&&ha(d,null,0,b,b,0),"left"===c&&" "===ta&&ha(d,null,b,0,0,b));"one column"===e&&(d.style.height=r+"px",d.style.fontSize="0px",d.style.width="100%",d.style.padding="0px",d.style[c]="0px","top"===c&&" "===ta?ha(d,null,b,b,0,0):"bottom"===c&&!Fa&&ha(d,null,0,0,b,b));"one row"===e&&(d.style.height="105.5%");f=d;d=document.createElement("div");d.setAttribute("id","janrainArrow_"+c);d.style.background="url("+qb("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+") no-repeat scroll "+
g[c]+" transparent";d.style.height="19px";d.style.width="17px";d.style.position="absolute";if("top"===c||"bottom"===c)d.style.left=N/2+"px";d.style[c]=r+"px";d.style.top="one column"!==e?m()/2-2*r+1+"px":"top"===c?"10px":"0px";d.style.display="none";H=d;d=document.createElement("div");d.className="janrainSlideControl";d.style.backgroundColor=sa?"purple":"transparent";"one column"===e?(d.style.width=N+4+"px",d.style.left="3px","top"==c?(d.style.height=r+"px"," "===ta&&(d.style.left="0px",d.style.width=
N+10+"px")):(d.style.height="20px",d.style.bottom=(Fa?Hb+r:0)+"px",ha(d,null,0,0,b,b))):(d.style.width="right"===c?"20px":"0px",d.style[c]="0px",d.style.height=m()-(r*(" "===ta)?1:2)+"px",40===D&&"one row"===e&&"left"===c&&(d.style.left=hc+"px"),"right"===c&&!Fa&&ha(d,null,0,0,b,0),"left"===c&&!Fa&&ha(d,null,0,0,0,b));d.style.position="absolute";d.style.zIndex="100";d.style.cursor="pointer";d.onmouseover=h;d.onmouseout=a;d.onclick=i;j=d;j.appendChild(f);j.appendChild(A);j.appendChild(H);d=j}return d}}}
function p(b,h){var a=document.getElementById("janrainProviderPages"),i=new Hc;if("top"===b||"bottom"===b){if(" "===ta)var c=-(m()-U),A=0;else c=-(m()-U-u-r),A=u+r;50===U&&(c-=20);k&&R&&(c+=r," "!==ta&&(A+=r));i.setElement(a).setAcceleration("sinusoidal").setDuration(100*oa).startPosition(parseInt(a.style.top)).endPosition("bottom"===b?c:A).setDirection("vertical").setCallback(function(){h(b)}).animate()}else k&&R?(c=-(N-2*r-39),"one row"===e&&(c=-(hc-1*r))):(c=-(N-32),"one row"===e&&(c=-(N-24))),
i.setElement(a).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(a.style.left)).endPosition("right"==b?c:r).setDirection("horizontal").setCallback(function(){h(b)}).animate()}function x(){var b,h;function a(i){i.preventDefault();i=i.touches[0];i="one column"===e?b-i.pageY:h-i.pageX;if(35<i||-35>i)"one column"===e?(c.style.top=parseInt(c.style.top)-i+"px",i=0<i?"bottom":"top"):(c.style.left=parseInt(c.style.left)-i+"px",i=0<i?"right":"left"),p(i,function(){v()}),c.ontouchmove=
""}var i,c,d,f,H,g=A,B=[];f=z();H=ja?1:Math.ceil(Da/oa);2<H&&t.log("Either reduce the number of providers, or increase the setting for providersPerPage.");c=document.createElement("div");c.setAttribute("id","janrainProviderPages");ja&&(c.className="janrainConfigureMode");c.style.paddingTop=(6===k||7===k)&&k&&R?2*r:r+"px";if((6===k||7===k)&&!R)c.style.paddingTop=r+4+"px";c.ontouchstart=function(a){a=a.touches[0];"one column"===e?b=a.pageY:h=a.pageX};c.ontouchmove=a;c.ontouchend=function(){c.ontouchmove=
a};40===D&&"one row"===e?c.style.left=hc+r+"px":k&&R?"one column"!==e&&(c.style.left=r+"px"):c.style.left=r+"px";40===D&&"one row"===e&&(c.style.cssFloat="left");40===D&&"one row"===e&&(c.style.marginTop="1px");"one column"===e&&(c.style.top=(k&&R?1:0)+u+r+"px");"one row"!==e&&" "===ta&&(c.style.top="0px");"one column"===e&&" "===ta&&(c.style.top="0px");i=N*H;c.style.position="absolute";"two column"===e&&!(Da<=oa)&&(c.style.width=i+"px");"one row"===e&&(c.style.width=(!0===ja?N+r:2*N)+"px");ja&&(g=
0);h=0;b=0;for(var j=0;j<H;j++){for(d=0;d<=g;d++)B[d]=document.createElement("ul"),B[d].className="providers",B[d].id="janrainProviders_"+d,1<g&&(B[d].style.cssFloat="left"),1<g&&(B[d].style.styleFloat="left"),B[d].style.listStyleType="none",B[d].style.marginTop="0px",B[d].style.marginLeft="0px",B[d].style.marginRight="0px",B[d].style.marginBottom="0px",B[d].style.padding="0px";i=document.createElement("div");i.className="janrainPage";i.setAttribute("pageIndex",j);k&&R&&1===H&&(i.style.width="110%");
for(d=0;d<=g;d++)i.appendChild(B[d]);for(var l=f.length%2,ub=ja?Da:oa,Ma=0;Ma<ub&&!(0==f.length);Ma++){if(2==g)var Hb=1==l?B[f.length%2?0:1]:B[f.length%2];if(1==g||0==g)Hb=B[0];d=f.shift();Hb.appendChild(d)}c.appendChild(i)}return c}function v(b){0==n()?("left"===b&&(Sa.style.width=r+"px",Ra.style.display="block",Ra.style.width="20px"),"top"===b&&(Ra.style.height=r+"px",Sa.style.display="block",Sa.style.height="20px")):("right"===b&&(Ra.style.width=r+"px",Sa.style.display="block",Sa.style.width="20px"),
"bottom"===b&&(Sa.style.height=r+"px",Ra.style.display="block",Ra.style.height="20px"))}function z(){for(var b=[],h=0;h<Da;h++){var a=E(Ma[h]);b.push(a)}return b}function y(b,h){h.style.cursor="pointer";h.setAttribute("id","janrain-"+b);h.setAttribute("role","button");"one row"===e?h.style.background="transparent":("gradient"===kb&&Nb(h,"bottom, #eeeeee, #ffffff"),"gray"===kb&&(h.style.backgroundColor="#eeeeee"),"white"===kb&&(h.style.backgroundColor="#ffffff"));S(h,"mouseover",function(){pb();"one row"===
e?h.style.background="transparent":(h.style.backgroundColor="#E3E3E3",h.style.backgroundImage="")});S(h,"mouseout",function(){pb();"one row"===e?h.style.background="transparent":("gradient"===kb&&Nb(h,"bottom, #eeeeee, #ffffff"),"gray"===kb&&(h.style.backgroundColor="#eeeeee"),"white"===kb&&(h.style.backgroundColor="#ffffff"))});hb||I(h,b);return h}function E(b){var h=document.createElement("li");h.style.listStyle="none";0==A&&!1===ja&&(h.style.cssFloat="left");0==A&&!1===ja&&(h.style.styleFloat=
"left");h.style.textAlign="center";h.style.height=k&&R?U-2:U+"px";if("two column"==e){var a=ja?3*r:Da<=oa?0:3*r;h.style.width=6===k||pb&&R?(N-a-4*r)/A+"px":(N-a-(2==A?10:0))/A+"px"}h.style.marginTop="0px";if("one column"==e){if(7==k||6==k)h.style.marginTop="-1px";k&&R?h.style.marginRight="0px":h.style.width=N-r/2+"px";h.style.marginLeft="0px"}else h.style.marginRight=r+"px";0==A&&(h.style.width=U+"px");h.style.marginBottom=(7===k||6===k||k&&R?3:r)+"px";h.style.position="relative";0!=A&&(h.style.border=
"1px solid "+jc);0!=A&&ha(h,Sb);if("customopenid"===b){a=document.createElement("img");if(1==A||2==A)30==U&&(a.src=ya.smallLogo),50==U&&(a.src=ya.largeLogo);0==A&&(30==U&&(a.src=ya.smallIcon),50==U&&(a.src=ya.largeIcon))}else if(a=document.createElement("span"),"blank"!==b){if(1==A||2==A)30==U&&(a.className="janrain-provider100-"+b),50==U&&(a.className="janrain-provider150-"+b);0==A&&(30==U&&(a.className="janrain-provider30-"+b),50==U&&(a.className="janrain-provider50-"+b))}a.style.backgroundColor=
"transparent";k&&R&&(a.style.height=U-2+"px");if(6===k&&"one row"!==e){var i=document.createElement("div");i.style.height=a.style.height;i.style.width="90px";i.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+a.src+"')";a.style.filter="alpha(opacity=0)";i.appendChild(a);h.appendChild(i)}else h.appendChild(a);return y(b,h)}function F(b,h){var a=document.createElement("div"),i=d.translate.SIGN_IN_AS||"Sign in as {name}",i=i.replace("{name}",h),i=
document.createTextNode(i),c=document.createElement("div");c.style.cssFloat="right";c.style.styleFloat="right";c.style.fontFamily=qa;c.style.position="relative";c.style.top=U/4-3+"px";c.appendChild(i);var f=document.createElement("div"),H=7.5*i.length+30,g=o();f.style.fontSize="16px";f.style.height="100%";f.style.position="relative";if(0==A||120>g)15<=i.length&&(f.style.fontSize="14px",H=7*i.length+30),20<=i.length&&(f.style.fontSize="12px",H=6*i.length+30),24<=i.length&&(f.style.fontSize="10px",
H=5*i.length+25),30<=i.length&&(i.textContent=i.textContent.substr(0,26)+"...",H=162);f.style.width=H+"px";if(0==A||116>g)if("customopenid"===b){var B=document.createElement("img");B.src=ya.smallIcon;B.style.width="20px";B.style.height="20px";B.style.cssFloat="left";B.style.styleFloat="left"}else B=document.createElement("span"),B.style.margin="2px 0",B.className="janrain-provider16-"+b;a.style.overflow="hidden";a.style.position="relative";a.style.height=("one row"!==e?U:25)+"px";a.style.marginBottom=
"one row"===e?"-4px":"4px";"one row"===e&&(a.style.top="-4px");a.style.left="0px";k&&R&&(a.style.marginRight="5px");k&&R&&(a.style.marginLeft="3px");a.style.border="1px solid "+jc;a.style.color=tb[b].color;ha(a,Sb);if(0==A||116>g)f.style.paddingTop=(50===U?16:2)+"px",f.appendChild(B);6===k||7===k||k&&R?f.style.left="0px":f.style.margin="0 auto";f.appendChild(c);0==A||116>g?a.appendChild(f):(50===U&&parseInt(a.style.height),c.style.cssFloat="none",c.style.styleFloat="none",a.appendChild(c));return y(b,
a)}function I(b,h){S(b,"click",function(){G(h)})}function G(b){var h=tb[b],a={appUrl:d.appUrl,mobileDevice:Gb,language:d.language,popup:Ha,tokenUrl:Ja||d.tokenUrl||window.location.href,facebookPermissions:sb,forceReauth:va,widgetType:"auth",tokenAction:na,bpChannel:Aa,customOpenid:Xa,customOpenidOpxblob:d.customOpenidOpxblob};h.name=b;new Ya(h,a,function(){aa||(Na=setTimeout(function(){pa(h)},300))})}function J(h){var a=document.createElement("div");if("customopenid"===h){var i=document.createElement("img");
i.src=ya.largeLogo;i.style.width="150px";i.style.height="50px"}else i=document.createElement("span"),i.className="janrain-provider150-"+h;a.style.position="absolute";a.style.top="0px";if(!k||!R)a.style.left="0px",a.style.width=N+"px";a.style.zIndex="102";a.style.textAlign="center";a.style.padding=r+"px";a.style.backgroundColor="transparent"===Y?"#ffffff":Y;a.style.height=o()-(k&&R?0:2*r)+"px";ha(a,b);"one row"!==e&&116<=o()&&a.appendChild(i);return a}function K(b){var h=document.createElement("a"),
a=document.createTextNode(d.translate.USE_ANOTHER_ACCOUNT||"switch accounts");h.setAttribute("class","janrainSwitchAccountLink");h.setAttribute("href","");h.style.fontSize="12px";h.style.fontFamily=qa;h.style.color=ia;h.onclick=b;h.appendChild(a);return h}function L(){return"modal"===M?document.getElementById("janrainModal"):"embed"===M?document.getElementById("janrainEngageEmbed"):!1}function Q(){var b=parseInt(h.style.width);return b=b+2*r+2}function P(){var b=L();null!==b&&"object"===typeof h&&
h.parentNode===b&&b.removeChild(h)}function X(){var h="";"object"===typeof s&&(h=s.getState());return{type:M,width:Q(),fontFamily:qa,fontSize:l,fontColor:ia,backgroundColor:Y,borderColor:ra,borderRadius:b,format:e,providersPerPage:oa,providers:Ma,buttonBackgroundStyle:kb,buttonBorderColor:jc,buttonBorderRadius:Sb,actionText:g(),showAttribution:Fa,modalState:h}}function w(h){e=O("string",["default","two column","one column","one row"],"two column",h);"default"===e&&(e="two column");"one row"==h&&(b=
O("number",[0,5],5,b));ea()}function V(b){"two column"===e&&(N=O("number",[225,600],380,b));"one column"===e&&(N=O("number",[160,600],200,b));"one row"===e&&(U=30,b=Da<=oa?r*(parseInt(oa)-1):r*(parseInt(oa)+2),40===D&&(b+=hc-r),N=U*oa+b);if(("two column"===e||"one column"===e)&&!ja)N=N-2*r-2;k&&R&&(N=N+2*r+2);"one row"!==e&&(U=380<N?50:30)}function T(h){"string"===typeof h&&(ka=!0,ta=O("text",null,ta,h)," "===ta?b=O("number",[0,5],5,b,!0):u="two column"!==e?a().headerHeight-5:a().headerHeight)}function ba(b){kb=
O("string",["gray","white","gradient"],"gradient",b)}function Z(b){jc=O("color",null,"#CCCCCC",b)}function $(b){Y=O("color",null,"#ffffff",b)}function ca(h){"undefined"===typeof h&&(h=5);b=" "===ta||!Fa||"one row"===e?O("number",[0,5],5,h,!0):O("number",[0,10],10,h)}function da(h){Fa=O("boolean",null,!0,h);o();b=h?O("number",[0,10],5,b,!0):O("number",[0,5],5,b,!0)}function W(b){ra=O("color",null,"#C0C0C0",b)}function ea(){"two column"===e&&(l=18);if("one column"===e||"one row"===e)l=14}function ma(b){ia=
O("color",null,"#333333",b)}function ga(b){if("object"==typeof b){A=j();for(var h=0,a=b.length;h<a;h++)if(!tb[b[h]])return la(4),t.log(b[h]+" is not a valid provider, using default providers instead"),this;Ma=b;Da=b.length;"object"===typeof s&&s.setHeight(o()-2*r).refresh()}}function la(b){"two column"===e&&(oa=O("number",[4,6,8],6,b));"one column"===e&&(oa=O("number",[1,6],6,b));"one row"===e&&(oa=Ta?Da:O("number",[4,8],6,b),V(N))}function pa(b){var a=document.createTextNode(d.translate.SIGNING_IN||
"Signing in ..."),i=document.createElement("div");Vb=J(b.name);i.appendChild(a);Vb.appendChild(i);h&&h.appendChild(Vb)}var sa=!1,N=380,ka=!1,qa="lucida grande, Helvetica, Verdana, sans-serif",l=18,ia="#666666",Y="#ffffff",ra="#C0C0C0",b=10,h,i,e="two column",A,B,oa=6,Ma=["aol","google","yahoo","openid"],Da=4,jc="#CCCCCC",Sb=5,kb="gradient",U=30,u=a().headerHeight,D=60,hc=89,Hb=a().footerHeight,r=5,gc=10,ta="Sign in using your account with",Vb,Jb,Ra,Sa,Fa=!0,Dc=!1,ua=!1,wa,xa;janrain.events.onProviderLoginStart.addHandler(function(b){Ea("login_tab",
b.provider,1)});return{build:c,setFormat:function(b){b&&w(b);"two column"!==e&&(u=a().headerHeight-5);"two column"===e&&(oa=a().twoColumn.providersPerPage,u=a().headerHeight);return this},setActionText:function(b){"string"===typeof b&&T(b);return this},setFontSize:function(b){b&&ea(b);return this},setFontFamily:function(b){b&&b&&(qa=b);return this},setFontColor:function(b){b&&ma(b);return this},setButtonBorderColor:function(b){b&&Z(b);return this},setButtonBorderRadius:function(b){if("string"==typeof b||
"number"==typeof b)Sb=O("number",[0,20],5,b);return this},setButtonBackgroundStyle:function(b){b&&ba(b);return this},setWidth:function(b){("string"==typeof b||"number"==typeof b)&&V(b);return this},refresh:function(){P();var b=L();c();var a=fa("expected_tab");a&&!Wb?$a("expected_tab",a):(null!==b&&"object"===typeof h&&b.appendChild(h),"object"===typeof s&&s.setHeight(parseInt(h.style.height)+2).refresh());janrain.events.onCustomizationChange.fire(X());return this},remove:function(){P();return this},
setRowHeight:function(b){if(0!==j())return this;b||(b=60);oneRowHeaderHeight=O("number",[40,60,90],60,b);40===oneRowHeaderHeight&&(U=30,D=40);60===oneRowHeaderHeight&&(U=30);90===oneRowHeaderHeight&&(U=50);return this},setHeight:function(b){"object"==typeof h&&(h.style.height=b+"px");return this},setBackgroundColor:function(b){b&&$(b);return this},setBorderColor:function(b){b&&W(b);return this},setBorderRadius:function(b){("string"==typeof b||"number"==typeof b)&&ca(b);return this},setProviders:function(b){"object"==
typeof b&&ga(b);return this},setProvidersPerPage:function(b){if("string"==typeof b||"number"==typeof b)la(b),"object"===typeof s&&s.setHeight(o()).refresh("janrainModal");return this},setShowAttribution:function(b){"boolean"===typeof b&&da(b);return this},setPreviewMode:function(b){"boolean"===typeof b&&(hb=b);return this},setProviderFlow:function(b,h){return I(b,h)},triggerFlow:function(b){return G(b)},setNoReturnExperience:function(b){"boolean"===typeof b&&(Dc=b);return this},setNoReturnExperienceSwitchAccountLink:function(b){"boolean"===
typeof b&&(ua=b);return this},setConfigureMode:function(b){"boolean"===typeof b&&(ja=b,A=j());return this},embed:function(b){if((B=b)&&"object"==typeof h)h.style.position="relative";return this},getContentsDiv:function(){return h},getErrorPage:function(b,a){var i=document.createTextNode(a.msg),e=document.createElement("div");e.appendChild(i);e.style.color=ia;e.style.fontSize=l+"px";e.style.width="100%";var c=J(b);c.appendChild(e);c.appendChild(K(function(){h.removeChild(c);h.removeChild(Vb);va=!0;
return!1},b));h.appendChild(c);return h},getReturnExperience:function(b,a){if(hb||Dc||-1===Ma.indexOf(b))return h;var i=F(b,a),e=J(b),c=function(){va=Wb=!0;h.removeChild(e);return!1};e.id="janrainAuthReturnExperience";e.appendChild(i);ua||e.appendChild(K(c,b));h.appendChild(e);return h},getWidth:function(){return Q()},getActualHeight:function(){return parseInt(h.style.height)+2},getHeight:function(){return o()-2*r},getState:function(){return X()},setState:function(b){if(C("customizable_auth_widget_styling")){var h=
b.fontFamily;h&&(qa=h);ea(b.fontSize);ma(b.fontColor);$(b.backgroundColor);W(b.borderColor);"embed"===M&&b.format&&(b.format&&w(b.format),"two column"!==e&&(u=a().headerHeight-5),"two column"===e&&(oa=a().twoColumn.providersPerPage,u=a().headerHeight));if("string"==typeof b.providersPerPage||"number"==typeof b.providersPerPage)la(b.providersPerPage),"object"===typeof s&&s.setHeight(o()).refresh("janrainModal");ba(b.buttonBackgroundStyle);Z(b.buttonBorderColor);Sb=O("number",[0,20],5,b.buttonBorderRadius);
T(b.actionText);da(b.showAttribution);ca(b.borderRadius);"embed"===M&&("string"==typeof width||"number"==typeof width)&&V(b.width)}ga(b.providers)},showNotice:function(){pa()},removeNotice:function(){Db(Vb)},removeReturnExperience:function(){var b=document.getElementById("janrainAuthReturnExperience");Db(b)}}}function c(){if("object"===typeof o)if("object"===typeof la){var a=o.getState();a.width=la.width;la=a}else la=o.getState();"object"===typeof o&&o.remove();"object"===typeof s&&s.remove();z();
M="modal";"object"===typeof o&&la&&C("customizable_auth_widget_styling")&&o.setState(la);"object"===typeof s&&Pa&&C("customizable_auth_widget_styling")&&s.setState(Pa);"object"===typeof s&&s.show();"object"===typeof o&&o.refresh()}function g(){if("object"===typeof o){if("object"===typeof la){var a=o.getState();a.borderRadius=la.borderRadius;a.format=la.format;a.width=la.width;la=a}else la=o.getState();Pa=la.modalState;delete Pa.orientation}"object"===typeof o&&o.remove();"object"===typeof s&&s.remove();
"object"===typeof s&&(s="");j();M="embed";"object"===typeof o&&la&&C("customizable_auth_widget_styling")&&o.setState(la);"object"===typeof o&&o.refresh()}function n(){var a,c;z();c=document.getElementsByTagName("a");var f=RegExp("(\\s|^)"+d.linkClass+"(\\s|$)");for(a in c)f.test(c[a].className)&&(c[a].onclick=v)}function j(){var a=fa("expected_tab");o=new f;o.setBackgroundColor(wb).embed(!0).setPreviewMode(K).setShowAttribution(lb).setNoReturnExperience(Ua).setNoReturnExperienceSwitchAccountLink(mb).setFormat(nb).setRowHeight(x).setFontSize(ob).setFontFamily(I).setFontColor(bb).setActionText(X).setProviders(wa).setProvidersPerPage(Z).setWidth(xb).setBorderColor(Mb).setBorderRadius(Xb).setButtonBorderColor(cb).setButtonBorderRadius(yb).setButtonBackgroundStyle(Va).build();
var c=document.getElementById("janrainEngageEmbed");null===c&&(c=document.getElementById("janrainModal"));ma||(a?(Y("welcome_info_name",unescape(fa("welcome_info_name"))),$a("expected_tab",a)):Oa(c,o.getContentsDiv()))}function v(){"object"===typeof s&&s.show();return!1}function z(){var a=db(gb,ca),c=fa("expected_tab");if("undefined"===typeof a||0>a)a=5;o=new f;o.setBackgroundColor(wb).setPreviewMode(K).setShowAttribution(lb).setNoReturnExperience(Ua).setNoReturnExperienceSwitchAccountLink(mb).setFontSize(ob).setFontFamily(I).setFontColor(bb).setActionText(X).setProviders(wa).setProvidersPerPage(Z).setBorderRadius(a).setButtonBorderColor(cb).setButtonBorderRadius(yb).setButtonBackgroundStyle(Va).build();
if("object"!==typeof s){s=new bc;s.ready=!1;var d=s.addContent;s.addContent=function(a){s.ready=!0;d(a);janrain.events.onModalWidgetReady.fire()}}s.setHeight(o.getActualHeight()).setWidth(o.getWidth()).setPreviewMode(K).setBorderColor(Ia).setBorder(ca).setBorderOpacity(ab).setBorderRadius(gb);ma||(c?(Y("welcome_info_name",unescape(fa("welcome_info_name"))),$a("expected_tab",c)):s.addContent(o.getContentsDiv()));s.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&o.setFormat(a.format).setWidth(200).refresh();
"landscape"===a.orientation&&o.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh();s.setHeight(o.getActualHeight());s.setWidth(o.getWidth())});s.onShow.addHandler(function(){"object"==typeof o&&s.setWidth(o.getWidth())});s.onBorderWidthChange.addHandler(function(a){"object"===typeof s&&"object"===typeof o&&(o.setBorderRadius(a.radius).refresh(),a=o.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&s.setBorderRadius(a.borderRadius+a.modalState.borderWidth))});
s.onBorderRadiusChange.addHandler(function(a){"object"===typeof o&&(o.setBorderRadius(a.radius).refresh(),a=o.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&s.setBorderRadius(a.borderRadius+a.modalState.borderWidth))})}function E(a,c){if(!C("customizable_auth_widget_styling"))return!1;if("object"===typeof o)return c(a),!0}function J(a){return E(a,function(a){o.setBackgroundColor(a).refresh()})}function y(a){return E(a,function(a){o.setBorderRadius(a).refresh()})}function F(a){return E(a,
function(a){o.setBorderColor(a).refresh()})}function Q(a){return"modal"===M?!1:E(a,function(a){o.setWidth(a).refresh()})}function P(a){return E(a,function(a){o.setActionText(a).refresh()})}function ga(a){return E(a,function(a){o.setButtonBorderColor(a).refresh()})}function ka(a){return E(a,function(a){o.setButtonBorderRadius(a).refresh()})}function ua(a){return E(a,function(a){o.setButtonBackgroundStyle(a).refresh()})}function m(a){return"modal"==M?!1:E(a,function(a){o.setFormat(a).refresh()})}function La(a){return E(a,
function(a){o.setProvidersPerPage(a).refresh()})}function fb(a){return E(a,function(a){o.setFontFamily(a).refresh()})}function T(a){return E(a,function(a){o.setFontSize(a).refresh()})}function Ba(a){return E(a,function(a){o.setFontColor(a).refresh()})}function fa(a){var c;if("single cookie"===ea){c=L().getCookie("janrain_engage_login_data");if(!c)return;c=G.parse(c);return!c[a]?void 0:a=c[a]}if("default"===ea)return a=L().getCookie(a),!a?void 0:a}function Ea(a,c,d){var f;if(!a||!c)return!1;d||(d=
1);if("single cookie"===ea)return(oldCookieJSON=L().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),d=G.parse(oldCookieJSON),d[a]=c,f=new L,f.setName("janrain_engage_login_data").setValue(G.stringify(d)).setExpiration(1826).create(),!0;return"default"===ea?(f=new L,f.setName(a).setValue(c).setExpiration(d).create(),!0):!1}function $(a,c){if(Ua)return!1;if("expected_tab"===a&&!c){var d=fa("login_tab");d&&$("expected_tab",d);return!1}if(!c||"undefined"===c||"expected_tab"!==a&&"expected_user_input"!==
a&&"welcome_info_name"!==a)return!1;c="welcome_info_name"===a?escape(c):c;Ea(a,c,1826)}function za(c,d){var f;d||(d=a);if(k&&3>zb)return(void 0).time=(new Date).getTime(),f=Eb(void 0),ia(d+"/signin/get_login_info"+f),zb++,!0;"undefined"!==typeof Na&&clearTimeout(Na);return!1}function Ya(c,d,f){var g=d.appUrl+"/"+c.flow+"/start",j=window.location.href;d.mobileDevice&&(j="mobile");var k=d.language||"en",o=d.popup?"xdr":"xdrsw",n=d.tokenUrl||window.location.href,m={};a=d.appUrl;m.language_preference=
k;m.token_url=n;m.display="popup";m.widget=!0;"object"===typeof d.facebookPermissions&&(m.ext_perm=d.facebookPermissions.toString());m.openid_identifier=c.identifier;m.origin_url=j;m.provider_name=c.name;m.force_reauth=d.forceReauth;m.xdReceiver=d.appUrl+"/"+o;m.callback="none";m.widget_type=d.widgetType;m.token_action="url";if("event"===d.tokenAction||"hybrid"===d.tokenAction)m.token_action="event";d.mobileDevice&&"hybrid"===d.tokenAction&&(m.token_action="url");d.bpChannel&&(m.bpChannel=d.bpChannel);
d.customOpenid&&"string"===typeof d.customOpenidOpxblob&&(m.opx_blob=d.customOpenidOpxblob);g+=Eb(m);(function(){janrain.events.onProviderLoginStart.fire({provider:c.name,width:c.width,height:c.height});var a;d.mobileDevice&&"event"!==d.tokenAction||!d.popup?ia(d.appUrl+"/signin/set_login_tab?login_tab="+c.name+"&origin_url="+window.location.href,function(){window.top.location.href=g}):(a=new Gc(g),a.setWidth(c.width).setHeight(c.height).setCallback(function(){var a={},g="";a.widget_type=d.widgetType;
a.provider=c.name||"";a.time=(new Date).getTime();g=Eb(a);"function"===typeof f&&f();ia(d.appUrl+"/signin/get_login_info"+g);janrain.events.onProviderLoginComplete.fire({provider:c.name})}).show())})()}function Y(a,c){if(!c||"undefined"===c||"welcome_info_name"!==a)return!1;c&&(Ka=c)}function $a(a,c){var d=function(a){var f=function(){600>a&&setTimeout(function(){d(++a)},50)};if("object"!==typeof o)return f(),!1;"modal"===M?s.addContent(o.getReturnExperience(c,Ka)):"embed"===M&&Oa(document.getElementById("janrainEngageEmbed"),
o.getReturnExperience(c,Ka));"modal"===M&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!c)return!1;"object"===typeof o&&o.removeReturnExperience();janrain.events.onAuthWidgetLoad.addHandler(function(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,welcomeName:Ka})});d(0)}function Oa(a,c){janrain.settings.capture&&(a?a.appendChild(c):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?a.appendChild(c):
t.log('Missing container div, please place this div where you want the embedded widget to be displayed on your page - <div id="janrainEngageEmbed"></div>.').show();return a}function Ga(a,c){Ja=Ja||ra;tokenUrl=c?Ja:ra;var d="";if(!xa(tokenUrl).query)var d=d+"?",f=!0;for(var g in a)f?(d+=g+"="+a[g],f=!1):d+="&"+g+"="+a[g];Ja=tokenUrl+d}function da(){d=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout(da,5),!1;$b(rc()+"providers.css");
if(d.stop)return!0;dc&&ia(d.appUrl+"/signin/establish_session");na=d.tokenAction?d.tokenAction:na;if(!d.tokenUrl&&"event"===na)ra=window.location.href;else if(d.tokenUrl)ra=d.tokenUrl;else return t.log("Missing tokenUrl.  tokenUrl is required."),t.show(),!1;M=O("string",["modal","embed"],"embed",d.type?d.type:M);ma=d.multi?d.multi:Gb?!0:ma;aa=d.custom?d.custom:aa;va=d.forceReauth?d.forceReauth:va;Aa=d.bpChannel?d.bpChannel:Aa;sb=d.facebookPermissions?d.facebookPermissions:sb;ea=d.storageType?O("string",
["default","single cookie"],"default",d.storageType):ea;Ha="boolean"===typeof d.popup?d.popup:Ha;Gb&&"event"!==na&&(Ha=!1);Fb=d.returnExperienceTimeout?d.returnExperienceTimeout:Fb;ma&&(setTimeout(function(){var a=fa("expected_tab");a?(Y("welcome_info_name",unescape(fa("welcome_info_name"))),$a("expected_tab",a)):"modal"===M?s.addContent(o.getContentsDiv()):"embed"===M&&Oa(embedDiv,o.getContentsDiv())},Fb),ia(d.appUrl+"/signin/get_cookies"));if(aa)return!0;na=d.tokenAction?d.tokenAction:na;ca=C("customizable_auth_widget_styling")?
d.modalBorderWidth:ca;Ia=C("customizable_auth_widget_styling")?d.modalBorderColor:Ia;gb=C("customizable_auth_widget_styling")?d.modalBorderRadius:gb;ab=C("customizable_auth_widget_styling")?d.modalBorderOpacity:ab;wb=C("customizable_auth_widget_styling")?d.backgroundColor:wb;Xb=C("customizable_auth_widget_styling")?d.borderRadius:Xb;Mb=C("customizable_auth_widget_styling")?d.borderColor:Mb;nb=C("customizable_auth_widget_styling")?d.format:nb;bb=C("customizable_auth_widget_styling")?d.fontColor:bb;
ob=C("customizable_auth_widget_styling")?d.fontSize:ob;I=C("customizable_auth_widget_styling")?d.fontFamily:I;xb=C("customizable_auth_widget_styling")?d.width:xb;x=C("customizable_auth_widget_styling")?d.rowHeight:x;Z=C("customizable_auth_widget_styling")?d.providersPerPage:Z;Ta=C("customizable_auth_widget_styling")?d.providersNotPaged:Ta;X=C("customizable_auth_widget_styling")?d.actionText:X;cb=C("customizable_auth_widget_styling")?d.buttonBorderColor:cb;yb=C("customizable_auth_widget_styling")?
d.buttonBorderRadius:yb;Va=C("customizable_auth_widget_styling")?d.buttonBackgroundStyle:Va;lb=C("customizable_auth_widget_hide_attribution")?d.showAttribution:lb;K=d.previewMode;Ua=d.noReturnExperience;mb=d.noReturnExperienceSwitchAccountLink;wa=d.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate={});if(d.customOpenid&&C("customizable_auth_widget_styling")){Xa=!0;if(!d.customOpenidFlow)return t.log("Missing customOpenidFlow. customOpenidFlow is required when adding a custom openid provider."),
t.show(),!1;if(!d.customOpenidIdentifier)return t.log("Missing customOpenidIdentifier. customOpenidIdentifier is required when adding a custom openid provider."),t.show(),!1;if(!d.customOpenidSmallLogo)return t.log("Missing customOpenidSmallLogo.  customOpenidSmallLogo is required and should be the full path to an image that has a width of 90px and height of 30px."),t.show(),!1;if(!d.customOpenidSmallIcon)return t.log("Missing customOpenidSmallIcon.  customOpenidSmallIcon is required and should be the full path to an image that is 30px x 30px."),
t.show(),!1;if(!d.customOpenidLargeLogo)return t.log("Missing customOpenidLargeLogo.  customOpenidLargeLogo is required and should be the full path to an image that has a width of 150px and height of 50px."),t.show(),!1;if(!d.customOpenidLargeIcon)return t.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),t.show(),!1;ya={smallLogo:d.customOpenidSmallLogo,smallIcon:d.customOpenidSmallIcon,largeLogo:d.customOpenidLargeLogo,
largeIcon:d.customOpenidLargeIcon};tb.customopenid={flow:d.customOpenidFlow,identifier:d.customOpenidIdentifier}}d.previewMode?("modal"===M&&(janrain.ready?c():S(window,"load",c)),"embed"===M&&(janrain.ready?g():S(window,"load",g))):("modal"===M&&(janrain.ready?n():S(window,"load",n)),"embed"===M&&(janrain.ready?j():S(window,"load",j)))}var sb,Aa,Xa=!1,va=!1,na="url",ra,Ja,M="embed",Ka="unknown",ma=!1,Fb=300,va=!1,Ha=!0,aa=!1,ea="default",ya,Pa,s,ca,Ia,gb,ab,o,la,wb,Xb,Mb,xb,x,nb,wa=[],Ta=!1,Z,X,
ob,I,bb,cb,yb,Va,K,Ua,mb,lb,Wb=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=W());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=W());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=W());janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===typeof janrainWidgetOnload&&(aa?janrainWidgetOnload():o?janrainWidgetOnload(o.getState()):janrainWidgetOnload())});for(var Na,zb=0,pa="onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),
Wa=0;Wa<pa.length;Wa++)"undefined"===typeof janrain.events[pa[Wa]]&&(janrain.events[pa[Wa]]=new Za);janrain.events.onProviderLoginError.addHandler(function(a){if(aa)return!0;var c=fa("login_tab");if("modal"===M){var d=document.getElementById("janrainModal");d&&d.appendChild(o.getErrorPage(c,a.err))}"embed"===M&&(d=document.getElementById("janrainEngageEmbed"))&&Oa(d,o.getErrorPage(c,a.err))});da();return{appendTokenParams:function(a,c){Ga(a,c)},appendTokenParamsCumulative:function(a){Ga(a,!0)},setBackplaneChannel:function(a){Aa=
a},setLoginCookie:function(a,c){$(a,c)},loginHandler:function(a){var c=na;a?("ok"===a.stat&&("event"===c||"hybrid"===c?ia(a.redirectUrl):(c=document.createElement("form"),c.action=a.redirectUrl,c.method="POST",janrain.settings.targetTop&&(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===a.stat&&(janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof Na&&clearTimeout(Na))):za()},cancelLogin:function(a){za(a,d.appUrl);aa||o.removeNotice()},removeNotice:function(){o.removeNotice()},
setWelcomeInfoName:function(a,c){Y(a,c)},setReturnExperience:function(a,c){$a(a,c)},setNoReturnExperience:function(a){"boolean"===typeof a&&o?(o.setNoReturnExperience(a).refresh(),a=!0):a=!1;return a},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&o?(o.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&o?(o.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&
o?(o.setConfigureMode(a).refresh(),a=!0):a=!1;return a},setCustom:function(a){aa=a},getState:function(){return"object"===typeof o?o.getState():!1},setProviderFlow:function(a,c){var d;d=!C("customizable_auth_widget_styling")||!aa?!1:f().setProviderFlow(a,c);return d},triggerFlow:function(a){a=!C("customizable_auth_widget_styling")||!aa?!1:f().triggerFlow(a);return a},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+
document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);
console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+a+": "+janrain.settings[a]),"object"===typeof janrain.settings[a])for(var c in janrain.settings[a])"function"!==typeof janrain.settings[a][c]&&console.log(" --- --- "+c+": "+janrain.settings[a][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){g()},setBackgroundColor:function(a){return J(a)},setBorderColor:function(a){return F(a)},
setBorderRadius:function(a){return y(a)},setWidth:function(a){return Q(a)},setActionText:function(a){return P(a)},setFontFamily:function(a){return fb(a)},setFontSize:function(a){return T(a)},setFontColor:function(a){return Ba(a)},setFormat:function(a){return m(a)},setButtonBorderColor:function(a){return ga(a)},setButtonBorderRadius:function(a){return ka(a)},setButtonBackgroundStyle:function(a){return ua(a)},setProviders:function(a){var c;"object"===typeof o&&(ja?o.setProviders(a):o.setProviders(a).refresh(),
c=!0);return c},setProvidersPerPage:function(a){return La(a)},setShowAttribution:function(a){var c;C("customizable_auth_widget_hide_attribution")?"object"===typeof o&&o.setShowAttribution(a).refresh():c=!1;return c},refresh:function(){return o.refresh()},getWidth:function(){return o.getWidth()}},modal:{init:function(){c()},close:function(){"object"==typeof s&&s.close()},create:function(){return new bc},setBorder:function(a){C("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorder(a),
s.refresh()),a=!0):a=!1;return a},setBorderColor:function(a){C("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorderColor(a),s.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){C("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorderOpacity(a),s.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){C("customizable_auth_widget_styling")?("object"==typeof s&&(s.setBorderRadius(a),s.refresh()),a=!0):a=!1;return a}}}};var ga=new function(){return{status:"not loaded"}},
ib=new function(){return{status:"not loaded"}},jb=new function(){return{status:"not loaded"}},Mc=new function(){function a(b){function h(){lc=!0;var h=b||q();b&&(wa=xa(b).queryKey.flow_path);ia(h,ra);ha();Za();janrain.events.onCaptureFailedLogin.addHandler(function(){Lb++;Ba()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){Lb=0;Ba()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){s(mb)});janrain.events.onCaptureSuccessfulRegistration.addHandler(function(){s(mb)});
janrain.events.onCaptureValidationComplete.addHandler(function(){for(var b=!1,h=sa.length,a=0;a<h;a++){var i=sa[a],e;for(e in i)if(i.hasOwnProperty(e))switch(e){case "render":i.render.screen&&!b&&(b=!0,(new Ia).setScreenData(i.render.screen,p.screens[i.render.screen]));break;case "setCookie":var c=i.setCookie.name,d=i.setCookie.value,A=i.setCookie.days;(new L).setExpiration(A).setUseLocalStorage(!0).setName(c).setValue(d).create()}}sa=[]});janrain.events.onCaptureRenderComplete.addHandler(function(){if(hb){var b=
Qa.savedProfileMessage||"Your profile has been saved",h=La("capture_profileSavedMessage_container",K.div),a=h.length;if(a)for(var i=0,a=h.length;i<a;i++)h[i].innerHTML=b,h[i].style.display="";else if(rb&&(h=document.getElementById(I+rb+"_defaultSavedProfileMessage")))h.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+b+"</div>";hb=!1}ga()});janrain.events.onCaptureContentChange.addHandler(function(){"object"===typeof w&&w.isOpen()&&(w.setHeight(Xa(w.getContent()).height),
w.setWidth(Xa(w.getContent()).width).refresh())});janrain.settings.custom&&!qb&&ja()}Ha(Fb());janrain.settings.capture.noStyling||($b(rc()+"widgets.css"),zc(rc()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&v(janrain.settings.capture.stylesheets))for(var a=janrain.settings.capture.stylesheets,e=a.length,c=0;c<e;c++)$b(a[c]),t(a[c]);if(k&&9>k&&janrain.settings.capture.conditionalIEStylesheets&&v(janrain.settings.capture.conditionalIEStylesheets)){a=janrain.settings.capture.conditionalIEStylesheets;
e=a.length;for(c=0;c<e;c++)zc(a[c]),t(a[c])}Lc&&(janrain.settings.capture.federate=!1);janrain.settings.capture.federate?ia(janrain.settings.capture.federateServer+"/sso.js",function(){janrain.settings.capture.redirectFlow?Ja(h):h()}):janrain.settings.capture.redirectFlow?Ja(h):h()}function d(b,h,a,e){var c=[];e&&c.push({value:"",text:e,disabled:!0});if("desc"===a)for(a=h;a>b-1;a--)c.push({value:a,text:a});else for(a=b;a<h+1;a++)c.push({value:a,text:a});return c}function c(b){return"string"===typeof b?
"capture_"+b+"_":"capture_"+g(b)+"_"}function g(b){var h=b.getAttribute("data-capturescreenname");if(h&&p.screens[h])return h;for(var h=La("capture_screen_container"),a=0,e=h.length;a<e;a++){var c;a:{for(c=b.parentNode;null!=c;){if(c==h[a]){c=!0;break a}c=c.parentNode}c=!1}if(c)return h=h[a].getAttribute("data-capturescreenname"),b.setAttribute("data-capturescreenname",h),h}}function q(){var b=Ta,h=janrain.settings.capture.flowVersion||"HEAD",a=janrain.settings.capture.flowName||"default",e=janrain.settings.capture.appid||
janrain.settings.capture.appId;return uri=e?j()+"/widget_data/flow.js:"+e+":"+b+":"+h+":"+a:j()+"/widget_data/flow.js:"+b+":"+h+":"+a}function j(){return"https://dlzjvycct5xka.cloudfront.net"}function t(b){z(nc,b)||nc.push(b);uc=nc.length}function C(b){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+b+"' is missing."}}function E(b,h){var a=c(b),e=document.getElementById(a+h.name+"_dateselectmonth"),e=e.options[e.selectedIndex].value,d=document.getElementById(a+
h.name+"_dateselectday"),d=d.options[d.selectedIndex].value,a=document.getElementById(a+h.name+"_dateselectyear");return e+"/"+d+"/"+a.options[a.selectedIndex].value}function O(b){if(!b)return!1;for(var h=b.getElementsByTagName("input"),a=b.getElementsByTagName("select"),e=b.getElementsByTagName("textarea"),b=[],h=[h,a,e],a={},e=0,c=h.length;e<c;e++)for(var d=h[e],f=d.length,g=0;g<f;g++){var j=d[g];"true"===j.getAttribute("data-capturecollection")?a[j.name]||(fa(j,!0)||b.push(j),a[j.name]=!0):fa(j,
!0)||b.push(j)}janrain.events.onCaptureValidationComplete.fire({fieldsWithError:b});return 0===b.length}function y(){}function F(){}function R(b){S(document.getElementById("captureIFrame_"+b),"load",m)}function W(b,a,i){if(!v(b)&&!a)return!1;v(b)||(b=[]);var e=b.length,c,d=new Ia,f="",g=[],j=document.getElementById(i+a);if(!j)return!1;for(a=0;a<e;a++)if(c=p.fields[b[a]])c.fieldPrefix=i,c.name=c.elementName=b[a],f+=d.renderField(c),g.push(c.name);if(!f.length&&j)return j.innerHTML="",!1;j.innerHTML=
f;a=0;for(e=g.length;a<e;a++)(b=document.getElementById(i+g[a]))&&S(b,"blur",za)}function ga(){for(var b=K.div.getElementsByTagName("select"),a=b.length,i=0;i<a;i++)b[i].getElementsByTagName("option")[b[i].selectedIndex].disabled&&(n(b[i]).append("capture_disabled"),S(b[i],"change",function(){n(this).remove("capture_disabled")}))}function ha(){S(document.body,"click",function(b){var a=janrain.settings.capture.logoutLinksClass||"capture_end_session",i=J(b);i&&i.nodeName&&"A"===i.nodeName&&n(i).has(a)&&
(sb(),Q(b))})}function ja(){janrain.events.onProviderLoginToken.addHandler(function(b){b.linkAccounts?l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:b.currentScreen,needsResponse:!0,callback:function(){janrain.events.onCaptureProfileLink.fire({provider:b.janrainWidgetParameters.provider})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",
elementType:"hidden",elementValue:b.token}]}):(janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience),mc&&(ub=H),H=b.token,K.values=gb(K.div.id),Va.push(K),tb(b.keepMeLoggedIn))});qb=!0}function m(b){var a=J(b);if("formClicked"===a.className){var i=a.getAttribute("data-transactionId");o("/widget/get_result.jsonp",{transactionId:i,cache:(new Date).getTime()},function(){function b(){d++;if(10<d)return ca("could not find transaction status"),
!1;if(jb[i])ya(i),clearTimeout(a),a=jb[i],"success"===a.status?Ea(c):ca("there was a problem with the response",a);else var a=setTimeout(b,50)}var c=G.parse(a.getAttribute("next")),d=0;b()})}else a.className="";a.className=""}function ka(b,a){for(var i=J(b).getAttribute("id").split("_")[3],e=J(b),d=c(e),e=e.parentNode,f=n(e).has("capture_tab_toggle"),g=f?"capture_tab_toggle":"capture_radio_toggle",j=0;j<a.collection.length;j++)a.collection[j].elementName!==i&&(document.getElementById(d+a.collection[j].elementName).style.display=
"none");for(var g=La(g,document.getElementById(d+a.elementName)),l=g.length,j=0;j<l;j++)n(g[j]).remove("capture_toggled");n(e).append("capture_toggled");document.getElementById(d+i).style.display="block";janrain.events.onCaptureContentChange.fire();f&&Q(b)}function Aa(b){function a(b){b=b?G.stringify(b):i;ea(c);d.className="formClicked";d.setAttribute("next",b)}var i=J(b).getAttribute("next"),e=J(b),c=J(b).getAttribute("data-transactionId"),d=document.getElementById("captureIFrame_"+c),f=G.parse(i),
g=!1;if("true"!==e.getAttribute("data-capturedomelement")){K.values=gb(K.div.id);if(!O(e))return Q(b),!1;var j=Fc(e),l=Xb();j.parentNode.insertBefore(l,j);j.style.display="none"}if(f.conditional){f=f.conditional;j=f.length;for(l=0;l<j;l++)if(T(f[l],e)){g=f[l];break}g?g.nosubmit?(Q(b),Ea(g.next)):a(g.next):a()}else f.dontSubmit?(Q(b),f.storeValues&&gb(e.id,!0),Ea(f)):a()}function T(b,a){var i=p.fields[b.field],i=c(a)+(i.elementId||i.elementName),i=document.getElementById(i);switch(b.compare){case "=":if(i.value===
b.value)return!0}}function za(b){b=Ya(b);fa(b)}function fa(b,a){if(b.type&&("hidden"===b.type||"submit"===b.type)||!b.getAttribute("data-capturefield"))return!0;var i=b.getAttribute("data-capturerendererfield")?p.fields[b.getAttribute("data-capturerendererfield")]:p.fields[b.getAttribute("data-capturefield")],e=b.getAttribute("data-capturerendererchildfieldname"),d=e?i.elementName+"["+e+"]":i.elementName,f=c(b),g=!1;if(!i.validation||i.validation.type&&"server"===i.validation.type||e&&!i.validation[e]&&
"dateselect"!==i.type||"dateselect"===i.type&&"dateselect_year"!==e)return!0;e="multiCheckbox"===i.element||"multiRadio"===i.element?document.getElementById(f+"form_collection_"+i.elementName):"dateselect"===i.type?document.getElementById(f+"form_item_"+i.name):document.getElementById(f+"form_item_"+d);n(e).append("capture_validating");g=new l.validation;g.setParentDiv(e);g.setElement(b);i=nb.check(b,i,a);i.valid?(g.valid(),g=!0,n(e).remove("capture_validating")):i.pending?(g.pending(),g=!0):(g.notValid(i.reason),
g=!1,n(e).remove("capture_validating"));return g}function Ea(b){Va.push(K);if(b.noop)return!1;b.url&&(window.location.href=b.url);b.screen&&(new Ia).setScreenData(b.screen,p.screens[b.screen]);if(b.action&&K)janrain.capture.ui[b.action]();if(b["function"]&&"function"===typeof lb[b["function"]])lb[b["function"]]()}function $(b){(new L).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(b).create()}function Ba(){(new L).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(Lb).create()}
function Za(){var b=new L;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainFailedLogins",function(b){ac(b)&&(Lb=parseInt(b,10))}):(b=b.getCookie("janrainFailedLogins"),ac(b)&&(Lb=parseInt(b,10)))}function Y(){var b=36E5*Bb+(new Date).getTime();return(new Date((new Date).setTime(b))).toUTCString()}function $a(){clearTimeout(Qb);Qb=setTimeout(Ga,1E4)}function Oa(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===
typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b,a,i=new L;i.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)i.getCookie("janrainCaptureTokenRefresh",function(i){i&&(a=new Date,expiretime=new Date(i),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):$a())});else if(i=i.getCookie("janrainCaptureTokenRefresh"))a=new Date,b=new Date(i),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):
$a()}}function Ga(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b=new L;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureToken",function(b){b?Oa():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}):b.getCookie("janrainCaptureToken")?Oa():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}}
function da(b,a,i){var e=Y();Ca=b;a?(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&Ga(),janrain.events.onCaptureSessionCreated.fire({accessToken:b}),janrain.events.onCaptureSessionFound.fire({accessToken:b})):(a=new L,a.setExpirationDirectly(e).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(Ca),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.create(),janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&
(e=new L,a=36E5*Bb-6E5+(new Date).getTime(),a=(new Date((new Date).setTime(a))).toUTCString(),e.setExpirationDirectly(a).setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(a),janrain.settings.capture.cookieDomain&&e.setDomain(janrain.settings.capture.cookieDomain),e.create(),Ga()),db&&(janrain.events.onCaptureSuccessfulLogin.fire({accessToken:b}),db=!1),i?janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:b}):janrain.events.onCaptureSessionCreated.fire({accessToken:b}))}
function sb(){var b=new L,a="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){};b.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove();b.setName("janrainCaptureProfileData");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove();janrain.events.onCaptureSessionEnded.fire();janrain.settings.capture.federate&&
JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},a)}function tb(b){var a=aa(),i=va({capture_screen:janrain.settings.capture.registerFlow||"socialRegister",token:H,capture_transactionId:a});ub&&(i.merge_token=ub,ub=null);b&&(i.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(i.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var b=
janrain.settings.capture.dataDefaults,e;for(e in b)b.hasOwnProperty(e)&&"undefined"===typeof i[e]&&(i[e]=b[e])}o("/widget/token_url.jsonp",i);ea(a);mc&&(mc=!1)}function pb(){var b=new L;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureToken",function(b){b?da(b,!0):janrain.events.onCaptureSessionNotFound.fire()});else{if(b.getCookie("janrainCaptureToken"))return da(b.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();
return!1}}function va(b){var a={js_version:ab,capture_screen:X,flow:p.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:pc,locale:Ta};wa&&(a.flow_path=wa);if("object"===typeof b)for(var i in b)b.hasOwnProperty(i)&&(a[i]=b[i]);return a}function na(b){var a=aa();JANRAIN.SSO.CAPTURE.set_login({code:b,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});
ea(a)}function ra(){if(janrain.settings.capture.federate){var b=void 0,b={},a=aa(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:b.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:G.stringify(va({capture_transactionId:a})),transaction_id:a,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver};
JANRAIN.SSO.CAPTURE.check_login(b);ea(a)}else{a:{if(a=xa(window.location.href).anchor)if(a=a.split("="),"access_token"===a[0]&&a[1]){db=!0;da(a[1]);a=!0;break a}a=!1}if(a||pb())return Ib=!0,!1;Ib=!0}}function Ja(b){var a=xa(window.location.href).anchor;if(!a)return b(),!1;var i=a.split(","),e=i.length,c,a={};if(1<e){for(var d=0;d<e;d++)c=i[d],c=c.split("="),a[c[0]]=c[1];if(!a.transactionId||!a.engageToken)return b(),!1;zb=b=a.transactionId;H=a.engageToken;o("/widget/get_result.jsonp",{transactionId:b},
function(){})}else return b(),!1}function M(b,a){var i=b["if"].compare;if(!i||0>i.indexOf(":"))return!1;switch(i.split(":")[0]){case "cookie":var e=i.split(":")[1],i=new L;i.setUseLocalStorage(!0);"janrainLastAuthMethod"===e&&!bb&&(bb=X);if(janrain.settings.multiDomainLocalStorage)i.getCookie(e,function(i){c&&"janrainLastAuthMethod"===e&&(cb=!0);ma(Ka(b["if"],i)?b.then:b["else"],a)});else{var c=i.getCookie(e);c&&"janrainLastAuthMethod"===e&&(cb=!0);ma(Ka(b["if"],c)?b.then:b["else"],a)}}}function Ka(b,
a){var i=ac(a)?parseInt(a,10):a,e,c=ac(b.to)?parseInt(b.to,10):b.to;switch(b.withOperator){case "===":e=c===i;break;case "!==":e=c!==i;break;case "==":e=c==i;break;case "!=":e=c!==i;break;case ">":e=i>c;break;case "<":e=i<c}return e}function ma(b,a){!b&&"function"===typeof a&&a();if(!b)return!1;if("undefined"===typeof b["if"]){if(b.render){var i=b.render.screen,c=p.screens[i];(new Ia).setScreenData(i,c)}}else M(b,a)}function Fb(){for(var b="",a=[],i=0;10>i;i++)b=Yb(40),a.push(b);return a}function Ha(b){if(!v(b))return!1;
for(var a=b.length,i=0;i<a;i++){var c=b[i];-1===fc.indexOf(c)&&fc.push(c)}}function aa(){var b=fc.pop();0===fc.length&&Ha(Fb());-1===kc.indexOf(b)&&kc.push(b);return b}function ea(b){var a=kc.indexOf(b);-1<a&&kc.splice(a,1);-1===ic.indexOf(b)&&ic.push(b)}function ya(b){var a=ic.indexOf(b);-1<a&&ic.splice(a,1);-1===Ab.indexOf(b)&&Ab.push(b)}function Pa(){if("object"!==typeof w)return!1;Qa.modalConfirmText&&w.setConfirmMessageText(Qa.modalConfirmText);Qa.modalConfirmLinkText&&w.setConfirmLinkText(Qa.modalConfirmLinkText);
Qa.modalCancelLinkText&&w.setCancelLinkText(Qa.modalCancelLinkText)}function s(b){p=b;p.flow=janrain.settings.capture.flowName;"undefined"===typeof mb&&(mb=b);"object"!==typeof p.layouts&&(p.layouts={});"object"!==typeof p.layouts.captureAccessDeniedBuiltIn&&(p.layouts.captureAccessDeniedBuiltIn={});p.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:Ub.accessDenied;"object"!==typeof p.layouts.captureRetrievingUserDataBuiltIn&&
(p.layouts.captureRetrievingUserDataBuiltIn={});p.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:Ub.retrievingUserData;for(b=0;b<Ua.length;b++)p.fields[Ua[b].field][Ua[b].attribute]=Ua[b].value}function ca(){sc.push(arguments);if(window.console){var b=arguments;b.callee=b.callee.caller;b=[].slice.call(b);k?console.log(b):console.log.apply(console,b)}}function Ia(){function b(b,
a,h){a&&a.screenConditionals?ma(a.screenConditionals,h):"function"===typeof h&&h()}function a(b){janrain.events.onCaptureAccessDenied.fire();Wa=!0;f({layout:"captureAccessDeniedBuiltIn",modal:b.modal,source:"server"})}function c(b){var a,h=aa();switch(b){case "email":(b=xa(window.location.href).queryKey.verification_code)?(a=va({capture_transactionId:h,verification_code:b}),o("/widget/email_code.jsonp",a),ea(h),ca("need to verify "+b)):ca("no code supplied");break;case "password":(b=xa(window.location.href).queryKey.code)?
(ca("need to verify "+b),a=va({capture_transactionId:h,code:b}),o("/widget/email_code.jsonp",a),ea(h)):ca("no code supplied")}}function e(b){b&&(yb=b.validateOnRender);if(b&&"changePasswordLink"===b.dataType&&!b.errors)return c("password"),!1;if(b&&"verifyEmail"===b.dataType&&!b.errors)return c("email"),!1;if(b&&b.hasUserData&&!p.fused){var e=b.dataType&&"public"===b.dataType;!Ca&&!e?a(b):(Wa=!0,f({layout:"captureRetrievingUserDataBuiltIn",modal:b.modal,source:"server"}),Cb(e));j();return!1}if(!Ca&&
b&&b.requireAccessToken)return a(b),j(),!1;Wa=!1;f(b);j();cb&&(cb=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function d(a,h){Ib?(X=a,I="capture_"+X+"_",b(a,h,function(){e(h)})):setTimeout(function(){d(a,h)},50)}function f(b){if(K&&K.div&&(!b.modal||K.modal&&b.modal)&&!b.keepPreviousScreen)K.div.style.display="none";var a=b.layout,h=b.source,c=b.modal,b=!!b.modalLoadOnLoad;if("server"===h){var i=document.getElementById(a);i||(i=document.createElement("div"),
i.setAttribute("id",a));try{Kb[a]?u.html=Kb[a]:(u.html=p.layouts[a].html,Kb[a]=u.html)}catch(e){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===h)try{if(i=document.getElementById(a))Kb[a]?u.html=Kb[a]:(u.html=i.innerHTML,Kb[a]=u.html);else throw u.html="",C(a);}catch(d){throw ca(d.name+": "+d.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}n(i).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");
dc&&(n(i).append("janrain-capture-ui-mobile"),ua.onOrientationChange.addHandler(function(b){n(i).append("janrain-capture-ui-mobile-"+b.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[b.orientation]);janrain.events.onCaptureContentChange.fire()}),ua.onOrientationChange.fire({orientation:ua.getOrientation()}));u.div=i;Wa||u.div.setAttribute("data-capturescreenname",X);Rb=u.div;u.modalLoadOnLoad=b;u.source=h;u.modal=c;K=u;"undefined"===typeof ob[X]&&(ob[X]=
{});ob[X].layout=u}function g(b,a){if(b.close)return D.render.htmlElement.close(b);if("data"==b.element){if("string"===b.type)return D.render.data.stringData(b);if("image"===b.type)return D.render.data.imageData(b);if("engageCookie"===b.type)return D.render.data.engageCookieData(b)}if("multiRadio"==b.element)return D.render.htmlElement.multiRadio(b);if("multiCheckbox"==b.element)return D.render.htmlElement.multiCheckbox(b);if("textarea"==b.element)return D.render.htmlElement.textarea(b);if("select"==
b.element)return D.render.htmlElement.select(b);if("input"==b.element)return D.render.htmlElement.input(b);if("form"==b.element)return D.render.htmlElement.form(b);if("div"==b.element)return D.render.htmlElement.div(b);if("button"==b.element)return D.render.htmlElement.button(b);if("capture"==b.element){if("keepMeLoggedIn"==b.type)return D.render.captureElement.keepMeLoggedIn(b);if("countrySelect"==b.type)return D.render.captureElement.countrySelect(b);if("stateSelect"==b.type)return D.render.captureElement.stateSelect(b);
if("publicProfileLink"==b.type)return D.render.captureElement.publicProfileLink(b,a);if("errorMessages"==b.type)return D.render.captureElement.errorMessages(b);if("savedProfileMessage"==b.type)return D.render.captureElement.savedProfileMessage(b);if("captcha"==b.type)return D.render.captureElement.captcha(b);if("linkAccounts"==b.type)return D.render.captureElement.linkAccounts(b);if("mergeAccounts"==b.type)return D.render.captureElement.mergeAccounts(b,a);if("radioCollection"==b.type)return D.render.captureElement.collection.radio(b);
if("tabCollection"==b.type)return D.render.captureElement.collection.tab(b);if("photoManager"==b.type)return D.render.captureElement.photoManager(b);if("dateselect_public"==b.type)return D.render.captureElement.dateselect_public(b);if("dateselect"==b.type)return D.render.captureElement.dateselect(b);if("addressFull"==b.type)return D.render.captureElement.addressFull(b);if("addressFull_public"==b.type)return D.render.captureElement.addressFull_public(b);if("nameFull"==b.type)return D.render.captureElement.nameFull(b);
if("nameFull_public"==b.type)return D.render.captureElement.nameFull_public(b);if("backButton"==b.type)return D.render.captureElement.backButton(b);if("partial"==b.type)return D.render.captureElement.partial(b,a)}return"widget"==b.element?D.render.widget[b.type](b):!1}function j(){janrain.events.onCaptureRenderStart.fire(p);Z=[];p.fields.submitButton||(p.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});
p.fields.loginWidget||(p.fields.loginWidget={element:"widget",type:"login"});p.fields.backButton||(p.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});p.fields.captcha||(p.fields.captcha={element:"capture",type:"captcha"});p.fields.keepMeLoggedIn||(p.fields.keepMeLoggedIn={element:"capture",type:"keepMeLoggedIn"});p.fields.errorMessages||(p.fields.errorMessages={element:"capture",type:"errorMessages"});p.fields.savedProfileMessage||(p.fields.savedProfileMessage=
{element:"capture",type:"savedProfileMessage"});u.originalHtml=u.html;u.flow=p;var b=zb||aa();zb=null;u.html=k(u.html,b);u.div.innerHTML=u.html;if("server"==u.source){if(!document.getElementById("janrainCaptureWidget")){var a=document.createElement("div");a.id="janrainCaptureWidget";document.body.appendChild(a)}document.getElementById("janrainCaptureWidget").appendChild(u.div)}if(!Wa){for(var a=0,h=oc.length;a<h;a++)fa(document.getElementById(oc[a]));oc=[]}q();m();if(0<janrain.events.onCssLoad.firedEvents.length)for(var a=
janrain.events.onCssLoad.firedEvents,h=0,i=a.length;h<i;h++)"object"==typeof a&&a[h].args&&a[h].args.source&&-1==ec.indexOf(a[h].args.source)&&a[h].event.fire(a[h].args);l.domHelpers.createIFrame(b);for(a=0;a<Z.length;a++)h=document.getElementById(I+Z[a].elementName),Z[a].next&&Z[a].next.type&&"server"===Z[a].next.type?h.setAttribute("next",'{"noop":""}'):Z[a].next?(Z[a].next.conditional&&h.setAttribute("next",G.stringify(Z[a].next)),Z[a].next.screen&&h.setAttribute("next",G.stringify(Z[a].next)),
Z[a].next.url&&h.setAttribute("next",G.stringify(Z[a].next)),Z[a].next.action&&h.setAttribute("next",G.stringify(Z[a].next))):h.setAttribute("next",'{"noop":""}');U(b);K=u;janrain.events.onCaptureContentChange.fire()}function k(b,a){for(var h=/\{\*(.*?)\*\}/,i=/^\s*\/\s*/,c=/^\s*#\s*/,e=/\{(.*?)*\}\s*/,d=!1,f,A=[],j=[];f=h.exec(b);)try{var B=f[1].trim();if(e.test(B))var l=B.match(e),B=B.replace(l[0],"").trim(),m=l[0].match(/\{(.*?)*\}\s*/)[0];d=!1;c.test(B)&&(B=B.replace("#","").trim(),d=!0);if(i.test(B)){var o=
B.replace("/",""),n={};if("undefined"==typeof p.fields[o])return ca("No field definition for"+o,"error"),!1;n.element=p.fields[o].element;n.close=!0}else{if("undefined"==typeof p.fields[B])return ca("No field definition named "+B+" for tag "+f[0],"error"),!1;n=p.fields[B];n.name=B;d&&(n.start=!0);"form"===n.element&&!n.transactionId&&(n.transactionId=a);n.elementName=n.elementName||B}var m=m||null,Ma=g(n,m);Ma||(Ma=" ");b=b.replace(f[0],Ma);(n.next||"form"===n.element&&!n.close)&&Z.push({elementName:n.elementName,
next:n.next});n.onclickHandler&&x.push({elementName:n.elementName,handler:n.onclickHandler,eventType:"click"});n.onchangeHandler&&x.push({elementName:n.elementName,handler:n.onchangeHandler,eventType:"change"});"string"===typeof n.element&&"form"===n.element&&!n.close&&x.push({elementName:n.elementName,handler:Aa,eventType:"submit"});if("form"===n.element&&("widget/traditional_register.jsonp"===n.action||"widget/social_register.jsonp"===n.action))j.push("widget/traditional_register.jsonp"===n.action?
"traditionalRegister":"socialRegister");if("form"===n.element&&"widget/traditional_signin.jsonp"===n.action||"widget"===n.element&&"login"===n.type)A.push("widget/traditional_signin.jsonp"===n.action?"traditionalSignin":"socialSignin")}catch(Da){return ca(Da.name+": "+Da.message,"error"),!1}A.length&&janrain.events.onCaptureStartLogin.fire({action:A.join(","),screen:X});j.length&&janrain.events.onCaptureStartRegistration.fire({action:j.join(","),screen:X});return b}function m(){u.div.getAttribute("data-captureventadded")||
(S(u.div,"click",function(b){var a=J(b);if(a&&a.nodeName&&"A"===a.nodeName){var h=a.getAttribute("data-capturecontrol");if(h){var i=aa(),h=va({flow_control:h,token:Ca,capture_transactionId:i});o("/widget/control.jsonp",h);ea(i);Q(b)}if(i=a.getAttribute("data-capturescreen"))janrain.capture.ui.renderScreen(i),Q(b);a.getAttribute("data-cancelcapturereturnexperience")&&bb&&(i=new L,i.setUseLocalStorage(!0).setName("janrainLastAuthMethod"),i.remove(),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),
janrain.capture.ui.renderScreen(bb),Q(b));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof w)"close"===a&&(janrain.capture.ui.modal.close(),Q(b)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),Q(b))}}),u.div.setAttribute("data-captureventadded",!0));for(var b=u.div.getElementsByTagName("img"),a=b.length,h=0;h<a;h++)S(b[h],"load",function(){janrain.events.onCaptureContentChange.fire()});b=La(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=b.length;if(!Gb){for(h=
0;h<a;h++)S(b[h],"click",function(b){"object"===typeof w?(janrain.capture.ui.renderScreen(K.flow.defaultScreen),w.setShowContentOnLoad(!0).addContent(K.div).show(),janrain.events.onCaptureScreenShow.fire({screen:X}),janrain.events.onCaptureContentChange.fire()):Eb=!0;Q(b)});Gb=!0}}function q(){if(p.cssDependencies&&v(p.cssDependencies))for(var b=0;b<p.cssDependencies.length;b++)t(p.cssDependencies[b]);uc&&lc&&!ib?janrain.events.onCssLoad.addHandler(function(b){u=K;ec.push(b.source);for(b=0;b<uc;b++)if(-1==
ec.indexOf(nc[b]))return!1;ib||(s(),ib=!0)}):s();janrain.events.onCaptureRenderComplete.fire({flow:p,screen:X})}function s(){var b=!1;if(u.modal){if("object"===typeof w){var b=!0,a=w.getContent();a&&document.body.appendChild(a);w.close(!0)}else w=new bc,Pa();Nb||(janrain.events.onCaptureModalReady.fire(),janrain.events.onModalClose.addHandler(function(){p&&p.mergeToken&&(p.mergeToken="")}),Nb=!0);w=Mb(w);w.setShowContentOnLoad(!0).addContent(u.div);if(b||u.modalLoadOnLoad||Eb)w.show(),janrain.events.onCaptureScreenShow.fire({screen:X})}else"object"===
typeof w&&w.close(!0),janrain.events.onCaptureScreenShow.fire({screen:X});u.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function U(b,a){for(var a=a||x,h=0;h<a.length;h++){if("function"===typeof a[h].handler)if("render"===a[h].eventType)a[h].handler();else{var i=document.getElementById(I+a[h].elementName);S(i,a[h].eventType,a[h].handler)}b&&R(b)}x=[]}var u={},D;D=new F;nb=new y;return{setScreenData:d,render:j,renderField:g,attachEventHandlers:U}}function gb(b,a){for(var i=
[],c=document.getElementById(b).getElementsByTagName("INPUT"),d=c.length,f=0;f<d;f++){var g={};g.id=c[f].id;g.placeholder=c[f].getAttribute("placeholder");if(Wb||a)Na[c[f].getAttribute("data-capturefield")]=c[f].value;g.value=g.placeholder?g.placeholder===c[f].value?"":c[f].value:c[f].value;"radio"===c[f].type&&(g.type="radio",g.checked=c[f].checked);i.push(g)}return i}function Cb(b,a){var i="function"===typeof a?a:function(){};if(b){var c=xa(window.location.href).queryKey.uuid;c?(ca("need to get data for "+
c),l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:i,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:c}]})):ca("no uuid supplied")}else{if(!Ca)return!1;l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",
needsResponse:!0,callback:i,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function o(b,a,c){var e=-1<b.indexOf("?")?"&":"?",d=0===b.indexOf("http")?"":janrain.settings.capture.captureServer,f=[],g;for(g in a)a.hasOwnProperty(g)&&f.push(g+"="+encodeURIComponent(a[g]));ia(d+b+e+f.join("&"),c)}function la(b){function a(b){return'<li><a href="#" class="capture_suggestion">'+b+"</a></li>"}var b=b.result,i=c(b.submittedScreen),e=p.fields[b.field],d=document.getElementById(i+
(e.elementId||e.elementName)),f=b.alternatives,g=e.validation.messages.unique||"",j=document.getElementById(i+"form_item_"+e.elementName),k=new l.validation;k.setElement(d);k.setParentDiv(j);if(!1===b.unique)if(f){var f=f.map(a),m=function(b){var a=J(b);n(a).has("capture_suggestion")&&(d.value=a.innerHTML,xc(j,"click",m),k.valid(),Q(b))};k.notValid(g+'<ul class="capture_suggestions">'+f.join("")+"</ul>",function(){S(j,"click",m)})}else k.notValid(g);else k.valid()}function wb(b){var a=L();return z(["expected_tab",
"welcome_info_name","login_tab"],b)&&(b=a.getCookie(b))?unescape(b):""}function Xb(){var b=document.createElement("div");b.className="capture_btn capture_processing";b.innerHTML="Processing";return b}function Mb(b){var a=janrain.settings.capture.modalBorderWidth||10,c=janrain.settings.capture.modalBorderColor||"#000",e=janrain.settings.capture.modalBorderRadius||10,d=janrain.settings.capture.modalBorderOpacity||0.5;b.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(c).setBorder(a).setBorderOpacity(d).setBorderRadius(e);
return b}function xb(b){if("object"!==typeof w)w=new bc,Pa();else{var a=w.getContent();a.style.display="none";a&&document.body.appendChild(a)}K&&K.modal&&Va.push(K);w=Mb(w);w.addContent(b).show();w.setHeight(Xa(b).height);w.setWidth(Xa(b).width).refresh()}var x=[],nb,wa,Ta=janrain.settings.capture.language||janrain.settings.language||"en-US",Z=[],X,ob={},I,bb,cb=!1,yb,Va=[],K={},Ua=[],mb,lb={},Wb=janrain.settings.capture.mode13||!1,Na={},zb,pa,Wa=!1,H,ub,db=!1,Ca,Ib=!1,vb,eb=!1,hb=!1,ib=!1,p,Qa={},
Rb,Kb={},jb={},fc=[],kc=[],ic=[],Ab=[],lc=!1,Bb=1,Tb="placeholder"in document.createElement("input"),qb=!1,mc=!1,rb,w,Eb=!1,Gb=!1,Nb=!1,nc=[],uc=0,oc=[],pc="HEAD",Ob=!1,Ub={},Zb=["accessDenied","retrievingUserData"],qc={},Pb=!1,Lb=0,sa=[],N=!1,Qb,ec=[];"en"===Ta&&(Ta="en-US");qc.publicPrivateTogglers=[];y.prototype.check=function(b,a,i){var a=a||p.fields[b.name],e=b.getAttribute("data-capturerendererchildfieldname");a.validation.temp=e&&a.validation&&a.validation[e]?a.validation[e]:e&&"dateselect"!==
a.type?!1:a.validation;if(!a.validation.temp)return!0;a.validation.temp.messages||(a.validation.temp.messages={});if(!this.hasValue(b,a))return{valid:!1,reason:a.validation.temp.messages.required||"Field not completed"};if(!this.isDate(b,a))return{valid:!1,reason:a.validation.temp.messages.isDate||"Not a valid date"};if(!this.isValidMinYears(b,a))return{valid:!1,reason:a.validation.temp.messages.minYears||"Not old enough"};if(!this.isValidMinLength(b,a))return{valid:!1,reason:a.validation.temp.messages.minLength||
"Invalid length"};if(!this.isValidMaxLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxLength||"Invalid length"};if(!this.isValidMaxNumericLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxNumericLength||"Invalid number of numeric characters"};if(!this.isValidFormat(b,a))return{valid:!1,reason:a.validation.temp.messages.format||"Invalid format"};if(!this.isValidMatch(b,a))return{valid:!1,reason:a.validation.temp.messages.match||"Invalid match"};if(!this.custom(b,a))return"undefined"===
typeof this.custom(b,a)?{pending:!0}:{valid:!1,reason:a.validation.temp.messages.custom||"Invalid"};return a.validation.temp.unique&&!i?(i=document.getElementById(c(b)+"form_item_"+b.getAttribute("name")),this.isUnique(b,i,a,function(){}),{pending:!0}):{valid:!0}};y.prototype.custom=function(b,a){if(!a.validation.temp.custom||"function"!==typeof tc[a.validation.temp.custom])return!0;var i=new l.validation,e=document.getElementById(c(b)+"form_item_"+a.elementName);i.setParentDiv(e);i.setElement(b);
return tc[a.validation.temp.custom](b.name,b.value,i)};y.prototype.getRating=function(b){var b=b.value,a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],c=0,e;e=Math.min(8,Math.floor(3*Math.log(b.length+1)));for(var d=0;d<a.length;d++)a[d].test(b)&&c++;return e+=Math.floor(Math.pow(2,c)/2)};y.prototype.isValidMaxNumericLength=function(b,a){if(!a)return!0;var c=a.validation.temp.maxNumericLength;if(!c)return!0;var e=b.value.match(/(\d)/g);v(e)&&e.length>c&&a.validation.temp.actions&&a.validation.temp.actions.maxNumericLength&&
sa.push(a.validation.temp.actions.maxNumericLength);return v(e)?e.length<=c:!0};y.prototype.isValidMaxLength=function(b,a){var c=b.value;if(!a)return!0;var e=a.validation.temp.maxLength;if(!e)return!0;c.length>e&&a.validation.temp.actions&&a.validation.temp.actions.maxLength&&sa.push(a.validation.temp.actions.maxLength);return c.length<=e};y.prototype.isValidMinLength=function(b,a){var c=b.value;if(!a)return!0;var e=a.validation.temp.minLength;if(!e)return!0;c.length<e&&a.validation.temp.actions&&
a.validation.temp.actions.minLength&&sa.push(a.validation.temp.actions.minLength);return c.length>=e};y.prototype.isDate=function(b,a){if(!a||"dateselect"!==a.type)return!0;var c=a.validation.temp.isDate,e=E(b,a);return!c?!0:Ac(e)};y.prototype.isValidMinYears=function(b,a){if(!a||"dateselect"!==a.type)return!0;var c=E(b,a),e=a.validation.temp.minYears;if(!Ac(c)||!e)return!0;var d=new Date,c=Math.abs(((new Date(c)).getTime()-d.getTime())/864E5),c=Math.floor(c/365.242199);c>=e||a.validation.temp.actions&&
a.validation.temp.actions.minYears&&sa.push(a.validation.temp.actions.minYears);return c>=e};y.prototype.hasValue=function(b,a){var c;if("select"===a.element)c=b.options[b.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=b.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var e=c.length,d=[],f=0;f<e;f++)c[f].checked&&d.push(c[f]);c=d.length}else c=!1;else c=b.value;
if(!a||!a.validation.temp.required)return!0;if("dateselect"===a.type)return c=E(b,a),8>c.length&&a.validation.temp.actions&&a.validation.temp.actions.required&&sa.push(a.validation.temp.actions.required),7<c.length;c||a.validation.temp.actions&&a.validation.temp.actions.required&&sa.push(a.validation.temp.actions.required);return c};y.prototype.isUnique=function(b,a,c,e){a=b.form.getAttribute("data-capturefield");c=b.getAttribute("data-capturefield");b=va({value:b.value,form:a,capture_screen:g(b),
field:c});Ca&&(b.access_token=Ca);wa&&(b.flow_path=wa);o("/widget/unique.jsonp",b,e)};y.prototype.isBlacklisted=function(b,a,c){function e(){var a=b.value,h=response;if(!h||0===h.length)return!0;for(var c,e=0;e<h.length;e++)if(c=RegExp("^"+h[e]+"$","i"),c.test(a))return!0;return!1}captureUIBlacklistCallback=function(b){c(e(b))};v(a)?c(e(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):c(!0)};y.prototype.isValidFormat=function(b,a){var c={alpha:/^[a-z]+$/i,alphaExtended:/^[a-zA-Z\-']+$/,
alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!a.validation.temp.format)return!0;var e=a.validation.temp.format;if("string"===typeof e&&c[e])e=c[e];else return!1;e.test(b.value)||a.validation.temp.actions&&a.validation.temp.actions.format&&sa.push(a.validation.temp.actions.format);return e.test(b.value)};y.prototype.isValidMatch=function(b,a){if(!a)return!0;
var i=a.validation.temp.match;if(!i)return!0;i=p.fields[i];i=c(b)+(i.elementId||i.elementName);i=document.getElementById(i);b.value!==i.value&&a.validation.temp.actions&&a.validation.temp.actions.match&&sa.push(a.validation.temp.actions.match);return b.value===i.value};var l={attachFieldEventHandlers:function(b){b.type||(b.type="");"password"===b.type&&(x.push({elementName:b.elementName,handler:l.togglePasswordInput,eventType:"click"}),x.push({elementName:b.elementName,handler:l.togglePasswordInput,
eventType:"focus"}),b.validation&&("function"===typeof b.validation.rating?x.push({elementName:b.elementName,handler:function(a){var a=Ya(a),c=nb.getRating(a);b.validation.rating(a,c)},eventType:"keyup"}):b.validation.rating&&x.push({elementName:b.elementName,handler:function(b){b=Ya(b);b=nb.getRating(b);ca("Password Strength",b)},eventType:"keyup"})));if("text"===b.type||"password"===b.type||"email"===b.type)x.push({elementName:b.elementName,handler:l.clearPlaceHolder,eventType:"focus"}),x.push({elementName:b.elementName,
handler:l.restorePlaceHolder,eventType:"blur"});x.push({elementName:b.elementName,handler:function(a){a=J(a);a=c(a);a=document.getElementById(a+"form_item_"+b.elementName);n(a).append("capture_focused").remove("capture_error");dc&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()},eventType:"focus"});x.push({elementName:b.elementName,handler:function(a){a=J(a);a=c(a);a=document.getElementById(a+"form_item_"+b.elementName);n(a).remove("capture_focused")},eventType:"blur"});b.validation&&
x.push({elementName:b.elementName,handler:za,eventType:b.validation.eventType||"blur"});b.rendererFieldName&&b.rendererChildFieldName&&p.fields[b.rendererFieldName].validation&&p.fields[b.rendererFieldName].validation[b.rendererChildFieldName]&&x.push({elementName:b.rendererFieldName+"_"+b.rendererChildFieldName,handler:za,eventType:"blur"})},wrapStringData:function(b,a,c){var e="",d=["capture_data_item"];c&&d.push(c);e+=l.createDiv({elementId:"stringdata_"+b.name,classes:d});b.label&&(e+=l.createLabel({elementId:b.name,
label:b.label,classes:["capture_data_label"]}));e+=l.createDiv({elementId:b.name,classes:["capture_data"]});return e+a+"</div></div>"},wrapFormItemStart:function(b){var a="",c=[],e=b.classes||[],d="elementCollection"===b.type?"form_collection":"form_item";if(b.justElement||"submit"===b.type||"button"===b.type)return"";-1===e.indexOf("capture_"+d)&&e.push("capture_"+d);b.errors&&-1===e.indexOf("capture_error")&&!b.collection&&e.push("capture_error");!b.collection&&b.type&&-1===e.indexOf("capture_"+
b.type)&&("checkbox"===b.type||"radio"===b.type?c.push("capture_"+b.type):e.push("capture_"+b.type));"elementCollection"===b.type&&b.displayInline&&-1===e.indexOf("capture_form_collection_inline")&&e.push("capture_form_collection_inline");b.collection?(-1===e.indexOf("capture_"+d+"_"+b.elementName)&&e.push("capture_"+d+"_"+b.elementName),b.checked&&e.push("capture_toggled"),a+=l.createDiv({elementName:d+"_"+b.elementId,hide:b.hide,classes:e})):a+=l.createDiv({elementName:d+"_"+b.elementName,hide:b.hide,
classes:e});if(("checkbox"===b.type||"radio"===b.type)&&!b.collection)a+=l.createDiv({elementName:d+"_inner_"+b.elementName,classes:c});return a},wrapFormItemEnd:function(b){return b.justElement||"submit"===b.type||"button"===b.type?"":"</div>"},createPublicPrivateToggle:function(b){function a(){for(var b=qc.publicPrivateTogglers,h=b.length,c=0;c<h;c++)b[c]&&(b[c].style.display="none");qc.publicPrivateTogglers=[]}function i(a){var h=J(a),e=c(h),i=document.getElementById(e+"display_toggle_options_"+
b.elementName),d=document.getElementById(e+"display["+(b.rendererFieldName||b.elementName)+"]"),f=document.getElementById(e+"display_indicator_public_"+b.elementName),g=document.getElementById(e+"display_indicator_private_"+b.elementName),A=e+"display_option_public_"+b.elementName,j=e+"display_option_private_"+b.elementName;document.getElementById(e+"display_toggle_options_"+b.elementName);if(h.parentNode&&h.parentNode.id&&(h.parentNode.id===A||h.parentNode.id===j))h=h.parentNode;if(!h.id)return!1;
h.id===A?(n(document.getElementById(A)).append("capture_checked"),n(document.getElementById(j)).remove("capture_checked"),d.value="public",n(f).append("capture_toggled"),n(g).remove("capture_toggled")):(n(document.getElementById(A)).remove("capture_checked"),n(document.getElementById(j)).append("capture_checked"),d.value="private",n(f).remove("capture_toggled"),n(g).append("capture_toggled"));i.style.display="none";Q(a)}var e;e=""+l.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+
b.elementName});e+=l.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+b.elementName});var d=["capture_display_option"];b.displayPublic&&d.push("capture_checked");e+=l.createDiv({classes:d,elementId:"display_option_public_"+b.elementName});e+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';d=["capture_display_option"];b.displayPublic||
d.push("capture_checked");e+=l.createDiv({classes:d,elementId:"display_option_private_"+b.elementName});e+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';d=["capture_display_toggle","capture_public"];b.disablePublicPrivate&&d.push("capture_display_toggle_disabled");b.displayPublic&&d.push("capture_toggled");e+=l.createDiv({classes:d,elementId:"display_indicator_public_"+
b.elementName});e+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';d=["capture_display_toggle","capture_private"];b.disablePublicPrivate&&d.push("capture_display_toggle_disabled");b.displayPublic||d.push("capture_toggled");e+=l.createDiv({classes:d,elementId:"display_indicator_private_"+b.elementName});e=e+'<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+
l.createInput({type:"hidden",elementName:"display["+(b.rendererFieldName||b.elementName)+"]",value:b.displayPublic?"public":"private"});x.push({elementName:"display_toggle_wrap_"+b.elementName,eventType:"click",handler:function(e){var i=J(e),d=c(i),d=document.getElementById(d+"display_toggle_options_"+b.elementName),f="none"===d.style.display||""===d.style.display?"block":"none";i.parentNode&&n(i.parentNode).has("capture_display_toggle")&&(i=i.parentNode);n(i).has("capture_display_toggle")&&!n(i).has("capture_display_toggle_disabled")&&
("block"===f&&(a(),qc.publicPrivateTogglers.push(d)),d.style.display=f);Q(e)}});x.push({elementName:"display_option_public_"+b.elementName,handler:i,eventType:"click"});x.push({elementName:"display_option_private_"+b.elementName,handler:i,eventType:"click"});Ob||(S(document.body,"click",function(b){b=J(b);b.parentNode&&n(b.parentNode).has("capture_display_toggle")&&(b=b.parentNode);!n(b).has("capture_display_toggle")&&!n(b).has("capture_display_option")&&a()}),Ob=!0);return e},createAnchor:function(b){var a=
"",c=b.fieldPrefix||I,e=b.elementId||b.elementName,d=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[];z(d,"capture_"+e)||d.push("capture_"+e);a=a+"<a "+("id='"+c+e+"' ");b.target&&(a+="target='"+b.target+"' ");a+="class='"+d.join(" ")+"' ";a+="data-capturefield='"+b.name+"' ";a+="href='"+b.elementHref+"' ";a+="name='"+b.elementName+"' ";a+=">";b.elementText&&(a+=b.elementText);return a+"</a>"},createTextarea:function(b){var a="",c=b.fieldPrefix||I,e=b.elementId||b.elementName,d=b.elementClasses&&
v(b.elementClasses)?b.elementClasses:[],f=b.rows||"5",a=a+l.createLabel(b);z(d,"capture_"+e)||d.push("capture_"+e);z(d,"capture_textarea")||d.push("capture_textarea");a=a+"<textarea "+("id='"+c+e+"' ")+("class='"+d.join(" ")+"' ");a+="data-capturefield='"+b.name+"' ";a=a+("rows='"+f+"' ")+("name='"+b.elementName+"' ");b.placeholder&&Tb&&(a+="placeholder='"+b.placeholder+"'");a+=">";b.value&&(a+=b.value);a+="</textarea>";b.publicPrivateToggle&&(a+=l.createPublicPrivateToggle(b));return a+=l.createTip(b)},
createTip:function(b){var a;a="<div class='capture_tip' ";b.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof b.tip?b.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+b.elementName+"'>");a=a+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+b.elementName+"'>");b.errors&&v(b.errors)&&(a+=b.errors.join(" "));return a+"</div>"},createLabel:function(b,a){var c,e=b.fieldPrefix||I,d=b.elementId||b.elementName;if(!b.label)return a?a:"";
c="<label ";"elementCollection"!==b.type&&(c+=" for='"+e+d+"'");c+=">";a&&(c+=a);b.label&&(c+=b.label);return c+"</label>"},createSelect:function(b){var a="",i=b.fieldPrefix||I,e=b.rendererFieldName,d=b.rendererChildFieldName,f,g=b.justElement,j=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],k=b.elementId||b.elementName;z(j,"capture_"+k)||j.push("capture_"+k);z(j,"capture_select")||j.push("capture_select");a+=l.createLabel(b);a=a+'<span class="capture_select_arrow"><select '+("id='"+i+
k+"' ")+("class='"+j.join(" ")+"' ");e&&(a+="data-capturerendererfield='"+e+"' ");b.showFieldWhere&&(a+='data-showFieldWhere="'+b.showFieldWhere+'" ');d&&(a+="data-capturerendererchildfieldname='"+d+"' ");a+="data-capturefield='"+b.name+"' ";a+="name='"+b.elementName+"' ";a+=">";e=b.options||[];d=e.length;for(j=0;j<d;j++){var k=e[j],n=k.value||""===k.value?k.value:k.text,a=a+('<option value="'+n+'"');k.disabled&&(a+=' disabled="true"');v(k.showField)&&(a+=' data-showField="'+k.showField.join(",")+
'"');n===b.value&&(a+=' selected="selected"',f=k.showField);a+=">"+k.text+"</option>"}a+="</select></span>";b.publicPrivateToggle&&(a+=l.createPublicPrivateToggle(b));g||(a+=l.createTip(b));x.push({handler:function(){f&&W(f,b.showFieldWhere,i)},eventType:"render"});x.push({elementName:b.elementName,handler:function(b){var a=J(b),b=c(a),h=a.getElementsByTagName("option")[a.selectedIndex].getAttribute("data-showField"),a=a.getAttribute("data-showFieldWhere");h&&h.length&&(h=h.split(","));W(h,a,b)},
eventType:"change"});return a},createButton:function(b){var a="",c=b.fieldPrefix||I,e=b.elementId||b.elementName,d=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],f=b.type?b.type:"submit";z(d,"capture_"+e)||d.push("capture_"+e);z(d,"capture_btn")||d.push("capture_btn");z(d,"capture_primary")||d.push("capture_primary");a+="<button ";b.hide&&(a+="style='display:none' ");a=a+("id='"+c+e+"' ")+("class='"+d.join(" ")+"' ");a=a+("type='"+f+"' ")+("data-capturefield='"+b.name+"' ");b.value&&(a+=
"value='"+b.value+"' ");a+="name='"+b.elementName+"' ";a+=">";b.elementContent&&(a+=b.elementContent);return a+"</button>"},createInput:function(b){var a="",c="",e=b.fieldPrefix||I,d=b.elementId||b.elementName,f=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],g="button"===b.type||"submit"===b.type||"checkbox"===b.type||"radio"===b.type||"hidden"===b.type,j=b.justElement||b.collection||"hidden"===b.type||"button"===b.type||"submit"===b.type,k="password"===b.type&&!Tb&&b.placeholder?"text":
b.type,n=("checkbox"===b.type&&!b.collection||"radio"===b.type&&!b.collection)&&!b.justElement,m=b.rendererFieldName,o=b.rendererChildFieldName,p=yb&&!b.collection;z(f,"capture_"+d)||f.push("capture_"+d);g||(c+=l.createLabel(b));a+="<input ";b.hide&&(a+="style='display:none' ");a+="id='"+e+d+"' ";"text"===b.type||"email"===b.type||"password"===b.type?z(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===b.type||"radio"===b.type?z(f,"capture_input_"+b.type)||f.push("capture_input_"+
b.type):"submit"===b.type&&(z(f,"capture_btn")||f.push("capture_btn"),z(f,"capture_primary")||f.push("capture_primary"));a+="class='"+f.join(" ")+"' ";a+="data-capturefield='"+b.name+"' ";b.collection&&(a+="data-capturecollection='true' ");m&&(a+="data-capturerendererfield='"+m+"' ");o&&(a+="data-capturerendererchildfieldname='"+o+"' ");a+="type='"+k+"' ";if(("checkbox"===b.type||"radio"===b.type)&&b.elementValue)a+="value='"+u+"' ";else if(b.value){var u=b.value;b.displaySavedValue&&Na[b.value]&&
(u=Na[b.value]);("password"===b.type||"text"===b.type||"email"===b.type)&&!b.errors&&p&&oc.push(e+d);a+="value='"+u+"' "}else a=b.placeholder&&!Tb?a+("value='"+b.placeholder+"' "):a+"value='' ";b.placeholder&&(a+="placeholder='"+b.placeholder+"' ");if(b.checked||b.value===b.elementValue)a+="checked='checked' ";a+="name='"+b.elementName+"' ";a+="/>";c="checkbox"===b.type||"radio"===b.type?c+l.createLabel(b,a):c+a;b.publicPrivateToggle&&(c+=l.createPublicPrivateToggle(b));n&&(c+="</div>");j||(c+=l.createTip(b));
return c},createDiv:function(b){var a="<div ",c=b.fieldPrefix||I,e=b.elementId||b.elementName,d=b.classes||[];z(d,"capture_"+e)||d.push("capture_"+e);a+="id='"+c+e+"'";if("option"===b.type&&!b["default"]||b.hide)a+=" style='display:none'";"radioCollection"===b.type&&d.push("radio_set");v(d)&&d.length&&(a=a+' class="'+d.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=">";b.closeDiv&&(a+="</div>");return a},createImage:function(b){var a,c=b.fieldPrefix||I,e=b.classes||[];elementId=b.elementId||
b.imageId||b.elementName||"";a="<img "+('src="'+b.src+'"');elementId&&!z(e,"capture_"+elementId)&&e.push("capture_"+elementId);b.hide&&(a+=" style='display:none'");b.alt&&(a+=" alt='"+b.alt+"'");"undefined"!==typeof b.width&&(a+=" width='"+b.width+"'");"undefined"!==typeof b.height&&(a+=" height='"+b.height+"'");elementId&&(a+=' id="'+c+b.imageId+'" ');v(e)&&e.length&&(a=a+'class="'+e.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(b){var a,c="captureIFrame_"+b;if(document.getElementById(c))return!1;
if(k){a="";var e=document.createElement("div");e.innerHTML=a+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+b+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(e)}else a=document.createElement("iframe"),a.setAttribute("name",c),a.setAttribute("data-transactionId",b),a.id=c,a.setAttribute("src","about:blank"),a.style.display="none",a.className="",document.body.appendChild(a)},createAnchor:function(b){var a=b.fieldPrefix||I,c=document.createElement("a");
if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!z(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);c.setAttribute("href",b.elementHref);c.innerHTML=b.elementText;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createDiv:function(b){var a=b.fieldPrefix||I,c=document.createElement("div");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!z(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);
b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createImage:function(b){var a=b.fieldPrefix||I,c=document.createElement("img");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!z(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.alt&&c.setAttribute("alt",b.alt);"undefined"!==typeof b.width&&c.setAttribute("width",b.width);"undefined"!==typeof b.height&&c.setAttribute("height",b.height);c.src=b.elementSrc;
b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createInput:function(b){var a=document.createElement("input"),c=b.fieldPrefix||I,e=b.containerDivClasses||[],d;"submit"===b.elementType&&b.containerDiv&&(d=this.createDiv({elementName:b.elementName+"_containverDiv",classes:e}));if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!z(b.classes,c+b.elementId)&&b.classes.push(c+b.elementId);b.elementType&&a.setAttribute("type",
b.elementType);b.name&&a.setAttribute("data-capturefield",b.name);b.elementValue&&(a.value=b.elementValue);b.elementName&&(a.name=b.elementName);b.elementId&&(a.id=c+b.elementId);b.hideElement&&(a.style.display="none");a.className=b.classes.join(" ");return d?(d.appendChild(a),d):a},createForm:function(b){b.transactionId||(b.transactionId=aa());var a=b.transactionId,d=b.captureScreen||X,e=c(d),f=document.createElement("form"),g=v(b.fields)?b.fields:[],j=g.length;l.domHelpers.createIFrame(a);b.needsResponse&&
R(a);if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!z(b.classes,e+b.elementId)&&b.classes.push(e+b.elementId);f.id=e+b.elementId+"_"+a;f.className=b.classes.join(" ");f.setAttribute("target","captureIFrame_"+a);f.setAttribute("data-transactionId",a);b.name&&f.setAttribute("data-capturefield",b.name);f.setAttribute("action",b.elementAction);f.setAttribute("method","POST");f.setAttribute("data-capturedomelement","true");f.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:e,elementValue:"\u2713",elementName:"utf8"}));p&&p.mergeToken&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:p.mergeToken,elementName:"merge_token",elementId:"merge_token_"+a}));wa&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:wa,elementName:"flow_path",elementId:"flow_path_"+a}));vb?f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:vb,elementName:"access_token",elementId:"access_token_"+
a})):Ca&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Ca,elementName:"access_token",elementId:"access_token_"+a}));X&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:d,elementName:"capture_screen",elementId:"screen_"+a}));ab&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:ab,elementName:"js_version",elementId:"js_version_"+a}));b.serverNextScreen&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:e,elementValue:b.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+a}));b.engageTokenRequired&&f.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:H,fieldPrefix:e,elementName:"token",elementId:"token_"+a}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:a,fieldPrefix:e,elementName:"capture_transactionId",elementId:"transactionId_"+a}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,
elementValue:b.name,elementName:"form",elementId:"form_"+a}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:p.flow,elementName:"flow",elementId:"flow_"+a}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"client_id",elementId:"client_id_"+a,elementValue:janrain.settings.capture.clientId}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"redirect_uri",elementId:"redirect_uri_"+
a,elementValue:janrain.settings.capture.redirectUri}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:janrain.settings.capture.responseType,elementName:"reponse_type",elementId:"response_type_"+a}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:pc,elementName:"flow_version",elementId:"flow_version_"+a}));f.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Ta,elementName:"locale",
elementId:"locale_"+a}));for(d=0;d<j;d++)switch(a=g[d],a.elementType){case "div":a.fieldPrefix=a.fieldPrefix||e;f.appendChild(l.domHelpers.createDiv(a));break;case "anchor":a.fieldPrefix=a.fieldPrefix||e;f.appendChild(l.domHelpers.createAnchor(a));break;case "hidden":a.fieldPrefix=a.fieldPrefix||e;f.appendChild(l.domHelpers.createInput(a));break;case "file":a.fieldPrefix=a.fieldPrefix||e;f.setAttribute("enctype","multipart/form-data");f.appendChild(l.domHelpers.createInput(a));break;case "submit":a.fieldPrefix=
a.fieldPrefix||e,f.appendChild(l.domHelpers.createInput(a))}l.domHelpers.createFormHandler(f,b);return f},createFormHandler:function(b,a){"function"===typeof a.callback&&(b.setAttribute("next",'{"function":"'+a.elementId+'"}'),lb[a.elementId]=a.callback);S(b,"submit",Aa)},createFormAndPost:function(b){var a=b.fieldPrefix||I,c=aa();b.fieldPrefix=b.fieldPrefix||a;b.transactionId=c;var e=l.domHelpers.createForm(b),a=l.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:a,
elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});e.appendChild(a);document.body.appendChild(e);l.domHelpers.createFormHandler(e,b);a.click()}},createListOfLinks:function(b,a){var c=b.fieldPrefix||I,e;optionsLength=b.length;e="<ul";v(a)&&a.length&&(e=e+' class="'+a.join(" "),e+='"');e+=">";for(var d=0;d<optionsLength;d++){e+="<li";"string"===typeof b[d].listItemId&&(e+=' id="'+c+b[d].listItemId+'" ');b[d].hide&&(e+=' style="display: none;" ');if(!b[d].listItemClasses||
!v(b[d].listItemClasses))b[d].listItemClasses=[];"string"===typeof b[d].listItemId&&!z(b[d].listItemClasses,"capture_"+b[d].listItemId)&&b[d].listItemClasses.push("capture_"+b[d].listItemId);v(b[d].listItemClasses)&&b[d].listItemClasses.length&&(e+=' class="',e+=b[d].listItemClasses.join(" "),e+='"');e+=">";e+='<a href="'+b[d].anchorHref+'"';"string"===typeof b[d].anchorId&&(e+=' id="'+c+b[d].anchorId+'" ');if(!b[d].anchorClasses||!v(b[d].anchorClasses))b[d].anchorClasses=[];"string"===typeof b[d].anchorId&&
!z(b[d].anchorClasses,"capture_"+b[d].anchorId)&&b[d].anchorClasses.push("capture_"+b[d].anchorId);v(b[d].anchorClasses)&&b[d].anchorClasses.length&&(e+=' class="',e+=b[d].anchorClasses.join(" "),e+='"');e+=">";e+=b[d].anchorText;e+="</a>";e+="</li>"}return e+"</ul>"},togglePasswordInput:function(b){var b=Ya(b),a=c(b);b.getAttribute("value")===b.getAttribute("placeholder")&&b.setAttribute("value","");if(k&&"text"===b.type){for(var d=[],e=0,f=x.length;e<f;e++)a+x[e].elementName==b.id&&(x[e].elementName=
x[e].elementName,d.push(x[e]));a=document.createElement("span");e=b.parentElement;e.insertBefore(a,b);e.removeChild(b);f=document.createElement("input");f.id=b.id;f.setAttribute("data-capturefield",b.name);f.className="capture_password";f.name=b.name;f.setAttribute("type","password");e.insertBefore(f,a);e.removeChild(a);Ia().attachEventHandlers(null,d);f.focus()}else b.setAttribute("type","password")},clearPlaceHolder:function(b){if(Tb)return!0;b=Ya(b);b.getAttribute("value")===b.getAttribute("placeholder")&&
(k?b.value="":b.setAttribute("value",""))},restorePlaceHolder:function(b){if(Tb)return!0;var b=Ya(b),a=b.getAttribute("placeholder");"password"===b.getAttribute("type")&&""===b.value&&b.setAttribute("type","text");a&&""===b.value&&(k?b.value=a:b.setAttribute("value",a))},validation:function(){var b,a;return{getElement:function(){return b},getParentDiv:function(){return a},setParentDiv:function(b){(a=b)&&a.className.split(" ")},setElement:function(c){b=c;a&&a.className.split(" ")},valid:function(){n(a).append("capture_validated").remove("capture_error");
var c={};b&&(c.field=b);janrain.events.onCaptureValidationSuccess.fire(c);janrain.events.onCaptureContentChange.fire()},pending:function(){n(a).append("capture_validating");janrain.events.onCaptureContentChange.fire()},notValid:function(d,e){n(a).append("capture_error").remove("capture_validated");if(d){for(var f,g=c(a),j=a.getElementsByTagName("div"),k=j.length,l=0;l<k;l++)if("capture_tip_error"===j[l].className){var m=0===a.id.indexOf(g+"form_collection_")?g+"form_collection_":g+"form_item_";if(a.id.split(m)[1]===
j[l].getAttribute("data-elementName")||a.id.split(m)[1]+"[dateselect_year]"===j[l].getAttribute("data-elementName")){f=j[l];break}}f&&(f.innerHTML=d);"function"===typeof e&&e();janrain.events.onCaptureContentChange.fire()}f={};b&&(f.field=b);janrain.events.onCaptureValidationFailed.fire(f)}}}},cc={createSelect:l.createSelect,createTextarea:l.createTextarea,createAnchor:l.createAnchor,createInput:l.createInput,createLabel:l.createLabel,createDiv:l.createDiv,createImage:l.createImage,createListOfLinks:l.createListOfLinks,
toggelPassword:l.togglePasswordInput,clearPlaceHolder:l.clearPlaceHolder,restorePlaceHolder:l.restorePlaceHolder,getElementByEventAttribute:Ya};F.prototype.render={data:{engageCookieData:function(b){return wb(b.cookieName)},stringData:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",a=b.displaySavedValue&&Wb&&Na[b.value]?Na[b.value]:b.value;return a=b.justString?a:l.wrapStringData(b,a)},imageData:function(b){var a;b.value&&(b.returnImageTag?(a={elementName:b.elementname,
hide:b.hide,src:b.value},b.classes&&(a.classes=b.classes),b.elementId&&(a.elementId=b.elementId),a=l.createImage(a)):a=b.value);return a}},htmlElement:{parent:F.prototype.render,textarea:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createTextarea(b);return a+=l.wrapFormItemEnd(b)},select:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createSelect(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},multi:function(b,a){var d,e,f=b.options.length;b.type="elementCollection";d=
""+l.wrapFormItemStart(b);d+=l.createLabel(b);for(var g=0;g<f;g++)e=b.options[g],e.value=e.value||e.label,e.label=e.label||e.value,d+=this.input({elementName:b.elementName,type:a,elementId:b.elementName+"_"+e.value+"_"+g,name:b.name,value:e.value,collection:!0,label:e.label,checked:z(b.value,e.value)}),x.push({elementName:b.elementName+"_"+e.value+"_"+g,handler:function(a,e){return function(){for(var d=c(this),h=document.getElementById(d+"form_collection_"+b.elementName),h=La("capture_form_item_"+
b.elementName,h),d=document.getElementById(d+"form_item_"+b.elementName+"_"+a+"_"+e),i=0,f=h.length;i<f;i++)n(h[i]).remove("capture_toggled");d&&n(d).append("capture_toggled")}}(e.value,g),eventType:"click"});d+=l.createTip(b);return d+=l.wrapFormItemEnd(b)},multiCheckbox:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},multiRadio:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},input:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createInput(b);
a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},button:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createButton(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},form:function(b){var a="<form ",c=b.localFieldPrefix||I,e=b.classes||[];e.indexOf("capture_form"===-1)&&e.push("capture_form");e.indexOf(-1==="capture_"+b.elementName)&&e.push("capture_"+b.elementName);a+="id='"+c+b.elementName+"' ";a+="name='"+b.elementName+"' ";a+="data-capturefield='"+b.name+"' ";
a+="action='"+janrain.settings.capture.captureServer+"/"+b.action+"' ";v(e)&&(a+="class='"+e.join(" ")+"' ");var a=a+"method='POST' novalidate='novalidate'"+("data-transactionId='"+b.transactionId+"'"),a=a+("target='captureIFrame_"+b.transactionId+"'"),a=a+">"+('<div id="'+c+b.elementName+'_defaultSavedProfileMessage"></div>'),a=a+('<div id="'+c+b.elementName+'_errorMessages"></div>'),d="";if(b.errors){janrain.events.onCaptureFormError.fire(b.errors);for(var f in b.errors)b.errors.hasOwnProperty(f)&&
(d+=l.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),d+=b.errors[f]+"</div>")}x.push({handler:function(){var a=document.getElementById(c+b.elementName),e=La("capture_form_error_container",a),e=e.length?e[0]:document.getElementById(c+b.elementName+"_errorMessages");d?(e.innerHTML=d,n(a).append("capture_form_level_error")):e.innerHTML=""},eventType:"render"});a+=l.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});wa&&(a+=l.createInput({elementName:"flow_path",
elementId:"flow_path_"+b.transactionId,type:"hidden",value:wa}));p&&p.mergeToken&&(a+=l.createInput({elementName:"merge_token",elementId:"merge_token_"+b.transactionId,type:"hidden",value:p.mergeToken}));vb?a+=l.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,type:"hidden",value:vb}):Ca&&(a+=l.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,type:"hidden",value:Ca}));X&&(a+=l.createInput({elementName:"capture_screen",elementId:"screen_"+
b.transactionId,type:"hidden",value:X}));ab&&(a+=l.createInput({elementName:"js_version",elementId:"js_version_"+b.transactionId,type:"hidden",value:ab}));b.serverNextScreen&&(a+=l.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+b.transactionId,type:"hidden",value:b.serverNextScreen}));b.engageTokenRequired&&(a+=l.createInput({elementName:"token",elementId:"token_"+b.transactionId,type:"hidden",value:H}));a+=l.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+
b.transactionId,type:"hidden",value:b.transactionId});a+=l.createInput({elementName:"form",elementId:"form_"+b.transactionId,type:"hidden",value:b.name});a+=l.createInput({elementName:"flow",elementId:"flow_"+b.transactionId,type:"hidden",value:p.flow});a+=l.createInput({elementName:"client_id",elementId:"client_id_"+b.transactionId,type:"hidden",value:janrain.settings.capture.clientId});a+=l.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+b.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});
a+=l.createInput({elementName:"response_type",elementId:"response_type_"+b.transactionId,type:"hidden",value:janrain.settings.capture.responseType});a+=l.createInput({elementName:"flow_version",elementId:"flow_version_"+b.transactionId,type:"hidden",value:pc});return a+=l.createInput({elementName:"locale",elementId:"locale_"+b.transactionId,type:"hidden",value:Ta})},div:function(b){return l.createDiv(b)},close:function(b){return"</"+b.element+">"}},captureElement:{countrySelect:function(b){b.options=
[{text:"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},
{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",
value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},
{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},
{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},
{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},
{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},
{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",
value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},
{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",
value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},
{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},
{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",
value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},
{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},
{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",
value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return F.prototype.render.htmlElement.select(b)},stateSelect:function(b){b.options=[{text:"state",value:"",disabled:!0},{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",
value:"FL"},{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",
value:"NM"},{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"},{text:"AB",value:"AB"},{text:"BC",
value:"BC"},{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];return F.prototype.render.htmlElement.select(b)},keepMeLoggedIn:function(b){b=""+l.createInput({label:b.label||"Keep me logged in",type:"checkbox",name:b.name,value:"yes",elementName:"capture_keep_me_logged_in"});x.push({elementName:"capture_keep_me_logged_in",
handler:function(b){J(b).checked?janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},!0)},eventType:"click"});return b},captcha:function(b){Pb||ia("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Pb=!0});x.push({elementName:b.name,handler:function(){function a(){if("undefined"===typeof Recaptcha)setTimeout(a,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");
Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});var a;a=""+l.wrapFormItemStart(b);b.label&&(a+=l.createLabel(b));a=a+'<div id="recaptcha_container" class="capture_form_item"></div>'+l.createTip(b);return a+=l.wrapFormItemEnd(b)},mergeAccounts:function(a,c){var c=G.parse(c)||null,d=F.prototype.render,e=a.value,f="";e.existing_provider="legacy"===e.existing_provider?
"email":e.existing_provider;a.customText||(a.customText={});var g=a.customText.connectRadio||'Connect this session with your existing account <br /><span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',j=a.customText.connectLegacyRadio||'Connect this session with your existing account <br /><span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',
k=a.customText.createRadio||"Create a new account using Google sign-in.",l=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",n=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',m=a.customText.moreInfo||"More Info ?",o=a.customText.createButton||
"Create",p=a.customText.connectButton||"Connect";e.connectRadioText=P(e,g);e.connectLegacyRadioText=P(e,j);e.createRadioText=P(e,k);e.foundExistingAccountText=P(e,l);e.moreInfoHoverText=P(e,n);e.moreInfoText=P(e,m);e.createButtonText=P(e,o);e.connectButtonText=P(e,p);e.connect_button=d.htmlElement.button({elementContent:'<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase()+'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+
e.current_provider.toLowerCase()+'"></span>'+p,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});e.create_button=d.htmlElement.button({elementContent:o,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});e.merge_radio=d.htmlElement.multiRadio({element:"multiRadio",value:[1],elementName:a.name+"_mergeRadio",classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===e.existing_provider?
P(e,j):P(e,g),value:1},{label:k,value:2}]});e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase();e.existing_provider_lowerCase=e.existing_provider.toLowerCase();c.custom?x.push({handler:function(){var c=document.getElementById(a.name);
c.innerHTML=P(e,c.innerHTML)},eventType:"render"}):f+=P(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}          </div>         <span class="capture_mergeProvider janrain-provider-icon-30 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
x.push({elementName:a.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(mc=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});x.push({elementName:a.name+"_createButton",handler:function(){ub=null;janrain.apps.capture.ui.renderScreen(janrain.settings.capture.registerFlow||"socialRegister")},
eventType:"click"});x.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(I+a.name+"_connectButton").style.display="block";document.getElementById(I+a.name+"_createButton").style.display="none"},eventType:"click"});x.push({elementName:a.name+"_mergeRadio_2_1",handler:function(){document.getElementById(I+a.name+"_connectButton").style.display="none";document.getElementById(I+a.name+"_createButton").style.display="block"},eventType:"click"});return f},publicProfileLink:function(a,
c){var d="",e=c?G.parse(c).elementHref:a.elementHref;a.elementHref=e+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return d+=l.createAnchor(a)},linkAccounts:function(a){a.value||(a.value={});a.customText||(a.customText={});var c=X,d=a.fieldPrefix||I,e='<div class="capture_linkAccounts" id="'+d+a.name+'_currentlinkedaccounts">',f=p.fields[a.linkAccountContainer].elementName||p.fields[a.linkAccountContainer].name||a.linkAccountContainer,g=a.customText.linkAnotherAccount||"Link Another Account",
j=v(a.value.providers)?a.value.providers.length:0,k=d+a.name+"_linkaccountsscreen",m=a.providerIconSize&&z(Kc,a.providerIconSize)?a.providerIconSize:16,o=F.prototype.render;v(a.customProviders)&&(a.customProviders=a.customProviders.filter(function(c){return!z(a.value.providers,c)}));for(var e=e+('<ul class="capture_provider" id="'+d+a.name+'_linkedproviderlist">'),q=0;q<j;q++){e+='<li class="capture_provider_linked"><span class="';e+="janrain-provider-icon-"+m+" janrain-provider-icon-"+a.value.providers[q]+
(a.customIcons?"-custom":"")+'">';e+='</span><span class="';e+="janrain-provider-text-"+a.value.providers[q]+(a.customIcons?"-custom":"")+'">'+(a.displayFormat?P({provider:a.value.providers[q],displayName:a.value.displayNames[q]},a.displayFormat):a.value.providers[q]);e+="</span>";if(N||0!==q)e+='<span class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+a.value.providers[q]+'" data-captureidentifier="'+a.value.identifiers[q]+'"></span>';e+="</li>"}if(a.customAddLinks){q=
0;for(g=a.customProviders.length;q<g;q++)e+='<li class="capture_custom_add_linkedaccount" data-captureprovider="'+a.customProviders[q]+'">',e+=P({provider:a.customProviders[q]},a.customAddLinkFormat)+"</li>";x.push({elementName:a.name+"_linkedproviderlist",handler:function(a){a=J(a);a=Bc(a,"li");n(a).has("capture_custom_add_linkedaccount")&&(a=a.getAttribute("data-captureprovider"),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.engage&&janrain.engage.signin&&
janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:c},!0),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.triggerFlow(a))},eventType:"click"})}else e+='<li class="capture_linkAccount"><a href="#" id="'+d+a.name+'_linknewlink">'+g+"</a></li>";e+="</ul></div>";x.push({elementName:a.name+"_linknewlink",handler:function(a){janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,
currentScreen:c},!0);xb(document.getElementById(k));Q(a)},eventType:"click"});x.push({elementName:a.name+"_currentlinkedaccounts",handler:function(e){var f=J(e);if(n(f).has("capture_remove_linkedaccount")){var g=f.getAttribute("data-captureidentifier");l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",fieldPrefix:d,captureScreen:c,needsResponse:!0,callback:function(){var c=f.getAttribute("data-captureprovider");
janrain.events.onCaptureProfileUnlink.fire({provider:c});if(a.customAddLinks){var e=document.createElement("li");e.className="capture_custom_add_linkedaccount";e.setAttribute("data-captureprovider",c);e.innerHTML=P({provider:c},a.customAddLinkFormat);document.getElementById(d+a.name+"_linkedproviderlist").appendChild(e)}Db(f.parentNode)},fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:g},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:g}]})}Q(e)},eventType:"click"});
e=e+'<div style="display: none;">'+('<div id="'+k+'" class="janrain-capture-ui capture-ui-content capture_addLinkedAccount">');K&&K.modal&&(e+=o.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));e+='<div  id="'+d+a.name+'_linkAccountContainerContainer">';e+="</div></div></div>";x.push({handler:function(){var c=document.getElementById(d+f);document.getElementById(d+a.name+"_linkAccountContainerContainer").appendChild(c)},eventType:"render"});
return e},errorMessages:function(){var a;a=""+F.prototype.render.htmlElement.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+F.prototype.render.htmlElement.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&
!1===a.displayPublic)return"";var c="",c="";a.value.firstname&&(c+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&(c+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(c+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+a.value.lastname+"</span>");return c=a.justString?c:l.wrapStringData(a,
c,"capture_stringdata_nameBlock")},nameFull:function(a){var c,d=F.prototype.render.htmlElement;c='<div class="capture_form_item capture_nameBlock">'+d.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&
a.placeholder.firstname?a.placeholder.firstname:""});c+=d.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""});c+=d.input({elementName:a.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",
type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return c+"</div>"},dateselect_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic||!a.value.dateselect_month||!a.value.dateselect_year||!a.value.dateselect_day)return"";var c="",d="",c=parseInt(a.value.dateselect_month,10),d=parseInt(a.value.dateselect_year,10),e=parseInt(a.value.dateselect_day,
10);a.format?(c=new Date(d,c-1,e),d=a.format,d=d.replace("{yyyy}",c.getFullYear()),d=d.replace("{month}",Jc[c.getMonth()]),d=d.replace("{day}",Ic[c.getDay()]),d=d.replace("{m}",c.getMonth()+1),d=d.replace("{d}",c.getDate())):d=c+"/"+e+"/"+d;return c=a.justString?d:l.wrapStringData(a,d,"capture_stringdata_dateselectBlock")},dateselect:function(a){function h(d){d=J(d);d=c(d);d=document.getElementById(d+"form_item_"+a.elementName);n(d).append("capture_focused").remove("capture_error");dc&&window.scrollTo(0,
0);janrain.events.onCaptureContentChange.fire()}function i(d){d=J(d);d=c(d);d=document.getElementById(d+"form_item_"+a.elementName);n(d).remove("capture_focused")}a.customText||(a.customText={});var e=a.customText.dayLabelDateSelect||"day",g=a.customText.monthLabelDateSelect||"month",j=a.customText.yearLabelDateSelect||"year",k='<div id="'+(a.fieldPrefix||I)+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',m,o=v(a.format)&&3===a.format.length?a.format:["month","day","year"],
q=a.value&&a.value.dateselect_day?a.value.dateselect_day:"",p=a.value&&a.value.dateselect_year?a.value.dateselect_year:"";m=[{text:g,value:"",disabled:!0},{text:"January",value:1},{text:"February",value:2},{text:"March",value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},{text:"August",value:8},{text:"September",value:9},{text:"October",value:10},{text:"November",value:11},{text:"December",value:12}];var s=a.monthStart||1,z=a.monthEnd||13,u=a.dayStart||
1,w=a.dayEnd||31,g=a.yearStart||1929,y=a.yearEnd||2012;m={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],justElement:!0,value:a.value&&a.value.dateselect_month?a.value.dateselect_month:"",options:m.slice(0,1).concat(m.slice(s,z))};e={elementName:a.name+"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,
rendererChildFieldName:"dateselect_day",justElement:!0,value:q,options:d(u,w,"asc",e)};g=parseInt(g,10);y=parseInt(y,10);j={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],value:p,options:d(g,y,"desc",j)};for(p=0;3>p;p++){var t;switch(o[p]){case "month":t=m;break;case "day":t=e;break;case "year":t=j}0===p&&(t.label=a.label);2===p&&(t.publicPrivateToggle=
a.publicPrivateToggle,t.displayPublic=a.displayPublic,t.tip=a.tip,t.justElement=!1);k+=l.createSelect(t)}k+="</div>";x.push({elementName:a.name+"_dateselectyear",handler:h,eventType:"focus"});x.push({elementName:a.name+"_dateselectyear",handler:i,eventType:"blur"});x.push({elementName:a.name+"_dateselectday",handler:h,eventType:"focus"});x.push({elementName:a.name+"_dateselectday",handler:i,eventType:"blur"});x.push({elementName:a.name+"_dateselectmonth",handler:h,eventType:"focus"});x.push({elementName:a.name+
"_dateselectmonth",handler:i,eventType:"blur"});return k},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c="",c="";a.value.streetaddress&&(c+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&(c+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+='<div class="capture_stringdata_addressBlock_citystatezip">';
a.value.city&&(c+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&(c+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(c+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+="</div>";a.value.country&&(c+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+
"</div>");return c=l.wrapStringData(a,c,"capture_stringdata_addressBlock")},addressFull:function(a){var d,f=F.prototype.render.htmlElement;a.value||(a.value={});a.value.country||(a.value.country="United States");d='<div class="capture_form_item capture_addressBlock">'+f.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,
value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});d+=f.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});d+=f.input({elementName:a.name+"[city]",
elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});d+=F.prototype.render.captureElement.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",placeholder:"State/Province",
hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:""});x.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});d+=f.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:
"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});d+=F.prototype.render.captureElement.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});x.push({elementName:a.name+"_country",handler:function(d){var d=J(d),
d=c(d),f=this.options[this.selectedIndex].value||"",i=document.getElementById(d+a.name+"_stateprovince");"United States"===f||"Canada"===f?document.getElementById(d+"form_item_"+a.name+"[stateprovince]").style.display="inline-block":(i.selectedIndex=0,document.getElementById(d+"form_item_"+a.name+"[stateprovince]").style.display="none")},eventType:"change"});return d+"</div>"},backButton:function(a){var c;a.type="button";c=""+l.createInput(a);a.type="backButton";x.push({elementName:a.elementName,
handler:function(){lc=!1;var a=Va.pop();a&&janrain.capture.ui.render(a.flow,a.values)},eventType:"click"});return c},partial:function(a){var c=document.getElementById(a.layout);if(c)return c.innerHTML;throw C(a.layout);},photoManager:function(a){function d(c){var e=document.getElementById(m+a.name+"_profile_pic_uploadform_container"),f=l.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+"/widget/photo/upload_photo.jsonp",classes:[],fieldPrefix:m,captureScreen:n,needsResponse:!0,
elementId:"upload_photo_form",callback:function(){},fields:[{elementName:"photo",elementId:"photo_chooser",elementType:"file"},{elementName:"photo_submit",elementId:"photo_submit",elementValue:N,classes:["capture_btn","capture_primary"],hideElement:!1,containerDiv:!0,containerDivClasses:["capture_footer"],elementType:"submit"}]});e.innerHTML="";var i=document.createElement("div");i.innerHTML=R;var h=document.createElement("div");h.innerHTML=T;e.appendChild(i);e.appendChild(f);e.appendChild(h);xb(document.getElementById(y));
c&&Q(c)}function f(c){if(0<parseInt(c.unscaled.width)){u=c;var d=c.unscaled.height/c.sizedHeight,e=Math.round(o/(c.unscaled.width/c.sizedWidth)),i=document.getElementById(m+a.name+"_profile_pic_image_edit"),d=Math.round(p/d);"none"===i.style.display&&(i.style.display="block");i.style.width=e+"px";i.style.height=d+"px";i.style.marginLeft="-"+Math.round(c.unscaled.left/c.sizedWidth*e)+"px";i.style.marginTop="-"+Math.round(c.unscaled.top/c.sizedHeight*d)+"px"}}function e(){if(t)return!1;var c=document.getElementById(m+
a.name+"_profile_pic_image_edit_crop");crop(c,f,s,q,function(){janrain.events.onCaptureContentChange.fire()});c.style.display="inline";t=!0}function g(a){J(a);var a=u.sizedWidth/u.originalWidth,b=u.sizedHeight/u.originalHeight;document.getElementById(m+"width").value=Math.round(u.unscaled.width/a);document.getElementById(m+"height").value=Math.round(u.unscaled.height/b);document.getElementById(m+"x").value=Math.round(u.unscaled.left/a);document.getElementById(m+"y").value=Math.round(u.unscaled.top/
b)}if(v(a.value)&&a.value.length){pa={};for(var j=0,k=a.value.length;j<k;j++)pa[a.value[j].type]=a.value[j]}else pa=!1;var j=l.createDiv({elementName:a.elementName}),n=X,m=a.fieldPrefix||I,o=a.previewSizeWidth||100,p=a.previewSizeHeight||100,q=a.originalMaxWidth||450,s=a.originalMaxHeight||450,u,t=!1,w=(k="object"===typeof pa)?"":"capture_profile_pic ",y=m+a.name+"_uploadphotoscreen",r=m+a.name+"_editphotoscreen",o=parseInt(o,10),p=parseInt(p,10),q=parseInt(q,10),s=parseInt(s,10);a.customText||(a.customText=
{});var C=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",E=a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo",F=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",G=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",H=a.customText.removePhotoLinkPhotoManager||"Remove photo",K=a.customText.editPhotoLinkPhotoManager||"Edit Photo",L=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo",
M=a.customText.editPhotoButtonTextPhotoManager||"Save",N=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",O=a.customText.removePhotoButtonTextPhotoManager||"Remove",P=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",R=a.customText.uploadNewPhotoInstructionPhotoManager||"",T=a.customText.uploadNextStepInstructionPhotoManager||"",V=a.customText.editPhotoPreviewTitlePhotoManager||"";Db(document.getElementById(y));Db(document.getElementById(r));j+='<div id="'+m+a.name+'_profile_pic" class="'+
w+'capture_profile_pic_display capture_default">';k&&pa.large&&(j+=l.createImage({src:pa.large.value,imageId:a.name+"_profile_pic_image"}));j=j+"&nbsp;</div>"+l.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:G,anchorHref:"#",anchorClasses:[],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:K,anchorHref:"#",anchorClasses:["three","four"],anchorId:"edit_photo_link",hide:!k},{listItemId:"remove_photo",listItemClasses:[],anchorText:H,anchorHref:"#",
anchorClasses:["three","four"],anchorId:"remove_photo_link",hide:!k}],["options"]);j=j+'</div><div style="display: none;">'+('<div id="'+y+'" class="janrain-capture-ui capture-ui-content capture_med_footer">')+'<div class="capture_header">'+("<h1>"+C+"</h1>")+"</div>"+('<div id="'+m+a.name+'_profile_pic_upload" class="'+w+'capture_profile_pic_upload capture_default">');k&&pa.normal&&(j+=l.createImage({src:pa.normal.value,imageId:a.name+"_profile_pic_image_upload"}));j=j+"&nbsp;</div>"+('<div id="'+
m+a.name+'_profile_pic_uploadform_container" class="capture_uploadPhoto_container">');j=j+'</div></div></div><div style="display: none;">'+('<div id="'+r+'" class="janrain-capture-ui capture-ui-content capture_med_footer">')+'<div class="capture_header">'+("<h1>"+E+"</h1>")+"</div>"+('<div class="'+w+'profile_pic_edit_container">')+("<h2>"+V+"</h2>")+('<div id="'+m+a.name+'_profile_pic_edit" class="'+w+'capture_profile_pic_edit capture_default">');k&&pa.original&&(j+=l.createImage({src:pa.original.value,
imageId:a.name+"_profile_pic_image_edit"}));j=j+"&nbsp;</div></div>"+('<div id="'+m+a.name+'_profile_pic_editPhoto_container" class="capture_editPhoto_container">');j+="<h2>"+F+"</h2>";k&&pa.original&&(j+=l.createImage({src:pa.original.value,imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}));var j=j+"</div></div></div>",W=l.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+"/widget/photo/crop_photo.jsonp",fieldPrefix:m,captureScreen:n,
needsResponse:!0,elementId:"crop_photo_form",fields:[{elementName:"",classes:["capture_popup-arrow"],elementType:"div"},{elementId:"width",elementName:"width",elementType:"hidden"},{elementId:"height",elementName:"height",elementType:"hidden"},{elementId:"x",elementName:"x",elementType:"hidden"},{elementId:"y",elementName:"y",elementType:"hidden"},{elementValue:M,elementId:a.name+"_edit_photo_submit",elementName:"edit_photo_submit",hideElement:!1,containerDiv:!0,containerDivClasses:["capture_footer"],
classes:["capture_btn","capture_primary"],elementType:"submit"}],callback:function(){}});x.push({eventType:"render",handler:function(){var c=document.createElement("a");c.innerHTML=L;c.setAttribute("href","#");S(c,"click",d);document.getElementById(m+a.name+"_profile_pic_editPhoto_container").appendChild(W);var e=document.getElementById(m+a.name+"_edit_photo_submit");e.parentNode.insertBefore(c,e);S(W,"submit",g)}});x.push({elementName:"upload_photo_link",handler:d,eventType:"click"});x.push({elementName:"edit_photo_link",
handler:function(a){"function"!==typeof crop?ia("http://janrain-widgets.s3.amazonaws.com/crop/crop.js",e):setTimeout(e,50);xb(document.getElementById(r));Q(a)},eventType:"click"});x.push({elementName:"remove_photo_link",handler:function(a){var b=J(a),d=c(b);if(!document.getElementById(d+"remove_photo_contain")){var e=l.domHelpers.createDiv({elementId:"remove_photo_contain",fieldPrefix:d,classes:["capture_popup_container pad"]}),b=l.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementText:O,
elementId:"confirm_remove_photo_link"}),f=l.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementId:"cancel_remove_photo_link",elementText:P});e.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';e.appendChild(b);e.appendChild(f);document.getElementById(d+"remove_photo").appendChild(e);var i=function(a){var b=[d+"createFormAndPostSubmit",d+"confirm_remove_photo_link",d+"remove_photo_link"],c=J(a).getAttribute("id")||"";!z(b,J(a).getAttribute("id"))&&0>c.indexOf(d+"createFormAndPostSubmit_")&&
(e.innerHTML="",Db(e),xc(document,"click",i),Q(a))};S(f,"click",i);S(document,"click",i);S(b,"click",function(a){l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:d,captureScreen:n,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});Q(a)});Q(a)}},eventType:"click"});return j},collection:{radio:function(a){for(var c=a.fieldPrefix||I,d=l.createDiv({elementName:a.elementName,classes:a.classes||""}),e=
0;e<a.collection.length;e++)d+="<div class='capture_radio_toggle",d+=(0===e?" capture_toggled":"")+"'>",d+="<input type='radio' id='"+c+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",d+="<label ",d+="class='capture_radio_label' ",d+="for='"+c+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",d+="</label></div>",x.push({elementName:"radio_"+a.collection[e].elementName,handler:function(c){ka(c,
a)},eventType:"click"});return d+"</div>"},accordion:function(){return"<div>"},tab:function(a){for(var c,d=[],e=l.createDiv({elementName:a.elementName,classes:a.classes||""}),f=0;f<a.collection.length;f++)c={},c.listItemId="tab_li_"+a.collection[f].elementName,c.listItemClasses=["capture_tab_toggle"],0===f&&c.listItemClasses.push("capture_toggled"),c.anchorId="tab_"+a.collection[f].elementName,c.anchorText=a.collection[f].label,c.anchorHref="#",d.push(c),x.push({elementName:"tab_"+a.collection[f].elementName,
handler:function(c){ka(c,a)},eventType:"click"});e+=l.createListOfLinks(d,["capture_tabs"]);return e+"</div>"}}},widget:{login:function(){x.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),b=document.getElementById(I+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=aa();janrain.engage.signin.appendTokenParams({capture_transactionId:c});zb=c}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=
document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());qb||ja()},eventType:"render"});var a=l.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(){}}};Ub.accessDenied='<div class="capture_access">'+(Qa.accessDenied||"Sorry. Access denied.")+"</div>";Ub.retrievingUserData='<div class="capture_retrieving">'+(Qa.retrievingUserData||"Please wait while we retrieve your user data.")+
"</div>";var sc=[],tc={};return{modal:{close:function(){"object"==typeof w&&w.close()},closeConfirm:function(){"object"==typeof w&&w.closeConfirm()},open:function(a){a=a||K.flow.defaultScreen;if("object"==typeof w&&(janrain.capture.ui.renderScreen(a),a=document.getElementById(p.screens[a].layout)))w.setShowContentOnLoad(!0),w.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof w&&(w.setBorder(a),w.refresh());return!0},setBorderColor:function(a){"object"===
typeof w&&(w.setBorderColor(a),w.refresh());return!0},setBorderOpacity:function(a){"object"===typeof w&&(w.setBorderOpacity(a),w.refresh());return!0},setBorderRadius:function(a){"object"==typeof w&&(w.setBorderRadius(a),w.refresh());return!0}},start:function(b,c){a(b,c)},hasActiveSession:function(){return!!Ca},render:function(a,c){a.i18nStrings&&(Qa=a.i18nStrings);if(a.version)pc=a.version;else throw Error("MissingVersionError: Missing version.");s(a);N=a.hasTraditionalAccount;rb=a.form;if(N)for(var d=
La("janrain_traditional_account_only"),e=d.length,f=0;f<e;f++)d[f].style.display="block";d=new Ia;e=p.oneTimeRender||janrain.settings.capture.screenToRender||p.defaultScreen;d.setScreenData(e,p.screens[e]);if(c)for(var g in c)c[g].id&&c[g].value&&(d=document.getElementById(c[g].id),d.value=c[g].value,"radio"===c[g].type&&(d.checked=c[g].checked,c[g].checked&&d.click()))},renderScreen:function(a,c){lc=!1;c||Va.push(K);(new Ia).setScreenData(a,p.screens[a])},setHandler:function(a,c,d){this.setFieldAttribute(a,
c+"Handler",d)},setFieldAttribute:function(a,c,d){Ua.push({field:a,attribute:c,value:d})},setRenderer:function(a,c,d){F.prototype.render[a].helpers=cc;F.prototype.render[a][c]=d},setValidator:function(a,c){y.prototype[a]=c},registerFunction:function(a,c){tc[a]=c},addRenderer:function(a,c,d){this.setRenderer(a,c,d)},trackLoadedCssFiles:function(a){ec.push(a)},handleCaptureUniqueResponse:function(a){la(a)},handleCaptureResponse:function(a,c){var d;if("ok"===a.stat&&(d=a.result,d.accessToken&&d.oneTime&&
(vb=d.accessToken,eb=!0),d.accessToken&&!d.oneTime&&da(d.accessToken),d&&d.status)){jb[d.transactionId]=d;"success"===d.status?(janrain.events.onCaptureSuccessfulSave.fire(d),vb&&!eb?vb="":eb=!1):janrain.events.onCaptureFailedSave.fire(d);if("emailCode"===d.action&&d.statusMessage&&("verified"===d.statusMessage||"invalidVerificationCode"===d.statusMessage))"success"===d.status?(janrain.events.onCaptureSuccessfulEmailVerification.fire(d),(d.accessToken||d.authorizationCode)&&janrain.settings.capture.federate&&
d.sso&&d.ssoCode&&na(d.ssoCode)):janrain.events.onCaptureFailedEmailVerification.fire(d);"profile"===d.action&&d.statusMessage&&"profileFound"!==d.statusMessage&&("success"===d.status?(hb=!0,janrain.events.onCaptureSuccessfulProfileSave.fire(d)):janrain.events.onCaptureFailedProfileSave.fire(d));if("traditionalSignin"===d.action||"socialSignin"===d.action||"ssoSignin"===d.action)if("success"===d.status){if(d.authorizationCode){var e;e=janrain.settings.capture.redirectUri;var f={code:d.authorizationCode},
g=-1<e.indexOf("?")?"&":"?",j=[],k;for(k in f)f.hasOwnProperty(k)&&j.push(k+"="+encodeURIComponent(f[k]));e=e+g+j.join("&");d.redirectUri=e}if(d.accessToken||d.authorizationCode)janrain.events.onCaptureSuccessfulLogin.fire(d),("traditionalSignin"===d.action||"socialSignin"===d.action)&&$(d.action),janrain.settings.capture.federate&&d.sso&&d.ssoCode&&na(d.ssoCode),janrain.settings.capture.federate&&d.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(d),ya(d.transactionId),Ib=!0);d.authorizationCode&&
janrain.settings.capture.redirectOnLogin&&(window.location=e)}else janrain.events.onCaptureFailedLogin.fire(d);if("traditionalRegister"===d.action||"socialRegister"===d.action)if("success"===d.status){if(janrain.events.onCaptureSuccessfulRegistration.fire(d),d.accessToken||d.authorizationCode)"socialRegister"===d.action?$("socialSignin"):$("traditionalSignin"),janrain.settings.capture.federate&&d.sso&&d.ssoCode&&na(d.ssoCode)}else janrain.events.onCaptureFailedRegistration.fire(d);d.userData&&janrain.settings.capture.setProfileCookie&&
(d=d.userData,k=Y(),(new L).setExpirationDirectly(k).setName("janrainCaptureProfileData").setValue(G.stringify(d)).create())}"function"===typeof c&&c()},handleErrorResponse:function(a,c){a.result&&a.result.error&&"access_token_expired"===a.result.error&&(sb(),janrain.events.onCaptureExpiredToken.fire());var d=a.result.error+": "+a.result.errorDescription;if(Rb){var e=l.domHelpers.createDiv({classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()});e.innerHTML=d;Rb.insertBefore(e,
Rb.firstChild);janrain.events.onCaptureContentChange.fire()}Rb||alert(d);ca(a);"function"===typeof c&&c()},createCaptureSession:function(a){da(a)},endCaptureSession:function(){sb()},addTransactionIds:function(a){Ha(a)},getFailedLogins:function(){return Lb},setCustomHtml:function(a,c){z(Zb,a)&&(Ub[a]=c)},getEngageCookie:function(a){return wb(a)},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);ya(a.transactionId);pb();Ib=!0},federateSetLoginSuccess:function(a){ya(a)},
federateRefreshToken:function(a){a&&"ok"===a.stat&&(da(a.accessToken,!1,!0),$a())},scriptLoader:function(a,c){return yc(a,c)},validationHandler:function(a){var c=document.getElementById(a.elementId),d=new l.validation;d.setParentDiv(c);d.setElement(c);d.valid();a.valid?d.valid():d.notValid(a.reason)}}};return{engage:{signin:janrain&&janrain.engage&&janrain.engage.signin?janrain.engage.signin:ka,share:janrain&&janrain.engage&&janrain.engage.share?janrain.engage.share:ga,publish:janrain&&janrain.engage&&
janrain.engage.publish?janrain.engage.publish:ib,simpleshare:janrain&&janrain.engage&&janrain.engage.simpleshare?janrain.engage.simpleshare:jb},capture:{ui:Mc}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;