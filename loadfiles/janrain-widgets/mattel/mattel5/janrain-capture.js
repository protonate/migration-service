"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var $,fa;function Ua(){function a(a){var a=a||"img",d=document.createElement(a);d.style.position="absolute";d.style.cursor="pointer";d.style.zIndex=1E3;"a"===a?(d.setAttribute("href","#"),d.className="janrain_modal_closebutton",y&&(d.innerHTML=y)):(d.src=G,L||(d.style.right="-6px",d.style.top="-7px",d.style.height="31px",d.style.width="28px"));d.onclick=l?e:g;return d}function g(a){V||(h.style.display="none",aa.style.display="none",v.style.display="none");D&&M.deactivate();
("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&X.fire();"object"===typeof a&&E(a)}function d(){var a=document.createElement("div"),d=document.createElement("div"),e=document.createElement("a"),k=document.createElement("a"),c=document.createElement("h3");e.innerHTML="Yes, quit";k.innerHTML="No, stay";c.innerHTML="Are you sure you want to quit?";e.setAttribute("href","#");k.setAttribute("href","#");a.className="janrain_close_confirm_container";d.className="janrain_close_confirm";
e.className="janrain_modal_confirm";k.className="janrain_modal_cancel";o(e,"click",function(a){g();h.removeChild(Y);Y=null;E(a)});o(k,"click",function(a){h.removeChild(Y);Y=null;E(a)});d.appendChild(c);d.appendChild(k);d.appendChild(e);a.appendChild(d);return a}function e(a){Y||(Y=d(),h.appendChild(Y));E(a)}function m(a){var d=qa(),e=wa(a),h=-1*e.width/2,e=-1*e.height/2;a.style.left="50%";a.style.marginLeft=h+"px";a.style.marginTop=e+d+"px";a.style.top="50%";0>a.offsetLeft&&(a.style.left=0,a.style.marginLeft=
0);0>a.offsetTop&&(a.style.marginTop=0,a.style.top="10px");v.style.height=$+d+"px";"absolute"!==a.style.position&&(a.style.position="absolute")}function k(){if(V){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(h)}else m(h);V||K.show()}function x(a){H||(I=oa("number",[0,20],10,a),t.fire({radius:ja(r,I)}))}function Oa(a){H||(q=oa("color",null,"#000000",a))}function Pa(a){H||(r=oa("number",[0,20],10,a),ka.fire({radius:ja(r,I),refresh:!0}))}function J(a){H||(z=
oa("number",[0,1],0.5,a),"object"==typeof h&&ba(h,I,q,z))}function N(a){if("portrait"===a){O="portrait";var d="one column"}"landscape"===a&&(O="landscape",d="two column");ga.fire({orientation:O,format:d,width:ha,height:B});k()}function ca(a){a&&(W=a);F&&la&&(W+=I-2);"object"==typeof h&&(h.style.width=W+"px");return this}function n(a){a&&(Z=a);F&&la&&(Z=Z+2*I-4);a&&"object"==typeof h&&(h.style.height=Z+"px");return this}function p(){fa>=$&&"undefined"===typeof window.orientation?"landscape"!==O&&N("landscape"):
90===window.orientation||-90===window.orientation?"landscape"!==O&&N("landscape"):"portrait"!==O&&N("portrait");k()}function w(){var a,d=h;a="undefined"!=typeof window.innerWidth?window.innerHeight:document.documentElement.offsetHeight;var e=qa();wa(d);v.style.height=a+e+"px"}var ha=380,B=131,h,ia="janrainModal",aa,v,P,W=ha,Z=B,I=10,q="#000000",r=10,z=0.5,l=!1,G=c("images/lightbox-close.png?dcb=2058185426"),y="",H=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,
L=!1,Y,O="landscape",Q=!0,D="boolean"===typeof D?D:"number"===typeof window.orientation?!0:!1,R,V="boolean"===typeof R?R:!1,C=C||!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(G=janrain.settings.capture.modalCloseImage,L=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(y=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=new j);var X=new j,da=new j,ka=new j,
t=new j,ga=new j;M&&M.onOrientationChange&&M.onViewportChange&&(M.onOrientationChange.addHandler(function(a){N(a.orientation)}),M.onViewportChange.addHandler(function(){m(h)}));return{setWidth:function(a){ca(a);return this},setHeight:function(a){n(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&x(a);H||"object"==typeof h&&ba(h,I,q,z);return this},setBorderColor:function(a){a&&Oa(a);H||"object"==typeof h&&ba(h,I,q,z);return this},setBorderRadius:function(a){("string"==
typeof a||"number"==typeof a)&&Pa(a);H||"object"==typeof h&&ma(h,r);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&J(a);return this},setZIndex:function(a){v.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(V=a);return this},setId:function(a){ia=a;h&&(h.id=a);return this},show:function(){D||(h.style.display="block");"object"==typeof aa&&Q&&(aa.style.display="block");V?D&&(h.style.display="block"):(v.style.display="block",D?(M.setElement(h).activate(),
h.style.display="block"):(o(window,"resize",p),o(window,"scroll",w),p()));H||ka.fire({radius:ja(r,I),refresh:!1});da.fire();h.focus()},close:function(a){g(a)},refresh:function(){C||h.appendChild(P);k()},remove:function(){if(V){var a=document.getElementById("previewMode");"object"===typeof P&&h.removeChild(P);"object"===typeof h&&a.removeChild(h);"object"===typeof v&&document.body.removeChild(v);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";v=h=""}else"object"===
typeof P&&h.removeChild(P),"object"===typeof v&&document.body.removeChild(v),"object"===typeof h&&document.body.removeChild(h)},addContent:function(d){aa=d;if(!h){h=document.createElement("div");h.id=ia;if("number"===typeof W||"string"===typeof W)h.style.width=W+"px";h.style.height=Z+"px";h.style.position="absolute";H||(h.style.padding=I+"px",ma(h,r),ba(h,I,q,z));h.style.zIndex=1E3;h.style.display="none";v=document.createElement("div");v.style.width="100%";v.style.left=0;v.style.top=0;v.style.backgroundColor=
"#000000";v.style.position="absolute";d=v;"undefined"!==typeof d.style.filter&&(d.style.filter="alpha(opacity=40)");"undefined"!==typeof d.style.opacity&&(d.style.opacity="0.4");"undefined"!==typeof d.style.KhtmlOpacity&&(d.style.KhtmlOpacity="0.4");"undefined"!==typeof d.style.MozOpacity&&(d.style.MozOpacity="0.4");v.style.display="none";v.style.zIndex=1E3;P=y?a("a"):a();h.appendChild(P);document.body.appendChild(v);document.body.appendChild(h)}h.appendChild(aa);V&&k();return this},getContent:function(){return aa},
getBorderWidth:function(){return I},getState:function(){return{borderWidth:I,borderColor:q,borderRadius:r,borderOpacity:z,orientation:z}},setState:function(a){Ka("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&x(a.borderWidth),"undefined"!==typeof a.borderColor&&Oa(a.borderColor),"undefined"!==typeof a.borderOpacity&&J(a.borderOpacity),"undefined"!==typeof a.orientation&&N(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&
Pa(a.borderRadius),"object"==typeof h&&ma(h,r)))},setConfirmClose:function(a){l=a;return this},setShowContentOnLoad:function(a){Q=a;return this},onClose:X,onShow:da,onOrientationChange:ga,onBorderRadiusChange:ka,onBorderWidthChange:t}}function ya(){var a,g,d,e,c="/";return{create:function(){document.cookie=g+"="+d+";expires="+a+(e?"; domain="+e:"")+"; path="+c},remove:function(){var a=e?"; domain="+e:"",x=new Date;x.setTime(x.getTime()+-864E6);document.cookie=g+"="+d+";expires="+x.toGMTString()+a+
"; path="+c},setExpirationDirectly:function(d){d&&(a=d);return this},setExpiration:function(d){if(d){var e=new Date;e.setTime(e.getTime()+864E5*d);a=e.toGMTString()}return this},setName:function(a){a&&(g=a);return this},setValue:function(a){a&&(d=a);return this},setPath:function(a){a&&(c=a);return this},setDomain:function(a){a&&(e=a);return this},getCookie:function(a){a:{var d,e,g,c;d=document.cookie.split(";");e=d.length;for(var m=0;m<e;m++)if(g=d.pop(),c=g.split("="),g=c[0],c=c[1],g.trim()===a){a=
c;break a}a=!1}return a}}}function ma(a,g,d,e,c,k){"number"===typeof d&&"number"===typeof e&&"number"===typeof c&&"number"===typeof k?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=d+"px "+e+"px "+c+"px "+k+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=d+"px "+e+"px "+c+"px "+k+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=d+"px "+e+"px "+c+"px "+k+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=
g+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=g+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=g+"px"));return a}function ja(a,g){if("undefined"===typeof a||"undefined"===typeof g)return!1;var d=a-g;0>d&&(d=0);d>a&&(d=a);return d}function ba(a,g,d,e){var c=za(d),k=za(d,e);if(d=La(d))d.a=e,k="rgba("+d.r+", "+d.g+", "+d.b+", "+d.a+")";if(0<g){a.style.backgroundColor=c;a.style.padding=g+"px";if(0<F&&8>=F||F&&la)return!1;a.style.backgroundColor=
k;a.style.padding=g+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function La(a){var g={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;g.r=a[0];g.g=a[1];g.b=a[2];g.a=a[3]?a[3]:1;return g}function za(a,g){if("#"!==a.charAt(0))return a;4===a.length&&(a=a[0]+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]);var a=a.substring(1,7),d=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,4),16),
c=parseInt(a.substring(4,6),16);return isNaN(g)?"rgb("+d+","+e+","+c+")":"rgba("+d+","+e+","+c+","+g+")"}function o(a,g,d){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+g,d):a.addEventListener(g,d,!1)}function Aa(a,g,d){"object"===typeof window.detachEvent?a.detachEvent("on"+g,d):a.removeEventListener(g,d,!1)}function qa(){return document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}function wa(a){return{width:parseInt(a.style.width||
a.offsetWidth),height:parseInt(a.style.height||a.offsetHeight)}}function oa(a,g,d,e,c){var k=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("url"===a){if("string"!==typeof e)return d;e=e.trim();return/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(e)?e:d}if("usertext"===a)return"string"!==typeof e&&"number"!==typeof e?d:n(g)?1===g.length?e.length<=g[0]?e:d:2===g.length&&e.length<=g[1]&&e.length>=g[0]?e:d:e;"string"===typeof e&&0==e.length&&(e=" ");if(!/^(?:[^\u0000-\u0080]|[0-9a-z?,.!&\s#()])+$/i.test(e))return c||
K.log(e+" contains invalid character(s)"),d;if("boolean"===a){if("boolean"===typeof e)return e;c||K.log(e+" is wrong type, must be boolean, using default value instead");return d}if("text"===a)return e;if("number"===a){if(isNaN(parseInt(e)))return c||K.log(e+" is wrong type, must be a valid number"),d;e=parseFloat(e)}if("color"===a){e&&(e=e.trim());if("transparent"===e||k.test(e))return e;c||K.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+
d+'" instead');return d}if(typeof e!=a&&"color"!=a)return c||K.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+a),d;if("object"===typeof g&&"string"===a){if(0<=g.indexOf(e))return e;c||K.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+d+'" instead');return d}if("object"===typeof g&&"number"===a){if(2===g.length)var k=g[0],x=g[1];else var k=g.shift(),x=g.pop(),j=g;if(e<k)return c||K.log("Value of "+e+" for "+arguments.callee.caller.name+
" is below minimum of "+k+", using minimum value of "+k+" instead"),k;if(e>x)return c||K.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+x+", using maximum value of "+x+" instead"),x;if(j&&"number"===typeof j.indexOf(e)||e==k||e==x)return e;return j?(c||K.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+d+" instead"),d):e}return 0!=e&&!e?d:e}function Ba(a){for(var c=Ba.options,a=c.parser[c.strictMode?"strict":"loose"].exec(a),
d={},e=14;e--;)d[c.key[e]]=a[e]||"";d[c.q.name]={};d[c.key[12]].replace(c.q.parser,function(a,e,x){e&&(d[c.q.name][e]=x)});return d}function Q(a){return L(a).getAttribute("id")}function X(a){return document.getElementById(Q(a))}function L(a){return a.target?a.target:a.srcElement}function da(a,c){var d=document.createElement("script"),e=document.getElementsByTagName("script")[0];d.src=a;d.setAttribute("type","text/javascript");"function"===typeof c&&(d.addEventListener?d.addEventListener("load",c,
!1):d.readyState&&(d.onreadystatechange=function(){("complete"==d.readyState||"loaded"==d.readyState)&&c()}));e.parentNode.insertBefore(d,e)}function Ca(a,c){if(F){var d=document.createElement("link");d.rel="stylesheet";d.href=a;d.type="text/css"}else d=document.createElement("style"),d.textContent='@import "'+a+'";';if(F)d.onload=function(){"function"===typeof c&&c();"object"===typeof janrain.events.onCssLoad&&janrain.events.onCssLoad.fire({source:a})},d.onreadystatechange=function(){if("complete"==
d.readyState||"loaded"==d.readyState)"function"===typeof c&&c(),"object"===typeof janrain.events.onCssLoad&&janrain.events.onCssLoad.fire({source:a})};else var e=setInterval(function(){try{d.sheet.cssRules,"function"===typeof c&&c(),"object"===typeof janrain.events.onCssLoad&&janrain.events.onCssLoad.fire({source:a}),clearInterval(e)}catch(m){}},10);document.getElementsByTagName("head")[0].appendChild(d)}function r(a){var c;c=a&&a.className?a.className.split(" "):[];return{append:function(d){-1===
c.indexOf(d)&&(c.push(d),a&&(a.className=c.join(" ")));return this},remove:function(d){-1!==c.indexOf(d)&&(c.splice([c.indexOf(d)],1),a&&(a.className=c.join(" ").trim()));return this},has:function(a){return-1!==c.indexOf(a)}}}function n(a){return"[object Array]"===Object.prototype.toString.call(a)}function w(a,c){return!n(a)?!1:-1<a.indexOf(c)}function R(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function E(a){if(!a)return!1;a.preventDefault?a.preventDefault():a.returnValue=!1}function j(){this.eventHandlers=
[];this.firedEvents=[]}function ra(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture)return!1;for(var a="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureSuccessfulLogin,onCaptureFailedLogin,onCaptureSuccessfulRegistration,onCaptureFailedRegistration,onCaptureStartRegistration,onCaptureSuccessfulSave,onCaptureFailedSave,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureCustomEvent,onCaptureFormError,onCaptureSessionFound".split(","),
c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}if("function"===typeof janrainCaptureWidgetOnLoad)if(a())clearTimeout(c),janrainCaptureWidgetOnLoad();else var c=setTimeout(ra,5)}var la="CSS1Compat"!==document.compatMode;navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i);
Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var c in this)if(this[c]===a)return parseInt(c);return-1});Array.prototype.map||(Array.prototype.map=function(a,c){if(null===this)throw new TypeError;var d=Object(this),e=d.length>>>0;if("function"!==typeof a)throw new TypeError;for(var m=Array(e),k=0;k<e;k++)k in d&&(m[k]=a.call(c,d[k],k,d));return m});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var M=function(){function a(){if("undefined"===
typeof window.orientation)return!1;var a;e(document.body,ca);N=x().content;p();n();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){B(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});k()},!1),setTimeout(k,30),window.addEventListener("beforeunload",
function(){window.removeEventListener(a,k,!1)},!1));o.addHandler(function(){c({height:window.innerHeight,width:window.innerWidth},0)});ha.addHandler(function(a){$=a.height;fa=a.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,k,!1)},!1)}function c(a,d){var e=window.innerHeight,k=window.innerWidth,m=!0,x=!0;e!=a.height&&(m=!1);k!=a.width&&(x=!1);m&&x?20>d?setTimeout(function(){c({height:e,width:k},++d)},100):ha.fire({height:e,width:k}):setTimeout(function(){c({height:e,
width:k},0)},100)}function d(){setTimeout(function(){J(N)},20);e(ca,document.body)}function e(a,d){for(var c=0;c<a.style.length;c++){var e=a.style[c];d.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}function m(){var a;a=(0===window.orientation||180===window.orientation)&&fa>$||(90===window.orientation||-90===window.orientation)&&$>fa?!1:!0;var c="landscape";if(a&&(0===window.orientation||180===window.orientation))c="portrait";if(!a&&(90===window.orientation||-90===
window.orientation))c="portrait";return c}function k(){var a=m();J("width=device-width, initial-scale=1, maximum-scale=1");o.fire({orientation:a})}function x(){var a=document.getElementsByTagName("meta"),c;for(c in a)if("viewport"===a[c].name)return a[c];return!1}function p(){if("undefined"===typeof document.getElementsByTagName||x())return!1;var a=document.getElementsByTagName("head")[0],c=document.createElement("meta");c.setAttribute("name","viewport");a.appendChild(c);return!0}function n(){if("undefined"===
typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function J(a){var c=x();if(!c||c.content==a)return!1;if("undefined"===typeof a){var d=x();document.getElementsByTagName("head")[0].removeChild(d)}c.content=a;return!0}var N,ca=document.createElement("div"),r=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
w=null!==r?r[0]:!1,o=new j,ha=new j;w&&w[0].match(/android|\Wsilk\W/);var B=function(){var a=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},d={height:window.innerHeight,width:window.innerWidth},e=!1;return function(k,g,m){var x=!1,q=function(a,c){return a.height>=a.width&&c.height>=c.width||a.width>a.height&&c.width>c.height?!0:!1},j=a===k,J=q(g,c),l=q(m,d);if(!j&&(!J||!l))x=!0;!j&&!J&&(e=!0);x&&(e&&!q(g,m)&&(x=m.height,m.height=m.width,m.width=x),$=m.height,fa=m.width);
a=k;c={height:g.height,width:g.width};d={height:m.height,width:m.width}}}();return{setElement:function(){return this},onOrientationChange:o,onViewportChange:ha,getMobileDevice:function(){return w},getOrientation:function(){return m()},activate:function(){a()},deactivate:function(){d()}}}(),c=function(a){var c;c="http://apps.janrain.com:4567/cdn_widgets/".replace(/\/$/,"");return c+"/"+a},p=[];c("images/auth/customizable/logos/100x30/aol.png?dcb=584752433");c("images/auth/customizable/logos/150x50/aol.png?dcb=123029062");
c("images/auth/customizable/icons/30x30/aol.png?dcb=4285932442");c("images/auth/customizable/icons/50x50/aol.png?dcb=345957820");p.push("aol");c("images/auth/customizable/logos/100x30/blogger.png?dcb=1559691033");c("images/auth/customizable/logos/150x50/blogger.png?dcb=1089061461");c("images/auth/customizable/icons/30x30/blogger.png?dcb=623833584");c("images/auth/customizable/icons/50x50/blogger.png?dcb=767592863");p.push("blogger");c("images/auth/customizable/logos/100x30/livejournal.png?dcb=3162196479");
c("images/auth/customizable/logos/150x50/livejournal.png?dcb=147751597");c("images/auth/customizable/icons/30x30/livejournal.png?dcb=2090378354");c("images/auth/customizable/icons/50x50/livejournal.png?dcb=935673529");p.push("livejournal");c("images/auth/customizable/logos/100x30/netlog.png?dcb=3187433107");c("images/auth/customizable/logos/150x50/netlog.png?dcb=1602181790");c("images/auth/customizable/icons/30x30/netlog.png?dcb=3905143809");c("images/auth/customizable/icons/50x50/netlog.png?dcb=1133554079");
p.push("netlog");c("images/auth/customizable/logos/100x30/wordpress.png?dcb=1934724746");c("images/auth/customizable/logos/150x50/wordpress.png?dcb=2849229298");c("images/auth/customizable/icons/30x30/wordpress.png?dcb=2657648296");c("images/auth/customizable/icons/50x50/wordpress.png?dcb=3483891882");p.push("wordpress");c("images/auth/customizable/logos/100x30/openid.png?dcb=3601981328");c("images/auth/customizable/logos/150x50/openid.png?dcb=2000045256");c("images/auth/customizable/icons/30x30/openid.png?dcb=3893666220");
c("images/auth/customizable/icons/50x50/openid.png?dcb=827202868");p.push("openid");c("images/auth/customizable/logos/100x30/flickr.png?dcb=1766645215");c("images/auth/customizable/logos/150x50/flickr.png?dcb=3035465309");c("images/auth/customizable/icons/30x30/flickr.png?dcb=332747143");c("images/auth/customizable/icons/50x50/flickr.png?dcb=2330497826");p.push("flickr");c("images/auth/customizable/logos/100x30/google.png?dcb=2779818945");c("images/auth/customizable/logos/150x50/google.png?dcb=3773274157");
c("images/auth/customizable/icons/30x30/google.png?dcb=2806536341");c("images/auth/customizable/icons/50x50/google.png?dcb=1875876342");p.push("google");c("images/auth/customizable/logos/100x30/hyves.png?dcb=1736847959");c("images/auth/customizable/logos/150x50/hyves.png?dcb=1089532659");c("images/auth/customizable/icons/30x30/hyves.png?dcb=309330294");c("images/auth/customizable/icons/50x50/hyves.png?dcb=2500363360");p.push("hyves");c("images/auth/customizable/logos/100x30/myopenid.png?dcb=1477577552");
c("images/auth/customizable/logos/150x50/myopenid.png?dcb=2185940730");c("images/auth/customizable/icons/30x30/myopenid.png?dcb=3421841415");c("images/auth/customizable/icons/50x50/myopenid.png?dcb=841800374");p.push("myopenid");c("images/auth/customizable/logos/100x30/paypal.png?dcb=3451161860");c("images/auth/customizable/logos/150x50/paypal.png?dcb=1838659397");c("images/auth/customizable/icons/30x30/paypal.png?dcb=3130653233");c("images/auth/customizable/icons/50x50/paypal.png?dcb=1148158857");
p.push("paypal");c("images/auth/customizable/logos/100x30/verisign.png?dcb=2317043889");c("images/auth/customizable/logos/150x50/verisign.png?dcb=1263746988");c("images/auth/customizable/icons/30x30/verisign.png?dcb=1239934167");c("images/auth/customizable/icons/50x50/verisign.png?dcb=1552980060");p.push("verisign");c("images/auth/customizable/logos/100x30/yahoo.png?dcb=3224621535");c("images/auth/customizable/logos/150x50/yahoo.png?dcb=1597160353");c("images/auth/customizable/icons/30x30/yahoo.png?dcb=4052823350");
c("images/auth/customizable/icons/50x50/yahoo.png?dcb=3382867630");p.push("yahoo");c("images/auth/customizable/logos/100x30/facebook.png?dcb=3120369359");c("images/auth/customizable/logos/150x50/facebook.png?dcb=605398237");c("images/auth/customizable/icons/30x30/facebook.png?dcb=2106424850");c("images/auth/customizable/icons/50x50/facebook.png?dcb=3533625111");p.push("facebook");c("images/auth/customizable/logos/100x30/myspace.png?dcb=1922280424");c("images/auth/customizable/logos/150x50/myspace.png?dcb=771835085");
c("images/auth/customizable/icons/30x30/myspace.png?dcb=324300893");c("images/auth/customizable/icons/50x50/myspace.png?dcb=2863593268");p.push("myspace");c("images/auth/customizable/logos/100x30/twitter.png?dcb=3304045408");c("images/auth/customizable/logos/150x50/twitter.png?dcb=3987084813");c("images/auth/customizable/icons/30x30/twitter.png?dcb=3767525309");c("images/auth/customizable/icons/50x50/twitter.png?dcb=1598096165");p.push("twitter");c("images/auth/customizable/logos/100x30/linkedin.png?dcb=2178905232");
c("images/auth/customizable/logos/150x50/linkedin.png?dcb=1254709072");c("images/auth/customizable/icons/30x30/linkedin.png?dcb=1186263204");c("images/auth/customizable/icons/50x50/linkedin.png?dcb=3717450972");p.push("linkedin");c("images/auth/customizable/logos/100x30/liveid.png?dcb=3490766964");c("images/auth/customizable/logos/150x50/liveid.png?dcb=4038680443");c("images/auth/customizable/icons/30x30/liveid.png?dcb=2074194813");c("images/auth/customizable/icons/50x50/liveid.png?dcb=1215461798");
p.push("live_id");c("images/auth/customizable/logos/100x30/salesforce.png?dcb=184008452");c("images/auth/customizable/logos/150x50/salesforce.png?dcb=2433165169");c("images/auth/customizable/icons/30x30/salesforce.png?dcb=229710551");c("images/auth/customizable/icons/50x50/salesforce.png?dcb=3130061093");p.push("salesforce");c("images/auth/customizable/logos/100x30/orkut.png?dcb=3453401147");c("images/auth/customizable/logos/150x50/orkut.png?dcb=4225895826");c("images/auth/customizable/icons/30x30/orkut.png?dcb=424139712");
c("images/auth/customizable/icons/50x50/orkut.png?dcb=1929047088");p.push("orkut");c("images/auth/customizable/logos/100x30/vzn.png?dcb=2326509515");c("images/auth/customizable/logos/150x50/vzn.png?dcb=64522551");c("images/auth/customizable/icons/30x30/vzn.png?dcb=163149108");c("images/auth/customizable/icons/50x50/vzn.png?dcb=4083861554");p.push("vzn");c("images/auth/customizable/logos/100x30/foursquare.png?dcb=3222208552");c("images/auth/customizable/logos/150x50/foursquare.png?dcb=89403847");c("images/auth/customizable/icons/30x30/foursquare.png?dcb=3142762673");
c("images/auth/customizable/icons/50x50/foursquare.png?dcb=1654808550");p.push("foursquare");c("images/auth/customizable/logos/100x30/mixi.png?dcb=841082576");c("images/auth/customizable/logos/150x50/mixi.png?dcb=1554276458");c("images/auth/customizable/icons/30x30/mixi.png?dcb=1185606612");c("images/auth/customizable/icons/50x50/mixi.png?dcb=2641274677");p.push("mixi");for(var p={openId:{aol:{identifier:"aol",flow:"openid1",width:514,height:550,color:"#0FD6FF"},blogger:{identifier:"blogger",flow:"openid1",
width:800,height:600,color:"#FF6600"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,heigh:600,color:"#21759b"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#FF0084"},google:{identifier:"https://www.google.com/accounts/o8/id",
flow:"openid",width:500,height:450,color:"#1C69F5"},hyves:{identifier:"http://hyves.nl/",flow:"openid",width:800,height:600,color:"#659BC8"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665"},verisign:{identifier:"http://pip.verisignlabs.com/",flow:"openid",width:945,height:600,color:"#B8004D"},yahoo:{identifier:"https://me.yahoo.com/id",
flow:"openid",width:500,height:500,color:"#650065"}},oauth:{facebook:{flow:"facebook",width:500,height:500,color:"#3B5998"},myspace:{flow:"myspace",width:800,height:500,color:"#000000"},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF"},linkedin:{flow:"linkedin",width:550,height:750,color:"#009DDC"},live_id:{flow:"liveid",width:900,height:600,color:"#666666"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333"},orkut:{flow:"orkut",width:800,height:600,color:"#333"},vzn:{flow:"vzn",
width:600,height:450,color:"#333"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333"},mixi:{flow:"mixi",width:950,height:550,color:"#333"}}},ea=["openId","openId2","oauth"];0<ea.length;){var Va=ea.pop(),na;for(na in p[Va]);}$=window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight;fa=window.innerWidth||document.body.clientWidth||document.documentElement.clientWidth;var F;F="Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)?
parseFloat(RegExp.$1):!1;var Ka=function(){var a=function(a){for(var c=[],g=0;g<a.length;g++)c.push(a[g]);return c},c={};janrain.settings&&janrain.settings.permissions&&(c.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(c.share=a(janrain.settings.share.permissions));return function(a,e){e=e||"login";return!c[e]?!1:0<=c[e].indexOf(a)}}();Ba.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),
q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var Da=function(a,c,d){Da=document.getElementsByClassName?function(a,c,d){for(var a=(c||document).getElementsByClassName(a),
d=d?RegExp("\\b"+d+"\\b","i"):null,c=[],g,j=0,p=a.length;j<p;j+=1)g=a[j],(!d||d.test(g.nodeName))&&c.push(g);return c}:function(a,c,d){var d=d||"*",c=c||document,g=a.split(" "),a=[],c="*"===d&&c.all?c.all:c.getElementsByTagName(d),d=[],j;j=0;for(var p=g.length;j<p;j+=1)a.push(RegExp("(^|\\s)"+g[j]+"(\\s|$)"));for(var p=0,J=c.length;p<J;p+=1){g=c[p];j=!1;for(var n=0,ca=a.length;n<ca&&!(j=a[n].test(g.className),!j);n+=1);j&&d.push(g)}return d};return Da(a,c,d)},K=function(){var a=[];return{log:function(c){var d=
{};d.id=a.length+1;d.message=c;a.push(d);return this},show:function(){if(0!=a.length){for(var c in a)if("undefined"!==typeof a[c].id){var d=a[c];"object"===typeof console&&console.error("WARNING ID:"+d.id+" MESSAGE: "+d.message)}a=[]}}}}();j.prototype.addHandler=function(a){this.eventHandlers.push(a);return this.eventHandlers.length-1};j.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};j.prototype.fire=function(a){for(var c=this.eventHandlers.length,
d=0;d<c;d++)try{if("function"===typeof this.eventHandlers[d])this.eventHandlers[d](a)}catch(e){K.log(e),K.show()}this.firedEvents.push({event:this,args:a})};"undefined"===typeof janrain.events&&(janrain.events={});var G;G||(G={});(function(){function a(a){return 10>a?"0"+a:a}function c(a){j.lastIndex=0;return j.test(a)?'"'+a.replace(j,function(a){var c=n[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,e){var j,m,n,w,o=k,B,h=e[a];h&&
"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(a));"function"===typeof r&&(h=r.call(e,a,h));switch(typeof h){case "string":return c(h);case "number":return isFinite(h)?""+h:"null";case "boolean":case "null":return""+h;case "object":if(!h)return"null";k+=p;B=[];if("[object Array]"===Object.prototype.toString.apply(h)){w=h.length;for(j=0;j<w;j+=1)B[j]=d(j,h)||"null";n=0===B.length?"[]":k?"[\n"+k+B.join(",\n"+k)+"\n"+o+"]":"["+B.join(",")+"]";k=o;return n}if(r&&"object"===typeof r){w=
r.length;for(j=0;j<w;j+=1)"string"===typeof r[j]&&(m=r[j],(n=d(m,h))&&B.push(c(m)+(k?": ":":")+n))}else for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&(n=d(m,h))&&B.push(c(m)+(k?": ":":")+n);n=0===B.length?"{}":k?"{\n"+k+B.join(",\n"+k)+"\n"+o+"}":"{"+B.join(",")+"}";k=o;return n}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+
a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,p,n={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},
r;"function"!==typeof G.stringify&&(G.stringify=function(a,c,e){var g;p=k="";if("number"===typeof e)for(g=0;g<e;g+=1)p+=" ";else"string"===typeof e&&(p=e);if((r=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return d("",{"":a})});"function"!==typeof G.parse&&(G.parse=function(a,c){function d(a,e){var g,j,h=a[e];if(h&&"object"===typeof h)for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&(j=d(h,g),void 0!==j?h[g]=j:delete h[g]);return c.call(a,
e,h)}var g,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),"function"===typeof c?d({"":g},""):g;throw new SyntaxError("JSON.parse");})})();"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=
new j);"undefined"===typeof janrain.events.onCaptureRenderStart&&(janrain.events.onCaptureRenderStart=new j);"undefined"===typeof janrain.events.onCaptureRenderComplete&&(janrain.events.onCaptureRenderComplete=new j);"undefined"===typeof janrain.events.onCaptureScreenShow&&(janrain.events.onCaptureScreenShow=new j);"undefined"===typeof janrain.events.onCaptureSessionCreated&&(janrain.events.onCaptureSessionCreated=new j);"undefined"===typeof janrain.events.onCaptureSessionEnded&&(janrain.events.onCaptureSessionEnded=
new j);"undefined"===typeof janrain.events.onCaptureStartRegistration&&(janrain.events.onCaptureStartRegistration=new j);"undefined"===typeof janrain.events.onCaptureSuccessfulLogin&&(janrain.events.onCaptureSuccessfulLogin=new j);"undefined"===typeof janrain.events.onCaptureFailedLogin&&(janrain.events.onCaptureFailedLogin=new j);"undefined"===typeof janrain.events.onCaptureSuccessfulRegistration&&(janrain.events.onCaptureSuccessfulRegistration=new j);"undefined"===typeof janrain.events.onCaptureFailedRegistration&&
(janrain.events.onCaptureFailedRegistration=new j);"undefined"===typeof janrain.events.onCaptureSuccessfulSave&&(janrain.events.onCaptureSuccessfulSave=new j);"undefined"===typeof janrain.events.onCaptureFailedSave&&(janrain.events.onCaptureFailedSave=new j);"undefined"===typeof janrain.events.onCaptureSessionFound&&(janrain.events.onCaptureSessionFound=new j);"undefined"===typeof janrain.events.onCaptureContentChange&&(janrain.events.onCaptureContentChange=new j);"undefined"===typeof janrain.events.onCaptureModalReady&&
(janrain.events.onCaptureModalReady=new j);"undefined"===typeof janrain.events.onCaptureValidationSuccess&&(janrain.events.onCaptureValidationSuccess=new j);"undefined"===typeof janrain.events.onCaptureValidationFailed&&(janrain.events.onCaptureValidationFailed=new j);"undefined"===typeof janrain.events.onCaptureFormError&&(janrain.events.onCaptureFormError=new j);"undefined"===typeof janrain.events.onCaptureCustomEvent&&(janrain.events.onCaptureCustomEvent=new j);ra();na=new function(){return{status:"not loaded"}};
p=new function(){return{status:"not loaded"}};ea=new function(){function a(b){function f(){!oa()&&!fa()&&janrain.settings.capture.federate&&JANRAIN.SSO.CAPTURE.check_login({sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,redirect_uri:"/oauth-federate",logout_uri:"/logout",xd_receiver:"/xdcomm"});Ea=!0;var f;if(!(f=b))f=uri="https://d1lqe9temigv1p.cloudfront.net/widget_data/flow.js:"+(janrain.settings.capture.language||"en-US")+":"+(janrain.settings.capture.flowVersion||
"HEAD")+":"+(janrain.settings.capture.flowName||"default");da(f);janrain.events.onCaptureContentChange.addHandler(function(){"object"===typeof u&&y.modal&&(u.setHeight(wa(y.div).height),u.setWidth(wa(y.div).width).refresh())})}janrain.settings.capture.federate&&da(janrain.settings.capture.federateServer+"/sso.js");Ca("http://cdn.quilt.janrain.com/1.2.0/widgets.css");F&&9>F&&Ca("http://cdn.quilt.janrain.com/1.2.0/widgets-ie.css",void 0);if(janrain.settings.capture.stylesheets&&n(janrain.settings.capture.stylesheets))for(var a=
janrain.settings.capture.stylesheets,T=a.length,d=0;d<T;d++)Ca(a[d]),c(a[d]);if(F&&9>F&&janrain.settings.capture.conditionalIEStylesheets&&n(janrain.settings.capture.conditionalIEStylesheets)){a=janrain.settings.capture.conditionalIEStylesheets;T=a.length;for(d=0;d<T;d++)F&&9>F&&Ca(a[d],void 0),c(a[d])}janrain.settings.capture.redirectFlow?ha(f):f()}function c(b){w(Ga,b)||Ga.push(b);Ma=Ga.length}function d(b){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+
b+"' is missing."}}function e(b){if(!b)return!1;for(var f=b.getElementsByTagName("input"),a=b.getElementsByTagName("select"),c=b.getElementsByTagName("textarea"),b=[],f=[f,a,c],a={},c=0,d=f.length;c<d;c++)for(var e=f[c],s=e.length,i=0;i<s;i++){var U=e[i];"true"===U.getAttribute("data-capturecollection")?a[U.name]||(J(U,!0)||b.push(U),a[U.name]=!0):J(U,!0)||b.push(U)}return 0===b.length}function j(){}function k(){}function p(b){function f(b){b=b?G.stringify(b):a;aa(d);i.className="formClicked";i.setAttribute("next",
b)}var a=L(b).getAttribute("next"),c=L(b),d=L(b).getAttribute("data-transactionId"),i=document.getElementById("captureIFrame_"+d),s=G.parse(a),g=!1;y.values=W(y.div.id);if(!e(c))return E(b),!1;if(s.conditional){for(var c=s.conditional,s=c.length,U=0;U<s;U++)if(K(c[U])){g=c[U];break}g?g.nosubmit?(E(b),N(g.next)):f(g.next):f()}else s.dontSubmit?(E(b),s.storeValues&&W(c.id,!0),N(s)):f()}function K(b){var f=t.fields[b.field],f=document.getElementById("capture_"+l+"_"+(f.elementId||f.elementName));switch(b.compare){case "=":if(f.value===
b.value)return!0}}function $(b){b=X(b);J(b)}function J(b,f){if(b.type&&("hidden"===b.type||"submit"===b.type))return!0;var a=t.fields[b.getAttribute("data-capturefield")],c=!1;if(!a.validation)return!0;var d="multiCheckbox"===a.element||"multiRadio"===a.element?document.getElementById("capture_"+l+"_form_collection_"+a.elementName):document.getElementById("capture_"+l+"_form_item_"+a.elementName);r(d).append("capture_validating");c=new i.validation;c.setParentDiv(d);c.setElement(b);a=ba.check(b,a,
f);a.valid?(c.valid(),c=!0,r(d).remove("capture_validating")):a.pending?(c.pending(),c=!0):(c.notValid(a.reason),c=!1,r(d).remove("capture_validating"));return c}function N(b){ea.push(y);if(b.noop)return!1;b.url&&(window.location.href=b.url);b.screen&&(y&&(y.div.style.display="none"),(new P).setScreenData(b.screen,t.screens[b.screen]).render());if(b.action&&y)janrain.capture.ui[b.action]();if(b["function"]&&"function"===typeof ja[b["function"]])ja[b["function"]]()}function ca(){var b=36E5*za+(new Date).getTime();
return(new Date((new Date).setTime(b))).toUTCString()}function M(b,f){var a=ca();C=b;v("creating session with token: "+C);if(f)janrain.events.onCaptureSessionCreated.fire({accessToken:b}),janrain.events.onCaptureSessionFound.fire({accessToken:b});else{var c=new ya;c.setExpirationDirectly(a).setName("janrainCaptureToken").setValue(C);janrain.settings.capture.cookieDomain&&c.setDomain(janrain.settings.capture.cookieDomain);c.create();V&&(janrain.events.onCaptureSuccessfulLogin.fire({accessToken:b}),
V=!1);janrain.events.onCaptureSessionCreated.fire({accessToken:b})}}function fa(){var b=new ya;return b.getCookie("janrainCaptureToken")?(M(b.getCookie("janrainCaptureToken"),!0),!0):!1}function oa(){var b=Ba(window.location.href).anchor;return b&&(b=b.split("="),"access_token"===b[0]&&b[1])?(V=!0,M(b[1]),!0):!1}function ha(b){var f=Ba(window.location.href).anchor;if(!f)return b(),!1;var a=f.split(","),c=a.length,d,f={};if(1<c){for(var e=0;e<c;e++)d=a[e],d=d.split("="),f[d[0]]=d[1];if(!f.transactionId||
!f.engageToken)return b(),!1;xa=b=f.transactionId;la=f.engageToken;Z("/widget/get_result.jsonp",{transactionId:b},function(){})}else return b(),!1}function B(){for(var b="",f=[],a=0;10>a;a++){for(var b="",c=0;40>c;c++)b+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));f.push(b)}return f}function h(b){if(!n(b))return!1;for(var f=b.length,a=0;a<f;a++){var c=b[a];-1===ta.indexOf(c)&&ta.push(c)}}function ia(){var b=ta.pop();0===ta.length&&h(B());-1===ua.indexOf(b)&&ua.push(b);
return b}function aa(b){var f=ua.indexOf(b);-1<f&&ua.splice(f,1);-1===va.indexOf(b)&&va.push(b)}function v(){La.push(arguments);if(window.console){var b=arguments;b.callee=b.callee.caller;newArray=[].slice.call(b);F?console.log(newArray):console.log.apply(console,newArray)}}function P(){function b(b,f){if(b.close)return A.render.htmlElement.close(b);if("data"==b.element)return A.render.data(b);if("multiRadio"==b.element)return A.render.htmlElement.multiRadio(b);if("multiCheckbox"==b.element)return A.render.htmlElement.multiCheckbox(b);
if("textarea"==b.element)return A.render.htmlElement.textarea(b);if("select"==b.element)return A.render.htmlElement.select(b);if("input"==b.element)return A.render.htmlElement.input(b);if("form"==b.element)return A.render.htmlElement.form(b);if("div"==b.element)return A.render.htmlElement.div(b);if("capture"==b.element){if("radioCollection"==b.type)return A.render.captureElement.collection.radio(b);if("photoManager"==b.type)return A.render.captureElement.photoManager(b);if("addressFull"==b.type)return A.render.captureElement.addressFull(b);
if("backButton"==b.type)return A.render.captureElement.backButton(b);if("partial"==b.type)return A.render.captureElement.partial(b,f)}return"widget"==b.element?A.render.widget[b.type](b):!1}function f(){s.div.getAttribute("data-captureventadded")||(o(s.div,"click",function(b){var f=L(b);if(f&&f.nodeName&&"A"===f.nodeName&&(f=f.getAttribute("data-capturescreen")))janrain.capture.ui.renderScreen(f),E(b)}),s.div.setAttribute("data-captureventadded",!0));for(var b=s.div.getElementsByTagName("img"),f=
b.length,a=0;a<f;a++)o(b[a],"load",function(){janrain.events.onCaptureContentChange.fire()});b=Da(janrain.settings.capture.modalOpenClass||"capture_modal_open");f=b.length;if(!Qa){for(a=0;a<f;a++)o(b[a],"click",function(b){"object"===typeof u?(l===y.flow.defaultScreen?u.show():(janrain.capture.ui.renderScreen(y.flow.defaultScreen),u.setShowContentOnLoad(!0).addContent(y.div).show()),janrain.events.onCaptureScreenShow.fire({screen:l}),janrain.events.onCaptureContentChange.fire()):Ra=!0;E(b)});Qa=!0}}
function a(){if(t.cssDependencies&&n(t.cssDependencies))for(var b=0;b<t.cssDependencies.length;b++)c(t.cssDependencies[b]);Ma&&Ea&&!ka?janrain.events.onCssLoad.addHandler(function(b){Ha.push(b.source);for(b=0;b<Ma;b++)if(-1==Ha.indexOf(Ga[b]))return!1;ka||(T(),ka=!0)}):T();janrain.events.onCaptureRenderComplete.fire({flow:t,screen:l})}function T(){var b=!1,f=janrain.settings.capture.modalBorderWidth||10,a=janrain.settings.capture.modalBorderColor||"#000",S=janrain.settings.capture.modalBorderRadius||
10,c=janrain.settings.capture.modalBorderOpacity||0.5;if(s.modal){if("object"===typeof u){var b=!0,d=u.getContent();d&&document.body.appendChild(d);u.close(!0)}else u=new Ua;Sa||(janrain.events.onCaptureModalReady.fire(),Sa=!0);u.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(a).setBorder(f).setBorderOpacity(c).setBorderRadius(S).setShowContentOnLoad(!0).addContent(s.div);if(b||s.modalLoadOnLoad||Ra)u.show(),janrain.events.onCaptureScreenShow.fire({screen:l})}else"object"===
typeof u&&u.close(!0),console.log("blahhhhh"),janrain.events.onCaptureScreenShow.fire({screen:l});s.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function e(b,f){for(var f=f||q,a=0;a<f.length;a++){if("function"===typeof f[a].handler)if("render"===f[a].eventType)f[a].handler();else{var S=document.getElementById("capture_"+l+"_"+f[a].elementName);o(S,f[a].eventType,f[a].handler)}b&&o(document.getElementById("captureIFrame_"+b),"load",h)}q=[]}function h(b){var f=L(b);if("formClicked"===
f.className){var a=f.getAttribute("data-transactionId");Z("/widget/get_result.jsonp",{transactionId:a,cache:(new Date).getTime()},function(){function b(){c++;if(10<c)return v("could not find transaction status"),!1;if(Ja[a]){var f=a,d=va.indexOf(f);-1<d&&va.splice(d,1);-1===qa.indexOf(f)&&qa.push(f);clearTimeout(T);f=Ja[a];"success"===f.status?N(S):v("there was a problem with the response",f)}else var T=setTimeout(b,50)}var S=G.parse(f.getAttribute("next")),c=0;b()})}else f.className="";f.className=
""}var s={},A;A=new k;ba=new j;return{setScreenData:function(b,f){l=b;var a=f.layout,S=f.source,c=f.modal,T=!!f.modalLoadOnLoad;if("server"===S){var e=document.createElement("div");e.setAttribute("id",a);try{s.html=t.layouts[a].html}catch(i){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===S)try{if(e=document.getElementById(a))r(e).append("janrain-capture-ui").append("capture-ui-content"),na[a]?s.html=na[a]:(s.html=e.innerHTML,
na[a]=s.html);else throw s.html="",d(a);}catch(g){throw v(g.name+": "+g.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}s.div=e;ga=s.div;s.modalLoadOnLoad=T;s.source=S;s.modal=c;y=s;return this},render:function(){var c=/\{\*(.*?)\*\}/,d=/^\s*\/\s*/,T=/^\s*#\s*/,g=/\stemplateVariables\={(.*?)*\}\s*/,h=!1;janrain.events.onCaptureRenderStart.fire(t);z=[];t.fields.submitButton||(t.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",
elementName:"capture_submit",value:"Submit"});t.fields.loginWidget||(t.fields.loginWidget={element:"widget",type:"login"});t.fields.backButton||(t.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});s.originalHtml=s.html;s.flow=t;var j=xa||ia();xa=null;for(var Fa;Fa=c.exec(s.html);)try{var k=Fa[1].trim();if(g.test(k))var A=k.match(g),k=k.replace(A[0],"").trim(),n=A[0].match(/\{(.*?)*\}\s*/)[0];h=!1;T.test(k)&&(k=k.replace("#","").trim(),h=!0);if(d.test(k)){var r=
k.replace("/",""),m={};if("undefined"==typeof t.fields[r])return v("No field definition for"+r,"error"),!1;m.element=t.fields[r].element;m.close=!0}else{if("undefined"==typeof t.fields[k])return v("No field definition named "+k+" for tag "+Fa[0],"error"),!1;m=t.fields[k];m.name=k;h&&(m.start=!0);"form"===m.element&&!m.transactionId&&(m.transactionId=j);m.elementName=m.elementName||k}var n=n||null,u=b(m,n);u||(u=" ");s.html=s.html.replace(Fa[0],u);(m.next||"form"===m.element&&!m.close)&&z.push({elementName:m.elementName,
next:m.next});m.onclickHandler&&q.push({elementName:m.elementName,handler:m.onclickHandler,eventType:"click"});m.onchangeHandler&&q.push({elementName:m.elementName,handler:m.onchangeHandler,eventType:"change"});"string"===typeof m.element&&"form"===m.element&&!m.close&&q.push({elementName:m.elementName,handler:p,eventType:"submit"});if("form"===m.element&&("widget/traditional_register.jsonp"===m.action||"widget/social_register.jsonp"===m.action))janrain.events.onCaptureStartRegistration.fire({action:"widget/traditional_register.jsonp"===
m.action?"traditionalRegister":"socialRegister"})}catch(w){return v(w.name+": "+w.message,"error"),!1}s.div.innerHTML=s.html;"server"==s.source&&document.getElementById("janrainCaptureWidget").appendChild(s.div);c=0;for(d=Ia.length;c<d;c++)J(document.getElementById(Ia[c]));Ia=[];a();f();if(0<janrain.events.onCssLoad.firedEvents.length){var c=janrain.events.onCssLoad.firedEvents,o;for(o in c)"object"==typeof c&&c[o].args&&c[o].args.source&&-1==Ha.indexOf(c[o].args.source)&&c[o].event.fire(c[o].args)}i.domHelpers.createIFrame(j);
for(o=0;o<z.length;o++)c=document.getElementById("capture_"+l+"_"+z[o].elementName),z[o].next&&z[o].next.type&&"server"===z[o].next.type?c.setAttribute("next",'{"noop":""}'):z[o].next?(z[o].next.conditional&&c.setAttribute("next",G.stringify(z[o].next)),z[o].next.screen&&c.setAttribute("next",G.stringify(z[o].next)),z[o].next.url&&c.setAttribute("next",G.stringify(z[o].next)),z[o].next.action&&c.setAttribute("next",G.stringify(z[o].next))):c.setAttribute("next",'{"noop":""}');e(j);y=s;janrain.events.onCaptureContentChange.fire()},
attachEventHandlers:e}}function W(b,f){for(var a=[],c=document.getElementById(b).getElementsByTagName("INPUT"),d=c.length,e=0;e<d;e++){var g={};g.id=c[e].id;g.placeholder=c[e].getAttribute("placeholder");if(Y||f)O[c[e].getAttribute("data-capturefield")]=c[e].value;g.value=g.placeholder?g.placeholder===c[e].value?"":c[e].value:c[e].value;"radio"===c[e].type&&(g.type="radio",g.checked=c[e].checked);a.push(g)}return a}function Z(b,f,a){var c=-1<b.indexOf("?")?"&":"?",d=0===b.indexOf("http")?"":janrain.settings.capture.captureServer,
e=[],g;for(g in f)f.hasOwnProperty(g)&&e.push(g+"="+encodeURIComponent(f[g]));da(d+b+c+e.join("&"),a)}function I(b){function f(b){return'<li><a href="#" class="capture_suggestion">'+b+"</a></li>"}var b=b.result,a=t.fields[b.field],c=document.getElementById("capture_"+l+"_"+(a.elementId||a.elementName)),d=b.alternatives,e=a.validation.messages.unique||"",g=document.getElementById("capture_"+l+"_form_item_"+a.elementName),h=new i.validation;h.setElement(c);h.setParentDiv(g);if(!1===b.unique){var d=
d.map(f),j=function(b){var f=L(b);r(f).has("capture_suggestion")&&(c.value=f.innerHTML,Aa(g,"click",j),h.valid(),E(b))};h.notValid(e+'<ul class="capture_suggestions">'+d.join("")+"</ul>",function(){o(g,"click",j)})}else h.valid()}var q=[],ba,z=[],l,ea=[],y={},H=[],ja={},Y=janrain.settings.capture.mode13||!1,O={},xa,D,la,V=!1,C,pa,ma=!1,ka=!1,t,ga,na={},Ja={},ta=[],ua=[],va=[],qa=[],Ea=!1,za=2,sa="placeholder"in document.createElement("input"),ra=!1,u,Ra=!1,Qa=!1,Sa=!1,Ga=[],Ma=0,Ia=[],Na="HEAD",Ha=
[];j.prototype.check=function(b,f,a){f=f||t.fields[b.name];if(!f.validation)return!0;f.validation.messages||(f.validation.messages={});if(!this.hasValue(b,f))return{valid:!1,reason:f.validation.messages.required||"Field not completed"};if(!this.isValidMinLength(b,f))return{valid:!1,reason:f.validation.messages.minLength||"Invalid length"};if(!this.isValidMaxLength(b,f))return{valid:!1,reason:f.validation.messages.maxLength||"Invalid length"};if(!this.isValidMaxNumericLength(b,f))return{valid:!1,reason:f.validation.messages.maxNumericLength||
"Invalid number of numeric characters"};if(!this.isValidFormat(b,f))return{valid:!1,reason:f.validation.messages.format||"Invalid format"};if(!this.isValidMatch(b,f))return{valid:!1,reason:f.validation.messages.match||"Invalid match"};return f.validation.unique&&!a?(a=document.getElementById("capture_"+l+"_form_item_"+b.getAttribute("name")),this.isUnique(b,a,f,function(){}),{pending:!0}):{valid:!0}};j.prototype.getRating=function(b){var b=b.value,f=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],a=0,c;
c=Math.min(8,Math.floor(3*Math.log(b.length+1)));for(var d=0;d<f.length;d++)f[d].test(b)&&a++;return c+=Math.floor(Math.pow(2,a)/2)};j.prototype.isValidMaxNumericLength=function(b,f){if(!f)return!0;var a=f.validation.maxNumericLength;if(!a)return!0;var c=b.value.match(/(\d)/g);return n(c)?c.length<=a:!0};j.prototype.isValidMaxLength=function(b,f){var a=b.value;if(!f)return!0;var c=f.validation.maxLength;return!c?!0:a.length<=c};j.prototype.isValidMinLength=function(b,f){var a=b.value;if(!f)return!0;
var c=f.validation.minLength;return!c?!0:a.length>=c};j.prototype.hasValue=function(b,f){var a;if("select"===f.element)a=b.options[b.selectedIndex].value;else if("checkbox"===f.type&&!("multiCheckbox"===f.element||"multiRadio"===f.element))a=b.checked;else if("multiCheckbox"===f.element||"multiRadio"===f.element)if(a=f.elementName){a=document.getElementsByName(a);for(var c=a.length,d=[],e=0;e<c;e++)a[e].checked&&d.push(a[e]);a=d.length}else a=!1;else a=b.value;return!f||!f.validation.required?!0:
a};j.prototype.isUnique=function(b,f,a,c){f=b.form.getAttribute("data-capturefield");a=b.getAttribute("data-capturefield");b={value:b.value,form:f,field:a,flow_version:Na,locale:janrain.settings.capture.language||"en-US",flow:t.flow};C&&(b.access_token=C);Z("/widget/unique.jsonp",b,c)};j.prototype.isBlacklisted=function(b,f,a){function c(){var f=b.value,a=response;if(!a||0===a.length)return!0;for(var S,d=0;d<a.length;d++)if(S=RegExp("^"+a[d]+"$","i"),S.test(f))return!0;return!1}captureUIBlacklistCallback=
function(b){a(c(b))};n(f)?a(c(f)):"string"===typeof f?captureUIBlacklistCallback(["chad"]):a(!0)};j.prototype.isValidFormat=function(b,f){var a={alpha:/^[a-z]+$/i,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!f||!f.validation.format)return!0;var c=f.validation.format;if("string"===typeof c&&a[c])c=a[c];else return!1;return c.test(b.value)};j.prototype.isValidMatch=
function(b,f){if(!f)return!0;var a=f.validation.match;if(!a)return!0;a=t.fields[a];a=document.getElementById("capture_"+l+"_"+(a.elementId||a.elementName));return b.value===a.value};var i={attachFieldEventHandlers:function(b){b.type||(b.type="");"password"===b.type&&(q.push({elementName:b.elementName,handler:i.togglePasswordInput,eventType:"click"}),q.push({elementName:b.elementName,handler:i.togglePasswordInput,eventType:"focus"}),b.validation&&("function"===typeof b.validation.rating?q.push({elementName:b.elementName,
handler:function(a){var a=X(a),c=ba.getRating(a);b.validation.rating(a,c)},eventType:"keyup"}):b.validation.rating&&q.push({elementName:b.elementName,handler:function(b){b=X(b);b=ba.getRating(b);v("Password Strength",b)},eventType:"keyup"})));if("text"===b.type||"password"===b.type||"email"===b.type)q.push({elementName:b.elementName,handler:i.clearPlaceHolder,eventType:"focus"}),q.push({elementName:b.elementName,handler:i.restorePlaceHolder,eventType:"blur"});q.push({elementName:b.elementName,handler:function(){var a=
document.getElementById("capture_"+l+"_form_item_"+b.elementName);r(a).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()},eventType:"focus"});q.push({elementName:b.elementName,handler:function(){var a=document.getElementById("capture_"+l+"_form_item_"+b.elementName);r(a).remove("capture_focused")},eventType:"blur"});b.validation&&q.push({elementName:b.elementName,handler:$,eventType:"blur"});b.validation&&b.validation.custom&&q.push({elementName:b.elementName,
handler:function(a){var a=X(a),c=document.getElementById("capture_"+l+"_form_item_"+b.elementName);r(c).append("capture_validating");var d=new i.validation;d.setParentDiv(c);d.setElement(a);Ta[b.validation.custom](a.name,a.value,d);r(c).remove("capture_validating")},eventType:"blur"})},wrapFormItemStart:function(b){var a="",c=[],d=b.classes||[],e="elementCollection"===b.type?"form_collection":"form_item";if(b.justElement||"submit"===b.type||"button"===b.element)return"";-1===d.indexOf("capture_"+
e)&&d.push("capture_"+e);b.errors&&-1===d.indexOf("capture_error")&&!b.collection&&d.push("capture_error");!b.collection&&b.type&&-1===d.indexOf("capture_"+b.type)&&("checkbox"===b.type||"radio"===b.type?c.push("capture_"+b.type):d.push("capture_"+b.type));"elementCollection"===b.type&&b.displayInline&&-1===d.indexOf("capture_form_collection_inline")&&d.push("capture_form_collection_inline");a+=i.createDiv({elementName:e+"_"+b.elementName,hide:b.hide,classes:d});if(("checkbox"===b.type||"radio"===
b.type)&&!b.collection)a+=i.createDiv({elementName:e+"_inner_"+b.elementName,classes:c});return a},wrapFormItemEnd:function(b){return b.justElement||"submit"===b.type||"button"===b.element?"":"</div>"},createPublicPrivateToggle:function(b){function a(b){var b=L(b),f=b.parentNode.parentNode;r(f).append("capture_toggled");b.id==="capture_"+l+"_"+d?r(f.nextSibling).remove("capture_toggled"):r(f.previousSibling).remove("capture_toggled")}var c,d="display_"+b.elementName+"_true",e="display_"+b.elementName+
"_false";c='<div class="capture_display_radios capture_public_private_toggle"><div class="capture_radio_box';b.displayPublic&&(c+=" capture_toggled");c=c+'">'+i.createInput({type:"radio",collection:!0,elementName:"display["+b.elementName+"]",elementId:d,value:"true",checked:"false",label:"public"});c+='</div><div class="capture_radio_box';b.displayPublic||(c+=" capture_toggled");c=c+'">'+i.createInput({type:"radio",collection:!0,elementName:"display["+b.elementName+"]",elementId:e,checked:"true",
value:"false",label:"private"});c+="</div></div>";q.push({elementName:d,handler:a,eventType:"click"});q.push({elementName:e,handler:a,eventType:"click"});return c},createTextarea:function(b){var a="",c=b.elementId||b.elementName,d=b.elementClasses&&n(b.elementClasses)?b.elementClasses:[],e=b.rows||"5",a=a+i.createLabel(b);w(d,"capture_"+c)||d.push("capture_"+c);a=a+"<textarea "+("id='capture_"+l+"_"+c+"' ");a+="class='"+d.join(" ")+"' ";a+="data-capturefield='"+b.name+"' ";a=a+("rows='"+e+"' ")+("name='"+
b.elementName+"' ");b.placeholder&&sa&&(a+="placeholder='"+b.placeholder+"'");a+=">";b.value&&(a+=b.value);a+="</textarea>";b.publicPrivateToggle&&(a+=i.createPublicPrivateToggle(b));return a+=i.createTip(b)},createTip:function(b){var a;a="<div class='capture_tip' ";b.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof b.tip?b.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+b.elementName+"'>");a=a+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+
b.elementName+"'>");b.errors&&n(b.errors)&&(a+=b.errors.join(" "));return a+"</div>"},createLabel:function(b,a){var c,d=b.elementId||b.elementName;if(!b.label)return"";c="<label ";"elementCollection"!==b.type&&(c+=" for='capture_"+l+"_"+d+"'");c+=">";a&&(c+=a);b.label&&(c+=b.label);return c+"</label>"},createSelect:function(b){var a="",c=b.elementClasses&&n(b.elementClasses)?b.elementClasses:[],d=b.elementId||b.elementName;w(c,"capture_"+d)||c.push("capture_"+d);for(var a=a+i.createLabel(b),a=a+'<span class="capture_select"><select '+
("id='capture_"+l+"_"+d+"' "),a=a+("class='"+c.join(" ")+"' "),a=a+("data-capturefield='"+b.name+"' "),a=a+("name='"+b.elementName+"' "),a=a+">",c=b.options||[],d=c.length,e=0;e<d;e++){var g=c[e],h=g.value||""===g.value?g.value:g.text,a=a+('<option value="'+h+'"');g.disabled&&(a+=' disabled="true"');h===b.value&&(a+=' selected="selected"');a+=">"+g.text+"</option>"}a+="</select></span>";b.publicPrivateToggle&&(a+=i.createPublicPrivateToggle(b));return a+=i.createTip(b)},createInput:function(b){var a=
"",c="",d=b.elementId||b.elementName,e=b.elementClasses&&n(b.elementClasses)?b.elementClasses:[],g="button"===b.type||"submit"===b.type||"checkbox"===b.type||"radio"===b.type||"hidden"===b.type,h=b.justElement||b.collection||"hidden"===b.type||"button"===b.type||"submit"===b.type,j="password"===b.type&&!sa&&b.placeholder?"text":b.type,k=("checkbox"===b.type&&!b.collection||"radio"===b.type&&!b.collection)&&!b.justElement;w(e,"capture_"+d)||e.push("capture_"+d);g||(c+=i.createLabel(b));a=a+"<input "+
("id='capture_"+l+"_"+d+"' ");"text"===b.type?w(e,"capture_text")||e.push("capture_text"):"submit"===b.type&&(w(e,"capture_btn")||e.push("capture_btn"),w(e,"capture_primary")||e.push("capture_primary"));a+="class='"+e.join(" ")+"' ";a+="data-capturefield='"+b.name+"' ";b.collection&&(a+="data-capturecollection='true' ");a+="type='"+j+"' ";b.value?(e=b.value,b.displaySavedValue&&O[b.value]&&(e=O[b.value]),("password"===b.type||"text"===b.type||"email"===b.type)&&!b.errors&&Ia.push("capture_"+l+"_"+
d),a+="value='"+e+"' "):a=b.placeholder&&!sa?a+("value='"+b.placeholder+"' "):a+"value='' ";b.placeholder&&(a+="placeholder='"+b.placeholder+"' ");b.checked&&(a+="checked='checked' ");a+="name='"+b.elementName+"' ";a+="/>";c="checkbox"===b.type||"radio"===b.type?c+i.createLabel(b,a):c+a;b.publicPrivateToggle&&(c+=i.createPublicPrivateToggle(b));k&&(c+="</div>");h||(c+=i.createTip(b));return c},createDiv:function(b){var a="<div ",c=b.elementId||b.elementName,d=b.classes||[];w(d,"capture_"+c)||d.push("capture_"+
c);a+="id='capture_"+l+"_"+c+"'";if("option"===b.type&&!b["default"]||b.hide)a+=" style='display:none'";"radioCollection"===b.type&&d.push("radio_set");n(d)&&d.length&&(a=a+' class="'+d.join(" "),a+='" ');return a+">"},createImage:function(b){var a,c=b.classes||[];elementId=b.elementId||b.imageId||b.elementName||"";a="<img "+('src="'+b.src+'"');elementId&&!w(c,"capture_"+elementId)&&c.push("capture_"+elementId);b.hide&&(a+=" style='display:none'");elementId&&(a+=' id="capture_'+l+"_"+b.imageId+'" ');
n(c)&&c.length&&(a=a+'class="'+c.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(b){var a,c="captureIFrame_"+b;if(document.getElementById(c))return!1;if(F){a="";var d=document.createElement("div");d.innerHTML=a+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+b+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(d)}else a=document.createElement("iframe"),a.setAttribute("name",c),a.setAttribute("data-transactionId",b),a.id=c,
a.setAttribute("src","about:blank"),a.style.display="none",a.className="",document.body.appendChild(a)},createAnchor:function(b){var a=document.createElement("a");if(!b.classes||b.classes&&!n(b.classes))b.classes=[];b.elementId&&!w(b.classes,"capture_"+l+"_"+b.elementId)&&b.classes.push("capture_"+l+"_"+b.elementId);a.setAttribute("href",b.elementHref);a.innerHTML=b.elementText;b.elementId&&(a.id="capture_"+l+"_"+b.elementId);a.className=b.classes.join(" ");b.hideElement&&(a.style.display="none");
return a},createDiv:function(b){var a=document.createElement("div");if(!b.classes||b.classes&&!n(b.classes))b.classes=[];b.elementId&&!w(b.classes,"capture_"+l+"_"+b.elementId)&&b.classes.push("capture_"+l+"_"+b.elementId);b.elementId&&(a.id="capture_"+l+"_"+b.elementId);a.className=b.classes.join(" ");b.hideElement&&(a.style.display="none");return a},createImage:function(b){var a=document.createElement("img");if(!b.classes||b.classes&&!n(b.classes))b.classes=[];b.elementId&&!w(b.classes,"capture_"+
l+"_"+b.elementId)&&b.classes.push("capture_"+l+"_"+b.elementId);a.src=b.elementSrc;b.elementId&&(a.id="capture_"+l+"_"+b.elementId);a.className=b.classes.join(" ");b.hideElement&&(a.style.display="none");return a},createInput:function(b){var a=document.createElement("input");if(!b.classes||b.classes&&!n(b.classes))b.classes=[];b.elementId&&!w(b.classes,"capture_"+l+"_"+b.elementId)&&b.classes.push("capture_"+l+"_"+b.elementId);b.elementType&&a.setAttribute("type",b.elementType);b.name&&a.setAttribute("data-capturefield",
b.name);b.elementValue&&(a.value=b.elementValue);b.elementName&&(a.name=b.elementName);b.elementId&&(a.id="capture_"+l+"_"+b.elementId);b.hideElement&&(a.style.display="none");a.className=b.classes.join(" ");return a},createForm:function(b){b.transactionId||(b.transactionId=ia());var a=b.transactionId,c=document.createElement("form"),d=n(b.fields)?b.fields:[],e=d.length;i.domHelpers.createIFrame(a);if(!b.classes||b.classes&&!n(b.classes))b.classes=[];b.elementId&&!w(b.classes,"capture_"+l+"_"+b.elementId)&&
b.classes.push("capture_"+l+"_"+b.elementId);c.id="capture_"+l+"_"+b.elementId;c.className=b.classes.join(" ");c.setAttribute("target","captureIFrame_"+a);c.setAttribute("data-transactionId",a);b.name&&c.setAttribute("data-capturefield",b.name);c.setAttribute("action",b.elementAction);c.setAttribute("method","POST");c.appendChild(i.domHelpers.createInput({elementType:"hidden",elementValue:a,elementName:"capture_transactionId",elementId:"transactionId_"+a}));for(var g=0;g<e;g++)switch(a=d[g],a.elementType){case "div":c.appendChild(i.domHelpers.createDiv(a));
break;case "hidden":c.appendChild(i.domHelpers.createInput(a));break;case "file":c.setAttribute("enctype","multipart/form-data");c.appendChild(i.domHelpers.createInput(a));break;case "submit":c.appendChild(i.domHelpers.createInput(a))}i.domHelpers.createFormHandler(c,b);return c},createFormHandler:function(b,a){"function"===typeof a.callback&&(b.setAttribute("next",'{"function":"'+a.elementId+'"}'),ja[a.elementId]=a.callback);o(b,"submit",p)},createFormAndPost:function(b){var a=ia();b.transactionId=
a;var a=i.domHelpers.createForm(b),c=i.domHelpers.createInput({elementType:"submit",elementName:"delete",elementId:"createFormAndPostSubmit",elementValue:"submit",hideElement:!0});a.appendChild(c);document.body.appendChild(a);i.domHelpers.createFormHandler(a,b);c.click()}},createListOfLinks:function(b,a){var c;optionsLength=b.length;c="<ul";n(a)&&a.length&&(c=c+' class="'+a.join(" "),c+='"');c+=">";for(var d=0;d<optionsLength;d++){c+="<li";"string"===typeof b[d].listItemId&&(c+=' id="capture_'+l+
"_"+b[d].listItemId+'" ');b[d].hide&&(c+=' style="display: none;" ');if(!b[d].listItemClasses||!n(b[d].listItemClasses))b[d].listItemClasses=[];"string"===typeof b[d].listItemId&&!w(b[d].listItemClasses,"capture_"+b[d].listItemId)&&b[d].listItemClasses.push("capture_"+b[d].listItemId);n(b[d].listItemClasses)&&b[d].listItemClasses.length&&(c+=' class="',c+=b[d].listItemClasses.join(" "),c+='"');c+=">";c+='<a href="'+b[d].anchorHref+'"';"string"===typeof b[d].anchorId&&(c+=' id="capture_'+b[d].anchorId+
'" ');if(!b[d].anchorClasses||!n(b[d].anchorClasses))b[d].anchorClasses=[];"string"===typeof b[d].anchorId&&!w(b[d].anchorClasses,"capture_"+b[d].anchorId)&&b[d].anchorClasses.push("capture_"+b[d].anchorId);n(b[d].anchorClasses)&&b[d].anchorClasses.length&&(c+=' class="',c+=b[d].anchorClasses.join(" "),c+='"');c+=">";c+=b[d].anchorText;c+="</a>";c+="</li>"}return c+"</ul>"},togglePasswordInput:function(b){b=X(b);b.getAttribute("value")===b.getAttribute("placeholder")&&b.setAttribute("value","");if(F&&
"text"===b.type){for(var a=[],c=0,d=q.length;c<d;c++)"capture_"+l+"_"+q[c].elementName==b.id&&(q[c].elementName=q[c].elementName,a.push(q[c]));c=b.parentElement;c.removeChild(b);d=document.createElement("input");d.id=b.id;d.setAttribute("data-capturefield",b.name);d.className="capture_password";d.name=b.name;d.setAttribute("type","password");c.insertBefore(d,c.firstChild.nextSibling);P().attachEventHandlers(null,a);d.focus()}else b.setAttribute("type","password")},clearPlaceHolder:function(b){if(sa)return!0;
b=X(b);b.getAttribute("value")===b.getAttribute("placeholder")&&b.setAttribute("value","")},restorePlaceHolder:function(b){if(sa)return!0;var b=X(b),a=b.getAttribute("placeholder");"password"===b.getAttribute("type")&&(b.value||b.setAttribute("type","text"));a&&!b.value&&b.setAttribute("value",a)},validation:function(){var b,a;return{setParentDiv:function(b){(a=b)&&a.className.split(" ")},setElement:function(c){b=c;a&&a.className.split(" ")},valid:function(){r(a).append("capture_validated").remove("capture_error");
var c={};b&&(c.field=b);janrain.events.onCaptureValidationSuccess.fire(c);janrain.events.onCaptureContentChange.fire()},pending:function(){janrain.events.onCaptureContentChange.fire()},notValid:function(c,d){r(a).append("capture_error").remove("capture_validated");if(c){for(var e,g=a.getElementsByTagName("div"),h=g.length,i=0;i<h;i++)if("capture_tip_error"===g[i].className){var j=0===a.id.indexOf("capture_"+l+"_form_collection_")?"capture_"+l+"_form_collection_":"capture_"+l+"_form_item_";if(a.id.split(j)[1]===
g[i].getAttribute("data-elementName")){e=g[i];break}}e&&(e.innerHTML=c);"function"===typeof d&&d();janrain.events.onCaptureContentChange.fire()}e={};b&&(e.field=b);janrain.events.onCaptureValidationFailed.fire(e)}}}},Ka={createSelect:i.createSelect,createTextarea:i.createTextarea,createInput:i.createInput,createLabel:i.createLabel,createDiv:i.createDiv,createImage:i.createImage,createListOfLinks:i.createListOfLinks,toggelPassword:i.togglePasswordInput,clearPlaceHolder:i.clearPlaceHolder,restorePlaceHolder:i.restorePlaceHolder,
getElementByEventAttribute:X};k.prototype.render={data:function(b){var a;"string"===b.type&&(a=b.displaySavedValue&&Y&&O[b.value]?O[b.value]:b.value);return a},htmlElement:{parent:k.prototype.render,textarea:function(b){var a;a=""+i.wrapFormItemStart(b);a+=i.createTextarea(b);return a+=i.wrapFormItemEnd(b)},select:function(b){var a;a=""+i.wrapFormItemStart(b);a+=i.createSelect(b);a+=i.wrapFormItemEnd(b);i.attachFieldEventHandlers(b);return a},multi:function(b,a){var c,d,e=b.options.length;b.type=
"elementCollection";c=""+i.wrapFormItemStart(b);c+=i.createLabel(b);for(var g=0;g<e;g++)d=b.options[g],d.value=d.value||d.label,d.lable=d.lable||d.value,c+=this.input({elementName:b.elementName,type:a,elementId:b.elementName+"_"+d.label,name:b.name,value:d.value,collection:!0,label:d.label,checked:w(b.value,d.value)});c+=i.createTip(b);return c+=i.wrapFormItemEnd(b)},multiCheckbox:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},multiRadio:function(b){return this.multi(b,
b.element.split("multi")[1].toLowerCase())},input:function(b){var a;a=""+i.wrapFormItemStart(b);a+=i.createInput(b);a+=i.wrapFormItemEnd(b);i.attachFieldEventHandlers(b);return a},form:function(b){var a="<form ",c=b.classes||[];c.indexOf("capture_form"===-1)&&c.push("capture_form");c.indexOf(-1==="capture_"+b.elementName)&&c.push("capture_"+b.elementName);a+="id='capture_"+l+"_"+b.elementName+"' ";a+="name='"+b.elementName+"' ";a+="data-capturefield='"+b.name+"' ";a+="action='"+janrain.settings.capture.captureServer+
"/"+b.action+"' ";n(c)&&(a+="class='"+c.join(" ")+"' ");a=a+"method='POST' novalidate='novalidate'"+("data-transactionId='"+b.transactionId+"'");a+="target='captureIFrame_"+b.transactionId+"'";a+=">";if(b.errors)for(error in janrain.events.onCaptureFormError.fire(b.errors),b.errors)b.errors.hasOwnProperty(error)&&(a+=i.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),a+=b.errors[error]+"</div>");a+=i.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});
pa?a+=i.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,type:"hidden",value:pa}):C&&(a+=i.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,type:"hidden",value:C}));l&&(a+=i.createInput({elementName:"capture_screen",elementId:"screen_"+b.transactionId,type:"hidden",value:l}));b.serverNextScreen&&(a+=i.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+b.transactionId,type:"hidden",value:b.serverNextScreen}));b.engageTokenRequired&&
(a+=i.createInput({elementName:"token",elementId:"token_"+b.transactionId,type:"hidden",value:la}));a+=i.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+b.transactionId,type:"hidden",value:b.transactionId});a+=i.createInput({elementName:"form",elementId:"form_"+b.transactionId,type:"hidden",value:b.name});a+=i.createInput({elementName:"flow",elementId:"flow_"+b.transactionId,type:"hidden",value:t.flow});a+=i.createInput({elementName:"client_id",elementId:"client_id_"+b.transactionId,
type:"hidden",value:janrain.settings.capture.clientId});a+=i.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+b.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});a+=i.createInput({elementName:"response_type",elementId:"response_type_"+b.transactionId,type:"hidden",value:janrain.settings.capture.responseType});a+=i.createInput({elementName:"flow_version",elementId:"flow_version_"+b.transactionId,type:"hidden",value:Na});return a+=i.createInput({elementName:"locale",
elementId:"locale_"+b.transactionId,type:"hidden",value:janrain.settings.capture.language||janrain.settings.language||"en-US"})},div:function(a){return i.createDiv(a)},close:function(a){return"</"+a.element+">"}},captureElement:{addressFull:function(a){var c,d=k.prototype.render.htmlElement;c='<div class="capture_form_item capture_addressBlock">'+d.input({elementName:"street_address",elementId:a.name+"_streetaddress",label:"Address",type:"text",justElement:"true",publicPrivateToggle:a.publicPrivateToggle,
value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});c+=d.input({elementName:"street_address2",elementId:a.name+"_streetaddress2",type:"text",justElement:"true",value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});c+=d.input({elementName:"city",elementId:a.name+"city",justElement:"true",classes:["form_item_city"],
value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});c+=d.select({elementName:"stateprovince",elementId:a.name+"_stateprovince",justElement:"true",label:"",placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:"",options:[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",
value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",
value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",
value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"},{text:"AB",value:"AB"},{text:"BC",value:"BC"},{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}]});q.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});c+=d.input({elementName:"zippostalcode",
elementId:a.name+"zippostalcode",justElement:"true",type:"text",classes:["form_item_zip"],value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});c+=d.select({elementName:"country",elementId:a.name+"_country",justElement:"true",value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:"",options:[{text:"country",value:"0",disabled:"true"},{text:"United States",
value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",
value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},
{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},
{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",
value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",
value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},
{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},
{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",
value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},
{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},
{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},
{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",
value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",
value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",
value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},
{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",
value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}]});q.push({elementName:a.name+"_country",handler:function(){var a=this.options[this.selectedIndex].value||"";"United States"===a||"Canada"===a?document.getElementById("capture_"+l+"_form_item_stateprovince").style.display="inline-block":document.getElementById("capture_"+l+"_form_item_stateprovince").style.display="none"},eventType:"change"});return c+"</div>"},backButton:function(a){var c;
a.type="button";c=""+i.createInput(a);a.type="backButton";q.push({elementName:a.elementName,handler:function(){Ea=!1;var a=ea.pop();a&&janrain.capture.ui.render(a.flow,a.values)},eventType:"click"});return c},partial:function(a){var c=document.getElementById(a.layout);if(c)return c.innerHTML;throw d(a.layout);},photoManager:function(a){D=a.value;var a=i.createDiv({elementName:a.elementName}),c=n(D)&&D.length,a=a+'<div id="profile_pic" class="normal image default">';c&&(a+=i.createImage({src:D[1].value,
imageId:"profile_pic_image"}));a=a+"&nbsp;</div>"+i.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:"Choose new photo",anchorHref:"#",anchorClasses:[],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:"Edit photo",anchorHref:"#",anchorClasses:["three","four"],anchorId:"edit_photo_link",hide:!c},{listItemId:"remove_photo",listItemClasses:[],anchorText:"Remove photo",anchorHref:"#",anchorClasses:["three","four"],anchorId:"remove_photo_link",
hide:!c}],["options"]);a+="</div>";q.push({elementName:"upload_photo_link",handler:function(a){if(!document.getElementById("capture_"+l+"_upload_photo_form")){var b=i.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+"/photo/upload_photo?access_token="+C,classes:["capture_popup_container"],elementId:"upload_photo_form",fields:[{elementName:"",classes:["capture_popup-arrow"],elementType:"div"},{elementName:"photo",elementId:"photo_chooser",elementType:"file"},{elementName:"photo_submit",
elementId:"photo_submit",elementValue:"Submit",classes:["capture_btn","capture_primary"],hideElement:!1,elementType:"submit"}],callback:function(){janrain.capture.ui.getUserPhotos(function(){var a=document.getElementById("capture_"+l+"_profile_pic_image");a&&R(a);document.getElementById("profile_pic").appendChild(i.domHelpers.createImage({elementSrc:D[1].value,elementId:"profile_pic_image"}));document.getElementById("capture_"+l+"_edit_photo").style.display="block";document.getElementById("capture_"+
l+"_remove_photo").style.display="block";R(document.getElementById("capture_"+l+"_upload_photo_form"))})}});document.getElementById("capture"+l+"__upload_photo").appendChild(b);var c=function(a){"capture_upload_photo_link"!==Q(a)&&"capture_photo_chooser"!==Q(a)&&"capture_photo_submit"!==Q(a)&&(b.innerHTML="",R(b),Aa(document,"click",c),E(a))};o(document,"click",c)}E(a)},eventType:"click"});q.push({elementName:"edit_photo_link",handler:function(a){if(!document.getElementById("capture_"+l+"_crop_photo_form")){var b,
c=i.domHelpers.createDiv({classes:["capture_popup_container"],elementId:"containEditDiv"}),d=document.createElement("div"),e=document.createElement("div"),f=i.domHelpers.createImage({elementSrc:D[4].value,elementId:"CropPhotoPreview"}),g=i.domHelpers.createImage({elementSrc:D[4].value+"?"+(new Date).getTime(),elementId:"cropbox"}),h=function(){crop(document.getElementById("capture_"+l+"_cropbox"),m,375,375)};o(g,"load",function(){"function"!==typeof crop?da("http://apps.janrain.com/renderers/crop/crop.js",
h):h()});var j=i.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+"/photo/crop_photo?access_token="+C,elementId:"crop_photo_form",fields:[{elementName:"",classes:["capture_popup-arrow"],elementType:"div"},{elementId:"width",elementName:"width",elementType:"hidden"},{elementId:"height",elementName:"height",elementType:"hidden"},{elementId:"x",elementName:"x",elementType:"hidden"},{elementId:"y",elementName:"y",elementType:"hidden"},{elementValue:"Submit",elementName:"edit_photo_submit",
hideElement:!1,classes:["capture_btn","capture_primary"],elementType:"submit"}],callback:function(){janrain.capture.ui.getUserPhotos(function(){R(document.getElementById("capture_"+l+"_profile_pic_image"));document.getElementById("profile_pic").appendChild(i.domHelpers.createImage({elementSrc:D[1].value,elementId:"profile_pic_image"}));R(document.getElementById("capture_"+l+"_containEditDiv"))})}});d.id="captureCropPhotoPreviewContainer";e.id="captureCropPhotoPreviewInnerContainer";d.appendChild(e);
f.style.display="none";f.style.cssFloat="left";f.id="capture_CropPhotoPreview";e.appendChild(f);c.appendChild(d);c.appendChild(g);c.appendChild(j);document.getElementById("capture"+l+"__edit_photo").appendChild(c);var k=function(a){var b;if(b="capture_edit_photo_link"!==Q(a)){a:{for(b=L(a).parentNode;null!=b;){if(b==c){b=!0;break a}b=b.parentNode}b=!1}b=!b}b&&(c.innerHTML="",R(c),Aa(document,"click",k),E(a))};o(document,"click",k);var m=function(a){if(0<parseInt(a.unscaled.width)){b=a;var c=a.unscaled.height/
a.sizedHeight,d=Math.round(100/(a.unscaled.width/a.sizedWidth)),c=Math.round(100/c);"none"===f.style.display&&(f.style.display="block");f.style.width=d+"px";f.style.height=c+"px";f.style.marginLeft="-"+Math.round(a.unscaled.left/a.sizedWidth*d)+"px";f.style.marginTop="-"+Math.round(a.unscaled.top/a.sizedHeight*c)+"px"}};o(j,"submit",function(){var a=b.sizedWidth/b.originalWidth,c=b.sizedHeight/b.originalHeight;document.getElementById("capture_"+l+"_width").value=Math.round(b.unscaled.width/a);document.getElementById("capture_"+
l+"_height").value=Math.round(b.unscaled.height/c);document.getElementById("capture_"+l+"_x").value=Math.round(b.unscaled.left/a);document.getElementById("capture_"+l+"_y").value=Math.round(b.unscaled.top/c)})}E(a)},eventType:"click"});q.push({elementName:"remove_photo_link",handler:function(a){if(!document.getElementById("capture_"+l+"_remove_photo_contain")){var b=i.domHelpers.createDiv({elementId:"remove_photo_contain",classes:["capture_popup_container pad"]}),c=i.domHelpers.createAnchor({elementHref:"#",
elementText:"Remove",elementId:"confirm_remove_photo_link"}),d=i.domHelpers.createAnchor({elementHref:"#",elementText:"Cancel"});b.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';b.appendChild(c);b.appendChild(d);document.getElementById("capture_"+l+"_remove_photo").appendChild(b);var e=function(a){"capture_createFormAndPostSubmit"!==Q(a)&&"capture_confirm_remove_photo_link"!==Q(a)&&"capture_remove_photo_link"!==Q(a)&&(b.innerHTML="",R(b),Aa(document,"click",e),E(a))};o(d,
"click",e);o(document,"click",e);o(c,"click",function(a){i.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/photo/delete_photo?reset_photo=true&access_token="+C,elementId:"delete_photo_form",callback:function(){janrain.capture.ui.getUserPhotos(function(){0===D.length?(R(document.getElementById("capture_"+l+"_profile_pic_image")),document.getElementById("capture_"+l+"_edit_photo").style.display="none",document.getElementById("capture_"+l+"_remove_photo").style.display=
"none"):v("maybe there was a problem deleting your image");R(document.getElementById("capture_"+l+"_remove_photo_contain"))})}});E(a)});E(a)}},eventType:"click"});return a},collection:{radio:function(a){for(var c=i.createDiv({elementName:a.elementName,classes:a.classes||""}),d=function(c){for(var d=Q(c).split("_")[3],c=L(c).parentNode,e=0;e<a.collection.length;e++)a.collection[e].elementName!==d&&(document.getElementById("capture_"+l+"_"+a.collection[e].elementName).style.display="none");for(var f=
Da("capture_radio_toggle",document.getElementById("capture_"+l+"_"+a.elementName)),g=f.length,e=0;e<g;e++)r(f[e]).remove("capture_toggled");r(c).append("capture_toggled");document.getElementById("capture_"+l+"_"+d).style.display="block";janrain.events.onCaptureContentChange.fire()},e=0;e<a.collection.length;e++)c+="<div class='capture_radio_toggle",c+=(0===e?" capture_toggled":"")+"'>",c+="<input type='radio' id='capture_"+l+"_radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+
"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",c+="<label ",c+="class='radio-label' ",c+="for='capture_"+l+"_radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",c+="</label></div>",q.push({elementName:"radio_"+a.collection[e].elementName,handler:d,eventType:"click"});return c},accordion:function(){return"<div>"},tab:function(){return"<div>"}}},widget:{login:function(){q.push({handler:function(){function a(){janrain.events.onProviderLoginToken.addHandler(function(a){la=a.token;
document.body.appendChild(document.getElementById("janrainEngageEmbed"));y.values=W(y.div.id);ea.push(y);var a=a.token,b=ia();Z("/widget/token_url.jsonp",{token:a,redirect_uri:janrain.settings.capture.redirectUri,client_id:janrain.settings.capture.clientId,response_type:janrain.settings.capture.responseType,capture_transactionId:b,flow:janrain.settings.capture.registerFlow||"socialRegister"});aa(b);document.getElementById("janrainEngageEmbed").style.display="none"});ra=!0}var b=document.getElementById("janrainEngageEmbed"),
c=document.getElementById("capture_"+l+"_login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var d=ia();janrain.engage.signin.appendTokenParams({capture_transactionId:d});xa=d}b?(c.appendChild(b),b.style.display="block"):(b=document.createElement("div"),b.id="janrainEngageEmbed",document.body.appendChild(b),c.appendChild(b),b.style.display="block",janrain.engage.signin.widget.init());ra||a()},eventType:"render"});var a=i.createDiv({elementName:"login_widget",classes:["login_widget"]});
return a+"</div>"},share:function(){}}};var La=[],Ta={};return{modal:{close:function(){"object"==typeof u&&u.close()},open:function(a){a=a||y.flow.defaultScreen;"object"==typeof u&&(janrain.capture.ui.renderScreen(a),u.setShowContentOnLoad(!0).addContent(y.div).show(),janrain.events.onCaptureContentChange.fire())},setBorder:function(a){"object"===typeof u&&(u.setBorder(a),u.refresh());return!0},setBorderColor:function(a){"object"===typeof u&&(u.setBorderColor(a),u.refresh());return!0},setBorderOpacity:function(a){"object"===
typeof u&&(u.setBorderOpacity(a),u.refresh());return!0},setBorderRadius:function(a){"object"==typeof u&&(u.setBorderRadius(a),u.refresh());return!0}},start:function(b,c){a(b,c)},hasActiveSession:function(){return!!C},render:function(a,c){h(B());if(a.version)Na=a.version;else throw Error("MissingVersionError: Missing version.");t=a;for(var d=0;d<H.length;d++)t.fields[H[d].field][H[d].attribute]=H[d].value;var d=new P,e=t.oneTimeRender||t.defaultScreen;d.setScreenData(e,t.screens[e]).render();if(c)for(var g in c)c[g].id&&
c[g].value&&(d=document.getElementById(c[g].id),d.value=c[g].value,"radio"===c[g].type&&(d.checked=c[g].checked,c[g].checked&&d.click()))},renderScreen:function(a,c){Ea=!1;c||ea.push(y);(new P).setScreenData(a,t.screens[a]).render()},setHandler:function(a,c,d){this.setFieldAttribute(a,c+"Handler",d)},setFieldAttribute:function(a,c,d){H.push({field:a,attribute:c,value:d})},setRenderer:function(a,c,d){k.prototype.render[a].helpers=Ka;k.prototype.render[a][c]=d},setValidator:function(a,c){j.prototype[a]=
c},registerFunction:function(a,c){Ta[a]=c},addRenderer:function(a,c,d){this.setRenderer(a,c,d)},trackLoadedCssFiles:function(a){Ha.push(a)},handleCaptureUniqueResponse:function(a){I(a)},handleCaptureResponse:function(a,c){var d;if("ok"===a.stat&&(d=a.result,d.accessToken&&d.oneTime&&(pa=d.accessToken,ma=!0),d.accessToken&&!d.oneTime&&M(d.accessToken),d&&d.status)){Ja[d.transactionId]=d;"success"===d.status?(janrain.events.onCaptureSuccessfulSave.fire(d),pa&&!ma?pa="":ma=!1):janrain.events.onCaptureFailedSave.fire(d);
if("traditionalSignin"===d.action||"socialSignin"===d.action)if("success"===d.status){if(d.authorizationCode){var e;e=janrain.settings.capture.redirectUri;var g={code:d.authorizationCode},h=-1<e.indexOf("?")?"&":"?",i=[],j;for(j in g)g.hasOwnProperty(j)&&i.push(j+"="+encodeURIComponent(g[j]));e=e+h+i.join("&");d.redirectUri=e}(d.accessToken||d.authorizationCode)&&janrain.events.onCaptureSuccessfulLogin.fire(d);d.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=e)}else janrain.events.onCaptureFailedLogin.fire(d);
if("traditionalRegister"===d.action||"socialRegister"===d.action)"success"===d.status?janrain.events.onCaptureSuccessfulRegistration.fire(d):janrain.events.onCaptureFailedRegistration.fire(d);d.userData&&janrain.settings.capture.setProfileCookie&&(d=d.userData,j=ca(),(new ya).setExpirationDirectly(j).setName("janrainCaptureProfileData").setValue(G.stringify(d)).create())}"function"===typeof c&&c()},handleErrorResponse:function(a,c){var d=a.result.error+": "+a.result.errorDescription;if(ga){var e=
i.domHelpers.createDiv({classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()});e.innerHTML=d;ga.insertBefore(e,ga.firstChild);janrain.events.onCaptureContentChange.fire()}ga||alert(d);v(a);"function"===typeof c&&c()},createCaptureSession:function(a){M(a)},endCaptureSession:function(){var a=new ya;a.setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();a.setName("janrainCaptureProfileData");janrain.settings.capture.cookieDomain&&
a.setDomain(janrain.settings.capture.cookieDomain);a.remove();janrain.events.onCaptureSessionEnded.fire()},addTransactionIds:function(a){h(a)},getPayload:function(){},getUserPhotos:function(a){"undefined"!==typeof C&&da(janrain.settings.capture.captureServer+"/photo/get_user_photos?access_token="+C,a)},setUserPhotos:function(a){D=a},getUserData:function(a){"undefined"!==typeof C&&da(janrain.settings.capture.captureServer+"/photo/get_user_json?access_token="+C,a)},setUserData:function(){},validationHandler:function(a){var c=
document.getElementById(a.elementId),d=new i.validation;d.setParentDiv(c);a.valid?d.valid():d.notValid(a.reason)}}};return{engage:{signin:janrain.engage.signin?janrain.engage.signin:na,share:janrain.engage.share?janrain.engage.share:p},capture:{ui:ea}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;