/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2012.42_ws
 -*- Capture UI Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2012.42_ws
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var Ob,vb,kd,ld,md,bb,Va;function Ec(){return"http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.1.2/":"https://d3hmp0045zy3cs.cloudfront.net/2.1.2/"}function yd(a,d,c){var e;if(document.getElementById(a))return!1;if(k){e="";var j=document.createElement("div");j.innerHTML=e+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+d+'" ')+'style="display: none;"></iframe>';document.body&&document.body.appendChild(j)}else e=document.createElement("iframe"),e.setAttribute("name",
a),e.id=a,e.setAttribute("src",d),e.style.display="none",e.className="",document.body&&document.body.appendChild(e);"function"===typeof c&&c()}function wb(a){for(var d="",d="",c=0;c<a;c++)d+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return d}function xb(){function a(a,c,d,e){c={action:a,key:c,messageId:d};"set"===a&&(c.value=e);return"janrainCapture:"+D.stringify(c)}function d(a,c){function d(){e++;if(10<e)return!1;if("undefined"!==typeof ba[a])return clearTimeout(i),
"get"===ba[a].action&&"function"===typeof c&&c(ba[a].storedValue),!0;var i=setTimeout(d,50)}var e=0;d()}function c(c,e){var i=wb(40);window.setTimeout(function(){h.contentWindow.postMessage(a("get",c,i),Fc)});d(i,e)}function e(a,d){if(i)kc?c(a,d):setTimeout(function(){e(a,d)},50);else return window.localStorage.getItem(a)}function j(a){if(0!==a.data.indexOf("janrainCapture:")||!p(qa,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=D.parse(a.data.replace("janrainCapture:",""));
ba[a.messageId]=a}var i=!1,ba={},h,Fc,qa=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,e){if(i){var j=wb(40);window.setTimeout(function(){h.contentWindow.postMessage(a("set",c,j,e),Fc)});return d(j)}return window.localStorage.setItem(c,e)},removeItem:function(c){if(i){var e=wb(40);window.setTimeout(function(){h.contentWindow.postMessage(a("remove",c,e),Fc)});return d(e)}return window.localStorage.removeItem(c)},getItem:e,setMultiDomain:function(a){if(i=
a)window.addEventListener?window.addEventListener("message",j,!1):window.attachEvent?window.attachEvent("onmessage",j):document.attachEvent&&document.attachEvent("onmessage",j),h=document.getElementById("xDomainLocalStorageJanrain"),Fc=janrain.settings.storageServerDomain}}}function E(){function a(){if(j&&Pb){var a=new xb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(e);a.removeItem(e+"_Expires")}else{var a=ba?"; domain="+ba:"",c=new Date;c.setTime(c.getTime()+-864E6);document.cookie=
e+"="+i+";expires="+c.toUTCString()+a+"; path="+h}}function d(c,d){var i,ba,h,B,k;if(j&&Pb)if(k=new xb,janrain.settings.multiDomainLocalStorage)k.setMultiDomain(!0),k.getItem(c,function(i){i?k.getItem(c+"_Expires",function(j){j?Math.round((new Date).getTime()/1E3)>Math.round((new Date(j)).getTime()/1E3)?(e=c,a(),"function"===typeof d&&d(!1)):"function"===typeof d&&d(i):(new E).getCookie(c+"_session")?"function"===typeof d&&d(i):(e=c,a())}):"function"===typeof d&&d(!1)});else if(B=k.getItem(c),i=k.getItem(c+
"_Expires"),B){if(!(i&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(i)).getTime()/1E3))&&(i||(new E).getCookie(c+"_session")))return B;e=c;a()}else return!1;else{i=document.cookie.split(";");ba=i.length;for(var nd=0;nd<ba;nd++)if(h=i.pop(),B=h.split("="),h=B[0],B=B[1],h.trim()===c)return B;return!1}}var c,e,j=!1,i,ba,h="/";return{create:function(){if(j&&Pb){var a=new xb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(e,i);c?a.setItem(e+"_Expires",c):(new E).setName(e+
"_session").setValue("session").create()}else document.cookie=e+"="+i+(c?"; expires="+c:"")+(ba?"; domain="+ba:"")+"; path="+h},remove:a,setExpirationDirectly:function(a){a&&(c=a);return this},setExpiration:function(a){if(a){var d=new Date;d.setTime(d.getTime()+864E5*a);c=d.toUTCString()}return this},setName:function(a){a&&(e=a);return this},setValue:function(a){"undefined"!==typeof a&&(i=a);return this},setUseLocalStorage:function(a){j=a;return this},setPath:function(a){a&&(h=a);return this},setDomain:function(a){a&&
(ba=a);return this},getCookie:function(a,c){return d(a,c)}}}function Qb(){return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(ra)?parseFloat(RegExp.$1):!1}function lc(){return!/Chrome\//.test(ra)&&/Safari\//.test(ra)}function Y(a,d,c,e,j,i){"number"===typeof c&&"number"===typeof e&&"number"===typeof j&&"number"===typeof i?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=c+"px "+e+"px "+j+"px "+i+"px"),"undefined"!==typeof a.style.MozBorderRadius&&
(a.style.MozBorderRadius=c+"px "+e+"px "+j+"px "+i+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px "+e+"px "+j+"px "+i+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=d+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=d+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=d+"px"));return a}function Rb(a,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;var c=a-d;
0>c&&(c=0);c>a&&(c=a);return c}function mc(a,d){if(k&&9>=k)return a.style.backgroundImage="url('"+Sb("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;var c;if(c=lc()){a:{if(ra&&(c=ra.match(/(\d)[\d.]+ Safari/))&&c[1]){c=1*c[1];break a}c=0}c=4>=c}if(c||la.getMobileDevice()){var e=c="",j="",i=d.split(","),ba={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};i[0]&&ba[i[0]]&&(c=ba[i[0]]);i[1]&&(e="from("+i[1]+")");i[i.length-
1]&&(j="to("+i[i.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+c+","+e+","+j+")"}a.style.backgroundImage="-moz-linear-gradient("+d+")";a.style.backgroundImage="-webkit-linear-gradient("+d+")";a.style.backgroundImage="-ms-linear-gradient("+d+")";a.style.backgroundImage="-o-linear-gradient("+d+")";a.style.backgroundImage="linear-gradient("+d+")"}function Tb(a,d,c,e){var j=nc(c),i=nc(c,e);if(c=zd(c))c.a=e,i="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<d){a.style.backgroundColor=
j;a.style.padding=d+"px";if(0<k&&8>=k||k&&Z)return!1;a.style.backgroundColor=i;a.style.padding=d+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function zd(a){var d={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;d.r=a[0];d.g=a[1];d.b=a[2];d.a=a[3]?a[3]:1;return d}function nc(a,d){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);
var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,4),16),j=parseInt(a.substring(4,6),16);return isNaN(d)?"rgb("+c+","+e+","+j+")":"rgba("+c+","+e+","+j+","+d+")"}function H(a,d,c){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+d,c):a.addEventListener(d,c,!1)}function nb(a,d,c){"object"===typeof window.detachEvent?a.detachEvent("on"+d,c):a.removeEventListener(d,c,!1)}function oc(){var a,d,c,e,j,i,ba,h;d=document.documentElement?document.documentElement:
{clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,offsetWidth:0,offsetHeight:0};ba=d.scrollWidth?d.scrollWidth:0;h=d.scrollHeight?d.scrollHeight:0;j=d.offsetWidth?d.offsetWidth:0;i=d.offsetHeight?d.offsetHeight:0;c=document.body.scrollWidth?document.body.scrollWidth:0;e=document.body.scrollHeight?document.body.scrollHeight:0;a=document.body.offsetWidth?document.body.offsetWidth:0;d=document.body.offsetHeight?document.body.offsetHeight:0;j=Math.max(c,ba,a,j);return{height:Math.max(e,h,d,i),
width:j}}function Wa(a){return{width:a.style&&a.style.width?parseInt(a.style.width):a.offsetWidth?parseInt(a.offsetWidth):0,height:a.style&&a.style.height?parseInt(a.style.height):a.offsetHeight?parseInt(a.offsetHeight):0}}function pd(a,d){var c=document.getElementById(a);if("object"===typeof c.currentStyle)var e=c.currentStyle[d];else window.getComputedStyle&&(e=document.defaultView.getComputedStyle(c,null).getPropertyValue(d));return e}function M(a,d,c,e,j){var i=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,
h=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!z(e))return j||y.log(e+" is wrong type, must be array, using default value instead"),c;if(d&&z(d))for(var k=0;k<e.length;k++)if(0>d.indexOf(e[k]))return j||y.log(e+" is not within the valid range, using default value instead"),c;return e}if("url"===a){if("string"!==typeof e)return c;e&&(e=e.trim());if(/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(e))return e;j||y.log(e+" is not the valid format, using default value instead");
return c}if("text"===a){if(d){if(0<=d.indexOf(e))return e;j||y.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return i.test(e)?e:c}if("usertext"===a){if("string"!==typeof e&&"number"!==typeof e)return c;if(z(d)){if(1===d.length){if(e.length<=d[0])return e;j||y.log(e+" is too long, using default value instead");return c}if(2===d.length){if(e.length<=d[1]&&e.length>=d[0])return e;j||y.log(e+" is not within the valid range, using default value instead");
return c}j||y.log("usertext range is invalid, using default value instead");return c}return e}"string"===typeof e&&0==e.length&&(e=" ");if(!i.test(e))return j||y.log(e+" contains invalid character(s)"),c;if("boolean"===a){if("boolean"===typeof e)return e;j||y.log(e+" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return e;if("number"===a){if(isNaN(parseInt(e)))return j||y.log(e+" is wrong type, must be a valid number"),c;e=parseFloat(e)}if("color"===a){e&&(e=
e.trim());if("transparent"===e||h.test(e))return e;j||y.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof e!=a&&"color"!=a)return j||y.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+a),c;if("object"===typeof d&&"string"===a){if(0<=d.indexOf(e))return e;j||y.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===
typeof d&&"number"===a){2===d.length?(i=d[0],h=d[1]):(i=d.shift(),h=d.pop(),k=d);if(e<i)return j||y.log("Value of "+e+" for "+arguments.callee.caller.name+" is below minimum of "+i+", using minimum value of "+i+" instead"),i;if(e>h)return j||y.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+h+", using maximum value of "+h+" instead"),h;if(k&&"number"===typeof k.indexOf(e)||e==i||e==h)return e;return k?(j||y.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+
c+" instead"),c):e}return 0!=e&&!e?c:e}function pc(a){for(var d=pc.options,a=d.parser[d.strictMode?"strict":"loose"].exec(a),c={},e=14;e--;)c[d.key[e]]=a[e]||"";c[d.q.name]={};c[d.key[12]].replace(d.q.parser,function(a,e,h){e&&(c[d.q.name][e]=h)});return c}function fb(a){return document.getElementById(I(a).getAttribute("id"))}function I(a){return a.target?a.target:a.srcElement}function Zc(a,d){function c(a){F=!0;"undefined"!==typeof qa&&clearTimeout(qa);if("string"===typeof a)return"function"===typeof k&&
k(a),!0;if("object"===typeof a||"undefined"===typeof a)return"object"===typeof a&&"error"===a.type?"function"===typeof k&&k(a):"function"===typeof j&&j(),!0}function e(){r++;if(F)return!0;r<i?qa=setTimeout(e,50):c("Load Timeout Error")}var j=d,i=200,h=!1,k,r=0,qa,Oa=document.createElement("script"),ga=document.getElementsByTagName("script")[0],F=!1;Oa.src=a;Oa.setAttribute("type","text/javascript");Oa.onload=Oa.onerror=Oa.onreadystatechange=function(a){!F&&(!this.readyState||"loaded"===this.readyState||
"complete"===this.readyState)&&c(a)};return{setTimeoutCallback:function(a){h=!0;k=a;return this},setCallback:function(a){j=a;return this},setTimeoutLimit:function(a){i=a;return this},load:function(){ga.parentNode.insertBefore(Oa,ga);h&&e()}}}function ya(a,d){Zc(a,d).load()}function qd(a,d){k&&9>k&&Ub(a,d)}function Ub(a,d){function c(c){k=!1;"function"===typeof d&&d();janrain.events.onCssLoad.fire({source:a,noload:c})}function e(){if(k){for(qa=r.length;0<=--qa;)if(r[qa].href===i.href){c();break}h+=
1;k&&(200>h?setTimeout(e,50):c(!0))}}function j(){var a;try{a=!!i.sheet.cssRules}catch(d){h+=1;200>h?setTimeout(j,50):a&&c(!0);return}c()}var i,h=0,k=!0,r=document.styleSheets,qa;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new gb);yb?(i=document.createElement("style"),i.innerHTML='@import "'+a+'";'):(i=document.createElement("link"),i.rel="stylesheet",i.href=a,i.type="text/css");qc||yb?(qc&&e(),yb&&j()):(i.onload=function(){c()},i.onerror=function(){c(!0)});document.getElementsByTagName("head")[0].appendChild(i)}
function r(a){var d;d=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===d.indexOf(c)&&(d.push(c),a&&(a.className=d.join(" ")));return this},remove:function(c){-1!==d.indexOf(c)&&(d.splice([d.indexOf(c)],1),a&&(a.className=d.join(" ").trim()));return this},has:function(a){return-1!==d.indexOf(a)}}}function z(a){return"[object Array]"===Object.prototype.toString.call(a)}function p(a,d){return!z(a)?!1:-1<a.indexOf(d)}function Gc(a,d){for(var c in a)a.hasOwnProperty(c)&&d.call(a[c],
c,a[c])}function zb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function rd(a,d){for(var c=d.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1}function Ab(a){var d="",c;for(c in a)d+="&"+encodeURIComponent(c)+"="+encodeURIComponent(a[c]);return d="?"+d.substr(1)}function J(a){if(!a)return!1;if(a.preventDefault)a.preventDefault();else try{a.returnValue=!1}catch(d){}}function Bb(a){if(!a)return!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Ad(a){if(!a)return!1;var d=
a.getElementsByTagName("input");d||(d=a.getElementsByTagName("button"));if(!d)return!1;for(var c=d.length,e=0;e<c;e++)if("submit"===d[e].type)return d[e];d=a.getElementsByTagName("button");for(e=0;e<c;e++)if("submit"===d[e].type)return d[e]}function Hc(a){return!isNaN(parseFloat(a))&&isFinite(a)}function sd(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var d=a.split("/"),a=parseInt(d[1],10),c=parseInt(d[0],10),d=parseInt(d[2],10),e=new Date(d,c-1,a);return e.getFullYear()==d&&e.getMonth()==c-1&&e.getDate()==
a?!0:!1}return!1}function $c(a,d){var c,e,j;void 0===a&&(a="{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}");void 0===d&&(d=new Date);c=function(){var a=d.getHours();12<a&&(a-=12);0===a&&(a=12);return a};e=function(a){return 10>a?"0"+a:a};j=a.replace(/{yyyy}/g,d.getFullYear());j=j.replace(/{month}/g,Bd[d.getMonth()]);j=j.replace(/{day}/g,Cd[d.getDay()]);j=j.replace(/{0m}/g,e(d.getMonth()+1));j=j.replace(/{m}/g,d.getMonth()+1);j=j.replace(/{0d}/g,e(d.getDate()));j=j.replace(/{d}/g,d.getDate());
j=j.replace(/{ord}/g,function(){var a=["th","st","nd","rd"],c=d.getDate()%100;return a[(c-20)%10]||a[c]||a[0]}());j=j.replace(/{0hour}/g,e(c()));j=j.replace(/{hour}/g,c());j=j.replace(/{0h}/g,e(d.getHours()));j=j.replace(/{h}/g,d.getHours());j=j.replace(/{minute}/g,e(d.getMinutes()));j=j.replace(/{second}/g,e(d.getSeconds()));return j=j.replace(/{ampm}/g,11<d.getHours()?"PM":"AM")}function O(a,d){for(var c=d,e=/\{\|(.*?)\|\}/,j;j=e.exec(c);)try{var i=j[1].trim(),c=c.replace(j[0],"undefined"!==typeof a[i]?
a[i]:"")}catch(h){return window.console&&window.console.log&&console.log(h.name+": "+h.message,"error"),!1}return c}function ad(a,d){var c=a.parentNode.nodeName.toLowerCase();return"body"===c?!1:a.nodeName.toLowerCase()===d.toLowerCase()?a:c===d.toLowerCase()?a.parentNode:ad(a.parentNode,d)}function Ic(a){var d=[],c;for(c in a)a.hasOwnProperty(c)&&d.push(c+'="'+a[c]+'"');return d.join(" ")}function td(a){for(var d=[],c=0,e=a.length;c<e;c++)d.push(a[c]);return d}function Jc(){function a(a){var a=a||
"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",Ga&&(c.innerHTML=Ga)):(c.src=Za,da||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=fa?e:d;return c}function d(a){ha||(o.style.display="none",E.style.display="none",N.style.display="none");Aa&&la.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();
("object"===typeof a||!a)&&Pa.fire();"object"===typeof a&&J(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),e=document.createElement("a"),j=document.createElement("a"),i=document.createElement("h3");e.innerHTML=Xa;j.innerHTML=Ra;i.innerHTML=W;e.setAttribute("href","#");j.setAttribute("href","#");a.className="janrain_close_confirm_container";c.className="janrain_close_confirm";e.className="janrain_modal_confirm";j.className="janrain_modal_cancel";H(e,"click",function(a){d();
o.removeChild(Ba);Ba=null;J(a)});H(j,"click",function(a){o.removeChild(Ba);Ba=null;J(a)});c.appendChild(i);c.appendChild(j);c.appendChild(e);a.appendChild(c);return a}function e(a){Ba||(Ba=c(),o.appendChild(Ba));J(a)}function j(a){var c=document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,d=Wa(a),e=-1*d.width/2,d=-1*d.height/2;a.style.left="50%";a.style.marginLeft=e+"px";a.style.marginTop=d+c+"px";a.style.top="50%";0>a.offsetLeft&&
(a.style.left=0,a.style.marginLeft=0);0>a.offsetTop&&(a.style.marginTop=0,a.style.top="10px");"absolute"!==a.style.position&&(a.style.position="absolute")}function i(){if(ha){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(o)}else j(o);ha||y.show()}function h(a){Qa||(U=M("number",[0,20],10,a),ja.fire({radius:Rb(ma,U)}))}function r(a){Qa||(O=M("color",null,"#000000",a))}function z(a){Qa||(ma=M("number",[0,20],10,a),sa.fire({radius:Rb(ma,U),refresh:!0}))}function qa(a){Qa||
(Ca=M("number",[0,1],0.5,a),"object"==typeof o&&Tb(o,U,O,Ca))}function Oa(a){if("portrait"===a){Ha="portrait";var c="one column"}"landscape"===a&&(Ha="landscape",c="two column");v.fire({orientation:Ha,format:c,width:od,height:I});setTimeout(p,100);i()}function ga(a){a&&(D=a);k&&Z&&(D+=U-2);"object"==typeof o&&(o.style.width=D+"px");return this}function F(a){a&&(na=a);k&&Z&&(na=na+2*U-4);a&&"object"==typeof o&&(o.style.height=na+"px");return this}function B(){bb>=Va&&"undefined"===typeof window.orientation?
"landscape"!==Ha&&Oa("landscape"):90===window.orientation||-90===window.orientation?"landscape"!==Ha&&Oa("landscape"):"portrait"!==Ha&&Oa("portrait");i()}function p(){var a=oc();N.style.height=a.height+"px";N.style.width=a.width+"px"}var od=380,I=131,o,ud="janrainModal",E,N,ea,D=od,na=I,U=10,O="#000000",ma=10,Ca=0.5,fa=!1,Za=Sb("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),Ga="",Qa=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,da=!1,W="Are you sure you want to quit?",
Xa="Yes, quit",Ra="No, stay",Ba,Ha="landscape",P=!0,Aa="boolean"===typeof Aa?Aa:"number"===typeof window.orientation?!0:!1,Da="boolean"===typeof Da?Da:janrain.settings.previewMode,ha=Da,ya=ya||!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(Za=janrain.settings.capture.modalCloseImage,da=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(Ga=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=
T());window.janrain.events.onModalOpen||(window.janrain.events.onModalOpen=T());var Pa=T(),V=T(),sa=T(),ja=T(),v=T();la&&la.onOrientationChange&&la.onViewportChange&&(la.onOrientationChange.addHandler(function(a){Oa(a.orientation)}),la.onViewportChange.addHandler(function(){j(o)}));return{isOpen:function(){return"object"===typeof o&&"none"!==o.style.display},setWidth:function(a){ga(a);return this},setHeight:function(a){F(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&
h(a);Qa||"object"==typeof o&&Tb(o,U,O,Ca);return this},setBorderColor:function(a){a&&r(a);Qa||"object"==typeof o&&Tb(o,U,O,Ca);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&z(a);Qa||"object"==typeof o&&Y(o,ma);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&qa(a);return this},setZIndex:function(a){N.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(ha=a);return this},setId:function(a){ud=a;o&&(o.id=a);return this},
show:function(){Aa||(o.style.display="block");"object"==typeof E&&P&&(E.style.display="block");ha?Aa&&(o.style.display="block"):(N.style.display="block",Aa?(la.setElement(o).activate(),o.style.display="block"):(H(window,"resize",B),H(window,"resize",p),B(),p()));Qa||sa.fire({radius:Rb(ma,U),refresh:!1});V.fire();janrain.events.onModalOpen.fire();o.focus()},close:function(a){d(a)},closeConfirm:function(){e()},refresh:function(a){ya||o.appendChild(ea);a&&a.center&&i()},remove:function(){if(ha){var a=
document.getElementById("previewMode");"object"===typeof ea&&o.removeChild(ea);"object"===typeof o&&a.removeChild(o);"object"===typeof N&&document.body.removeChild(N);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";N=o=""}else"object"===typeof ea&&o.removeChild(ea),"object"===typeof N&&document.body.removeChild(N),"object"===typeof o&&document.body.removeChild(o)},addContent:function(c){E=c;if(!o){o=document.createElement("div");o.id=ud;if("number"===typeof D||"string"===
typeof D)o.style.width=D+"px";o.style.height=na+"px";o.style.position="absolute";Qa||(o.style.padding=U+"px",Y(o,ma),Tb(o,U,O,Ca));o.style.zIndex=1E3;o.style.display="none";c=oc();N=document.createElement("div");janrain.settings&&janrain.settings.capture&&janrain.settings.capture.captureServer&&(N.id="janrainModalOverlay");N.style.width=c.width+"px";N.style.height=c.height+"px";N.style.left=0;N.style.top=0;N.style.backgroundColor="#000000";N.style.position="absolute";c=N;"undefined"!==typeof c.style.filter&&
(c.style.filter="alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");N.style.display="none";N.style.zIndex=1E3;ea=Ga?a("a"):a();o.appendChild(ea);document.body.appendChild(N);document.body.appendChild(o)}o.appendChild(E);setTimeout(p,500);ha&&i();return this},getContent:function(){return E},getBorderWidth:function(){return U},getState:function(){return{width:D,
borderWidth:U,borderColor:O,borderRadius:ma,borderOpacity:Ca,orientation:Ha}},setState:function(a){x("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&h(a.borderWidth),"undefined"!==typeof a.borderColor&&r(a.borderColor),"undefined"!==typeof a.borderOpacity&&qa(a.borderOpacity),"undefined"!==typeof a.orientation&&Oa(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&z(a.borderRadius),"object"==typeof o&&
Y(o,ma)))},setConfirmClose:function(a){fa=a;return this},setShowContentOnLoad:function(a){P=a;return this},setConfirmMessageText:function(a){W=a},setConfirmLinkText:function(a){Xa=a},setCancelLinkText:function(a){Ra=a},onClose:Pa,onShow:V,onOrientationChange:v,onBorderRadiusChange:sa,onBorderWidthChange:ja}}function Dd(a){function d(){var a=window.open(c,"","width="+e+", height="+j+", status=1, location=1, resizable=yes"),d=window.setInterval(function(){if(a&&a.closed||a&&"undefined"===typeof a.closed||
"undefined"===typeof a)window.clearInterval(d),"function"===typeof i&&i()},500)}var c=a,e=400,j=400,i;return{show:function(){d()},setWidth:function(a){a&&(e=a);return this},setHeight:function(a){a&&(j=a);return this},setCallback:function(a){a&&(i=a);return this}}}function bd(){function a(){ga=(new Date).getTime()-e;if(ga<c){var a=Math.round(d()*qa+h);j.style[r]=a+"px"}else clearInterval(z),j.style[r]=k+"px",B()}function d(){if("flat"==F)return ga*(1/c);if("sinusoidal"==F)return Math.abs(Math.sin(ga*
(Math.PI/(2*c))))}var c="1000",e,j,i=document,h,k,r="left",qa,z,ga,F="flat",B,p;return{setAcceleration:function(a){F=a;return this},setCallback:function(a){B=a;return this},setDuration:function(a){c=a;return this},setDirection:function(a){"horizontal"===a&&(r="left");"vertical"===a&&(r="top");return this},setElement:function(a){j=a;return this},setElementBoundry:function(a){i=a;return this},startPosition:function(a){h=a;return this},endPosition:function(a){k=a;return this},animate:function(){qa=k-
h;e=(new Date).getTime();z=setInterval(a,10);return this},drag:function(a){var c=this;this.moveHandler=function(a){var c=Ed({event:Xb&&a.targetTouches.length?a.targetTouches[0]:a,boundry:i}).x();j.style.left=c+"px";Bb(a);J(a);p&&clearTimeout(p);p=setTimeout(function(){B({pos_x:c})},500)};this.upHandler=function(a){c.unbindDragHandlers();Bb(a);J(a)};H(document,Ob,this.moveHandler);H(document,vb,this.upHandler);Bb(a);J(a)},unbindDragHandlers:function(){nb(document,vb,this.upHandler);nb(document,Ob,
this.moveHandler);return this}}}function Ed(a){return{x:function(){var d=a.event.clientX-vd(a.boundry).x,d=d<this.boundry_x()?d:this.boundry_x();return 0<d?d:0},boundry_x:function(){var d=a.boundry.getBoundingClientRect();return d.width?d.width:d.right-d.left},y:function(){},boundry_y:function(){}}}function vd(a){var d=curtop=0;if(a.offsetParent){do d+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return{x:d,y:curtop}}}function T(){return new gb}function gb(){this.eventHandlers=[];this.firedEvents=
[]}function Kc(){if(function(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onCustomizationChange,onProviderLoginComplete,onProviderLoginCancel,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;
return!0}())clearTimeout(a),janrain.events.onAuthWidgetLoad.fire();else var a=setTimeout(Kc,5)}function wd(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,d=janrain.events.captureEvents.length;a<d;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;return janrain.settings.capture.federate&&!janrain.federateJSLoaded||!janrain.ready?!1:!0}if("function"===typeof janrainCaptureWidgetOnLoad)if(a())clearTimeout(d),
janrainCaptureWidgetOnLoad();else var d=setTimeout(wd,5)}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var d=Object(this),c=d.length>>>0;if(0===c)return-1;var e=0;0<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&Infinity!=e&&-Infinity!=e&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=c)return-1;for(e=0<=e?e:Math.max(c-Math.abs(e),0);e<c;e++)if(e in d&&d[e]===a)return e;return-1});Array.prototype.map||(Array.prototype.map=function(a,d){if(null===
this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var j=Array(e),i=0;i<e;i++)i in c&&(j[i]=a.call(d,c[i],i,c));return j});Array.prototype.filter||(Array.prototype.filter=function(a,d){if(null==this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!=typeof a)throw new TypeError;for(var j=[],i=0;i<e;i++)if(i in c){var h=c[i];a.call(d,h,i,c)&&j.push(h)}return j});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,
"")});var W=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;Va=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;bb=W;var Pb=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&
window.localStorage.setItem,kc=!1,Z="CSS1Compat"!==document.compatMode,Yb=!1,fa=!1,h=[],ob="816a0a4",Fd=!0,W=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),Db=null!==W?W[0]:!1,Zb="number"===typeof window.orientation||null!==
W,Cd="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),Bd="January,February,March,April,May,June,July,August,September,October,November,December".split(","),Gd=[16,20,30,32,48,50,64],xd=[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},
{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},
{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"}],Hd=[{text:"AB",value:"AB"},{text:"BC",value:"BC"},{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},
{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];ld=8;md=46;var Xb="ontouchstart"in window;kd=Xb?"touchstart":"mousedown";vb=Xb?"touchend":"mouseup";Ob=Xb?"touchmove":"mousemove";janrain.settings&&janrain.settings.storageServer&&yd("xDomainLocalStorageJanrain",janrain.settings.storageServer,function(){H(document.getElementById("xDomainLocalStorageJanrain"),"load",
function(){kc=!0})});var ra=navigator.userAgent,k=Qb(),yb=/Gecko\//.test(ra),qc=/AppleWebKit\//.test(ra);/Chrome\//.test(ra);var Id=lc(),x=function(){var a=function(a){for(var d=[],j=0;j<a.length;j++)d.push(a[j]);return d},d={};janrain.settings&&janrain.settings.permissions&&(d.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(d.share=a(janrain.settings.share.permissions));return function(a,e){e=e||"login";return!d[e]?!1:0<=d[e].indexOf(a)}}();
pc.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
for(var da=function(a,d,c){da=document.getElementsByClassName?function(a,c,d){for(var a=(c||document).getElementsByClassName(a),d=d?RegExp("\\b"+d+"\\b","i"):null,c=[],h,k=0,r=a.length;k<r;k+=1)h=a[k],(!d||d.test(h.nodeName))&&c.push(h);return c}:function(a,c,d){var d=d||"*",c=c||document,h=a.split(" "),a=[],c="*"===d&&c.all?c.all:c.getElementsByTagName(d),d=[],k;k=0;for(var r=h.length;k<r;k+=1)a.push(RegExp("(^|\\s)"+h[k]+"(\\s|$)"));for(var r=0,z=c.length;r<z;r+=1){h=c[r];k=!1;for(var p=0,ga=a.length;p<
ga&&!(k=a[p].test(h.className),!k);p+=1);k&&d.push(h)}return d};return da(a,d,c)},la=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;e(document.body,ga);y=k().content;r();p();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){H(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:
0},{height:window.innerHeight,width:window.innerWidth});i()},!1),setTimeout(i,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,i,!1)},!1));x.addHandler(function(){d({height:window.innerHeight,width:window.innerWidth},0)});D.addHandler(function(a){Va=a.height;bb=a.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,i,!1)},!1)}function d(a,c){var e=window.innerHeight,h=window.innerWidth,j=!0,i=!0;e!=a.height&&(j=!1);h!=a.width&&
(i=!1);j&&i?20>c?setTimeout(function(){d({height:e,width:h},++c)},100):D.fire({height:e,width:h}):setTimeout(function(){d({height:e,width:h},0)},100)}function c(){setTimeout(function(){z(y)},20);e(ga,document.body)}function e(a,c){for(var d=0;d<a.style.length;d++){var e=a.style[d];c.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}function h(){var a;a=(0===window.orientation||180===window.orientation)&&bb>Va||(90===window.orientation||-90===window.orientation)&&Va>
bb?!1:!0;var c="landscape";if(a&&(0===window.orientation||180===window.orientation))c="portrait";if(!a&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function i(){var a=h();z("width=device-width, initial-scale=1, maximum-scale=1");x.fire({orientation:a})}function k(){var a=document.getElementsByTagName("meta"),c;for(c in a)if("viewport"===a[c].name)return a[c];return!1}function r(){if("undefined"===typeof document.getElementsByTagName||k())return!1;var a=document.getElementsByTagName("head")[0],
c=document.createElement("meta");c.setAttribute("name","viewport");a.appendChild(c);return!0}function p(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function z(a){var c=k();if(!c||c.content==a)return!1;if("undefined"===typeof a){var d=k();document.getElementsByTagName("head")[0].removeChild(d)}c.content=a;return!0}var y,ga=document.createElement("div"),
F=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),B=null!==F?F[0]:!1,x=T(),D=T();B&&B[0].match(/android|\Wsilk\W/);var H=function(){var a=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},d={height:window.innerHeight,
width:window.innerWidth},e=!1;return function(h,j,i){var k=!1,r=function(a,c){return a.height>=a.width&&c.height>=c.width||a.width>a.height&&c.width>c.height?!0:!1},B=a===h,p=r(j,c),z=r(i,d);if(!B&&(!p||!z))k=!0;!B&&!p&&(e=!0);k&&(e&&!r(j,i)&&(k=i.height,i.height=i.width,i.width=k),Va=i.height,bb=i.width);a=h;c={height:j.height,width:j.width};d={height:i.height,width:i.width}}}();return{setElement:function(){return this},onOrientationChange:x,onViewportChange:D,getMobileDevice:function(){return B},
getOrientation:function(){return h()},activate:function(){a()},deactivate:function(){c()}}}(),Sb=function(a){var d;d="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";d=d.replace(/\/$/,"");return d+"/"+a},W={openId:{aol:{identifier:"aol",flow:"openid1",width:514,height:550,color:"#0FD6FF"},blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,
color:"##213368"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#FF0084"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5"},hyves:{identifier:"http://hyves.nl/",
flow:"openid",width:800,height:600,color:"#659BC8"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665"},verisign:{identifier:"http://pip.verisignlabs.com/",flow:"openid",width:945,height:600,color:"#B8004D"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:1050,height:550,color:"#3B5998",publishSettings:{},shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}},contact:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",shareSettings:{broadcast:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,
color:"#666666"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333"},orkut:{flow:"orkut",width:800,height:600,color:"#333"},vzn:{flow:"vzn",width:600,height:450,color:"#333"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333"},renren:{flow:"renren",width:950,height:550,color:"#333"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333"},mixi:{flow:"mixi",width:950,height:550,color:"#333",shareSettings:{broadcast:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},Eb={},pb=["openId",
"openId2","oauth"];0<pb.length;){var qb=pb.pop(),ja;for(ja in W[qb])Eb[ja]=W[qb][ja]}_draggingSliderFx=[];var y=function(){var a=[];return{log:function(d){var c={};c.id=a.length+1;c.message=d;a.push(c);return this},show:function(){if(0!=a.length){for(var d in a)if("undefined"!==typeof a[d].id){var c=a[d];"object"===typeof console&&("function"===typeof console.error?console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message):"function"===typeof console.log&&console.log("WARNING ID:"+c.id+" MESSAGE: "+
c.message))}a=[]}}}}();gb.prototype.addHandler=function(a){this.eventHandlers.push(a);return this.eventHandlers.length-1};gb.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};gb.prototype.fire=function(a){for(var d=this.eventHandlers.length,c=0;c<d;c++)try{if("function"===typeof this.eventHandlers[c])this.eventHandlers[c](a)}catch(e){y.log(e),y.show()}this.firedEvents.push({event:this,args:a})};"undefined"===typeof janrain.events&&(janrain.events=
{});var D;D||(D={});(function(){function a(a){return 10>a?"0"+a:a}function d(a){h.lastIndex=0;return h.test(a)?'"'+a.replace(h,function(a){var c=r[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,e){var h,j,r,z,y=i,x,o=e[a];o&&"object"===typeof o&&"function"===typeof o.toJSON&&(o=o.toJSON(a));"function"===typeof p&&(o=p.call(e,a,o));switch(typeof o){case "string":return d(o);case "number":return isFinite(o)?""+o:"null";case "boolean":case "null":return""+
o;case "object":if(!o)return"null";i+=k;x=[];if("[object Array]"===Object.prototype.toString.apply(o)){z=o.length;for(h=0;h<z;h+=1)x[h]=c(h,o)||"null";r=0===x.length?"[]":i?"[\n"+i+x.join(",\n"+i)+"\n"+y+"]":"["+x.join(",")+"]";i=y;return r}if(p&&"object"===typeof p){z=p.length;for(h=0;h<z;h+=1)"string"===typeof p[h]&&(j=p[h],(r=c(j,o))&&x.push(d(j)+(i?": ":":")+r))}else for(j in o)Object.prototype.hasOwnProperty.call(o,j)&&(r=c(j,o))&&x.push(d(j)+(i?": ":":")+r);r=0===x.length?"{}":i?"{\n"+i+x.join(",\n"+
i)+"\n"+y+"}":"{"+x.join(",")+"}";i=y;return r}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,k,r={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;"function"!==typeof D.stringify&&(D.stringify=function(a,d,e){var h;k=i="";if("number"===typeof e)for(h=0;h<e;h+=1)k+=" ";else"string"===typeof e&&(k=e);if((p=d)&&"function"!==typeof d&&("object"!==typeof d||"number"!==typeof d.length))throw Error("JSON.stringify");return c("",{"":a})});
"function"!==typeof D.parse&&(D.parse=function(a,c){function d(a,e){var h,j,i=a[e];if(i&&"object"===typeof i)for(h in i)Object.prototype.hasOwnProperty.call(i,h)&&(j=d(i,h),void 0!==j?i[h]=j:delete i[h]);return c.call(a,e,i)}var h,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+a+")"),"function"===typeof c?d({"":h},""):h;throw new SyntaxError("JSON.parse");})})();janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=T());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=T());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=T());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=T());janrain.events.onProviderLoginSuccess||
(janrain.events.onProviderLoginSuccess=T());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=T());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=T());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=T());Kc();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureRegistrationStart,onCaptureLoginStart,onCaptureLoginSuccess,onCaptureProfileSaveSuccess,onCaptureProfileSaveFailed,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureLoginFailed,onCaptureRegistrationSuccess,onCaptureRegistrationFailed,onCaptureEmailVerificationSuccess,onCaptureEmailVerificationFailed,onCaptureForgotPasswordCodeSuccess,onCaptureForgotPasswordCodeFailed,onCaptureSaveSuccess,onCaptureSaveFailed,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureServerValidationFailed,onCaptureFormError,onCaptureProfileCookieSet,onCaptureExpiredToken,onCaptureInvalidToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCaptureBackplaneReady,onCaptureBackplaneInitFailed,onCaptureAutoSaveUpdate,onModalClose,onModalOpen,onCaptureAccountReactivateSuccess,onCaptureAccountReactivateFailed,onCaptureAccountDeactivateSuccess,onCaptureAccountDeactivateFailed,onCaptureLinkAccountError,onCaptureError".split(",");
ja=0;for(W=janrain.events.captureEvents.length;ja<W;ja++)"undefined"===typeof janrain.events[janrain.events.captureEvents[ja]]&&(janrain.events[janrain.events.captureEvents[ja]]=new gb);janrain.events.onCaptureEmailVerficationSuccess=janrain.events.onCaptureEmailVerificationSuccess;janrain.events.onCaptureStartRegistration=janrain.events.onCaptureRegistrationStart;janrain.events.onCaptureStartLogin=janrain.events.onCaptureLoginStart;janrain.events.onCaptureSuccessfulLogin=janrain.events.onCaptureLoginSuccess;
janrain.events.onCaptureSuccessfulProfileSave=janrain.events.onCaptureProfileSaveSuccess;janrain.events.onCaptureFailedProfileSave=janrain.events.onCaptureProfileSaveFailed;janrain.events.onCaptureFailedLogin=janrain.events.onCaptureLoginFailed;janrain.events.onCaptureSuccessfulRegistration=janrain.events.onCaptureRegistrationSuccess;janrain.events.onCaptureFailedRegistration=janrain.events.onCaptureRegistrationFailed;janrain.events.onCaptureSuccessfulEmailVerification=janrain.events.onCaptureEmailVerificationSuccess;
janrain.events.onCaptureFailedEmailVerification=janrain.events.onCaptureEmailVerificationFailed;janrain.events.onCaptureSuccessfulSave=janrain.events.onCaptureSaveSuccess;janrain.events.onCaptureFailedSave=janrain.events.onCaptureSaveFailed;janrain.events.onCaptureFailedServerValidation=janrain.events.onCaptureServerValidationFailed;janrain.federateJSLoaded=!1;janrain.settings.capture.federate&&Zc("https://d16s8pqtk4uodx.cloudfront.net/sso/sso.js",function(){janrain.federateJSLoaded=!0}).setTimeoutLimit(1E4).setTimeoutCallback(function(){janrain.settings.capture.federate=
!1}).load();wd();ja=new function(){function a(){function a(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){if(Ia){var a=document.createElement("div");a.style.backgroundColor=m?"aqua":Sa;a.style.width=C+"px";a.style.height=Wa+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=w+"px";a.style.paddingRight=w+"px";a.style.paddingBottom=
w+"px";a.style.bottom="0px";a.style.fontSize="10px";a.style.textAlign="left";a.style.color=ha;Y(a,null,0,0,G,G);var l=document.createElement("div");l.appendChild(document.createTextNode(janrain.settings.translate.POWERED_BY_PREFIX||"Powered by "));l.style.paddingLeft="1px";var h=document.createElement("a");h.setAttribute("href","http://www.janrain.com/products/engage/engage-introduction?utm_source=login.janrain.com&utm_medium=partner&utm_campaign=attribution");h.setAttribute("target","_blank");h.appendChild(document.createTextNode("Janrain"));
l.appendChild(h);a.appendChild(l);ab=a}K=i();a=document.createElement("div");a.style.backgroundColor=m?"orange":Sa;a.className="janrainHeader";a.style.fontSize=la+"px";a.style.color=ha;a.style.position="relative";a.style.height=Ea+"px";40===Ka&&(a.style.cssFloat="left");a.style.left=40===Ka?"-6px":"-5px";a.style.paddingLeft=w+"px";a.style.paddingRight=w+"px";a.style.paddingTop=w+"px";a.style.paddingBottom="0px";a.style.whiteSpace="nowrap";a.style.width=40===Ka?"81px":C+"px";a.style.zIndex="100";40===
Ka?Y(a,null,G,0,0,G):Y(a,null,G,G,0,0);40===Ka&&(a.style.marginTop="-3px");a.style.textAlign="one column"===t?"center":"left";l=e();pa=document.createElement("div");pa.style.paddingLeft="1px";pa.style.fontFamily=La;" "!==l&&pa.appendChild(document.createTextNode(l));a.appendChild(pa);$a=a;A=document.createElement("div");A.className="janrainContent";A.style.width=C+"px";A.style.height=j()+"px";A.style.paddingLeft=w+"px";A.style.paddingRight=w+"px";A.style.boxSizing="content-box";40===Ka&&(A.style.paddingTop=
w-1+"px");fa||(A.style.backgroundColor=Sa);fa||(A.style.border=Ya?"1px solid "+Da:"1px solid "+Sa);A=Y(A,G);fa||(A.style.overflow="hidden");A.style.position=Ya?"relative":"absolute";Ga=z();2==K||0==K?(Fa=(new p).setSide("right").create(),ta=(new p).setSide("left").create()):(Fa=(new p).setSide("top").create(),ta=(new p).setSide("bottom").create());a=document.createElement("div");a.id="janrainView";" "!==e()&&a.appendChild($a);l=I("blank");l.style.display="none";a.appendChild(l);a.appendChild(Ga);
!fa&&Fa&&ta&&(a.appendChild(Fa),a.appendChild(ta));0<K&&Ia&&a.appendChild(ab);A.appendChild(a);x("customizable_auth_widget_styling")||d(A);Yb||y.show()}function d(a){function c(a){var d="string"===typeof a.getAttribute("style")?a.getAttribute("style"):null;d&&(d.cssText&&(d=d.cssText),a.style.setAttribute?a.style.setAttribute("cssText",d.replace(/(((?!!important).)+?);/g,"$1 !important;")):a.setAttribute("style",d.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var e=a.getElementsByTagName("*"),
l=0,h=e.length;l<h;l++)"janrainProviderPages"===e[l].id||"janrainSlideControl"===e[l].className||"janrainSlideControl"===e[l].parentNode.className||c(e[l]);c(a)}function e(){return Ba?oa:h.translate.HEADER?h.translate.HEADER:"two column"===t?a().twoColumn.actionText:"one column"===t?a().oneColumn.actionText:"one row"===t?a().oneRow.actionText:oa}function i(){var a=t;if("default"==a||"two column"==a)return 2;if("one column"==a)return 1;if("one row"==a)return 0}function j(){var a=" "===oa?0:Ea+w,c=
Ia&&"one row"!==t?Wa+w:0;return n()+a+c}function r(){var a=parseInt(Ga.style.left),c=parseInt(Ga.style.top),d;1==K?parseInt(Ga.style.height):parseInt(Ga.style.width);2==K&&(d=(C-3*w-(2==K?10:0))/K);if("one column"===t){if(" "===oa&&(c+=11,0<c||-9<=c))return 0;if(9>c)return 1;if(0<c||c>=-(Ea-(w+1)))return 0}0==K&&(d=C-100);if(0>a&&a<-d)return 1;if(0<a||a>=-w)return 0}function n(){if("two column"===t)var a=aa/2;"one column"===t&&(a=aa);"one row"===t&&(a=1);var c="one row"===t?0:2*a,d="one column"===
t?3*w:0;if(7===k||6===k||k&&Z){if("two column"===t&&(d=w,7===k||6===k))d=2*w;if("one column"===t&&(d=3*w,(7===k||6===k)&&!Z))d+=w;if("one row"===t&&(7===k||6===k))d=w}"one column"===t&&Ta<=aa&&(d=k&&Z?d+2*w:d-2*w);return S*a+w*(a+1)+c+d}function p(){function a(){var c;f="over";var cb=r();if(0==cb&&"left"===l||0==cb&&"top"===l||1==cb&&"right"===l||1==cb&&"bottom"===l)return this.style.cursor="default",s.onclick="",!1;var h=this;setTimeout(function(){if(1===$){if("over"!==f)return!1;k&&(e.style.display=
"block");j.style.display="block";s.onclick=d;h.style.cursor="pointer";var a=document.getElementById("janrainProviderPages");c="top"==l||"bottom"==l?parseInt(a.style.top):parseInt(a.style.left);var cb="right"===l||"bottom"===l?c-hb:c+hb;"top"===l||"bottom"===l?a.style.top=cb+"px":a.style.left=cb+"px";$=2}},k?50:100)}function c(){var a;f="out";var d=r();if(1==d&&"right"===l||0==d&&"left"===l||0==d&&"top"===l||1==d&&"bottom"===l)return!1;setTimeout(function(){if(2===$){if("out"!==f)return!1;k&&(e.style.display=
"none");j.style.display="none";var c=document.getElementById("janrainProviderPages");a="top"==l||"bottom"==l?parseInt(c.style.top):parseInt(c.style.left);var d="right"===l||"bottom"===l?a+hb:a-hb;"top"===l||"bottom"===l?c.style.top=d+"px":c.style.left=d+"px";$=1}},k?200:400)}function d(){j.style.display="none";s.style.cursor="default";o(l,function(a){B(a);$=1})}var e,l,h,j,i={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},f="",$=1,s;return{setSide:function(a){l=a;return this},
create:function(){var f;if(Ta<=aa)f=!1;else{f=document.createElement("div");f.setAttribute("id","janrainShim_"+l);f.style.background="black";"top"===l||"bottom"===l?(f.style.height="19px",f.style.width="100%"):(f.style.height="100%",f.style.width="17px");f.style.filter=m?"alpha(opacity=100)":"alpha(opacity=0)";f.style.position="absolute";f.style.zindex="99";if("top"===l||"bottom"===l)f.style.left="0";f.style[l]=w+"px";f.style.top="one column"!==t?w+1+"px":"top"===l?"10px":"0px";f.style.display="none";
e=f;f=document.createElement("div");f.style.backgroundColor=m?"green":Sa;f.className="janrainSlideControllerMask";f.style.position="absolute";"one column"!==t&&(f.style.width=w+"px",f.style.height="100%",f.style.top="0px",f.style[l]="0px",f.style.borderWidth="1px","right"===l&&(!Ia||"one row"===t)&&Y(f,null,0,0,G,0),"left"===l&&(!Ia||"one row"===t)&&Y(f,null,0,0,0,G),"right"===l&&" "===oa&&Y(f,null,0,G,G,0),"left"===l&&" "===oa&&Y(f,null,G,0,0,G));"one column"===t&&(f.style.height=w+"px",f.style.fontSize=
"0px",f.style.width="100%",f.style.padding="0px",f.style[l]="0px","top"===l&&" "===oa?Y(f,null,G,G,0,0):"bottom"===l&&!Ia&&Y(f,null,0,0,G,G));"one row"===t&&(f.style.height="105.5%");h=f;f=document.createElement("div");f.setAttribute("id","janrainArrow_"+l);f.style.background="url("+Sb("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+") no-repeat scroll "+i[l]+" transparent";f.style.height="19px";f.style.width="17px";f.style.position="absolute";if("top"===l||"bottom"===l)f.style.left=C/2+"px";f.style[l]=
w+"px";f.style.top="one column"!==t?n()/2-2*w+1+"px":"top"===l?"10px":"0px";f.style.display="none";j=f;f=document.createElement("div");f.className="janrainSlideControl";f.style.backgroundColor=m?"purple":"transparent";"one column"===t?(f.style.width=C+4+"px",f.style.left="3px","top"==l?(f.style.height=w+"px",f.style.top=Ea+w+"px"," "===oa&&(f.style.left="0px",f.style.width=C+10+"px")):(f.style.height="20px",f.style.bottom=(Ia?Wa+w:0)+"px",Y(f,null,0,0,G,G))):(f.style.width="right"===l?"20px":"0px",
f.style[l]="0px",f.style.height=n()-(w*(" "===oa)?1:2)+"px",40===Ka&&"one row"===t&&"left"===l&&(f.style.left=ra+"px"),"right"===l&&!Ia&&Y(f,null,0,0,G,0),"left"===l&&!Ia&&Y(f,null,0,0,0,G));f.style.position="absolute";f.style.zIndex="100";f.style.cursor="pointer";f.onmouseover=a;f.onmouseout=c;f.onclick=d;s=f;s.appendChild(h);s.appendChild(e);s.appendChild(j);f=s}return f}}}function o(a,c){var d=document.getElementById("janrainProviderPages"),l=new bd;if("top"===a||"bottom"===a){if(" "===oa)var e=
-(n()-S),h=0;else e=-(n()-S-Ea-w),h=Ea+w;50===S&&(e-=20);k&&Z&&(e+=w," "!==oa&&(h+=w));l.setElement(d).setAcceleration("sinusoidal").setDuration(100*aa).startPosition(parseInt(d.style.top)).endPosition("bottom"===a?e:h).setDirection("vertical").setCallback(function(){c(a)}).animate()}else k&&Z?(e=-(C-2*w-39),"one row"===t&&(e=-(ra-1*w))):(e=-(C-32),"one row"===t&&(e=-(C-24))),l.setElement(d).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(d.style.left)).endPosition("right"==
a?e:w).setDirection("horizontal").setCallback(function(){c(a)}).animate()}function z(){var a,c;function d(l){l=l.touches[0];"one column"===t?a=l.pageY:c=l.pageX}function l(d){d.preventDefault();d=d.touches[0];d="one column"===t?a-d.pageY:c-d.pageX;if(35<d||-35>d){var e;e="one column"===t?0<d?"bottom":"top":0<d?"right":"left";var f=r(),h=!0;"bottom"===e&&f+1==$&&(h=!1);"top"===e&&0==f&&(h=!1);"left"===e&&0==f&&(h=!1);"right"===e&&f+1==$&&(h=!1);h&&("one column"===t?j.style.top=parseInt(j.style.top)-
d+"px":j.style.left=parseInt(j.style.left)-d+"px",o(e,function(){B()}),j.ontouchmove="")}}function e(){j.ontouchmove=l}var h,j,i,f,$,s=K,m=[];f=D();$=fa?1:Math.ceil(Ta/aa);2<$&&y.log("Either reduce the number of providers, or increase the setting for providersPerPage.");j=document.createElement("div");j.setAttribute("id","janrainProviderPages");fa&&(j.className="janrainConfigureMode");j.style.paddingTop=(6===k||7===k)&&k&&Z?2*w:w+"px";if((6===k||7===k)&&!Z)j.style.paddingTop=w+4+"px";1<$&&(j.ontouchstart=
d,j.ontouchmove=l,j.ontouchend=e);40===Ka&&"one row"===t?j.style.left=ra+w+"px":k&&Z?"one column"!==t&&(j.style.left=w+"px"):j.style.left=w+"px";40===Ka&&"one row"===t&&(j.style.cssFloat="left");40===Ka&&"one row"===t&&(j.style.marginTop="1px");"one column"===t&&(j.style.top=(k&&Z?1:0)+Ea+w+"px");"one row"!==t&&" "===oa&&(j.style.top="0px");"one column"===t&&" "===oa&&(j.style.top="0px");h=C*$;j.style.position=k&&Z&&"one column"===t?"relative":"absolute";"two column"===t&&!(Ta<=aa)&&(j.style.width=
h+"px");"one row"===t&&(j.style.width=(!0===fa?C+w:2*C)+"px");fa&&(s=0);c=0;a=0;for(var n=0;n<$;n++){for(i=0;i<=s;i++)m[i]=document.createElement("ul"),m[i].className="providers",m[i].id="janrainProviders_"+i,1<s&&(m[i].style.cssFloat="left"),1<s&&(m[i].style.styleFloat="left"),m[i].style.listStyleType="none",m[i].style.marginTop="0px",m[i].style.marginLeft="0px",m[i].style.marginRight="0px",m[i].style.marginBottom="0px",m[i].style.padding="0px";h=document.createElement("div");h.className="janrainPage";
h.setAttribute("pageIndex",n);k&&Z&&1===$&&(h.style.width="110%");for(i=0;i<=s;i++)h.appendChild(m[i]);for(var p=f.length%2,v=fa?Ta:aa,u=0;u<v&&!(0==f.length);u++){if(2==s)var x=1==p?m[f.length%2?0:1]:m[f.length%2];if(1==s||0==s)x=m[0];i=f.shift();x.appendChild(i)}j.appendChild(h)}return j}function B(a){0==r()?("left"===a&&(ta.style.width=w+"px",Fa.style.display="block",Fa.style.width="20px"),"top"===a&&(Fa.style.height=w+"px",ta.style.display="block",ta.style.height="20px")):("right"===a&&(Fa.style.width=
w+"px",ta.style.display="block",ta.style.width="20px"),"bottom"===a&&(ta.style.height=w+"px",Fa.style.display="block",Fa.style.height="20px"))}function D(){for(var a=[],c=0;c<Ta;c++){var d=I(za[c]);a.push(d)}return a}function E(a,c){c.style.cursor="pointer";c.setAttribute("id","janrain-"+a);c.setAttribute("role","button");"one row"===t?c.style.background="transparent":("gradient"===db&&mc(c,"bottom, #eeeeee, #ffffff"),"gray"===db&&(c.style.backgroundColor="#eeeeee"),"white"===db&&(c.style.backgroundColor=
"#ffffff"));H(c,"mouseover",function(){Qb();"one row"===t?c.style.background="transparent":(c.style.backgroundColor="#E3E3E3",c.style.backgroundImage="")});H(c,"mouseout",function(){Qb();"one row"===t?c.style.background="transparent":("gradient"===db&&mc(c,"bottom, #eeeeee, #ffffff"),"gray"===db&&(c.style.backgroundColor="#eeeeee"),"white"===db&&(c.style.backgroundColor="#ffffff"))});Yb||F(c,a);return c}function I(a){var c=document.createElement("li");c.style.listStyle="none";0==K&&!1===fa&&(c.style.cssFloat=
"left");0==K&&!1===fa&&(c.style.styleFloat="left");c.style.textAlign="center";c.style.height=k&&Z?S-2:S+"px";if("two column"==t){var d=fa?3*w:Ta<=aa?0:3*w;c.style.width=6===k||Qb&&Z?(C-d-4*w)/K+"px":(C-d-(2==K?10:0))/K+"px"}c.style.marginTop="0px";if("one column"==t){if(7==k||6==k)c.style.marginTop="-1px";k&&Z?c.style.marginRight="0px":c.style.width=C-w/2+"px";c.style.marginLeft="0px"}else c.style.marginRight=w+"px";0==K&&(c.style.width=S+"px");c.style.marginBottom=(7===k||6===k||k&&Z?3:w)+"px";c.style.position=
"relative";0!=K&&(c.style.border="1px solid "+u);0!=K&&Y(c,xa);if("customopenid"===a){d=document.createElement("img");if(1==K||2==K)30==S&&(d.src=sa.smallLogo),50==S&&(d.src=sa.largeLogo);0==K&&(30==S&&(d.src=sa.smallIcon),50==S&&(d.src=sa.largeIcon))}else if(d=document.createElement("span"),"blank"!==a){if(1==K||2==K)30==S&&(d.className="janrain-provider100-"+a,d.style.width=100),50==S&&(d.className="janrain-provider150-"+a,d.style.width=150);0==K&&(30==S&&(d.className="janrain-provider-icon-32 janrain-provider-icon-"+
a,d.style.width=32),50==S&&(d.className="janrain-provider-icon-48 janrain-provider-icon-"+a,d.style.width=48))}k&&Z&&(d.style.height=S-2+"px");if(6===k&&"one row"!==t){var l=document.createElement("div");l.style.height=d.style.height;l.style.width="90px";l.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+d.src+"')";d.style.filter="alpha(opacity=0)";l.appendChild(d);c.appendChild(l)}else c.appendChild(d);return E(a,c)}function J(a,c){var d=document.createElement("div"),
l=h.translate.SIGN_IN_AS||"Sign in as {name}",l=l.replace("{name}",c),l=document.createTextNode(l),e=document.createElement("div");e.style.cssFloat="right";e.style.styleFloat="right";e.style.fontFamily=La;e.style.position="relative";e.style.top="one row"===t?"2px":S/4-3+"px";e.appendChild(l);var i=document.createElement("div"),$=7.5*l.length+30,s=j();i.style.fontSize="16px";i.style.height="100%";i.style.position="relative";if(0==K||120>s)15<=l.length&&(i.style.fontSize="14px",$=7*l.length+30),20<=
l.length&&(i.style.fontSize="12px",$=6*l.length+30),24<=l.length&&(i.style.fontSize="10px",$=5*l.length+25),30<=l.length&&(l.textContent=l.textContent.substr(0,26)+"...",$=162);i.style.width=$+"px";if(0==K||116>s){if("customopenid"===a){var f=document.createElement("img");f.src=sa.smallIcon}else f=document.createElement("span"),f.className="janrain-provider-icon-20 janrain-provider-icon-"+a;f.style.width="20px";f.style.height="20px";f.style.cssFloat="left";f.style.styleFloat="left"}d.style.overflow=
"hidden";d.style.position="relative";d.style.height=("one row"!==t?S:25)+"px";d.style.marginBottom="one row"===t?"-4px":"4px";"one row"===t&&(d.style.top="-4px");d.style.left="0px";k&&Z&&(d.style.marginRight="5px");k&&Z&&(d.style.marginLeft="3px");d.style.border="1px solid "+u;Y(d,xa);"customopenid"===a&&(d.style.color=Eb[a].color);if(0==K||116>s)i.style.paddingTop="2px",i.appendChild(f);6===k||7===k||k&&Z?i.style.left="10px":i.style.margin="0 auto";i.appendChild(e);0==K||116>s?d.appendChild(i):(50===
S&&parseInt(d.style.height),e.style.cssFloat="none",e.style.styleFloat="none",d.appendChild(e));return E(a,d)}function F(a,c){H(a,"click",function(){O(c)})}function O(a){var c=Eb[a],d={appUrl:h.appUrl,mobileDevice:Db,language:h.language,popup:Cb,tokenUrl:Ha||h.tokenUrl||window.location.href,facebookPermissions:Qa,forceReauth:Xa,widgetType:"auth",tokenAction:Ra,bpChannel:Va,customOpenid:nb,customOpenidOpxblob:h.customOpenidOpxblob};c.name=a;new bb(c,d,function(){Pa||(Gb=setTimeout(function(){Aa(c)},
300))})}function N(a){var c=document.createElement("div");if("customopenid"===a){var d=document.createElement("img");d.src=sa.largeLogo}else d=document.createElement("span"),d.className="janrain-provider150-"+a;d.style.width="150px";d.style.height="50px";c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.width=C+"px";c.style.zIndex="102";c.style.textAlign="center";c.style.padding=w+"px";c.style.backgroundColor="transparent"===Sa?"#ffffff":Sa;c.style.height=j()-(k&&Z?0:2*w)+"px";
Y(c,G);"one row"!==t&&116<=j()&&c.appendChild(d);return c}function Q(a){var c=document.createElement("a"),d=document.createTextNode(h.translate.USE_ANOTHER_ACCOUNT||"switch accounts");c.setAttribute("class","janrainSwitchAccountLink");c.setAttribute("href","");c.style.fontSize="12px";c.style.fontFamily=La;c.style.color=ha;c.onclick=a;c.appendChild(d);return c}function ba(){return"modal"===P?document.getElementById("janrainModal"):"embed"===P?document.getElementById("janrainEngageEmbed"):!1}function T(){var a=
parseInt(A.style.width);return a=a+2*w+2}function U(){var a=ba();null!==a&&"object"===typeof A&&A.parentNode===a&&a.removeChild(A)}function V(){var a="";"object"===typeof v&&(a=v.getState());return{type:P,width:T(),fontFamily:La,fontSize:la,fontColor:ha,backgroundColor:Sa,borderColor:Da,borderRadius:G,format:t,providersPerPage:aa,providers:za,buttonBackgroundStyle:db,buttonBorderColor:u,buttonBorderRadius:xa,actionText:e(),showAttribution:Ia,modalState:a}}function qa(a){t=M("string",["default","two column",
"one column","one row"],"two column",a);"default"===t&&(t="two column");"one row"==a&&(G=M("number",[0,10],5,G));na()}function da(a){"two column"===t&&(C=M("number",[225,600],380,a));"one column"===t&&(C=M("number",[160,600],200,a));"one row"===t&&(S=30,a=Ta<=aa?w*(parseInt(aa)-1):w*(parseInt(aa)+2),40===Ka&&(a+=ra-w),C=S*aa+a);if(("two column"===t||"one column"===t)&&!fa)C=C-2*w-2;k&&Z&&(C=C+2*w+2);"one row"!==t&&(S=380<C?50:30)}function Oa(c){"string"===typeof c&&(Ba=!0,oa=M("text",null,oa,c)," "===
oa?G=M("number",[0,5],5,G,!0):Ea="two column"!==t?a().headerHeight-5:a().headerHeight)}function va(a){db=M("string",["gray","white","gradient"],"gradient",a)}function ga(a){u=M("color",null,"#CCCCCC",a)}function ia(a){Sa=M("color",null,"#ffffff",a)}function W(a){"undefined"===typeof a&&(a=5);G=" "===oa||!Ia||"one row"===t?M("number",[0,5],5,a,!0):M("number",[0,10],10,a)}function ma(a){Ia=M("boolean",null,!0,a);j();G=a?M("number",[0,10],5,G,!0):M("number",[0,5],5,G,!0)}function ka(a){Da=M("color",
null,"#C0C0C0",a)}function na(){"two column"===t&&(la=18);if("one column"===t||"one row"===t)la=14}function ja(a){ha=M("color",null,"#333333",a)}function wa(a){if("object"==typeof a){K=i();for(var c=0,d=a.length;c<d;c++)Eb[a[c]]||(y.log(a[c]+" is not a valid provider: removing."),a.splice(c,1),--c,--d);za=a;Ta=a.length;"object"===typeof v&&v.setHeight(j()-2*w).refresh()}}function ya(a){"two column"===t&&(aa=M("number",[4,6,8],6,a));"one column"===t&&(aa=M("number",[1,6],6,a));"one row"===t&&(aa=eb?
Ta:M("number",[4,8],6,a),da(C))}function Aa(a){var c=document.createTextNode(h.translate&&h.translate.SIGNING_IN?h.translate.SIGNING_IN:"Signing in ..."),d=document.createElement("div");ib=N(a.name);d.appendChild(c);ib.appendChild(d);A&&A.appendChild(ib)}var m=!1,C=380,Ba=!1,La="lucida grande, Helvetica, Verdana, sans-serif",la=18,ha="#666666",Sa="#ffffff",Da="#C0C0C0",G=10,A,pa,t="two column",K,Ya,aa=6,za=["aol","google","yahoo","openid"],Ta=4,u="#CCCCCC",xa=5,db="gradient",S=30,Ea=a().headerHeight,
Ka=60,ra=89,Wa=a().footerHeight,w=5,hb=10,oa="Sign in using your account with",ib,Ga,Fa,ta,Ia=!0,Za=!1,Ua=!1,$a,ab;janrain.events.onProviderLoginStart.addHandler(function(a){fb("login_tab",a.provider,1)});return{build:c,setFormat:function(c){c&&qa(c);"two column"!==t&&(Ea=a().headerHeight-5);"two column"===t&&(aa=a().twoColumn.providersPerPage,Ea=a().headerHeight);return this},setActionText:function(a){"string"===typeof a&&Oa(a);return this},setFontSize:function(a){a&&na(a);return this},setFontFamily:function(a){a&&
a&&(La=a);return this},setFontColor:function(a){a&&ja(a);return this},setButtonBorderColor:function(a){a&&ga(a);return this},setButtonBorderRadius:function(a){if("string"==typeof a||"number"==typeof a)xa=M("number",[0,20],5,a);return this},setButtonBackgroundStyle:function(a){a&&va(a);return this},setWidth:function(a){("string"==typeof a||"number"==typeof a)&&da(a);return this},refresh:function(){U();var a=ba();c();var d=ea("expected_tab");d&&!ob?Ca("expected_tab",d):(null!==a&&"object"===typeof A&&
a.appendChild(A),"object"===typeof v&&v.setHeight(parseInt(A.style.height)+2).refresh());janrain.events.onCustomizationChange.fire(V());return this},remove:function(){U();return this},setRowHeight:function(a){if(0!==i())return this;a||(a=60);oneRowHeaderHeight=M("number",[40,60,90],60,a);40===oneRowHeaderHeight&&(S=30,Ka=40);60===oneRowHeaderHeight&&(S=30);90===oneRowHeaderHeight&&(S=50);return this},setHeight:function(a){"object"==typeof A&&(A.style.height=a+"px");return this},setBackgroundColor:function(a){a&&
ia(a);return this},setBorderColor:function(a){a&&ka(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&W(a);return this},setProviders:function(a){"object"==typeof a&&wa(a);return this},setProvidersPerPage:function(a){if("string"==typeof a||"number"==typeof a)ya(a),"object"===typeof v&&v.setHeight(j()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===typeof a&&ma(a);return this},setPreviewMode:function(a){"boolean"===typeof a&&(Yb=a);
return this},setProviderFlow:function(a,c){return F(a,c)},triggerFlow:function(a){return O(a)},setNoReturnExperience:function(a){"boolean"===typeof a&&(Za=a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(Ua=a);return this},setConfigureMode:function(a){"boolean"===typeof a&&(fa=a,K=i());return this},embed:function(a){if((Ya=a)&&"object"==typeof A)A.style.position="relative";return this},getContentsDiv:function(){return A},getErrorPage:function(a,c){var d=document.createTextNode(c.msg),
l=document.createElement("div");l.appendChild(d);l.style.color=ha;l.style.fontSize=la+"px";l.style.width="100%";var e=N(a);e.appendChild(l);e.appendChild(Q(function(){A.removeChild(e);A.removeChild(ib);Xa=!0;return!1},a));A.appendChild(e);return A},getReturnExperience:function(a,c){if(Yb||Za||-1===za.indexOf(a))return A;var d=J(a,c),l=N(a),e=function(){Xa=ob=!0;A.removeChild(l);return!1};l.id="janrainAuthReturnExperience";l.appendChild(d);Ua||l.appendChild(Q(e,a));A.appendChild(l);return A},getWidth:function(){return T()},
getActualHeight:function(){return parseInt(A.style.height)+2},getHeight:function(){return j()-2*w},getState:function(){return V()},setState:function(c){if(x("customizable_auth_widget_styling")){var d=c.fontFamily;d&&(La=d);na(c.fontSize);ja(c.fontColor);ia(c.backgroundColor);ka(c.borderColor);"embed"===P&&c.format&&(c.format&&qa(c.format),"two column"!==t&&(Ea=a().headerHeight-5),"two column"===t&&(aa=a().twoColumn.providersPerPage,Ea=a().headerHeight));if("string"==typeof c.providersPerPage||"number"==
typeof c.providersPerPage)ya(c.providersPerPage),"object"===typeof v&&v.setHeight(j()).refresh("janrainModal");va(c.buttonBackgroundStyle);ga(c.buttonBorderColor);xa=M("number",[0,20],5,c.buttonBorderRadius);Oa(c.actionText);ma(c.showAttribution);W(c.borderRadius);"embed"===P&&("string"==typeof width||"number"==typeof width)&&da(c.width)}wa(c.providers)},showNotice:function(){Aa()},removeNotice:function(){zb(ib)},removeReturnExperience:function(){var a=document.getElementById("janrainAuthReturnExperience");
zb(a)}}}function d(){if("object"===typeof n)if("object"===typeof ia){var a=n.getState();a.width=ia.width;ia=a}else ia=n.getState();"object"===typeof n&&n.remove();"object"===typeof v&&v.remove();r();P="modal";"object"===typeof n&&ia&&x("customizable_auth_widget_styling")&&n.setState(ia);"object"===typeof v&&Wb&&x("customizable_auth_widget_styling")&&v.setState(Wb);"object"===typeof v&&v.show();"object"===typeof n&&n.refresh()}function c(){if("object"===typeof n){if("object"===typeof ia){var a=n.getState();
a.borderRadius=ia.borderRadius;a.format=ia.format;a.width=ia.width;ia=a}else ia=n.getState();Wb=ia.modalState;delete Wb.orientation}"object"===typeof n&&n.remove();"object"===typeof v&&v.remove();"object"===typeof v&&(v="");j();P="embed";"object"===typeof n&&ia&&x("customizable_auth_widget_styling")&&n.setState(ia);"object"===typeof n&&n.refresh()}function e(){var a,c;r();c=document.getElementsByTagName("a");var d=RegExp("(\\s|^)"+h.linkClass+"(\\s|$)");for(a in c)d.test(c[a].className)&&(c[a].onclick=
i)}function j(){var c=ea("expected_tab");n=new a;n.setBackgroundColor(cc).embed(!0).setPreviewMode(dc).setShowAttribution(rb).setNoReturnExperience(pa).setNoReturnExperienceSwitchAccountLink(ec).setFormat(Jb).setRowHeight(fc).setFontSize(Kb).setFontFamily(sb).setFontColor(Lb).setActionText(gc).setProviders(wa).setProvidersPerPage(tb).setWidth(hc).setBorderColor(Mb).setBorderRadius(ic).setButtonBorderColor(Q).setButtonBorderRadius(xa).setButtonBackgroundStyle(ub).build();var d=document.getElementById("janrainEngageEmbed");
null===d&&(d=document.getElementById("janrainModal"));Da||(c?(ma("welcome_info_name",unescape(ea("welcome_info_name"))),Ca("expected_tab",c)):$a(d,n.getContentsDiv()))}function i(){"object"===typeof v&&v.show();return!1}function r(){var c=Rb(ab,za),d=ea("expected_tab");if("undefined"===typeof c||0>c)c=5;n=new a;n.setBackgroundColor(cc).setPreviewMode(dc).setShowAttribution(rb).setNoReturnExperience(pa).setNoReturnExperienceSwitchAccountLink(ec).setFontSize(Kb).setFontFamily(sb).setFontColor(Lb).setActionText(gc).setProviders(wa).setProvidersPerPage(tb).setBorderRadius(c).setButtonBorderColor(Q).setButtonBorderRadius(xa).setButtonBackgroundStyle(ub).build();
if("object"!==typeof v){v=new Jc;v.ready=!1;var e=v.addContent;v.addContent=function(a){v.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}v.setHeight(n.getActualHeight()).setWidth(n.getWidth()).setPreviewMode(dc).setBorderColor(Vb).setBorder(za).setBorderOpacity(Wa).setBorderRadius(ab);Da||(d?(ma("welcome_info_name",unescape(ea("welcome_info_name"))),Ca("expected_tab",d)):v.addContent(n.getContentsDiv()));v.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&n.setFormat(a.format).setWidth(200).refresh({center:!0});
"landscape"===a.orientation&&n.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh({center:!0});v.setHeight(n.getActualHeight());v.setWidth(n.getWidth())});v.onShow.addHandler(function(){"object"==typeof n&&v.setWidth(n.getWidth())});v.onBorderWidthChange.addHandler(function(a){"object"===typeof v&&"object"===typeof n&&(n.setBorderRadius(a.radius).refresh(),a=n.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&v.setBorderRadius(a.borderRadius+a.modalState.borderWidth))});
v.onBorderRadiusChange.addHandler(function(a){"object"===typeof n&&(n.setBorderRadius(a.radius).refresh(),a=n.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&v.setBorderRadius(a.borderRadius+a.modalState.borderWidth))})}function p(a,c){if(!x("customizable_auth_widget_styling"))return!1;if("object"===typeof n)return c(a),!0}function z(a){return p(a,function(a){n.setBackgroundColor(a).refresh()})}function I(a){return p(a,function(a){n.setBorderRadius(a).refresh()})}function J(a){return p(a,
function(a){n.setBorderColor(a).refresh()})}function O(a){return"modal"===P?!1:p(a,function(a){n.setWidth(a).refresh({center:!0})})}function F(a){return p(a,function(a){n.setActionText(a).refresh()})}function B(a){return p(a,function(a){n.setButtonBorderColor(a).refresh()})}function da(a){return p(a,function(a){n.setButtonBorderRadius(a).refresh()})}function W(a){return p(a,function(a){n.setButtonBackgroundStyle(a).refresh()})}function ja(a){return"modal"==P?!1:p(a,function(a){n.setFormat(a).refresh()})}
function o(a){return p(a,function(a){n.setProvidersPerPage(a).refresh()})}function la(a){return p(a,function(a){n.setFontFamily(a).refresh()})}function ra(a){return p(a,function(a){n.setFontSize(a).refresh()})}function N(a){return p(a,function(a){n.setFontColor(a).refresh()})}function ea(a){var c;if("single cookie"===V){c=E().getCookie("janrain_engage_login_data");if(!c)return;c=D.parse(c);return!c[a]?void 0:a=c[a]}if("default"===V)return a=E().getCookie(a),!a?void 0:a}function fb(a,c,d){var e;if(!a||
!c)return!1;d||(d=1);if("single cookie"===V)return(oldCookieJSON=E().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),d=D.parse(oldCookieJSON),d[a]=c,e=new E,e.setName("janrain_engage_login_data").setValue(D.stringify(d)).setExpiration(1826).create(),!0;return"default"===V?(e=new E,e.setName(a).setValue(c).setExpiration(d).create(),!0):!1}function na(a,c){if(pa)return!1;if("expected_tab"===a&&!c){var d=ea("login_tab");d&&na("expected_tab",d);return!1}if(!c||"undefined"===c||"expected_tab"!==
a&&"expected_user_input"!==a&&"welcome_info_name"!==a)return!1;c="welcome_info_name"===a?escape(c):c;fb(a,c,1826)}function U(a,c){var d={};a||(a=jc);c||(c=jc.appUrl);if(k&&3>wb)return d.widget_type=a.widget_type,d.provider=a.provider,d.time=(new Date).getTime(),d=Ab(d),ya(c+"/signin/get_login_info"+d),wb++,!0;"object"===typeof janrain.events.onProviderLoginCancel&&janrain.events.onProviderLoginCancel.fire(a);"undefined"!==typeof Gb&&clearTimeout(Gb);return!1}function bb(a,c,d){var e=c.appUrl+"/"+
a.flow+"/start",h=window.location.href;c.mobileDevice&&(h="mobile");var i=c.language||"en",j=c.popup?"xdr":"xdrsw",k=c.tokenUrl||window.location.href,n={};jc={appUrl:c.appUrl,provider:a.name,widget_type:c.widgetType};n.language_preference=i;n.token_url=k;n.display="popup";n.widget=!0;"object"===typeof c.facebookPermissions&&(n.ext_perm=c.facebookPermissions.toString());n.openid_identifier=a.identifier;n.origin_url=h;n.provider_name=a.name;n.force_reauth=c.forceReauth;n.xdReceiver=c.appUrl+"/"+j;n.callback=
"none";n.widget_type=c.widgetType;n.token_action="url";if("event"===c.tokenAction||"hybrid"===c.tokenAction)n.token_action="event";c.mobileDevice&&"hybrid"===c.tokenAction&&(n.token_action="url");c.bpChannel&&(n.bpChannel=c.bpChannel);c.customOpenid&&"string"===typeof c.customOpenidOpxblob&&(n.opx_blob=c.customOpenidOpxblob);e+=Ab(n);(function(){janrain.events.onProviderLoginStart.fire({provider:a.name,width:a.width,height:a.height});var h;c.mobileDevice&&"event"!==c.tokenAction||!c.popup?ya(c.appUrl+
"/signin/set_login_tab?login_tab="+a.name+"&origin_url="+encodeURIComponent(window.location.href),function(){window.top.location.href=e}):(h=new Dd(e),h.setWidth(a.width).setHeight(a.height).setCallback(function(){var e={},h="";e.widget_type=c.widgetType;e.provider=a.name||"";e.time=(new Date).getTime();h=Ab(e);"function"===typeof d&&d();ya(c.appUrl+"/signin/get_login_info"+h);janrain.events.onProviderLoginComplete.fire({provider:a.name})}).show())})()}function ma(a,c){if(!c||"undefined"===c||"welcome_info_name"!==
a)return!1;c&&(Aa=c)}function Ca(a,c){function d(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,welcomeName:Aa})}var e=function(a){var d=function(){600>a&&setTimeout(function(){e(++a)},50)};if("object"!==typeof n)return d(),!1;"modal"===P?v.addContent(n.getReturnExperience(c,Aa)):"embed"===P&&$a(document.getElementById("janrainEngageEmbed"),n.getReturnExperience(c,Aa));"modal"===P&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!c)return!1;"object"===typeof n&&n.removeReturnExperience();
vb?d():janrain.events.onAuthWidgetLoad.addHandler(d);e(0)}function $a(a,c){janrain.settings.capture&&(a?a.appendChild(c):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?a.appendChild(c):y.log('Missing container div, please place this div where you want the embedded widget to be displayed on your page - <div id="janrainEngageEmbed"></div>.').show();return a}function Za(a,c){Ha=Ha||Ba;tokenUrl=c?Ha:Ba;var d="";if(!pc(tokenUrl).query)var d=
d+"?",e=!0;for(var h in a)e?(d+=h+"="+a[h],e=!1):d+="&"+h+"="+a[h];Ha=tokenUrl+d}function Ga(){h=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout(Ga,5),!1;Ub(Ec()+"providers.css");k&&9>=k&&Ub(Ec()+"providers-ie.css");if(h.stop)return!0;Zb&&ya(h.appUrl+"/signin/establish_session");Ra=h.tokenAction?h.tokenAction:Ra;if(!h.tokenUrl&&"event"===Ra)Ba=window.location.href;else if(h.tokenUrl)Ba=h.tokenUrl;else return y.log("Missing tokenUrl.  tokenUrl is required."),
y.show(),!1;P=M("string",["modal","embed"],"embed",h.type?h.type:P);Da=h.multi?h.multi:Db?!0:Da;Pa=h.custom?h.custom:Pa;Xa=h.forceReauth?h.forceReauth:Xa;Va=h.bpChannel?h.bpChannel:Va;Qa=h.facebookPermissions?h.facebookPermissions:Qa;V=h.storageType?M("string",["default","single cookie"],"default",h.storageType):V;Cb="boolean"===typeof h.popup?h.popup:Cb;Db&&"event"!==Ra&&(Cb=!1);ha=h.returnExperienceTimeout?h.returnExperienceTimeout:ha;Da&&(setTimeout(function(){var a=ea("expected_tab");a?(ma("welcome_info_name",
unescape(ea("welcome_info_name"))),Ca("expected_tab",a)):"modal"===P?v.addContent(n.getContentsDiv()):"embed"===P&&(a=document.getElementById("janrainEngageEmbed"),$a(a,n.getContentsDiv()))},ha),ya(h.appUrl+"/signin/get_cookies"));if(h.customOpenid&&x("customizable_auth_widget_styling")){nb=!0;if(!h.customOpenidFlow)return y.log("Missing customOpenidFlow. customOpenidFlow is required when adding a custom openid provider."),y.show(),!1;if(!h.customOpenidIdentifier)return y.log("Missing customOpenidIdentifier. customOpenidIdentifier is required when adding a custom openid provider."),
y.show(),!1;Eb.customopenid={flow:h.customOpenidFlow,identifier:h.customOpenidIdentifier,width:h.customOpenidModalWidth||800,height:h.customOpenidModalHeight||600}}if(Pa)return!0;Ra=h.tokenAction?h.tokenAction:Ra;za=x("customizable_auth_widget_styling")?h.modalBorderWidth:za;Vb=x("customizable_auth_widget_styling")?h.modalBorderColor:Vb;ab=x("customizable_auth_widget_styling")?h.modalBorderRadius:ab;Wa=x("customizable_auth_widget_styling")?h.modalBorderOpacity:Wa;cc=x("customizable_auth_widget_styling")?
h.backgroundColor:cc;ic=x("customizable_auth_widget_styling")?h.borderRadius:ic;Mb=x("customizable_auth_widget_styling")?h.borderColor:Mb;Jb=x("customizable_auth_widget_styling")?h.format:Jb;Lb=x("customizable_auth_widget_styling")?h.fontColor:Lb;Kb=x("customizable_auth_widget_styling")?h.fontSize:Kb;sb=x("customizable_auth_widget_styling")?h.fontFamily:sb;hc=x("customizable_auth_widget_styling")?h.width:hc;fc=x("customizable_auth_widget_styling")?h.rowHeight:fc;tb=x("customizable_auth_widget_styling")?
h.providersPerPage:tb;eb=x("customizable_auth_widget_styling")?h.providersNotPaged:eb;gc=x("customizable_auth_widget_styling")?h.actionText:gc;Q=x("customizable_auth_widget_styling")?h.buttonBorderColor:Q;xa=x("customizable_auth_widget_styling")?h.buttonBorderRadius:xa;ub=x("customizable_auth_widget_styling")?h.buttonBackgroundStyle:ub;rb=x("customizable_auth_widget_hide_attribution")?h.showAttribution:rb;dc=h.previewMode;pa=h.noReturnExperience;ec=h.noReturnExperienceSwitchAccountLink;wa=h.providers;
"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate=h.translate={});if(h.customOpenid&&x("customizable_auth_widget_styling")){if(!h.customOpenidSmallLogo)return y.log("Missing customOpenidSmallLogo.  customOpenidSmallLogo is required and should be the full path to an image that has a width of 90px and height of 30px."),y.show(),!1;if(!h.customOpenidSmallIcon)return y.log("Missing customOpenidSmallIcon.  customOpenidSmallIcon is required and should be the full path to an image that is 30px x 30px."),
y.show(),!1;if(!h.customOpenidLargeLogo)return y.log("Missing customOpenidLargeLogo.  customOpenidLargeLogo is required and should be the full path to an image that has a width of 150px and height of 50px."),y.show(),!1;if(!h.customOpenidLargeIcon)return y.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),y.show(),!1;sa={smallLogo:h.customOpenidSmallLogo,smallIcon:h.customOpenidSmallIcon,largeLogo:h.customOpenidLargeLogo,
largeIcon:h.customOpenidLargeIcon}}h.previewMode?("modal"===P&&(janrain.ready?d():H(window,"load",d)),"embed"===P&&(janrain.ready?c():H(window,"load",c))):("modal"===P&&(janrain.ready?e():H(window,"load",e)),"embed"===P&&(janrain.ready?j():H(window,"load",j)))}var Qa,Va,nb=!1,Xa=!1,Ra="url",Ba,Ha,P="embed",Aa="unknown",Da=!1,ha=300,Xa=!1,Cb=!0,Pa=!1,V="default",sa,Wb,v,za,Vb,ab,Wa,n,ia,cc,ic,Mb,hc,fc,Jb,wa=[],eb=!1,tb,gc,Kb,sb,Lb,Q,xa,ub,dc,pa,ec,rb,ob=!1,vb=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=
T());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=T());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=T());janrain.events.onAuthWidgetLoad.addHandler(function(){vb=!0});janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===typeof janrainWidgetOnload&&(Pa?janrainWidgetOnload():n?janrainWidgetOnload(n.getState()):janrainWidgetOnload())});for(var Gb,wb=0,jc,Dc="onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginCancel,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),
Nb=0;Nb<Dc.length;Nb++)"undefined"===typeof janrain.events[Dc[Nb]]&&(janrain.events[Dc[Nb]]=new gb);janrain.events.onProviderLoginError.addHandler(function(a){if(Pa)return!0;var c=ea("login_tab");if("modal"===P){var d=document.getElementById("janrainModal");d&&d.appendChild(n.getErrorPage(c,a.err))}"embed"===P&&(d=document.getElementById("janrainEngageEmbed"))&&$a(d,n.getErrorPage(c,a.err))});Ga();return{appendTokenParams:function(a,c){Za(a,c)},appendTokenParamsCumulative:function(a){Za(a,!0)},setBackplaneChannel:function(a){Va=
a},setLoginCookie:function(a,c){na(a,c)},loginHandler:function(a){var c=Ra;a?("ok"===a.stat&&("event"===c||"hybrid"===c?ya(a.redirectUrl):(c=document.createElement("form"),c.action=a.redirectUrl,c.method="POST",janrain.settings.targetTop&&(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===a.stat&&(janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof Gb&&clearTimeout(Gb))):U()},cancelLogin:function(a){U(a,h.appUrl);Pa||n.removeNotice()},removeNotice:function(){n.removeNotice()},
setWelcomeInfoName:function(a,c){ma(a,c)},setReturnExperience:function(a,c){Ca(a,c)},setNoReturnExperience:function(a,c){var d;"boolean"===typeof a&&n?(n.setNoReturnExperience(a),c||n.refresh(),d=!0):d=!1;return d},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&n?(n.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&n?(n.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===
typeof a&&n?(n.setConfigureMode(a).refresh(),a=!0):a=!1;return a},setCustom:function(a){Pa=a},getState:function(){return"object"===typeof n?n.getState():!1},setProviderFlow:function(c,d){var e;e=!x("customizable_auth_widget_styling")||!Pa?!1:a().setProviderFlow(c,d);return e},triggerFlow:function(c){c=!x("customizable_auth_widget_styling")||!Pa?!1:a().triggerFlow(c);return c},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?
(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+
navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+a+": "+janrain.settings[a]),"object"===typeof janrain.settings[a])for(var c in janrain.settings[a])"function"!==typeof janrain.settings[a][c]&&console.log(" --- --- "+c+": "+janrain.settings[a][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){c()},setBackgroundColor:function(a){return z(a)},setBorderColor:function(a){return J(a)},
setBorderRadius:function(a){return I(a)},setWidth:function(a){return O(a)},setActionText:function(a){return F(a)},setFontFamily:function(a){return la(a)},setFontSize:function(a){return ra(a)},setFontColor:function(a){return N(a)},setFormat:function(a){return ja(a)},setButtonBorderColor:function(a){return B(a)},setButtonBorderRadius:function(a){return da(a)},setButtonBackgroundStyle:function(a){return W(a)},setProviders:function(a){var c;"object"===typeof n&&(fa?n.setProviders(a):n.setProviders(a).refresh(),
c=!0);return c},setProvidersPerPage:function(a){return o(a)},setShowAttribution:function(a){var c;x("customizable_auth_widget_hide_attribution")?"object"===typeof n&&n.setShowAttribution(a).refresh():c=!1;return c},refresh:function(){return n.refresh()},getWidth:function(){return n.getWidth()}},modal:{init:function(){d()},close:function(){"object"==typeof v&&v.close()},create:function(){return new Jc},setBorder:function(a){x("customizable_auth_widget_styling")?("object"===typeof v&&(v.setBorder(a),
v.refresh({center:!0})),a=!0):a=!1;return a},setBorderColor:function(a){x("customizable_auth_widget_styling")?("object"===typeof v&&(v.setBorderColor(a),v.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){x("customizable_auth_widget_styling")?("object"===typeof v&&(v.setBorderOpacity(a),v.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){x("customizable_auth_widget_styling")?("object"==typeof v&&(v.setBorderRadius(a),v.refresh()),a=!0):a=!1;return a}}}};var W=new function(){return{status:"not loaded"}},
pb=new function(){return{status:"not loaded"}},qb=new function(){return{status:"not loaded"}},Jd=new function(){function a(b){function a(){t=!0;var q=b||h();b&&!Fd&&(y.log("This environment does not allow specifying a flow path through janrain.capture.ui.start"),y.show(),q=null);b&&(jb=pc(b).queryKey.flow_path);ya(q,n);o();Ba();janrain.events.onCaptureLoginFailed.addHandler(function(){Fa++;Ra()});janrain.events.onCaptureLoginSuccess.addHandler(function(){Fa=0;Ra()});janrain.events.onCaptureLoginSuccess.addHandler(function(){sb(Uc)});
janrain.events.onCaptureRegistrationSuccess.addHandler(function(){sb(Uc)});janrain.events.onCaptureValidationComplete.addHandler(function(){a:{var b=!1,a;for(a in ua)if("invalid"===ua[a].status){var q=ua[a].postValidationActions;if(q)for(var c in q){if(!ua[a].validation||"undefined"===typeof ua[a].validation[c])break a;for(var g in q[c])if(q[c].hasOwnProperty(g))switch(g){case "render":q[c].render.screen&&!b&&(b=!0,(new xa).setScreenData(q[c].render.screen,m.screens[q[c].render.screen]));break;case "setCookie":var R=
q[c].setCookie.name,d=actionObj.setCookie.value,Na=q[c].setCookie.days;(new E).setExpiration(Na).setUseLocalStorage(!0).setName(R).setValue(d).create()}}}}});janrain.events.onCaptureRenderComplete.addHandler(function(){if(Bb){var b=C.savedProfileMessage||"Your profile has been saved",a=da("capture_profileSavedMessage_container",X.div),q=a.length;if(q)for(var c=0,q=a.length;c<q;c++)a[c].innerHTML=b,a[c].style.display="",hc(a[c]);else if(Ta&&(a=document.getElementById(L+Ta+"_defaultSavedProfileMessage")))a.innerHTML=
'<div class="capture_save_success capture_profileSavedMessage_container">'+b+"</div>",hc(a);Bb=!1;janrain.settings.capture.autoSave&&Qb()}ja()});janrain.events.onCaptureContentChange.addHandler(function(){if("object"===typeof u&&u.isOpen()){u.setHeight(Wa(u.getContent()).height);var b=u.getState().width,a=Wa(u.getContent()).width;(b=b!==a)&&u.setWidth(a);u.refresh({center:b})}});janrain.settings.custom&&!aa&&ra()}function c(){Id&&(janrain.settings.capture.federate=!1);janrain.settings.capture.federate&&
!janrain.federateJSLoaded&&(janrain.settings.capture.federate=!1,Xc=!0);janrain.settings.capture.redirectFlow?ia(a):a()}function g(){La=Backplane.getChannelID();if(!Mc){Mc=!0;var b=function(){Backplane.expectMessages("identity/login")};janrain.events.onCaptureLoginSuccess.addHandler(b);janrain.events.onCaptureRegistrationSuccess.addHandler(b);janrain.events.onCaptureBackplaneReady.fire();c()}}Jb(fc());janrain.settings.capture.noStyling||(Ub(Ec()+"widgets.css"),qd(Ec()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&
z(janrain.settings.capture.stylesheets))for(var d=janrain.settings.capture.stylesheets,e=d.length,f=0;f<e;f++)Ub(d[f]),x(d[f]);if(k&&9>k&&janrain.settings.capture.conditionalIEStylesheets&&z(janrain.settings.capture.conditionalIEStylesheets)){d=janrain.settings.capture.conditionalIEStylesheets;e=d.length;for(f=0;f<e;f++)qd(d[f]),x(d[f])}if(Zb&&janrain.settings.capture.mobileStylesheets&&z(janrain.settings.capture.mobileStylesheets)){d=janrain.settings.capture.mobileStylesheets;e=d.length;for(f=0;f<
e;f++)Ub(d[f]),x(d[f])}janrain.settings.capture.backplane?ya("https://d134l0cdryxgwa.cloudfront.net/backplane.js",function(){function b(){a++;if(20<a)return Q("backplanecallback not successful"),janrain.events.onCaptureBackplaneInitFailed.fire(),Mc=!0,janrain.settings.capture.backplane=!1,c(),!1;if(Mc)return clearTimeout(q),!1;var q=setTimeout(b,500)}Backplane(g);Backplane.init({serverBaseURL:"https://backplane1.janrainbackplane.com/v1.2",busName:janrain.settings.capture.backplaneBusName,channelExpires:janrain.settings.capture.backplaneChannelExpires||
""});var a=0;b()}):c()}function d(b,a,c,g){var d=[];g&&d.push({value:"",text:g,disabled:!0});if("desc"===c)for(c=a;c>b-1;c--)d.push({value:c,text:c});else for(c=b;c<a+1;c++)d.push({value:c,text:c});return d}function c(b){return"string"===typeof b?"capture_"+b+"_":"capture_"+e(b)+"_"}function e(b){var a=b.getAttribute("data-capturescreenname");if(a&&m.screens[a])return a;for(var a=da("capture_screen_container"),c=0,g=a.length;c<g;c++)if(rd(a[c],b))return a=a[c].getAttribute("data-capturescreenname"),
b.setAttribute("data-capturescreenname",a),a}function h(){var b=ac,a=janrain.settings.capture.flowVersion||"HEAD",c=janrain.settings.capture.flowName||"default",g=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=g?i()+"/widget_data/flow.js:"+g+":"+b+":"+a+":"+c:i()+"/widget_data/flow.js:"+b+":"+a+":"+c}function i(){return"https://dlzjvycct5xka.cloudfront.net"}function x(b){p(Ea,b)||Ea.push(b);Ka=Ea.length}function M(b){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+
b+"' is missing."}}function Z(b){b=I(b);T(b)}function T(b,a){var c=b.getAttribute("data-capturefield"),c=sc.check(b,m.fields[c]),g=document.getElementById(b.id+"_errors");!c.valid&&c.reason?g&&(g.innerHTML=c.reason):g&&(g.innerHTML="");if(a)return"object"!==typeof c&&(c={valid:!0}),c}function W(b,a){var R=c(b),g=document.getElementById(R+a.name+"_dateselectmonth"),g=g.options[g.selectedIndex].value,d=document.getElementById(R+a.name+"_dateselectday"),d=d.options[d.selectedIndex].value,R=document.getElementById(R+
a.name+"_dateselectyear"),R=R.options[R.selectedIndex].value;return!g||!d||!R?!1:g+"/"+d+"/"+R}function ga(b,a){if(!b)return!1;for(var c=b.getElementsByTagName("input"),g=b.getElementsByTagName("select"),d=b.getElementsByTagName("textarea"),e=[],c=[c,g,d],a=a||!1,g={},d=0,f=c.length;d<f;d++)for(var h=c[d],i=h.length,j=0;j<i;j++){var k=h[j];"true"===k.getAttribute("data-capturecollection")?g[k.name]||($a(k,!0,a)||e.push(k),g[k.name]=!0):"file"===k.type?T(k,!0).valid||e.push(k):$a(k,!0,a)||e.push(k)}janrain.events.onCaptureValidationComplete.fire({fieldsWithError:e});
return 0===e.length}function F(){}function B(){}function Y(b){var a=document.getElementById("captureIFrame_"+b);"yes"!==a.getAttribute("data-captureiframeloadeventbound")&&(a.setAttribute("data-captureiframeloadeventbound","yes"),H(document.getElementById("captureIFrame_"+b),"load",Va))}function fa(b,a,c){if(!z(b)&&!a)return!1;z(b)||(b=[]);var g=b.length,d,e=new xa,f="",h=[],i=document.getElementById(c+a);if(!i)return!1;for(a=0;a<g;a++)if(d=m.fields[b[a]])d.fieldPrefix=c,d.name=d.elementName=b[a],
f+=e.renderField(d),h.push(d.name);if(!f.length&&i)return i.innerHTML="",!1;i.innerHTML=f;a=0;for(g=h.length;a<g;a++)(b=document.getElementById(c+h[a]))&&H(b,"blur",Ca)}function ja(){for(var b=X.div.getElementsByTagName("select"),a=b.length,c=0;c<a;c++)b[c].getElementsByTagName("option")[b[c].selectedIndex].disabled&&(r(b[c]).append("capture_disabled"),H(b[c],"change",function(){r(this).remove("capture_disabled")}))}function o(){H(document.body,"click",function(b){var a=janrain.settings.capture.logoutLinksClass||
"capture_end_session",c=I(b);c&&c.nodeName&&"A"===c.nodeName&&(r(c).has(a)&&(sa(),J(b)),a=c.getAttribute("data-capturescreen"),c=c.getAttribute("data-captureuseruuid"),a&&c?($(a,c),J(b)):a&&!c&&(Hb=!0,janrain.capture.ui.renderScreen(a),J(b)))})}function ra(){janrain.events.onProviderLoginToken.addHandler(function(b){if(b.janrainWidgetParameters&&b.janrainWidgetParameters.widget_type&&"share"===b.janrainWidgetParameters.widget_type)return!1;b.linkAccounts?f.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:b.currentScreen,needsResponse:!0,callback:function(){janrain.events.onCaptureProfileLink.fire({provider:b.janrainWidgetParameters.provider,authProfile:mc})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",elementValue:b.token}]}):(janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience,!0),Tc&&
(Cc=mb),mb=b.token,X.values=ub(X.div.id),tc.push(X),Wb(b.keepMeLoggedIn))});aa=!0}function Va(b){var b=I(b),a=b.getAttribute("data-transactionId"),c=D.parse(b.getAttribute("next"));"formClicked"===b.className&&function(){pa("/widget/get_result.jsonp",{transactionId:a,cache:(new Date).getTime()},function(){function b(){d++;if(10<d)return Q("could not find transaction status"),!1;if(Sa[a])tb(a),clearTimeout(e),e=Sa[a],"success"===e.status?Za(c):Q("there was a problem with the response",e);else var e=
setTimeout(b,50)}var d=0;b()})}()}function N(b,a){for(var R=I(b).getAttribute("id").split("_")[3],g=I(b),d=c(g),g=g.parentNode,e=r(g).has("capture_tab_toggle"),f=e?"capture_tab_toggle":"capture_radio_toggle",h=0;h<a.collection.length;h++)a.collection[h].elementName!==R&&(document.getElementById(d+a.collection[h].elementName).style.display="none");for(var f=da(f,document.getElementById(d+a.elementName)),i=f.length,h=0;h<i;h++)r(f[h]).remove("capture_toggled");r(g).append("capture_toggled");document.getElementById(d+
R).style.display="block";janrain.events.onCaptureContentChange.fire();e&&J(b)}function ea(b,a,c,g){c=g?D.stringify(g):c;eb(a);b.className="formClicked";b.setAttribute("next",c)}function bb(){var b,a,R,g,d,e,f=!1;return{setIframe:function(a){b=a;return this},setTransactionId:function(b){a=b;return this},setNext:function(b){R=b;g=D.parse(R);return this},setForm:function(b){d=b;return this},setEvent:function(b){e=b;return this},process:function(){if(g.conditional){for(var h=g.conditional,i=h.length,
j=0;j<i;j++){var k;a:{k=h[j];var l=m.fields[k.field],l=c(d)+(l.elementId||l.elementName),l=document.getElementById(l);switch(k.compare){case "=":if(l.value===k.value){k=!0;break a}}k=void 0}if(k){f=h[j];break}}f?f.nosubmit?(J(e),Za(f.next)):ea(b,a,R,f.next):ea(b,a,R)}else g.dontSubmit?(J(e),g.storeValues&&ub(d.id,!0),Za(g)):ea(b,a,R)}}}function na(b){var a=I(b),c=a&&a.id?a.id:"",g=I(b).getAttribute("data-transactionId"),d=document.getElementById("captureIFrame_"+g),e=da("capture_focused"),f;a.getAttribute("next")||
a.setAttribute("next",'{"noop":""}');var h=a.getAttribute("next");if("true"!==a.getAttribute("data-capturedomelement")||"true"===a.getAttribute("data-capturedomelementvalidate")){Ya||U(a);X.values=ub(X.div.id);if(ga(a)){if(e&&0<e.length){e=e[0].children;f=e.length;for(var i=0;i<f;++i)e[i].blur&&e[i].blur()}var j=!1,k=function(){var g=0;m++;400<m&&(clearTimeout(validationTimeout),J(b));for(var d in ua)if(ua.hasOwnProperty(d)){if("invalid"==ua[d].status&&c===ua[d].formId){J(b);Ya||ma(a);return}"pending"==
ua[d].status&&c===ua[d].formId&&g++}0===g?("function"===typeof validationTimeout&&clearTimeout(validationTimeout),j&&a.submit()):(J(b),j=!0,validationTimeout=setTimeout(k,50))},m=0;k()}else return Ya||ma(a),J(b),!1;e=Ad(a);f=Dc();e.parentNode.insertBefore(f,e);e.style.display="none"}(new bb).setIframe(d).setTransactionId(g).setNext(h).setForm(a).setEvent(b).process()}function U(b){for(var b=gb(b),a=0,c=b.length;a<c;a++)fd.clearPlaceHolder(b[a])}function gb(b){for(var a=[],c=td(b.getElementsByTagName("input")),
c=c.concat(td(b.getElementsByTagName("textarea"))),b=0,g=c.length;b<g;b++)c[b].getAttribute("placeholder")&&c[b].getAttribute("placeholder").length&&a.push(c[b]);return a}function ma(b){for(var b=gb(b),a=0,c=b.length;a<c;a++)fd.restorePlaceHolder(b[a])}function Ca(b){b=fb(b);$a(b,!1)}function $a(b,a,d){if(b.type&&("hidden"===b.type||"submit"===b.type||"file"===b.type)||!b.getAttribute("data-capturefield"))return!0;var g=b.getAttribute("data-capturerendererfield")?m.fields[b.getAttribute("data-capturerendererfield")]:
m.fields[b.getAttribute("data-capturefield")],e=b.getAttribute("data-capturerendererchildfieldname"),h=e?g.elementName+"["+e+"]":g.elementName,i=c(b),j;j=!1;if(g.validation)j=(j=g.validation[e])&&j.required?j.required:!1,j=g.validation.required||j;else return!0;if(!b.value&&!j||g.validation.type&&"server"===g.validation.type||e&&!g.validation[e]&&"dateselect"!==g.type)return!0;e=b.id||b.name;ua[e]={};ua[e].status="pending";ua[e].postValidationActions=g.validation.actions||null;h="multiCheckbox"===
g.element||"multiRadio"===g.element?document.getElementById(i+"form_collection_"+g.elementName):"dateselect"===g.type?document.getElementById(i+"form_item_"+g.name):document.getElementById(i+"form_item_"+h);d||r(h).append("capture_validating");i=new f.validation;i.setParentDiv(h);i.setElement(b);b=sc.check(b,g,a);b.validation&&(i.setValidation(b.validation),ua[e].validation=b.validation);b.valid?(j=!0,d||(i.valid(g.validation.hideValidated),r(h).remove("capture_validating"))):b.pending?(d||i.pending(),
j=!0):(j=!1,d||(i.notValid(b.reason),r(h).remove("capture_validating")));return j}function Za(b){tc.push(X);if(b.noop)return!1;b.url&&(window.location.href=b.url);b.screen&&(new xa).setScreenData(b.screen,m.screens[b.screen]);if(b.action&&X)janrain.capture.ui[b.action]();if(b["function"]&&"function"===typeof xb[b["function"]])xb[b["function"]]()}function Ga(){if(0===id)return!1;var b=(new Date).getTime()-id,b=Math.floor(b/1E3);if(60>b)return b+" seconds ago";b=Math.floor(b/60);if(1==b)return b+" minute ago";
if(59>b)return b+" minutes ago"}function Qa(b){this.id=b.id;this.value=b.value;"checked"in b&&(this.checked=b.checked);this.time=(new Date).getTime()}function Eb(b){function a(){if(!Fb)return!1;if(ga(f,!0)){oc=(new Date).getTime();gd=da("capture_validated",f).map(function(b){return b.id});Ya||U(f);f.submit();f.getAttribute("next");var b=f.getAttribute("data-transactionId"),q=document.getElementById("captureIFrame_"+b);(new bb).setIframe(q).setTransactionId(b).setNext('{"noop": ""}').setForm(f).setEvent(null).process()}}
function c(b){var a=I(b);setTimeout(function(){if(!(vc[a.id]&&vc[a.id].value===a.value)){var b={id:a.id,value:a.value};if("radio"===a.type||"checkbox"==a.type)b.checked=a.checked;vc[a.id]=new Qa(b);g()}},0)}function g(){bc&&clearTimeout(bc);bc=setTimeout(function(){rd(document.body,f)&&a()},h)}function d(b){b=I(b);b.tagName.match(/select/i)&&clearTimeout(bc);Qc=b.id}function e(b){var a=I(b).id;setTimeout(function(){a===Qc&&(Qc="")},0)}Fb=!0;var f=document.getElementById(b),b=janrain.settings.capture.autoSaveUpdateInterval||
1E4,h=janrain.settings.capture.autoSaveDelay||janrain.settings.capture.autoSaveInterval||1E4;kb=function(b){var a={};a.target=b;c(a)};clearInterval(qc);qc=setInterval(function(){if(!Fb)return!1;janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:Ga()})},b);H(f,"keyup",function(b){(b.keyCode==ld||b.keyCode==md)&&c(b)});H(f,"keypress",function(b){(b.charCode||b.keyCode)&&c(b)});H(f,"change",c);f.addEventListener?(f.addEventListener("focus",d,!0),f.addEventListener("blur",e,!0)):"object"===
typeof window.attachEvent&&(f.attachEvent("onfocusin",d),f.attachEvent("onfocusout",e))}function Qb(){for(;_draggingSliderFx.length;)_draggingSliderFx.pop().unbindDragHandlers();Gc(vc,function(b,a){var q=document.getElementById(b);if(oc<a.time&&q)if("radio"===q.type||"checkbox"===q.type){var c=ad(q,"form").name,c=q=document[c][q.name];if(q.length)for(var d=0,e=q.length;d<e;d++)if(q[d].value===a.value){c=q[d];break}c.checked=a.checked}else q.value!==a.value&&(q.value=a.value)});for(vc={};gd.length;)document.getElementById(gd.pop()).className+=
" capture_validated";var b=document.getElementById(Qc);if(b){var a=function(){if(this.setSelectionRange){var b=this.value.length+1;this.setSelectionRange(b,b)}else this.value=this.value;nb(this,"focus",a)};H(b,"focus",a);b.focus()}}function Xa(b){(new E).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(b).create()}function Ra(){(new E).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(Fa).create()}function Ba(){var b=new E;b.setUseLocalStorage(!0);
janrain.settings.multiDomainLocalStorage?b.getCookie("janrainFailedLogins",function(b){Hc(b)&&(Fa=parseInt(b,10))}):(b=b.getCookie("janrainFailedLogins"),Hc(b)&&(Fa=parseInt(b,10)))}function Ha(){var b=36E5*K+(new Date).getTime();return(new Date((new Date).setTime(b))).toUTCString()}function P(){clearTimeout(cd);cd=setTimeout(Da,1E4)}function Aa(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b,
a,c=new E;c.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)c.getCookie("janrainCaptureTokenRefresh",function(c){c&&(a=new Date,b=new Date(c),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):P())});else if(c=c.getCookie("janrainCaptureTokenRefresh"))a=new Date,b=new Date(c),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):P()}}function Da(){if(janrain.settings.capture.federate&&
"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b=new E;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureToken",function(b){b?Aa():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}):b.getCookie("janrainCaptureToken")?Aa():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}}function ha(b){var a=new E;a.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken").setValue(b);
janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.create()}function Cb(){var b=new E;b.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove()}function Pa(){var b=new E;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureTemporaryToken",function(b){b&&(V(b),Cb())}):b.getCookie("janrainCaptureTemporaryToken")&&
(V(b.getCookie("janrainCaptureTemporaryToken")),Cb())}function V(b,a,c){var g=Ha();ka=b;a?(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&Da(),janrain.events.onCaptureSessionCreated.fire({accessToken:b}),janrain.events.onCaptureSessionFound.fire({accessToken:b})):(a=new E,a.setExpirationDirectly(g).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(ka),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.create(),
janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&(g=new E,a=36E5*K-6E5+(new Date).getTime(),a=(new Date((new Date).setTime(a))).toUTCString(),g.setExpirationDirectly(a).setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(a),janrain.settings.capture.cookieDomain&&g.setDomain(janrain.settings.capture.cookieDomain),g.create(),Da()),yb&&(janrain.events.onCaptureLoginSuccess.fire({accessToken:b}),yb=!1),c?janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:b}):
janrain.events.onCaptureSessionCreated.fire({accessToken:b}))}function sa(b){var a=new E,c=wa(),g="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){},d=function(){janrain.capture.ui.federateLogoutCallbackFired(c,g)};a.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();b||(ka="");janrain.settings.capture.keepProfileCookieAfterLogout||
(a.setName("janrainCaptureProfileData"),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.remove());janrain.settings.capture.backplane&&"function"===typeof Backplane&&Backplane.resetCookieChannel();m&&Lb(m,!0);if(janrain.settings.capture.federate){clearTimeout(cd);JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},d);var e=0,f=function(){e++;if(20<e)return Q("federatecallback not successful"),
Nc.push(c),g(),janrain.settings.capture.federate=!1;if(p(Nc,c))return clearTimeout(b),!1;var b=setTimeout(f,500)};f()}else Xc&&g();janrain.events.onCaptureSessionEnded.fire()}function Wb(b){var a=wa(),c=za({capture_screen:janrain.settings.capture.registerFlow||"socialRegister",token:mb,capture_transactionId:a});Cc&&(c.merge_token=Cc,Cc=null);"true"===b&&(c.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(c.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&
"object"===typeof janrain.settings.capture.dataDefaults){var b=janrain.settings.capture.dataDefaults,g;for(g in b)b.hasOwnProperty(g)&&"undefined"===typeof c[g]&&(c[g]=b[g])}pa("/widget/token_url.jsonp",c);eb(a);Tc&&(Tc=!1)}function v(){var b=new E;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureToken",function(b){b?V(b,!0):janrain.events.onCaptureSessionNotFound.fire();lb=!0});else{if(b.getCookie("janrainCaptureToken"))return V(b.getCookie("janrainCaptureToken"),
!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function za(b,a){var c={js_version:ob,capture_screen:ca,flow:m.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:Lc,locale:ac};La&&(c.bp_channel=La);jb&&(c.flow_path=jb);if("object"===typeof b)for(var g in b)b.hasOwnProperty(g)&&(c[g]=b[g]);if(z(a)){g=0;for(var d=a.length;g<d;g++)c.hasOwnProperty(a[g])&&delete c[a[g]]}return c}
function Vb(b){b=Sa[b];b.fireEvent&&janrain.events[b.fireEvent]&&("onCaptureLoginSuccess"===b.fireEvent&&Vc||janrain.events[b.fireEvent].fire(b))}function ab(b,a){function c(){g++;if(10<g)return Q("set login not successful"),Ua[a].eventFiredDueToSlowResponse=!0,Vb(a),janrain.settings.capture.federate=!1,Xc=!0,!1;if(Ua[a]&&Ua[a].setLoginSuccess)return clearTimeout(b),!1;var b=setTimeout(c,500)}JANRAIN.SSO.CAPTURE.set_login({code:b,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});
var g=0;c()}function Rb(b){function a(){g++;if(10<g)return Q("check login not successful"),janrain.settings.capture.federate=!1,Xc=!0,v(),lb=!0,!1;if(-1<dd.indexOf(c))return clearTimeout(b),!1;var b=setTimeout(a,500)}b||(b={});var c=wa(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:b.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:D.stringify(za({capture_transactionId:c},
["client_id"])),transaction_id:c,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver};La&&(b.bp_channel=La);JANRAIN.SSO.CAPTURE.check_login(b);eb(c);var g=0;a()}function n(){if(Ja.capture_complete_social_registration)lb=!0,V(Ja.capture_complete_social_registration);else if(janrain.settings.capture.federate)Rb();else{var b;a:{if(b=cb.anchor)if(b=b.split("="),"access_token"===b[0]&&b[1]){yb=!0;V(b[1]);b=!0;
break a}b=!1}if(b||v())return lb=!0,!1;janrain.settings.multiDomainLocalStorage||(lb=!0)}}function ia(b){var a=cb.anchor;if(!a)return b(),!1;var c=a.split(","),g=c.length,d,a={};if(1<g){for(var e=0;e<g;e++)d=c[e],d=d.split("="),a[d[0]]=d[1];if(!a.transactionId||!a.engageToken)return b(),!1;Wc=b=a.transactionId;mb=a.engageToken;pa("/widget/get_result.jsonp",{transactionId:b},function(){})}else return b(),!1}function cc(b,a){var c=b["if"].compare;if(!c||0>c.indexOf(":"))return!1;switch(c.split(":")[0]){case "cookie":var g=
c.split(":")[1],c=new E;c.setUseLocalStorage(!0);"janrainLastAuthMethod"===g&&!wc&&(wc=ca);if(janrain.settings.multiDomainLocalStorage)c.getCookie(g,function(c){d&&"janrainLastAuthMethod"===g&&(Sc=!0);Mb(ic(b["if"],c)?b.then:b["else"],a)});else{var d=c.getCookie(g);d&&"janrainLastAuthMethod"===g&&(Sc=!0);Mb(ic(b["if"],d)?b.then:b["else"],a)}}}function ic(b,a){var c=Hc(a)?parseInt(a,10):a,g,d=Hc(b.to)?parseInt(b.to,10):b.to;switch(b.withOperator){case "===":g=d===c;break;case "!==":g=d!==c;break;case "==":g=
d==c;break;case "!=":g=d!==c;break;case ">":g=c>d;break;case "<":g=c<d}return g}function Mb(b,a){!b&&"function"===typeof a&&a();if(!b)return!1;if("undefined"===typeof b["if"]){if(b.render){var c=b.render.screen,g=m.screens[c];(new xa).setScreenData(c,g)}}else cc(b,a)}function hc(b){if(!b)return!1;"undefined"!==typeof janrain.settings.capture.hideSavedProfileMessageDelay&&setTimeout(function(){b&&(b.style.display="none")},janrain.settings.capture.hideSavedProfileMessageDelay)}function fc(){for(var b=
"",a=[],c=0;10>c;c++)b=wb(40),a.push(b);return a}function Jb(b){if(!z(b))return!1;for(var a=b.length,c=0;c<a;c++){var g=b[c];-1===Oc.indexOf(g)&&Oc.push(g)}}function wa(){var b=Oc.pop();0===Oc.length&&Jb(fc());-1===G.indexOf(b)&&G.push(b);return b}function eb(b){var a=G.indexOf(b);-1<a&&G.splice(a,1);-1===A.indexOf(b)&&A.push(b)}function tb(b){var a=A.indexOf(b);-1<a&&A.splice(a,1);-1===dd.indexOf(b)&&dd.push(b)}function gc(b){if(b.status){Sa[b.transactionId]=b;"success"===b.status?(janrain.events.onCaptureSaveSuccess.fire(b),
Ib&&!Ab?Ib="":Ab=!1):janrain.events.onCaptureSaveFailed.fire(b);if("reactivateAccount"===b.action&&b.statusMessage&&("accountReactivated"===b.statusMessage||"invalidReactivationCode"===b.statusMessage))"success"===b.status?janrain.events.onCaptureAccountReactivateSuccess.fire(b):janrain.events.onCaptureAccountReactivateFailed.fire(b);"deactivateAccount"===b.action&&b.statusMessage&&("success"===b.status&&"accountDeactivated"===b.statusMessage?janrain.events.onCaptureAccountDeactivateSuccess.fire(b):
janrain.events.onCaptureAccountDeactivateFailed.fire(b));if("emailCode"===b.action&&b.statusMessage&&("verified"===b.statusMessage||"invalidVerificationCode"===b.statusMessage))if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureEmailVerificationSuccess.fire(b),(b.accessToken||b.authorizationCode)&&janrain.settings.capture.federate&&b.sso&&b.ssoCode)b.fireEvent="onCaptureEmailVerificationSuccess",Ua[b.transactionId]=b,ab(b.ssoCode,b.transactionId)}else janrain.events.onCaptureEmailVerificationFailed.fire(b);
if("emailCode"===b.action&&b.statusMessage&&("forgotPasswordCodeRedeemed"===b.statusMessage||"invalidForgotPasswordCode"===b.statusMessage))if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureForgotPasswordCodeSuccess.fire(b),(b.accessToken||b.authorizationCode)&&janrain.settings.capture.federate&&b.sso&&b.ssoCode)b.fireEvent="onCaptureForgotPasswordCodeSuccess",Ua[b.transactionId]=b,ab(b.ssoCode,b.transactionId)}else janrain.events.onCaptureForgotPasswordCodeFailed.fire(b);
"profile"===b.action&&b.statusMessage&&"profileFound"!==b.statusMessage&&("success"===b.status?(Bb=!0,id=(new Date).getTime(),janrain.events.onCaptureProfileSaveSuccess.fire(b)):janrain.events.onCaptureProfileSaveFailed.fire(b));if("traditionalSignin"===b.action||"socialSignin"===b.action||"ssoSignin"===b.action)if("success"===b.status){if(b.authorizationCode){var a=ec(janrain.settings.capture.redirectUri,{code:b.authorizationCode});b.redirectUri=a}if(b.accessToken||b.authorizationCode){if(!janrain.settings.capture.federate||
!b.sso||!b.ssoCode)Vc?Vc=!1:janrain.events.onCaptureLoginSuccess.fire(b);("traditionalSignin"===b.action||"socialSignin"===b.action)&&Xa(b.action);janrain.settings.capture.federate&&b.sso&&b.ssoCode&&(b.fireEvent="onCaptureLoginSuccess",Ua[b.transactionId]=b,ab(b.ssoCode,b.transactionId));janrain.settings.capture.federate&&b.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(b),tb(b.transactionId),lb=!0)}b.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=a)}else janrain.events.onCaptureLoginFailed.fire(b);
if("traditionalRegister"===b.action||"socialRegister"===b.action)if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureRegistrationSuccess.fire(b),zc&&(zc=!1),b.accessToken||b.authorizationCode)"socialRegister"===b.action?Xa("socialSignin"):Xa("traditionalSignin"),janrain.settings.capture.federate&&b.sso&&b.ssoCode&&(b.fireEvent="onCaptureRegistrationSuccess",Ua[b.transactionId]=b,ab(b.ssoCode,b.transactionId))}else janrain.events.onCaptureRegistrationFailed.fire(b);
b.userData&&janrain.settings.capture.setProfileCookie&&(b=b.userData,a=Ha(),(new E).setExpirationDirectly(a).setUseLocalStorage(!0).setName("janrainCaptureProfileData").setValue(D.stringify(b)).create(),janrain.events.onCaptureProfileCookieSet.fire(b))}}function Kb(){if("object"!==typeof u)return!1;C.modalConfirmText&&u.setConfirmMessageText(C.modalConfirmText);C.modalConfirmLinkText&&u.setConfirmLinkText(C.modalConfirmLinkText);C.modalCancelLinkText&&u.setCancelLinkText(C.modalCancelLinkText)}function sb(b){m=
b;m.flow=janrain.settings.capture.flowName;"undefined"===typeof Uc&&(Uc=b);"object"!==typeof m.layouts&&(m.layouts={});"object"!==typeof m.layouts.captureAccessDeniedBuiltIn&&(m.layouts.captureAccessDeniedBuiltIn={});m.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:hb.accessDenied;"object"!==typeof m.layouts.captureRetrievingUserDataBuiltIn&&(m.layouts.captureRetrievingUserDataBuiltIn={});
m.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:hb.retrievingUserData;for(b=0;b<xc.length;b++)m.fields[xc[b].field][xc[b].attribute]=xc[b].value}function Lb(b,a){Gc(b.fields,function(c,g){if((!b.form||a)&&g.doNotPrePopulate)g.value=""})}function Q(){Kc.push(arguments);if(window.console){var b=arguments;b.callee=b.callee.caller;b=[].slice.call(b);k?console.log(b):console.log.apply(console,
b)}}function xa(){function b(b,a,q){a&&a.screenConditionals?Mb(a.screenConditionals,q):"function"===typeof q&&q()}function a(b){janrain.events.onCaptureAccessDenied.fire();Bc=!0;e({layout:"captureAccessDeniedBuiltIn",modal:b.modal,source:"server"})}function c(b){var a,q=wa();switch(b){case "email":(b=Ja&&Ja.verification_code?Ja.verification_code:"")?(a=za({capture_transactionId:q,verification_code:b}),pa("/widget/email_code.jsonp",a),eb(q),Q("need to verify "+b)):Q("no code supplied");break;case "password":(b=
Ja&&Ja.code?Ja.code:"")?(Q("need to verify "+b),a=za({capture_transactionId:q,code:b}),pa("/widget/email_code.jsonp",a),eb(q)):Q("no code supplied");break;case "reactivate":(b=Ja&&Ja.reactivation_code?Ja.reactivation_code:"")?(Q("need to verify "+b),a=za({capture_transactionId:q,reactivation_code:b}),pa("/widget/reactivate_account.jsonp",a),eb(q)):Q("no code supplied")}}function g(b){b&&(Ob=b.validateOnRender);if(b&&"changePasswordLink"===b.dataType&&!b.errors)return c("password"),!1;if(b&&"verifyEmail"===
b.dataType&&!b.errors)return c("email"),!1;if(b&&"reactivateAccount"===b.dataType&&!b.errors)return c("reactivate"),!1;var g=b.dataType&&"public"===b.dataType;if(b&&b.hasUserData&&!m.fused||b&&b.hasUserData&&g&&!m.privacyFiltered)return g=b.dataType&&"public"===b.dataType,!ka&&!g?a(b):(Bc=!0,e({layout:"captureRetrievingUserDataBuiltIn",modal:b.modal,source:"server"}),dc(g)),h(),!1;if(!ka&&b&&b.requireAccessToken)return a(b),h(),!1;Bc=!1;e(b);h();Sc&&(Sc=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}
function d(a,q){if(pb)setTimeout(function(){d(a,q)},50);else{q&&q.type&&"completeSocialRegistration"===q.type&&(Vc=!0);if(Zb&&q&&(m.noModalForMobile||q.noModalForMobile))q.modal=!1;if(Zb&&q&&(m.modalForMobile||q.modalForMobile))q.modal=!0;lb?(ca=a,L="capture_"+ca+"_",b(a,q,function(){g(q)})):setTimeout(function(){d(a,q)},50)}}function e(b){if(X&&X.div&&(!b.modal||X.modal&&b.modal)&&!b.keepPreviousScreen)X.div.style.display="none";var a=b.layout,q=b.source,c=b.modal,b=!!b.modalLoadOnLoad;if("server"===
q){var g=document.getElementById(a);g||(g=document.createElement("div"),g.setAttribute("id",a));try{$b[a]?p.html=$b[a]:(p.html=m.layouts[a].html,$b[a]=p.html)}catch(d){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===q)try{if(g=document.getElementById(a))$b[a]?p.html=$b[a]:(p.html=g.innerHTML,$b[a]=p.html);else throw p.html="",M(a);}catch(R){throw Q(R.name+": "+R.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");
}r(g).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");Zb&&(r(g).append("janrain-capture-ui-mobile"),la.onOrientationChange.addHandler(function(b){r(g).append("janrain-capture-ui-mobile-"+b.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[b.orientation]);janrain.events.onCaptureContentChange.fire()}),la.onOrientationChange.fire({orientation:la.getOrientation()}));p.div=g;Bc||p.div.setAttribute("data-capturescreenname",
ca);uc=p.div;p.modalLoadOnLoad=b;p.source=q;p.modal=c;X=p;"undefined"===typeof qb[ca]&&(qb[ca]={});qb[ca].layout=p}function f(b,a){if("object"===typeof b.displayCondition&&"undefined"!==typeof b.displayConditionPassed&&!1===b.displayConditionPassed)return!1;if(b.close)return o.render.htmlElement.close(b);if("data"==b.element){if("string"===b.type)return o.render.data.stringData(b);if("image"===b.type)return o.render.data.imageData(b);if("engageCookie"===b.type)return o.render.data.engageCookieData(b)}if("multiRadio"==
b.element)return o.render.htmlElement.multiRadio(b);if("multiCheckbox"==b.element)return o.render.htmlElement.multiCheckbox(b);if("textarea"==b.element)return o.render.htmlElement.textarea(b);if("select"==b.element)return o.render.htmlElement.select(b);if("input"==b.element)return o.render.htmlElement.input(b);if("form"==b.element)return o.render.htmlElement.form(b);if("div"==b.element)return o.render.htmlElement.div(b);if("anchor"==b.element)return o.render.htmlElement.anchor(b);if("button"==b.element)return o.render.htmlElement.button(b);
if("capture"==b.element){if("keepMeLoggedIn"==b.type)return o.render.captureElement.keepMeLoggedIn(b);if("countrySelect"==b.type)return o.render.captureElement.countrySelect(b);if("stateSelect"==b.type)return o.render.captureElement.stateSelect(b);if("publicProfileLink"==b.type)return o.render.captureElement.publicProfileLink(b,a);if("errorMessages"==b.type)return o.render.captureElement.errorMessages(b);if("savedProfileMessage"==b.type)return o.render.captureElement.savedProfileMessage(b);if("captcha"==
b.type)return o.render.captureElement.captcha(b);if("linkAccounts"==b.type)return o.render.captureElement.linkAccounts(b);if("mergeAccounts"==b.type)return o.render.captureElement.mergeAccounts(b,a);if("radioCollection"==b.type)return o.render.captureElement.collection.radio(b);if("tabCollection"==b.type)return o.render.captureElement.collection.tab(b);if("photoManager"==b.type)return o.render.captureElement.photoManager(b,a);if("dateselect_public"==b.type)return o.render.captureElement.dateselect_public(b);
if("dateselect"==b.type)return o.render.captureElement.dateselect(b);if("addressFull"==b.type)return o.render.captureElement.addressFull(b);if("addressFull_public"==b.type)return o.render.captureElement.addressFull_public(b);if("nameFull"==b.type)return o.render.captureElement.nameFull(b);if("nameFull_public"==b.type)return o.render.captureElement.nameFull_public(b);if("backButton"==b.type)return o.render.captureElement.backButton(b);if("partial"==b.type)return o.render.captureElement.partial(b,a);
if("slider"==b.type)return o.render.captureElement.slider(b,a);if("table"==b.type)return o.render.captureElement.table(b,a);if("pluralIterator"==b.type)return o.render.captureElement.pluralIterator(b);if("datetime_public"==b.type)return o.render.captureElement.datetime_public(b)}return"widget"==b.element?o.render.widget[b.type](b,a):!1}function h(){pb=!0;janrain.events.onCaptureRenderStart.fire(m);Ma=[];m.fields.submitButton||(m.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],
name:"capture_submit",elementName:"capture_submit",value:"Submit"});m.fields.loginWidget||(m.fields.loginWidget={element:"widget",type:"login"});m.fields.shareWidget||(m.fields.shareWidget={element:"widget",type:"share"});m.fields.backButton||(m.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});m.fields.captcha||(m.fields.captcha={element:"capture",type:"captcha"});m.fields.keepMeLoggedIn||(m.fields.keepMeLoggedIn={element:"capture",type:"keepMeLoggedIn"});m.fields.errorMessages||
(m.fields.errorMessages={element:"capture",type:"errorMessages"});m.fields.savedProfileMessage||(m.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});p.originalHtml=p.html;p.flow=m;p.html=i(p.html);p.div.innerHTML=p.html;if("server"==p.source){if(!document.getElementById("janrainCaptureWidget")){var b=document.createElement("div");b.id="janrainCaptureWidget";document.body.appendChild(b)}document.getElementById("janrainCaptureWidget").appendChild(p.div)}if(!Bc){for(var b=0,
a=Rc.length;b<a;b++)$a(document.getElementById(Rc[b]),!1);Rc=[]}k();j();if(0<janrain.events.onCssLoad.firedEvents.length)for(var b=janrain.events.onCssLoad.firedEvents,a=0,q=b.length;a<q;a++)"object"==typeof b&&b[a].args&&b[a].args.source&&-1==Pc.indexOf(b[a].args.source)&&b[a].event.fire(b[a].args);for(b=0;b<Ma.length;b++)a=document.getElementById(L+Ma[b].elementName),Ma[b].next&&Ma[b].next.type&&"server"===Ma[b].next.type?a.setAttribute("next",'{"noop":""}'):Ma[b].next?(Ma[b].next.conditional&&
a.setAttribute("next",D.stringify(Ma[b].next)),Ma[b].next.screen&&a.setAttribute("next",D.stringify(Ma[b].next)),Ma[b].next.url&&a.setAttribute("next",D.stringify(Ma[b].next)),Ma[b].next.action&&a.setAttribute("next",D.stringify(Ma[b].next))):a.setAttribute("next",'{"noop":""}');n();X=p;janrain.events.onCaptureContentChange.fire()}function i(b){for(var a=/\{\*(.*?)\*\}/,q=/^\s*\/\s*/,c=/^\s*#\s*/,g=/\{(.*?)*\}\s*/,d=!1,R,e=[],h=[];R=a.exec(b);)try{var Na=R[1].trim();if(g.test(Na))var j=Na.match(g),
Na=Na.replace(j[0],"").trim(),Yc=j[0].match(/\{(.*?)*\}\s*/)[0];else Yc=null;d=!1;c.test(Na)&&(Na=Na.replace("#","").trim(),d=!0);if(q.test(Na)){var k=Na.replace("/",""),l={};if("undefined"==typeof m.fields[k])return Q("No field definition for"+k,"error"),!1;l.element=m.fields[k].element;l.type=m.fields[k].type;l.close=!0}else{if("undefined"==typeof m.fields[Na])return Q("No field definition named "+Na+" for tag "+R[0],"error"),!1;l=m.fields[Na];l.name=Na;d&&(l.start=!0);if("form"===l.element&&!l.transactionId){var p=
Wc||wa();Wc=null;l.transactionId=p}l.elementName=l.elementName||Na}var Yc=Yc||null,o=f(l,Yc);o||(o=" ");b=b.replace(R[0],o);(l.next||"form"===l.element&&!l.close)&&Ma.push({elementName:l.elementName,next:l.next});l.onclickHandler&&s.push({elementName:l.elementName,handler:l.onclickHandler,eventType:"click"});l.onchangeHandler&&s.push({elementName:l.elementName,handler:l.onchangeHandler,eventType:"change"});"string"===typeof l.element&&"form"===l.element&&!l.close&&(s.push({elementName:l.elementName,
handler:na,eventType:"submit"}),janrain.settings.capture.autoSave&&!Zb&&s.push({elementName:l.elementName,handler:Eb,eventType:"render"}));if("form"===l.element&&("widget/traditional_register.jsonp"===l.action||"widget/social_register.jsonp"===l.action))h.push("widget/traditional_register.jsonp"===l.action?"traditionalRegister":"socialRegister");if("form"===l.element&&"widget/traditional_signin.jsonp"===l.action||"widget"===l.element&&"login"===l.type)e.push("widget/traditional_signin.jsonp"===l.action?
"traditionalSignin":"socialSignin")}catch(n){return Q(n.name+": "+n.message,"error"),!1}e.length&&janrain.events.onCaptureLoginStart.fire({action:e.join(","),screen:ca});h.length&&janrain.events.onCaptureRegistrationStart.fire({action:h.join(","),screen:ca});return b}function j(){p.div.getAttribute("data-captureventadded")||(H(p.div,"click",function(b){var a=I(b);if(a&&a.nodeName&&"A"===a.nodeName){var q=a.getAttribute("data-capturecontrol");if(q){var c=wa(),q=za({flow_control:q,token:ka,capture_transactionId:c});
pa("/widget/control.jsonp",q);eb(c);J(b)}a.getAttribute("data-cancelcapturereturnexperience")&&wc&&(janrain.capture.ui.setNoReturnExperience(),J(b));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof u)"close"===a&&(janrain.capture.ui.modal.close(),J(b)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),J(b))}}),p.div.setAttribute("data-captureventadded",!0));for(var b=p.div.getElementsByTagName("img"),a=b.length,q=0;q<a;q++)H(b[q],"load",function(){janrain.events.onCaptureContentChange.fire()});
b=da(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=b.length;if(!db){for(q=0;q<a;q++)H(b[q],"click",function(b){"object"===typeof u?(janrain.capture.ui.renderScreen(X.flow.defaultScreen),u.setShowContentOnLoad(!0).addContent(X.div).show(),Hb=!1,janrain.events.onCaptureScreenShow.fire({screen:ca}),janrain.events.onCaptureContentChange.fire()):kc=!0;J(b)});db=!0}}function k(){if(m.cssDependencies&&z(m.cssDependencies))for(var b=0;b<m.cssDependencies.length;b++)x(m.cssDependencies[b]);
Ka&&t&&!Db?janrain.events.onCssLoad.addHandler(function(b){p=X;Pc.push(b.source);for(b=0;b<Ka;b++)if(-1==Pc.indexOf(Ea[b]))return!1;Db||(l(),Db=!0)}):l();pb=!1;janrain.events.onCaptureRenderComplete.fire({flow:m,screen:ca});m.screens&&m.screens[ca]&&m.screens[ca].type&&"completeSocialRegistration"===m.screens[ca].type&&(ha(ka),sa(!0))}function l(){var b=!1,a=!1;if(p.modal){if("object"===typeof u){var b=!0,q=u.getContent();q&&document.body.appendChild(q);u.close(!0)}else u=new Jc,Kb();S||(a=!0,janrain.events.onModalClose.addHandler(function(){m&&
m.mergeToken&&(m.mergeToken="")}),S=!0);u=Nb(u);u.setShowContentOnLoad(!0).addContent(p.div);a&&janrain.events.onCaptureModalReady.fire();if(b||p.modalLoadOnLoad||kc||Hb)u.show(),Hb=!1,janrain.events.onCaptureScreenShow.fire({screen:ca})}else"object"===typeof u&&u.close(!0),Hb=!1,janrain.events.onCaptureScreenShow.fire({screen:ca});p.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function n(b){for(var b=b||s,a=0;a<b.length;a++)if("function"===typeof b[a].handler)if("render"===
b[a].eventType)b[a].handler(L+b[a].elementName);else{var q=document.getElementById(L+b[a].elementName);H(q,b[a].eventType,b[a].handler)}s=[]}var p={},o;o=new B;sc=new F;return{setScreenData:d,render:h,renderField:f,attachEventHandlers:n}}function ub(b,a){for(var c=[],g=document.getElementById(b).getElementsByTagName("INPUT"),d=g.length,e=0;e<d;e++){var f={};f.id=g[e].id;f.placeholder=g[e].getAttribute("placeholder");if(Pb||a)Ac[g[e].getAttribute("data-capturefield")]=g[e].value;f.value=f.placeholder?
f.placeholder===g[e].value?"":g[e].value:g[e].value;"radio"===g[e].type&&(f.type="radio",f.checked=g[e].checked);c.push(f)}return c}function dc(b,a){var c="function"===typeof a?a:function(){};if(b){var g=rc||Ja.uuid||"";rc&&(rc="");g?(Q("need to get data for "+g),f.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},
{elementName:"uuid",elementType:"hidden",elementValue:g}]})):Q("no uuid supplied")}else{if(!ka)return!1;f.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function pa(b,a,c){var g=-1<b.indexOf("?")?"&":"?",d=0===b.indexOf("http")?"":janrain.settings.capture.captureServer,e=[],f;for(f in a)a.hasOwnProperty(f)&&
e.push(f+"="+encodeURIComponent(a[f]));ya(d+b+g+e.join("&"),c)}function ec(b,a){var c=-1<b.indexOf("?")?"&":"?",g=[],d;for(d in a)a.hasOwnProperty(d)&&g.push(d+"="+encodeURIComponent(a[d]));return b+c+g.join("&")}function rb(b,a){var c={},g=b&&b.userData&&b.userData.migratedUserType?b.userData.migratedUserType:null,d=a?Sb:yc;mb&&!a&&(c.capture_social_registration=mb);ka&&a&&(c.capture_complete_social_registration=ka);ed&&(c.authProvider=ed);g&&(c.migratedUserType=g);sa();c=ec(d,c);window.location=
c}function Tb(b,a){var c=!1,g;if("ok"===b.stat&&(g=b.result,g.accessToken&&g.oneTime&&(Ib=g.accessToken,Ab=!0),g.accessToken&&!g.oneTime&&V(g.accessToken),g&&gc(g),ed=g&&g.authProvider?g.authProvider:null,mc=g&&g.authProfileData?g.authProfileData:{},g&&g.screen&&m.screens&&m.screens[g.screen]&&m.screens[g.screen].type&&"completeSocialRegistration"===m.screens[g.screen].type&&Pa(),"socialSignin"===g.action&&"success"===g.status&&"noUserForIdentifier"===g.statusMessage||"socialSignin"===g.action&&"success"===
g.status&&janrain.settings.capture.socialRegistrationRedirectUrlCondition)){var d=janrain.settings.capture.socialRegistrationRedirectUrlCondition;if(d){var e=[];Gc(d,function(b,a){g[b]===a||g.userData&&g.userData[b]===a?e.push(!0):e.push(!1)})}yc&&"noUserForIdentifier"===g.statusMessage&&(c=!0,rb(g));Sb&&d&&!p(e,!1)&&(c=!0,rb(g,!0))}"function"===typeof a&&!c&&a(g)}function Xb(b){function a(b){return'<li><a href="#" class="capture_suggestion">'+b+"</a></li>"}var b=b.result,d=c(b.submittedScreen),g=
m.fields[b.field],e=document.getElementById(d+(g.elementId||g.elementName)),h=b.alternatives,i=g.validation.messages.unique||"",j=document.getElementById(d+"form_item_"+g.elementName),l=new f.validation;l.setElement(e);l.setParentDiv(j);if(!1===b.unique)if(h){var h=h.map(a),k=function(b){var a=I(b);r(a).has("capture_suggestion")&&(e.value=a.innerHTML,nb(j,"click",k),l.valid(),J(b))};l.notValid(i+'<ul class="capture_suggestions">'+h.join("")+"</ul>",function(){H(j,"click",k)})}else l.notValid(i);else l.valid()}
function Gb(b){var a=[];m&&m.fields&&Gc(m.fields,function(c,g){g&&g.type&&g.type===b&&a.push(g)});return a}function Yb(b,a){if("string"!==typeof b||!janrain.settings.capture.setProfileCookie)return!1;var c=new E,g;c.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)c.getCookie("janrainCaptureProfileData",function(c){c.length&&(g=D.parse(c),"function"===typeof a&&"object"===typeof g&&a(g[b]))});else if((c=c.getCookie("janrainCaptureProfileData"))&&c.length)if(g=D.parse(c),"object"===
typeof g)return g[b]}function jc(b){var a=E();return p(["expected_tab","welcome_info_name","login_tab"],b)&&(b=a.getCookie(b))?unescape(b):""}function Dc(){var b=document.createElement("div");b.className="capture_btn capture_processing";b.innerHTML="Processing";return b}function Nb(b){var a=janrain.settings.capture.modalBorderWidth||10,c=janrain.settings.capture.modalBorderColor||"#000",g=janrain.settings.capture.modalBorderRadius||10,d=janrain.settings.capture.modalBorderOpacity||0.5;b.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(c).setBorder(a).setBorderOpacity(d).setBorderRadius(g);
return b}function l(b){if("object"!==typeof u)u=new Jc,Kb();else{var a=u.getContent();a.style.display="none";a&&document.body.appendChild(a)}X&&X.modal&&tc.push(X);u=Nb(u);u.addContent(b).show();u.setHeight(Wa(b).height);u.setWidth(Wa(b).width).refresh({center:!0})}function $(b,a){m&&b&&a&&m.screens&&m.screens[b]&&m.screens[b].dataType&&"public"===m.screens[b].dataType?(!m._uuid||m._uuid&&m._uuid!==a||!m.privacyFiltered?(rc=a,m.fused=!1):rc="",Hb=!0,janrain.capture.ui.renderScreen(b)):Q("Cannot get public flow and show screen.")}
var s=[],sc,pb=!1,jb,ac=janrain.settings.capture.language||janrain.settings.language||"en-US",Ma=[],ca,qb={},L,wc,Sc=!1,Ob,tc=[],X={},xc=[],Uc,xb={},Pb=janrain.settings.capture.mode13||!1,yc=janrain.settings.capture.socialRegistrationRedirect,Sb=janrain.settings.capture.socialRegistrationCompleteRedirect,Vc=!1,zc=!1,Ac={},Wc,Hb=!1,va,Bc=!1,mb,Cc,yb=!1,ka,lb=!1,Ib,Ab=!1,Bb=!1,Db=!1,m,C={},uc,La,Mc=!1,$b={},Sa={},Oc=[],G=[],A=[],dd=[],t=!1,K=janrain.settings.capture.accessTokenLifeHours||1,Ya="placeholder"in
document.createElement("input"),aa=!1,Tc=!1,Ta,u,kc=!1,db=!1,S=!1,Ea=[],Ka=0,Rc=[],Lc="HEAD",w=!1,hb={},oa=["accessDenied","retrievingUserData"],ib={},lc=!1,Fa=0,ta=[],Ia=!1,Xc=!1,Ua={},Nc=[],cd,cb=pc(window.location.href),Ja=cb.queryKey,rc,ed,mc,nc="widget/traditional_register.jsonp,widget/traditional_signin.jsonp,widget/token_url.jsonp,widget/social_register.jsonp,widget/public_profile.jsonp,widget/recover_password.jsonp,widget/email_code.jsonp,widget/reactivate_account.jsonp".split(","),Pc=[],
hd={};"en"===ac&&(ac="en-US");yc&&Ja&&Ja.capture_social_registration&&(mb=Ja.capture_social_registration,zc=!0);ib.publicPrivateTogglers=[];F.prototype.check=function(b,a,d){if(a.validation&&!0!==a.validation.noTrim&&"string"===typeof b.value&&("text"===b.type||"email"===b.type||"password"===b.type))b.value=b.value.trim();var a=a||m.fields[b.name],g=b.getAttribute("data-capturerendererchildfieldname"),g=g&&a.validation&&a.validation[g]?a.validation[g]:g&&"dateselect"!==a.type?!1:a.validation;if(!a.validation)return!0;
a.validation.temp=g;if(!a.validation.temp)return!0;a.validation.temp.messages||(a.validation.temp.messages={});if(!this.hasValue(b,a))return{valid:!1,reason:a.validation.temp.messages.required||"Field not completed"};if(!this.isDate(b,a))return{valid:!1,reason:a.validation.temp.messages.isDate||"Not a valid date"};if(!this.isValidMaxFileSize(b,a))return{valid:!1,reason:a.validation.temp.messages.maxFileSize||"File is too large"};if(!this.isValidFileType(b,a))return{valid:!1,reason:a.validation.temp.messages.validFileTypes||
"File is not a valid file type"};if(!this.isValidMinYears(b,a))return{valid:!1,reason:a.validation.temp.messages.minYears||"Not old enough",validation:{minYears:g.minYears}};if(!this.isValidMinLength(b,a))return{valid:!1,reason:a.validation.temp.messages.minLength||"Invalid length"};if(!this.isValidMaxLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxLength||"Invalid length"};if(!this.isValidMaxNumericLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxNumericLength||"Invalid number of numeric characters"};
if(!this.isValidFormat(b,a))return{valid:!1,reason:a.validation.temp.messages.format||"Invalid format"};if(!this.isValidMatch(b,a))return{valid:!1,reason:a.validation.temp.messages.match||"Invalid match"};g=this.custom(b,a);if(!g)return"undefined"===typeof g?{pending:!0}:{valid:!1,reason:a.validation.temp.messages.custom||"Invalid"};return a.validation.temp.unique&&!d?(d=document.getElementById(c(b)+"form_item_"+b.getAttribute("name")),this.isUnique(b,d,a,function(){}),{pending:!0}):{valid:!0}};F.prototype.custom=
function(b,a){if(!a||!a.validation.temp.custom||"function"!==typeof jd[a.validation.temp.custom])return!0;var d=new f.validation,g=document.getElementById(c(b)+"form_item_"+a.elementName);d.setParentDiv(g);d.setElement(b);return jd[a.validation.temp.custom](b.name,b.value,d)};F.prototype.getRating=function(b){var b=b.value,a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],c=0,g;g=Math.min(8,Math.floor(3*Math.log(b.length+1)));for(var d=0;d<a.length;d++)a[d].test(b)&&c++;return g+=Math.floor(Math.pow(2,c)/
2)};F.prototype.isValidMaxNumericLength=function(b,a){if(!a)return!0;var c=a.validation.temp.maxNumericLength;if(!c)return!0;var g=b.value.match(/(\d)/g);z(g)&&g.length>c&&a.validation.temp.actions&&a.validation.temp.actions.maxNumericLength&&ta.push(a.validation.temp.actions.maxNumericLength);return z(g)?g.length<=c:!0};F.prototype.isValidMaxLength=function(b,a){var c=b.value;if(!a)return!0;var g=a.validation.temp.maxLength;if(!g)return!0;c.length>g&&a.validation.temp.actions&&a.validation.temp.actions.maxLength&&
ta.push(a.validation.temp.actions.maxLength);return c.length<=g};F.prototype.isValidMinLength=function(b,a){var c=b.value;if(!a)return!0;var g=a.validation.temp.minLength;if(!g)return!0;c.length<g&&a.validation.temp.actions&&a.validation.temp.actions.minLength&&ta.push(a.validation.temp.actions.minLength);return c.length>=g};F.prototype.isValidMaxFileSize=function(b,a){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.maxFileSize;
return!c?!0:b.files[0].size<c};F.prototype.isValidFileType=function(b,a){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.validFileTypes;return!z(c)?!0:p(c,b.files[0].type)};F.prototype.isDate=function(b,a){if((!a||"dateselect"!==a.type)&&!a.validation.temp.isDate)return!0;var d=W(b,a);if(d)d=sd(d);else{if(!(d=a.validation.temp.required))var g=c(b),d=document.getElementById(g+a.name+"_dateselectmonth"),d=d.options[d.selectedIndex].value,
e=document.getElementById(g+a.name+"_dateselectday"),e=e.options[e.selectedIndex].value,g=document.getElementById(g+a.name+"_dateselectyear"),g=g.options[g.selectedIndex].value,d=!(!d&&!e&&!g);d=d?!1:!0}return d};F.prototype.isValidMinYears=function(b,a){if(!a||"dateselect"!==a.type)return!0;var c=W(b,a),g=a.validation.temp.minYears;if(!sd(c)||!g)return!0;var d=new Date,c=Math.abs(((new Date(c)).getTime()-d.getTime())/864E5),c=Math.floor(c/365.242199);c>=g||a.validation.temp.actions&&a.validation.temp.actions.minYears&&
ta.push(a.validation.temp.actions.minYears);return c>=g};F.prototype.hasValue=function(b,a){var c;if("select"===a.element)c=b.options[b.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=b.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var g=c.length,d=[],e=0;e<g;e++)c[e].checked&&d.push(c[e]);c=d.length}else c=!1;else c=b.value;if(!a||!a.validation.temp.required)return!0;
if("dateselect"===a.type)return c=W(b,a),!c?!1:!0;c||a.validation.temp.actions&&a.validation.temp.actions.required&&ta.push(a.validation.temp.actions.required);return c};F.prototype.isUnique=function(b,a,c,g){a=b.form.getAttribute("data-capturefield");c=b.getAttribute("data-capturefield");b=za({value:b.value,form:a,capture_screen:e(b),field:c});ka&&(b.access_token=ka);jb&&(b.flow_path=jb);pa("/widget/unique.jsonp",b,g)};F.prototype.isBlacklisted=function(b,a,c){function g(){var a=b.value,c=response;
if(!c||0===c.length)return!0;for(var q,g=0;g<c.length;g++)if(q=RegExp("^"+c[g]+"$","i"),q.test(a))return!0;return!1}captureUIBlacklistCallback=function(b){c(g(b))};z(a)?c(g(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):c(!0)};F.prototype.isValidFormat=function(b,a){var c={alpha:/^[a-z]+$/i,alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};
if(!a||!a.validation.temp.format)return!0;var g=a.validation.temp.format;if("string"===typeof g&&c[g])g=c[g];else return!1;g.test(b.value)||a.validation.temp.actions&&a.validation.temp.actions.format&&ta.push(a.validation.temp.actions.format);return g.test(b.value)};F.prototype.isValidMatch=function(b,a){if(!a)return!0;var d=a.validation.temp.match;if(!d)return!0;d=m.fields[d];d=c(b)+(d.elementId||d.elementName);d=document.getElementById(d);b.value!==d.value&&a.validation.temp.actions&&a.validation.temp.actions.match&&
ta.push(a.validation.temp.actions.match);return b.value===d.value};var f={autoSelectPreferredTab:function(b,a,c){var g=Number(Ja.capture_selected_tab);isNaN(g)||(b=b.collection[g])&&s.push({elementName:a+"_"+b.elementName,handler:function(b){b=document.getElementById(b);c(b)},eventType:"render"})},attachFieldEventHandlers:function(b){b.type||(b.type="");var a=b.elementId||b.elementName;"password"===b.type&&(s.push({elementName:a,handler:f.togglePasswordInput,eventType:"click"}),s.push({elementName:a,
handler:f.togglePasswordInput,eventType:"focus"}),b.validation&&("function"===typeof b.validation.rating?s.push({elementName:a,handler:function(a){var a=fb(a),c=sc.getRating(a);b.validation.rating(a,c)},eventType:"keyup"}):b.validation.rating&&s.push({elementName:a,handler:function(b){b=fb(b);b=sc.getRating(b);Q("Password Strength",b)},eventType:"keyup"})));if("text"===b.type||"password"===b.type||"email"===b.type)s.push({elementName:a,handler:f.clearPlaceHolder,eventType:"focus"}),s.push({elementName:a,
handler:f.restorePlaceHolder,eventType:"blur"});s.push({elementName:a,handler:function(b){b=I(b);b=c(b);b=document.getElementById(b+"form_item_"+a);r(b).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()},eventType:"focus"});s.push({elementName:a,handler:function(b){b=I(b);b=c(b);b=document.getElementById(b+"form_item_"+a);r(b).remove("capture_focused")},eventType:"blur"});b.validation&&s.push({elementName:a,handler:Ca,eventType:b.validation.eventType||
"blur"});b.rendererFieldName&&b.rendererChildFieldName&&m.fields[b.rendererFieldName].validation&&m.fields[b.rendererFieldName].validation[b.rendererChildFieldName]&&s.push({elementName:b.rendererFieldName+"_"+b.rendererChildFieldName,handler:Ca,eventType:"blur"})},attachModifyEventHandler:function(b){s.push({elementName:b.elementId||b.elementName,eventType:b.modify.event,handler:function(){var a=document.getElementById(b.modify.element),c=b.modify.attributes;if(c&&a)for(var g in c)c.hasOwnProperty(g)&&
a.setAttribute(g,c[g])}})},wrapStringData:function(b,a,c){var g="",d=["capture_data_item"];c&&d.push(c);g+=f.createDiv({elementId:"stringdata_"+b.name,classes:d});b.label&&(g+=f.createLabel({elementId:b.name,label:b.label,classes:["capture_data_label"]}));g+=f.createDiv({elementId:b.name,classes:["capture_data"]});return g+a+"</div></div>"},wrapFormItemStart:function(b){var a="",c=[],d=b.classes||[],e="elementCollection"===b.type?"form_collection":"form_item";if(b.justElement||"submit"===b.type||
"button"===b.type)return"";-1===d.indexOf("capture_"+e)&&d.push("capture_"+e);b.errors&&-1===d.indexOf("capture_error")&&!b.collection&&d.push("capture_error");!b.collection&&b.type&&-1===d.indexOf("capture_"+b.type)&&("checkbox"===b.type||"radio"===b.type?c.push("capture_"+b.type):d.push("capture_"+b.type));"elementCollection"===b.type&&b.displayInline&&-1===d.indexOf("capture_form_collection_inline")&&d.push("capture_form_collection_inline");b.collection?(-1===d.indexOf("capture_"+e+"_"+b.elementName)&&
d.push("capture_"+e+"_"+b.elementName),b.checked&&d.push("capture_toggled"),a+=f.createDiv({elementName:e+"_"+b.elementId,hide:b.hide,classes:d})):a+=f.createDiv({elementName:e+"_"+b.elementName,hide:b.hide,classes:d});if(("checkbox"===b.type||"radio"===b.type)&&!b.collection)a+=f.createDiv({elementName:e+"_inner_"+b.elementName,classes:c});return a},wrapFormItemEnd:function(b){return b.justElement||"submit"===b.type||"button"===b.type?"":"</div>"},createPublicPrivateToggle:function(b){function a(){for(var b=
ib.publicPrivateTogglers,c=b.length,q=0;q<c;q++)b[q]&&(b[q].style.display="none");ib.publicPrivateTogglers=[]}function d(a){var q=I(a),g=c(q),e=document.getElementById(g+"display_toggle_options_"+b.elementName),f=document.getElementById(g+"display["+(b.rendererFieldName||b.elementName)+"]"),h=document.getElementById(g+"display_indicator_public_"+b.elementName),R=document.getElementById(g+"display_indicator_private_"+b.elementName),i=g+"display_option_public_"+b.elementName,j=g+"display_option_private_"+
b.elementName;document.getElementById(g+"display_toggle_options_"+b.elementName);if(q.parentNode&&q.parentNode.id&&(q.parentNode.id===i||q.parentNode.id===j))q=q.parentNode;if(!q.id)return!1;q.id===i?(r(document.getElementById(i)).append("capture_checked"),r(document.getElementById(j)).remove("capture_checked"),f.value="public",r(h).append("capture_toggled"),r(R).remove("capture_toggled")):(r(document.getElementById(i)).remove("capture_checked"),r(document.getElementById(j)).append("capture_checked"),
f.value="private",r(h).remove("capture_toggled"),r(R).append("capture_toggled"));kb&&kb(f);e.style.display="none";J(a)}var g;g=""+f.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+b.elementName});g+=f.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+b.elementName});var e=["capture_display_option"];b.displayPublic&&e.push("capture_checked");g+=f.createDiv({classes:e,elementId:"display_option_public_"+b.elementName});g+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';
e=["capture_display_option"];b.displayPublic||e.push("capture_checked");g+=f.createDiv({classes:e,elementId:"display_option_private_"+b.elementName});g+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';e=["capture_display_toggle","capture_public"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic&&e.push("capture_toggled");g+=f.createDiv({classes:e,
elementId:"display_indicator_public_"+b.elementName});g+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_toggle","capture_private"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic||e.push("capture_toggled");g+=f.createDiv({classes:e,elementId:"display_indicator_private_"+b.elementName});g=g+'<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+
f.createInput({type:"hidden",elementName:"display["+(b.rendererFieldName||b.elementName)+"]",value:b.displayPublic?"public":"private"});s.push({elementName:"display_toggle_wrap_"+b.elementName,eventType:"click",handler:function(d){var g=I(d),e=c(g),e=document.getElementById(e+"display_toggle_options_"+b.elementName),f="none"===e.style.display||""===e.style.display?"block":"none";g.parentNode&&r(g.parentNode).has("capture_display_toggle")&&(g=g.parentNode);r(g).has("capture_display_toggle")&&!r(g).has("capture_display_toggle_disabled")&&
("block"===f&&(a(),ib.publicPrivateTogglers.push(e)),e.style.display=f);J(d)}});s.push({elementName:"display_option_public_"+b.elementName,handler:d,eventType:"click"});s.push({elementName:"display_option_private_"+b.elementName,handler:d,eventType:"click"});w||(H(document.body,"click",function(b){b=I(b);b.parentNode&&r(b.parentNode).has("capture_display_toggle")&&(b=b.parentNode);!r(b).has("capture_display_toggle")&&!r(b).has("capture_display_option")&&a()}),w=!0);return g},createAnchor:function(b){var a=
"",c=b.fieldPrefix||L,d=b.elementId||b.elementName,e="object"===typeof b.elementAttributes?b.elementAttributes:{},f=b.elementClasses&&z(b.elementClasses)?b.elementClasses:[];p(f,"capture_"+d)||f.push("capture_"+d);a=a+"<a "+("id='"+c+d+"' ");b.target&&(a+="target='"+b.target+"' ");a+="class='"+f.join(" ")+"' ";a+=Ic(e)+" ";a+="data-capturefield='"+b.name+"' ";a+="href='"+b.elementHref+"' ";a+="name='"+b.elementName+"' ";a+=">";b.elementText&&(a+=b.elementText);return a+"</a>"},createTextarea:function(b){var a=
"",c=b.fieldPrefix||L,d=b.elementId||b.elementName,e=b.elementClasses&&z(b.elementClasses)?b.elementClasses:[],h=b.rows||"5",a=a+f.createLabel(b);p(e,"capture_"+d)||e.push("capture_"+d);p(e,"capture_textarea")||e.push("capture_textarea");a=a+"<textarea "+("id='"+c+d+"' ")+("class='"+e.join(" ")+"' ");a+="data-capturefield='"+b.name+"' ";a=a+("rows='"+h+"' ")+("name='"+b.elementName+"' ");b.placeholder&&Ya&&(a+="placeholder='"+b.placeholder+"'");a+=">";b.value&&(a+=b.value);a+="</textarea>";b.publicPrivateToggle&&
(a+=f.createPublicPrivateToggle(b));return a+=f.createTip(b)},createTip:function(b){var a;a="<div class='capture_tip' ";b.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof b.tip?b.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+b.elementName+"'>");a=a+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+b.elementName+"'>");b.errors&&z(b.errors)&&(a+=b.errors.join(" "),janrain.events.onCaptureServerValidationFailed.fire(b));return a+
"</div>"},createLabel:function(b,a){var c,d=b.fieldPrefix||L,e=b.elementId||b.elementName;if(!b.label)return a?a:"";c="<label ";"elementCollection"!==b.type&&(c+=" for='"+d+e+"'");c+=">";a&&(c+=a);b.label&&(c+=b.label);return c+"</label>"},createSelect:function(b){var a="",d=b.fieldPrefix||L,g=b.rendererFieldName,e=b.rendererChildFieldName,h,i=b.justElement,j=b.elementClasses&&z(b.elementClasses)?b.elementClasses:[],l=b.elementId||b.elementName;p(j,"capture_"+l)||j.push("capture_"+l);p(j,"capture_select")||
j.push("capture_select");a+=f.createLabel(b);a=a+'<span class="capture_select_arrow"><select '+("id='"+d+l+"' ")+("class='"+j.join(" ")+"' ");g&&(a+="data-capturerendererfield='"+g+"' ");b.showFieldWhere&&(a+='data-showFieldWhere="'+b.showFieldWhere+'" ');e&&(a+="data-capturerendererchildfieldname='"+e+"' ");a+="data-capturefield='"+b.name+"' ";a+="name='"+b.elementName+"' ";a+=">";g=b.options||[];e=g.length;for(j=0;j<e;j++){var m=g[j],o=m.value||""===m.value?m.value:m.text,a=a+('<option value="'+
o+'"');m.disabled&&(a+=' disabled="true"');z(m.showField)&&(a+=' data-showField="'+m.showField.join(",")+'"');o===b.value&&(a+=' selected="selected"',h=m.showField);a+=">"+m.text+"</option>"}a+="</select></span>";b.publicPrivateToggle&&(a+=f.createPublicPrivateToggle(b));i||(a+=f.createTip(b));s.push({handler:function(){h&&fa(h,b.showFieldWhere,d)},eventType:"render"});s.push({elementName:l,handler:function(b){var b=I(b),a=c(b),d=b.getElementsByTagName("option")[b.selectedIndex].getAttribute("data-showField"),
q=b.getAttribute("data-showFieldWhere");d&&d.length&&(d=d.split(","));k&&9>k&&kb&&kb(b);fa(d,q,a)},eventType:"change"});return a},createButton:function(b){var a="",c=b.fieldPrefix||L,d=b.elementId||b.elementName,e=b.elementClasses&&z(b.elementClasses)?b.elementClasses:[],h=b.type?b.type:"submit";p(e,"capture_"+d)||e.push("capture_"+d);p(e,"capture_btn")||e.push("capture_btn");p(e,"capture_primary")||e.push("capture_primary");a+="<button ";b.hide&&(a+="style='display:none' ");a=a+("id='"+c+d+"' ")+
("class='"+e.join(" ")+"' ");a=a+("type='"+h+"' ")+("data-capturefield='"+b.name+"' ");b.value&&(a+="value='"+b.value+"' ");a+="name='"+b.elementName+"' ";a+=">";b.elementContent&&(a+=b.elementContent);a+="</button>";b.modify&&f.attachModifyEventHandler(b);return a},createInput:function(b){var a="",c="",d=b.fieldPrefix||L,e=b.elementId||b.elementName,h=b.elementClasses&&z(b.elementClasses)?b.elementClasses:[],j="object"===typeof b.elementAttributes?b.elementAttributes:{},i="button"===b.type||"submit"===
b.type||"checkbox"===b.type||"radio"===b.type||"hidden"===b.type,l=b.justElement||b.collection||"hidden"===b.type||"button"===b.type||"submit"===b.type,k="password"===b.type&&!Ya&&b.placeholder?"text":b.type,m=("checkbox"===b.type&&!b.collection||"radio"===b.type&&!b.collection)&&!b.justElement,o=b.rendererFieldName,n=b.rendererChildFieldName,s=Ob&&!b.collection;p(h,"capture_"+e)||h.push("capture_"+e);i||(c+=f.createLabel(b));a+="<input ";b.hide&&(a+="style='display:none' ");a=a+("id='"+d+e+"' ")+
(Ic(j)+" ");"text"===b.type||"email"===b.type||"password"===b.type||"file"===b.type?p(h,"capture_text_input")||h.push("capture_text_input"):"checkbox"===b.type||"radio"===b.type?p(h,"capture_input_"+b.type)||h.push("capture_input_"+b.type):"submit"===b.type&&(p(h,"capture_btn")||h.push("capture_btn"),p(h,"capture_primary")||h.push("capture_primary"));a+="data-capturefield='"+b.name+"' ";b.collection&&(a+="data-capturecollection='true' ");o&&(a+="data-capturerendererfield='"+o+"' ");n&&(a+="data-capturerendererchildfieldname='"+
n+"' ");("checkbox"===b.type||"radio"===b.type)&&b.elementValue?a+="value='"+b.elementValue+"' ":b.value?(j=b.value,b.displaySavedValue&&Ac[b.value]&&(j=Ac[b.value],"password"===b.type&&(k="password")),("password"===b.type||"text"===b.type||"email"===b.type)&&!b.errors&&s&&Rc.push(d+e),a+="value='"+j+"' "):b.placeholder&&!Ya?(a+="value='"+b.placeholder+"' ",p(h,"capture_input_placeholder")||h.push("capture_input_placeholder")):a+="value='' ";a=a+("type='"+k+"' ")+("class='"+h.join(" ")+"' ");b.placeholder&&
(a+="placeholder='"+b.placeholder+"' ");if(b.checked||b.elementValue&&b.value===b.elementValue)a+="checked='checked' ";a+="name='"+b.elementName+"' ";a+="/>";c="checkbox"===b.type||"radio"===b.type?c+f.createLabel(b,a):c+a;b.modify&&f.attachModifyEventHandler(b);b.publicPrivateToggle&&(c+=f.createPublicPrivateToggle(b));m&&(c+="</div>");l||(c+=f.createTip(b));return c},createDiv:function(b){var a="<div ",c=b.fieldPrefix||L,d=b.elementId||b.elementName,e="object"===typeof b.elementAttributes?b.elementAttributes:
{},f=b.classes||[];p(f,"capture_"+d)||f.push("capture_"+d);a+="id='"+c+d+"'";if("option"===b.type&&!b["default"]||b.hide)a+=" style='display:none'";"radioCollection"===b.type&&f.push("radio_set");z(f)&&f.length&&(a=a+' class="'+f.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=Ic(e)+" ";a+="data-capturefield='"+b.name+"' ";a+=">";b.elementText&&(a+=b.elementText);b.closeDiv&&(a+="</div>");return a},createImage:function(b){var a,c=b.fieldPrefix||L,d=b.classes||[],e=b.elementId||b.imageId||
b.elementName||"";a="<img "+('src="'+b.src+'"');e&&!p(d,"capture_"+e)&&d.push("capture_"+e);b.hide&&(a+=" style='display:none'");b.alt&&(a+=" alt='"+b.alt+"'");"undefined"!==typeof b.width&&(a+=" width='"+b.width+"'");"undefined"!==typeof b.height&&(a+=" height='"+b.height+"'");e&&(a+=' id="'+c+b.imageId+'" ');z(d)&&d.length&&(a=a+'class="'+d.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(b,a){var c,d="captureIFrame_"+b;if(document.getElementById(d))return!1;if(hd[a]&&(c=document.getElementById(hd[a])))c=
"div"==c.parentNode.tagName.toLowerCase()?c.parentNode:c,zb(c);hd[a]=d;if(k){c="";var e=document.createElement("div");e.innerHTML=c+"<iframe "+('name="'+d+'" ')+('data-transactionId="'+b+'" ')+('id="'+d+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(e)}else c=document.createElement("iframe"),c.setAttribute("name",d),c.setAttribute("data-transactionId",b),c.id=d,c.setAttribute("src","about:blank"),c.style.display="none",c.className="",document.body.appendChild(c)},
createAnchor:function(b){var a=b.fieldPrefix||L,c=document.createElement("a");if(!b.classes||b.classes&&!z(b.classes))b.classes=[];b.elementId&&!p(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);c.setAttribute("href",b.elementHref);c.innerHTML=b.elementText;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createDiv:function(b){var a=b.fieldPrefix||L,c=document.createElement("div");if(!b.classes||b.classes&&!z(b.classes))b.classes=
[];b.elementId&&!p(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createImage:function(b){var a=b.fieldPrefix||L,c=document.createElement("img");if(!b.classes||b.classes&&!z(b.classes))b.classes=[];b.elementId&&!p(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.alt&&c.setAttribute("alt",b.alt);"undefined"!==typeof b.width&&c.setAttribute("width",b.width);"undefined"!==
typeof b.height&&c.setAttribute("height",b.height);c.src=b.elementSrc;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createInput:function(b){var a=document.createElement("input"),c=b.fieldPrefix||L,d="object"===typeof b.elementAttributes?b.elementAttributes:{},e=b.containerDivClasses||[],f;"submit"===b.elementType&&b.containerDiv&&(f=this.createDiv({elementName:b.elementName+"_containverDiv",classes:e}));if(!b.classes||b.classes&&
!z(b.classes))b.classes=[];for(var h in d)d.hasOwnProperty(h)&&a.setAttribute(h,d[h]);b.elementId&&!p(b.classes,c+b.elementId)&&b.classes.push(c+b.elementId);b.elementType&&a.setAttribute("type",b.elementType);b.name&&a.setAttribute("data-capturefield",b.name);b.elementValue&&(a.value=b.elementValue);b.elementName&&(a.name=b.elementName);b.elementId&&(a.id=c+b.elementId);b.hideElement&&(a.style.display="none");a.className=b.classes.join(" ");return f?(f.appendChild(a),f):a},createForm:function(b){b.transactionId||
(b.transactionId=wa());var a=b.transactionId,d=b.captureScreen||ca,g=c(d),e=document.createElement("form"),h=z(b.fields)?b.fields:[],j=h.length;f.domHelpers.createIFrame(a,g+b.elementId);b.needsResponse&&Y(a);if(!b.classes||b.classes&&!z(b.classes))b.classes=[];b.elementId&&!p(b.classes,g+b.elementId)&&b.classes.push(g+b.elementId);e.id=g+b.elementId+"_"+a;e.className=b.classes.join(" ");e.setAttribute("target","captureIFrame_"+a);e.setAttribute("data-transactionId",a);b.name&&e.setAttribute("data-capturefield",
b.name);e.setAttribute("action",b.elementAction);e.setAttribute("method","POST");e.setAttribute("data-capturedomelement","true");b.validate&&e.setAttribute("data-capturedomelementvalidate","true");e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:"\u2713",elementName:"utf8"}));m&&m.mergeToken&&e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:m.mergeToken,elementName:"merge_token",elementId:"merge_token_"+a}));La&&e.appendChild(f.domHelpers.createInput({elementType:"hidden",
fieldPrefix:g,elementValue:La,elementName:"bp_channel",elementId:"bp_channel_"+a}));jb&&e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:jb,elementName:"flow_path",elementId:"flow_path_"+a}));if(Ib)e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:Ib,elementName:"access_token",elementId:"access_token_"+a}));else{var i=b.elementAction.substring(janrain.settings.capture.captureServer.length+1,b.elementAction.length);b&&b.elementAction&&
!p(nc,i)&&ka&&e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:ka,elementName:"access_token",elementId:"access_token_"+a}))}ca&&e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:d,elementName:"capture_screen",elementId:"screen_"+a}));ob&&e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:ob,elementName:"js_version",elementId:"js_version_"+a}));b.serverNextScreen&&e.appendChild(f.domHelpers.createInput({elementType:"hidden",
fieldPrefix:g,elementValue:b.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+a}));b.engageTokenRequired&&e.appendChild(f.domHelpers.createInput({elementType:"hidden",elementValue:mb,fieldPrefix:g,elementName:"token",elementId:"token_"+a}));e.appendChild(f.domHelpers.createInput({elementType:"hidden",elementValue:a,fieldPrefix:g,elementName:"capture_transactionId",elementId:"transactionId_"+a}));e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,
elementValue:b.name,elementName:"form",elementId:"form_"+a}));e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:m.flow,elementName:"flow",elementId:"flow_"+a}));e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementName:"client_id",elementId:"client_id_"+a,elementValue:janrain.settings.capture.clientId}));e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementName:"redirect_uri",elementId:"redirect_uri_"+
a,elementValue:janrain.settings.capture.redirectUri}));e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:janrain.settings.capture.responseType,elementName:"reponse_type",elementId:"response_type_"+a}));e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:Lc,elementName:"flow_version",elementId:"flow_version_"+a}));e.appendChild(f.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:ac,elementName:"locale",
elementId:"locale_"+a}));for(d=0;d<j;d++)switch(a=h[d],a.elementType){case "div":a.fieldPrefix=a.fieldPrefix||g;e.appendChild(f.domHelpers.createDiv(a));break;case "anchor":a.fieldPrefix=a.fieldPrefix||g;e.appendChild(f.domHelpers.createAnchor(a));break;case "hidden":a.fieldPrefix=a.fieldPrefix||g;e.appendChild(f.domHelpers.createInput(a));break;case "file":a.fieldPrefix=a.fieldPrefix||g;e.setAttribute("enctype","multipart/form-data");e.appendChild(f.domHelpers.createInput(a));break;case "submit":a.fieldPrefix=
a.fieldPrefix||g,e.appendChild(f.domHelpers.createInput(a))}f.domHelpers.createFormHandler(e,b);return e},createFormHandler:function(b,a){"function"===typeof a.callback&&(b.setAttribute("next",'{"function":"'+a.elementId+'"}'),xb[a.elementId]=a.callback);H(b,"submit",na)},createFormAndPost:function(b){var a=b.fieldPrefix||L,c=wa();b.fieldPrefix=b.fieldPrefix||a;b.transactionId=c;var d=f.domHelpers.createForm(b),a=f.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:a,
elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});d.appendChild(a);document.body.appendChild(d);f.domHelpers.createFormHandler(d,b);a.click()}},createListOfLinks:function(b,a){var c=b.fieldPrefix||L,d;optionsLength=b.length;d="<ul";z(a)&&a.length&&(d=d+' class="'+a.join(" "),d+='"');d+=">";for(var e=0;e<optionsLength;e++){d+="<li";"string"===typeof b[e].listItemId&&(d+=' id="'+c+b[e].listItemId+'" ');b[e].hide&&(d+=' style="display: none;" ');if(!b[e].listItemClasses||
!z(b[e].listItemClasses))b[e].listItemClasses=[];"string"===typeof b[e].listItemId&&!p(b[e].listItemClasses,"capture_"+b[e].listItemId)&&b[e].listItemClasses.push("capture_"+b[e].listItemId);z(b[e].listItemClasses)&&b[e].listItemClasses.length&&(d+=' class="',d+=b[e].listItemClasses.join(" "),d+='"');d+=">";d+='<a href="'+b[e].anchorHref+'"';"string"===typeof b[e].anchorId&&(d+=' id="'+c+b[e].anchorId+'" ');if(!b[e].anchorClasses||!z(b[e].anchorClasses))b[e].anchorClasses=[];"string"===typeof b[e].anchorId&&
!p(b[e].anchorClasses,"capture_"+b[e].anchorId)&&b[e].anchorClasses.push("capture_"+b[e].anchorId);z(b[e].anchorClasses)&&b[e].anchorClasses.length&&(d+=' class="',d+=b[e].anchorClasses.join(" "),d+='"');d+=">";d+=b[e].anchorText;d+="</a>";d+="</li>"}return d+"</ul>"},togglePasswordInput:function(b){var b=fb(b),a=b.getAttribute("data-capturefield"),a=m&&m.fields&&a?m.fields[a]:"",d=c(b);if(a&&!a.placeholder)return!1;b.getAttribute("value")===b.getAttribute("placeholder")&&b.setAttribute("value","");
if(k&&"text"===b.type){for(var a=[],e=0,f=s.length;e<f;e++)d+s[e].elementName==b.id&&(s[e].elementName=s[e].elementName,a.push(s[e]));d=document.createElement("span");e=b.parentElement;e.insertBefore(d,b);e.removeChild(b);f=document.createElement("input");f.id=b.id;f.setAttribute("data-capturefield",b.name);f.className="capture_password capture_text_input";f.name=b.name;f.setAttribute("type","password");e.insertBefore(f,d);e.removeChild(d);xa().attachEventHandlers(null,a);f.focus()}else b.setAttribute("type",
"password")},clearPlaceHolder:function(b){if(Ya)return!0;b="value"in b?b:fb(b);b.value===b.getAttribute("placeholder")&&(k?b.value="":b.setAttribute("value",""),r(b).remove("capture_input_placeholder"))},restorePlaceHolder:function(b){if(Ya)return!0;var b="value"in b?b:fb(b),a=b.getAttribute("placeholder");if(!a)return!1;"password"===b.getAttribute("type")&&""===b.value&&b.setAttribute("type","text");a&&""===b.value&&(k?b.value=a:b.setAttribute("value",a),r(b).append("capture_input_placeholder"))},
validation:function(){function b(b){e=b;b=a.id||a.name;ua[b].status=e;if((ua[b].element=a)&&a.form&&a.form.id)ua[b].formId=a.form.id}var a,d,e,f;return{getElement:function(){return a},getParentDiv:function(){return d},getState:function(){return e},getValidation:function(){return f},setState:function(a){b(a)},setValidation:function(b){f=b},setParentDiv:function(b){(d=b)&&d.className.split(" ")},setElement:function(b){a=b;d&&d.className.split(" ")},valid:function(c){c||r(d).append("capture_validated");
r(d).remove("capture_validating").remove("capture_error");b("valid");c={};a&&(c.field=a);janrain.events.onCaptureValidationSuccess.fire(c);janrain.events.onCaptureContentChange.fire()},pending:function(){b("pending");r(d).append("capture_validating").remove("capture_validated");janrain.events.onCaptureContentChange.fire()},notValid:function(e,g){b("invalid");if(e){if("noValidationMessage"!==e){r(d).append("capture_error").remove("capture_validated");for(var h,j=c(d),i=d.getElementsByTagName("div"),
l=i.length,k=0;k<l;k++)if("capture_tip_error"===i[k].className){var m=0===d.id.indexOf(j+"form_collection_")?j+"form_collection_":j+"form_item_";if(d.id.split(m)[1]===i[k].getAttribute("data-elementName")||d.id.split(m)[1]+"[dateselect_year]"===i[k].getAttribute("data-elementName")){h=i[k];break}}h&&(h.innerHTML=e)}"function"===typeof g&&g();janrain.events.onCaptureContentChange.fire()}h={};a&&(h.field=a);h.message=e;h.parentDiv=d;f&&(h.validation=f);janrain.events.onCaptureValidationFailed.fire(h)}}}},
fd={createSelect:f.createSelect,createTextarea:f.createTextarea,createAnchor:f.createAnchor,createInput:f.createInput,createLabel:f.createLabel,createDiv:f.createDiv,createImage:f.createImage,createListOfLinks:f.createListOfLinks,toggelPassword:f.togglePasswordInput,clearPlaceHolder:f.clearPlaceHolder,restorePlaceHolder:f.restorePlaceHolder,getElementByEventAttribute:fb};B.prototype.render={data:{engageCookieData:function(b){return jc(b.cookieName)},stringData:function(b){if("undefined"!==typeof b.displayPublic&&
!1===b.displayPublic)return"";var a="",a=b.displaySavedValue&&Pb&&Ac[b.value]?Ac[b.value]:b.value;return a=b.justString?a:f.wrapStringData(b,a)},imageData:function(b){var a;b.value&&(b.returnImageTag?(a={elementName:b.elementname,hide:b.hide,src:b.value},b.classes&&(a.classes=b.classes),b.elementId&&(a.elementId=b.elementId),a=f.createImage(a)):a=b.value);return a}},htmlElement:{parent:B.prototype.render,anchor:function(b){return b=""+f.createAnchor(b)},textarea:function(b){var a;a=""+f.wrapFormItemStart(b);
a+=f.createTextarea(b);return a+=f.wrapFormItemEnd(b)},select:function(b){var a;a=""+f.wrapFormItemStart(b);a+=f.createSelect(b);a+=f.wrapFormItemEnd(b);f.attachFieldEventHandlers(b);return a},multi:function(b,a){var d="",e,h=z(b.value)?b.value:"string"===typeof b.value?b.value.split(","):[],j=b.options.length;b.type="elementCollection";for(var d=d+f.wrapFormItemStart(b),d=d+f.createLabel(b),i=0;i<j;i++)e=b.options[i],e.value="undefined"===typeof e.value?"":e.value.toString(),e.label="undefined"===
typeof e.label?"":e.label.toString(),e.value=e.value||e.label,e.label=e.label||e.value,d+=this.input({elementName:b.elementName,type:a,elementId:b.elementName+"_"+e.value+"_"+i,name:b.name,value:e.value,collection:!0,label:e.label,checked:p(h,e.value)}),s.push({elementName:b.elementName+"_"+e.value+"_"+i,handler:function(a,d){return function(){for(var e=c(this),g=document.getElementById(e+"form_collection_"+b.elementName),g=da("capture_form_item_"+b.elementName,g),e=document.getElementById(e+"form_item_"+
b.elementName+"_"+a+"_"+d),q=0,f=g.length;q<f;q++)r(g[q]).remove("capture_toggled");e&&r(e).append("capture_toggled")}}(e.value,i),eventType:"click"});d+=f.createTip(b);return d+=f.wrapFormItemEnd(b)},multiCheckbox:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},multiRadio:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},input:function(b){var a;a=""+f.wrapFormItemStart(b);a+=f.createInput(b);a+=f.wrapFormItemEnd(b);f.attachFieldEventHandlers(b);
return a},button:function(b){var a;a=""+f.wrapFormItemStart(b);a+=f.createButton(b);a+=f.wrapFormItemEnd(b);f.attachFieldEventHandlers(b);return a},form:function(b){var a="<form ",c="object"===typeof b.elementAttributes?b.elementAttributes:{},d=b.localFieldPrefix||L,e=b.classes||[];e.indexOf("capture_form"===-1)&&e.push("capture_form");e.indexOf(-1==="capture_"+b.elementName)&&e.push("capture_"+b.elementName);a+="id='"+d+b.elementName+"' ";a+=Ic(c)+" ";a+="name='"+b.elementName+"' ";a+="data-capturefield='"+
b.name+"' ";a+="action='"+janrain.settings.capture.captureServer+"/"+b.action+"' ";z(e)&&(a+="class='"+e.join(" ")+"' ");var a=a+"method='POST' novalidate='novalidate' "+("data-transactionId='"+b.transactionId+"' "),a=a+("target='captureIFrame_"+b.transactionId+"' "),a=a+">"+('<div id="'+d+b.elementName+'_defaultSavedProfileMessage"></div>'),a=a+('<div id="'+d+b.elementName+'_errorMessages"></div>'),h="";if(b.errors){janrain.events.onCaptureFormError.fire(b.errors);for(var i in b.errors)b.errors.hasOwnProperty(i)&&
(h+=f.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),h+=b.errors[i]+"</div>")}s.push({handler:function(){Y(b.transactionId)},eventType:"render"});s.push({handler:function(){var a=document.getElementById(d+b.elementName);if(!a)return!1;var c=da("capture_form_error_container",a),c=c.length?c[0]:document.getElementById(d+b.elementName+"_errorMessages");h?(c.innerHTML=h,r(a).append("capture_form_level_error")):c.innerHTML=""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&
"object"===typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,j;for(j in c)c.hasOwnProperty(j)&&(a+=f.createInput({elementName:j,type:"hidden",value:c[j]}))}a+=f.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});La&&(a+=f.createInput({elementName:"bp_channel",elementId:"bp_channel"+b.transactionId,type:"hidden",value:La}));jb&&(a+=f.createInput({elementName:"flow_path",elementId:"flow_path_"+b.transactionId,type:"hidden",value:jb}));m&&m.mergeToken&&
(a+=f.createInput({elementName:"merge_token",elementId:"merge_token_"+b.transactionId,type:"hidden",value:m.mergeToken}));Ib?a+=f.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,classes:["capture_accessToken"],type:"hidden",value:Ib}):b&&b.action&&!p(nc,b.action)&&ka&&(a+=f.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,classes:["capture_accessToken"],type:"hidden",value:ka}));ca&&(a+=f.createInput({elementName:"capture_screen",elementId:"screen_"+
b.transactionId,type:"hidden",value:ca}));ob&&(a+=f.createInput({elementName:"js_version",elementId:"js_version_"+b.transactionId,type:"hidden",value:ob}));b.serverNextScreen&&(a+=f.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+b.transactionId,type:"hidden",value:b.serverNextScreen}));if(b.engageTokenRequired||zc)a+=f.createInput({elementName:"token",elementId:"token_"+b.transactionId,type:"hidden",value:mb});a+=f.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+
b.transactionId,type:"hidden",value:b.transactionId});a+=f.createInput({elementName:"form",elementId:"form_"+b.transactionId,type:"hidden",value:b.name});a+=f.createInput({elementName:"flow",elementId:"flow_"+b.transactionId,type:"hidden",value:m.flow});a+=f.createInput({elementName:"client_id",elementId:"client_id_"+b.transactionId,type:"hidden",value:janrain.settings.capture.clientId});a+=f.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+b.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});
a+=f.createInput({elementName:"response_type",elementId:"response_type_"+b.transactionId,type:"hidden",value:janrain.settings.capture.responseType});a+=f.createInput({elementName:"flow_version",elementId:"flow_version_"+b.transactionId,type:"hidden",value:Lc});a+=f.createInput({elementName:"locale",elementId:"locale_"+b.transactionId,type:"hidden",value:ac});f.domHelpers.createIFrame(b.transactionId,d+b.elementName);return a},div:function(b){return f.createDiv(b)},close:function(b){return"capture"===
b.element?"photoManager"===b.type?"</div>":"":"</"+b.element+">"}},captureElement:{table:function(b){var a='<table class="capture_table">',c=B.prototype.render.htmlElement;if(b.th.display){var a=a+"<tr>",d;for(d in b.th.cols)a+="<th>"+b.th.cols[d]+"</th>";a+="</tr>"}for(var e in b.rows){var a=a+"<tr>",h;for(h in b.rows[e].cells)b.rows[e].cells[h].type&&"radio"===b.rows[e].cells[h].type?(d=b.rows[e].cells[h],d.name="table",b.value&&d.elementValue===b.value[d.rendererChildFieldName]&&(d.checked=!0),
a+="<td>",a+=f.wrapFormItemStart(b),a+=c.input(d),a+=f.wrapFormItemEnd(b),a+="</td>"):a+="<td>"+b.rows[e].cells[h]+"</td>";a+="</tr>"}return a+"</table>"},countrySelect:function(b){b.options=[{text:"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},
{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",
value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},
{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},
{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},
{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",
value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",
value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",
value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",
value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",
value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},
{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},
{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",
value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},
{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},
{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",
value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return B.prototype.render.htmlElement.select(b)},stateSelect:function(b){var a=[{text:"state",value:"",disabled:!0}],a=b.noCanadianProvinces?a.concat(xd):
a.concat(xd,Hd);b.options=a;return B.prototype.render.htmlElement.select(b)},keepMeLoggedIn:function(a){var c=a.fieldPrefix||L,a=""+f.createInput({label:a.label||"Keep me logged in",type:"checkbox",name:a.name,justElement:!0,value:"yes",checked:a.checked||!1,elementName:"capture_keep_me_logged_in"});s.push({elementName:"capture_keep_me_logged_in",handler:function(){loggedInElement=document.getElementById(c+"capture_keep_me_logged_in");loggedInElement.checked?janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},
!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},!0)},eventType:"render"});s.push({elementName:"capture_keep_me_logged_in",handler:function(a){I(a).checked?janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},!0)},eventType:"click"});return a},captcha:function(a){var c="http:"===document.location.protocol?"http://www.google.com/recaptcha/api/js/recaptcha_ajax.js":"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js";
lc||ya(c,function(){lc=!0});s.push({elementName:a.name,handler:function(){function a(){if("undefined"===typeof Recaptcha)setTimeout(a,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});c=""+f.wrapFormItemStart(a);a.label&&(c+=f.createLabel(a));c=c+'<div id="recaptcha_container"></div>'+
f.createTip(a);return c+=f.wrapFormItemEnd(a)},mergeAccounts:function(a,c){var c=c?D.parse(c):{custom:!1},d=B.prototype.render,e=a.value,f="";e.existing_provider="legacy"===e.existing_provider?"email":e.existing_provider;a.customText||(a.customText={});var h=a.customText.connectRadio||'Connect this session with your existing account <br /><span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',
j=a.customText.connectLegacyRadio||'Connect this session with your existing account <br /><span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',i=a.customText.createRadio||"Create a new account using Google sign-in.",l=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",k=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',
m=a.customText.moreInfo||"More Info ?",o=a.customText.createButton||"Create",p=a.customText.connectButton||"Connect";e.connectRadioText=O(e,h);e.connectLegacyRadioText=O(e,j);e.createRadioText=O(e,i);e.foundExistingAccountText=O(e,l);e.moreInfoHoverText=O(e,k);e.moreInfoText=O(e,m);e.createButtonText=O(e,o);e.connectButtonText=O(e,p);e.connect_button=d.htmlElement.button({elementContent:'<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase()+
'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.current_provider.toLowerCase()+'"></span>'+p,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});e.create_button=d.htmlElement.button({elementContent:o,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});e.merge_radio=d.htmlElement.multiRadio({element:"multiRadio",value:[1],elementName:a.name+"_mergeRadio",
classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===e.existing_provider?O(e,j):O(e,h),value:1},{label:i,value:2}]});e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase();e.existing_provider_lowerCase=
e.existing_provider.toLowerCase();c.custom?s.push({handler:function(){var c=document.getElementById(a.name);c.innerHTML=O(e,c.innerHTML)},eventType:"render"}):f+=O(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}          </div>         <span class="capture_mergeProvider janrain-provider-icon-30 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
s.push({elementName:a.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(Tc=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});s.push({elementName:a.name+"_createButton",handler:function(){yc?rb():(Cc=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});s.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(L+a.name+"_connectButton").style.display="";document.getElementById(L+a.name+"_createButton").style.display="none";r(document.getElementById(L+"form_item_"+a.name+"_mergeRadio_1_0")).append("capture_toggled");r(document.getElementById(L+"form_item_"+a.name+"_mergeRadio_2_1")).remove("capture_toggled")},eventType:"click"});s.push({elementName:a.name+
"_mergeRadio_2_1",handler:function(){document.getElementById(L+a.name+"_connectButton").style.display="none";document.getElementById(L+a.name+"_createButton").style.display="";r(document.getElementById(L+"form_item_"+a.name+"_mergeRadio_2_1")).append("capture_toggled");r(document.getElementById(L+"form_item_"+a.name+"_mergeRadio_1_0")).remove("capture_toggled")},eventType:"click"});return f},publicProfileLink:function(a,c){var d="",e=c?D.parse(c).elementHref:a.elementHref;a.elementAttributes="object"===
typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=e+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return d+=f.createAnchor(a)},linkAccounts:function(a){function c(d,e,g){var f;f='<li class="capture_provider_linked"><span class="'+("janrain-provider-icon-"+w+" janrain-provider-icon-"+d+(a.customIcons?"-custom":"")+'">');f+='</span><span class="';var h=a.displayFormat?O({provider:d,displayName:e},a.displayFormat):
d;e&&"null"!=e.toLowerCase()&&a.displayFormatKnown&&(h=O({provider:d,displayName:e},a.displayFormatKnown));f+="janrain-provider-text-"+d+(a.customIcons?"-custom":"")+'">'+h+"</span>";if(Ia||0!==u)f+='<span tabindex="0" class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+d+'" data-captureidentifier="'+g+'"></span>';return f+"</li>"}function d(c){var q=I(c);if(r(q).has("capture_remove_linkedaccount")){var j=q.getAttribute("data-captureidentifier");
f.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",fieldPrefix:t,captureScreen:e,needsResponse:!0,callback:function(){var c=q.getAttribute("data-captureprovider");janrain.events.onCaptureProfileUnlink.fire({provider:c});if(a.customAddLinks){var d=q.parentNode,e=document.createElement("li");e.className="capture_custom_add_linkedaccount";e.setAttribute("data-captureprovider",c);e.innerHTML=O({provider:c},a.customAddLinkFormat);
d&&d.parentNode?d.parentNode.insertBefore(e,d):document.getElementById(h+a.name+"_linkedproviderlist").appendChild(e)}zb(q.parentNode)},fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:j},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:j}]})}J(c)}a.value||(a.value={});a.customText||(a.customText={});var e=ca,h=a.fieldPrefix||L,j='<div class="capture_linkAccounts" id="'+h+a.name+'_currentlinkedaccounts">',i=m.fields[a.linkAccountContainer].elementName||m.fields[a.linkAccountContainer].name||
a.linkAccountContainer,k=a.customText.linkAnotherAccount||"Link Another Account",o=z(a.value.providers)?a.value.providers.length:0,n=h+a.name+"_linkaccountsscreen",t=h,w=a.providerIconSize&&p(Gd,a.providerIconSize)?a.providerIconSize:16,v=B.prototype.render,j=j+('<ul class="capture_provider" id="'+h+a.name+'_linkedproviderlist">');if(!a.customAddLinks)for(var u=0;u<o;u++)j+=c(a.value.providers[u],a.value.displayNames[u],a.value.identifiers[u]);if(a.customAddLinks){u=0;for(k=a.customProviders.length;u<
k;u++)p(a.value.providers,a.customProviders[u])?(o=a.value.providers.indexOf(a.customProviders[u]),j+=c(a.value.providers[o],a.value.displayNames[o],a.value.identifiers[o])):(j+='<li tabindex="0" class="capture_custom_add_linkedaccount" data-captureprovider="'+a.customProviders[u]+'">',j+=O({provider:a.customProviders[u]},a.customAddLinkFormat)+"</li>");var x=function(a){a=I(a);a=ad(a,"li");r(a).has("capture_custom_add_linkedaccount")&&(a=a.getAttribute("data-captureprovider"),janrain.engage&&janrain.engage.signin&&
janrain.engage.signin.setNoReturnExperience(!0),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:e},!0),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.triggerFlow(a))};s.push({elementName:a.name+"_linkedproviderlist",handler:x,eventType:"click"});s.push({elementName:a.name+"_linkedproviderlist",handler:function(a){13===a.keyCode&&x(a)},eventType:"keypress"})}else j+='<li class="capture_linkAccount"><a href="#" id="'+h+a.name+
'_linknewlink">'+k+"</a></li>";j+="</ul></div>";s.push({elementName:a.name+"_linknewlink",handler:function(a){janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:e},!0);l(document.getElementById(n));J(a)},eventType:"click"});s.push({elementName:a.name+"_currentlinkedaccounts",handler:function(a){13===a.keyCode&&d(a)},eventType:"keypress"});s.push({elementName:a.name+
"_currentlinkedaccounts",handler:d,eventType:"click"});j=j+'<div style="display: none;">'+('<div id="'+n+'" class="janrain-capture-ui capture-ui-content capture_addLinkedAccount">');X&&X.modal&&(j+=v.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));j+='<div  id="'+h+a.name+'_linkAccountContainerContainer">';j+="</div></div></div>";a.customAddLinks||s.push({handler:function(){var c=document.getElementById(h+i);document.getElementById(h+
a.name+"_linkAccountContainerContainer").appendChild(c)},eventType:"render"});return j},errorMessages:function(){var a;a=""+B.prototype.render.htmlElement.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+B.prototype.render.htmlElement.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});
return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c="",c="";a.value.firstname&&(c+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&(c+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(c+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+
a.value.lastname+"</span>");return c=a.justString?c:f.wrapStringData(a,c,"capture_stringdata_nameBlock")},nameFull:function(a){var c,d=B.prototype.render.htmlElement;c='<div class="capture_form_item capture_nameBlock">'+d.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&
a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:""});c+=d.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""});c+=d.input({elementName:a.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],
elementId:a.name+"_lastname",type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return c+"</div>"},dateselect_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic||!a.value||!a.value.dateselect_month||!a.value.dateselect_year||!a.value.dateselect_day)return"";var c="",c="",d,c=parseInt(a.value.dateselect_month,10);d=parseInt(a.value.dateselect_year,
10);var e=parseInt(a.value.dateselect_day,10);a.format?(c=new Date(d,c-1,e),d=a.format,c=$c(d,c)):c=c+"/"+e+"/"+d;return c=a.justString?c:f.wrapStringData(a,c,"capture_stringdata_dateselectBlock")},dateselect:function(a){function e(d){d=I(d);d=c(d);d=document.getElementById(d+"form_item_"+a.elementName);r(d).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()}function h(d){var e=I(d),g=c(e),g=document.getElementById(g+"form_item_"+a.elementName);r(g).remove("capture_focused");
W(e,a)&&Ca(d)}a.customText||(a.customText={});var g=a.customText.dayLabelDateSelect||"day",j=a.customText.monthLabelDateSelect||"month",i=a.customText.yearLabelDateSelect||"year",l='<div id="'+(a.fieldPrefix||L)+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',k,m=z(a.format)&&3===a.format.length?a.format:["month","day","year"],o=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):"",p=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"";k=a.value&&
a.value.dateselect_month?parseInt(a.value.dateselect_month):"";var n=[{text:j,value:"",disabled:!0},{text:"January",value:1},{text:"February",value:2},{text:"March",value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},{text:"August",value:8},{text:"September",value:9},{text:"October",value:10},{text:"November",value:11},{text:"December",value:12}],t=a.monthStart||1,u=a.monthEnd||13,w=a.dayStart||1,v=a.dayEnd||31,j=a.yearStart||1929,x=a.yearEnd||2012;k={elementName:a.name+
"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],justElement:!0,value:k,options:n.slice(0,1).concat(n.slice(t,u))};g={elementName:a.name+"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:o,options:d(w,v,"asc",g)};j=parseInt(j,10);x=parseInt(x,10);i={elementName:a.name+
"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],value:p,options:d(j,x,"desc",i)};for(p=0;3>p;p++){var y;switch(m[p]){case "month":y=k;break;case "day":y=g;break;case "year":y=i}0===p&&(y.label=a.label);2===p&&(y.publicPrivateToggle=a.publicPrivateToggle,y.displayPublic=a.displayPublic,y.tip=a.tip,y.justElement=!1);l+=f.createSelect(y)}l+="</div>";s.push({elementName:a.name+
"_dateselectyear",handler:e,eventType:"focus"});s.push({elementName:a.name+"_dateselectyear",handler:h,eventType:"blur"});s.push({elementName:a.name+"_dateselectday",handler:e,eventType:"focus"});s.push({elementName:a.name+"_dateselectday",handler:h,eventType:"blur"});s.push({elementName:a.name+"_dateselectmonth",handler:e,eventType:"focus"});s.push({elementName:a.name+"_dateselectmonth",handler:h,eventType:"blur"});return l},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&
!1===a.displayPublic)return"";var c="",c="";a.value.streetaddress&&(c+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&(c+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(c+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");
a.value.stateprovince&&(c+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(c+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+="</div>";a.value.country&&(c+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return c=f.wrapStringData(a,c,"capture_stringdata_addressBlock")},addressFull:function(a){var d,
e=B.prototype.render.htmlElement;a.value||(a.value={});a.value.country||(a.value.country="United States");d='<div class="capture_form_item capture_addressBlock">'+e.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:a.label||"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&
a.placeholder.streetaddress?a.placeholder.streetaddress:""});d+=e.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});d+=e.input({elementName:a.name+"[city]",elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",
rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});d+=B.prototype.render.captureElement.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),
value:a.value&&a.value.stateprovince?a.value.stateprovince:""});s.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});d+=e.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:
""});d+=B.prototype.render.captureElement.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});s.push({elementName:a.name+"_country",handler:function(d){var d=I(d),d=c(d),e=this.options[this.selectedIndex].value||"",f=document.getElementById(d+a.name+
"_stateprovince");"United States"===e||"Canada"===e?document.getElementById(d+"form_item_"+a.name+"[stateprovince]").style.display="inline-block":(f.selectedIndex=0,document.getElementById(d+"form_item_"+a.name+"[stateprovince]").style.display="none")},eventType:"change"});return d+"</div>"},backButton:function(a){var c;a.type="button";a.elementContent='<span class="janrain-icon-16 janrain-icon-back"></span>';c=""+f.createButton(a);a.type="backButton";s.push({elementName:a.elementName,handler:function(){t=
!1;var a=tc.pop();a&&janrain.capture.ui.render(a.flow,a.values)},eventType:"click"});return c},partial:function(a){var c=document.getElementById(a.layout);if(c)return c.innerHTML;throw M(a.layout);},photoManager:function(a,d){function e(c){Fb=!1;var d=document.getElementById(n+a.name+"_profile_pic_uploadform_container"),g=document.getElementById(n+a.name+"_upload_photo_form");d.innerHTML="";var f=document.createElement("div");f.innerHTML=$;var h=document.createElement("div");h.innerHTML=aa;d.appendChild(f);
d.appendChild(g);d.appendChild(h);l(document.getElementById(C));d=document.getElementById(n+"photo_chooser");H(d,"change",Z);janrain.events.onModalClose.addHandler(function(){Fb=!0});c&&J(c)}function g(c){if(0<parseInt(c.unscaled.width)){v=c;var d=c.unscaled.height/c.sizedHeight,e=Math.round(r/(c.unscaled.width/c.sizedWidth)),g=document.getElementById(n+a.name+"_profile_pic_image_edit"),d=Math.round(t/d);"none"===g.style.display&&(g.style.display="block");g.style.width=e+"px";g.style.height=d+"px";
g.style.marginLeft="-"+Math.round(c.unscaled.left/c.sizedWidth*e)+"px";g.style.marginTop="-"+Math.round(c.unscaled.top/c.sizedHeight*d)+"px"}}function h(){if(x)return!1;var c=document.getElementById(n+a.name+"_profile_pic_image_edit_crop");crop(c,g,w,u,function(){janrain.events.onCaptureContentChange.fire()});c.style.display="inline";x=!0}function j(a){if(!v)return!1;I(a);var a=v.sizedWidth/v.originalWidth,b=v.sizedHeight/v.originalHeight;document.getElementById(n+"width").value=Math.round(v.unscaled.width/
a);document.getElementById(n+"height").value=Math.round(v.unscaled.height/b);document.getElementById(n+"x").value=Math.round(v.unscaled.left/a);document.getElementById(n+"y").value=Math.round(v.unscaled.top/b)}var d=d?D.parse(d):{custom:!1},i={};if(z(a.value)&&a.value.length){va={};for(var k=0,m=a.value.length;k<m;k++)va[a.value[k].type]=a.value[k]}else va=!1;var k=f.createDiv({elementName:a.elementName+"_parent"}),o=ca,n=a.fieldPrefix||L,m=B.prototype.render.htmlElement,r=a.previewSizeWidth||100,
t=a.previewSizeHeight||100,u=a.originalMaxWidth||450,w=a.originalMaxHeight||450,v,x=!1,y="object"===typeof va,A=y?"":"capture_profile_pic ",C=n+a.name+"_uploadphotoscreen",E=n+a.name+"_editphotoscreen";if(y&&va.original)var G=-1<va.original.value.indexOf("?")?"&":"?";i.profilePicClass=A;i.uploadPhotoScreenId=C;i.editPhotoScreenId=E;var r=parseInt(r,10),t=parseInt(t,10),u=parseInt(u,10),w=parseInt(w,10),F={elementName:a.elementName};y&&va.large&&(F.classes=["capture_userphoto"]);i.mainDiv=f.createDiv(F);
i.closeDiv="</div>";a.customText||(a.customText={});var F=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",K=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",M=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",N=a.customText.removePhotoLinkPhotoManager||"Remove photo",P=a.customText.editPhotoLinkPhotoManager||"Edit Photo",Q=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo",S=a.customText.editPhotoButtonTextPhotoManager||
"Save",T=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",W=a.customText.removePhotoButtonTextPhotoManager||"Remove",X=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",$=a.customText.uploadNewPhotoInstructionPhotoManager||"",aa=a.customText.uploadNextStepInstructionPhotoManager||"",ba=a.customText.editPhotoPreviewTitlePhotoManager||"";i.editProfilePhotoTitle=a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo";i.editProfileInstruction=K;i.profilePhotoTitle=F;i.prefixFieldName=
n+a.name;i.editPhotoPreviewTitle=ba;zb(document.getElementById(C));zb(document.getElementById(E));i.profileImage='<div id="'+n+a.name+'_profile_pic" class="'+A+"capture_profile_pic_display"+(y?"":" capture_default")+'">';y&&va.large&&(i.profileImage+=f.createImage({src:va.large.value,imageId:a.name+"_profile_pic_image"}));i.profileImage+="</div>";i.photoLinks=f.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:M,anchorHref:"#",anchorClasses:["capture_upload_photo_link"],
anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:P,anchorHref:"#",anchorClasses:["capture_edit_photo_link"],anchorId:"edit_photo_link",hide:!y},{listItemId:"remove_photo",listItemClasses:[],anchorText:N,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!y}],["options"]);i.uploadImage=y&&va.large?f.createImage({src:va.large.value,imageId:a.name+"_profile_pic_image_upload"}):"";i.editImage=y&&va.original?f.createImage({src:va.original.value+
G+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit"}):"";i.cropImage=y&&va.original?f.createImage({src:va.original.value+G+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}):"";i.photoChooserErrors=f.createDiv({elementId:"photo_chooser_errors"});i.photoChooserErrors+="</div>";var U=wa();f.domHelpers.createIFrame(U,a.name+"_upload_photo_form");i.uploadFormOpen=m.form({action:"widget/photo/upload_photo.jsonp",elementAttributes:{enctype:"multipart/form-data"},
transactionId:U,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form"});i.uploadFileField=f.createInput({elementName:"photo",elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});i.uploadSubmitButton=f.createInput({elementName:"photo_submit",elementId:"photo_submit",value:T,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});i.uploadFormClose="</form>";var V=wa();f.domHelpers.createIFrame(V,a.name+"_crop_photo_form");
i.editFormOpen=m.form({action:"widget/photo/crop_photo.jsonp",transactionId:V,name:a.name+"_crop_photo_form",elementName:a.name+"_crop_photo_form"});i.editFormOpen+=f.createDiv({elementName:"",classes:["capture_popup-arrow"],type:"div"});i.editFormOpen+="</div>";i.editFormOpen+=f.createInput({elementName:"width",elementId:"width",justElement:!0,type:"hidden"});i.editFormOpen+=f.createInput({elementName:"height",elementId:"height",justElement:!0,type:"hidden"});i.editFormOpen+=f.createInput({elementName:"x",
elementId:"x",justElement:!0,type:"hidden"});i.editFormOpen+=f.createInput({elementName:"y",elementId:"y",justElement:!0,type:"hidden"});i.editSubmitButton=f.createInput({elementName:"edit_photo_submit",elementId:"edit_photo_submit",value:S,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});i.editFormClose="</form>";i.chooseDifferentPhotoLink=f.createAnchor({elementHref:"#",elementText:Q,elementId:a.name+"_different_photo_link"});d.custom?s.push({handler:function(){var c=document.getElementById(n+
a.name+"_parent");c.innerHTML=O(i,c.innerHTML);s.push({elementName:a.name+"_upload_photo_form",handler:na,eventType:"submit"});s.push({elementName:a.name+"_crop_photo_form",handler:na,eventType:"submit"});Y(U);Y(V)},eventType:"render"}):(k+=O(i,'{| mainDiv |}      {| profileImage |}     {| photoLinks |}     &nbsp;  {| closeDiv |}  <\!-- hidden crop form --\> <div style="display: none;">     {| editFormOpen |}     <div class="capture_footer">         {| chooseDifferentPhotoLink |}         {| editSubmitButton |}     </div>     {| editFormClose |} </div>  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| photoChooserErrors |}             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div>  <\!-- hidden edit photo screen --\> <div style="display: none;">     <div id="{| editPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| editProfilePhotoTitle |}</h1>         </div>         <div class="{| profilePicClass |}profile_pic_edit_container">             <h2>{| editPhotoPreviewTitle |}</h2>             <div id="{| prefixFieldName |}_profile_pic_edit" class="{| profilePicClass |}capture_profile_pic_edit capture_default">                 {| editImage |}                 &nbsp;             </div>         </div>         <div id="{| prefixFieldName |}_profile_pic_editPhoto_container" class="capture_editPhoto_container">             <h2>{| editProfileInstruction |}</h2>             {| cropImage |}         </div>     </div> </div> '),
k+="</div>",s.push({elementName:a.name+"_upload_photo_form",handler:na,eventType:"submit"}),s.push({elementName:a.name+"_crop_photo_form",handler:na,eventType:"submit"}),Y(U),Y(V));s.push({eventType:"render",handler:function(){var c=document.getElementById(n+a.name+"_different_photo_link");H(c,"click",e);c=document.getElementById(n+a.name+"_crop_photo_form");document.getElementById(n+a.name+"_profile_pic_editPhoto_container").appendChild(c);H(c,"submit",j)}});s.push({elementName:"upload_photo_link",
handler:e,eventType:"click"});s.push({elementName:"edit_photo_link",handler:function(a){"function"!==typeof crop?ya("http://janrain-widgets.s3.amazonaws.com/crop/crop.js",h):setTimeout(h,50);Fb=!1;l(document.getElementById(E));janrain.events.onModalClose.addHandler(function(){Fb=!0});J(a)},eventType:"click"});s.push({elementName:"remove_photo_link",handler:function(a){var b=I(a),d=c(b);if(!document.getElementById(d+"remove_photo_contain")){var e=f.domHelpers.createDiv({elementId:"remove_photo_contain",
fieldPrefix:d,classes:["capture_popup_container pad"]}),b=f.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementText:W,elementId:"confirm_remove_photo_link"}),g=f.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementId:"cancel_remove_photo_link",elementText:X});e.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';e.appendChild(b);e.appendChild(g);document.getElementById(d+"remove_photo").appendChild(e);var h=function(a){var b=[d+"createFormAndPostSubmit",d+
"confirm_remove_photo_link",d+"remove_photo_link"],c=I(a).getAttribute("id")||"";!p(b,I(a).getAttribute("id"))&&0>c.indexOf(d+"createFormAndPostSubmit_")&&(e.innerHTML="",zb(e),nb(document,"click",h),J(a))};H(g,"click",h);H(document,"click",h);H(b,"click",function(a){f.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:d,captureScreen:o,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});J(a)});J(a)}},
eventType:"click"});return k},slider:function(a){for(var c=f.createDiv({elementName:"slider capture_form_item"}),d=B.prototype.render.htmlElement,e=a.fieldPrefix||L,h=a.value&&a.value.score?a.value.score:0,c=c+("<label>"+a.label+"</label>"),c=c+f.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),c=c+f.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),c=c+f.createDiv({elementName:a.elementName+"_marker",classes:["capture_slider_marker"]}),
c=c+'</div></div><div class="capture_slider_list"><ul>',i=0,j;j=a.legend_items[i];i++)c+="<li>"+j+"</li> ";c=c+"</ul></div></div>"+d.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&a.value.score?a.value.score:""});c+="</div>";s.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(e+a.elementName+
"_marker").style.left=h+"%"}});if(!0===a.enabled){var k=!1;s.push({elementName:a.elementName+"_marker",eventType:kd,handler:function(c){k=!0;var d=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),d=d.getBoundingClientRect(),h=d.width?d.width:d.right-d.left,d=new bd;d.setElement(document.getElementById(e+a.elementName+"_marker")).setElementBoundry(document.getElementById(e+a.elementName+"_container")).setCallback(function(a){f.value=Math.round(100*
(a.pos_x/h));kb&&kb(f)}).drag(c);_draggingSliderFx.push(d);bc&&clearTimeout(bc)}});s.push({elementName:a.elementName+"_marker",eventType:vb,handler:function(){var c=document.getElementById(e+a.elementName+"_marker"),d=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),c=parseInt(pd(c.id,"left")),d=d.getBoundingClientRect();f.value=Math.round(100*(c/(d.width?d.width:d.right-d.left)))}});s.push({elementName:a.elementName+"_container",eventType:"mouseover",
handler:function(){document.getElementById(e+a.elementName+"_container").style.cursor="pointer"}});s.push({elementName:a.elementName+"_container",eventType:"click",handler:function(c){if(!0===k)k=!1;else{var d=document.getElementById(e+a.elementName+"_marker"),f=document.getElementById(e+a.elementName+"_base"),h=document.getElementById(e+a.elementName+"_score"),i=f.getBoundingClientRect(),j=i.width?i.width:i.right-i.left,q=c.clientX-vd(f).x,c=parseInt(pd(d.id,"left")),c=isNaN(c)?0:c;(new bd).setElement(d).setAcceleration("sinusoidal").setDuration(500).startPosition(c).endPosition(q).setDirection("horizontal").setCallback(function(){h.value=
Math.round(100*(q/j));kb&&kb(h)}).animate()}}})}return c},collection:{radio:function(a){for(var c=a.fieldPrefix||L,d=f.createDiv({elementName:a.elementName,classes:a.classes||""}),e=0;e<a.collection.length;e++)d+="<div class='capture_radio_toggle",d+=(0===e?" capture_toggled":"")+"'>",d+="<input type='radio' id='"+c+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",d+="<label ",d+="class='capture_radio_label' ",
d+="for='"+c+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",d+="</label></div>",s.push({elementName:"radio_"+a.collection[e].elementName,handler:function(c){N(c,a)},eventType:"click"});f.autoSelectPreferredTab(a,"radio",function(a){7===k?setTimeout(function(){a.checked=!0},0):a.checked=!0});return d+"</div>"},accordion:function(){return"<div>"},tab:function(a){for(var c,d=[],e=f.createDiv({elementName:a.elementName,classes:a.classes||""}),h=0;h<a.collection.length;h++)c={},c.listItemId=
"tab_li_"+a.collection[h].elementName,c.listItemClasses=["capture_tab_toggle"],0===h&&c.listItemClasses.push("capture_toggled"),c.anchorId="tab_"+a.collection[h].elementName,c.anchorText=a.collection[h].label,c.anchorHref="#",d.push(c),s.push({elementName:"tab_"+a.collection[h].elementName,handler:function(c){N(c,a)},eventType:"click"});f.autoSelectPreferredTab(a,"tab",function(a){a.click()});e+=f.createListOfLinks(d,["capture_tabs"]);return e+"</div>"}},pluralIterator:function(a){var c="",d="",e=
a.format||"",f=a.startHTML||"",h=a.endHTML||"",i=a.delimiter||"",j="undefined"===typeof a.emptyMessage?"There are no "+a.schemaId+".":a.emptyMessage,a=z(a.value)?a.value:[],k=a.length;if(0===k)return j;for(j=0;j<k;++j)d+=O(a[j],e)+i;i&&(d=d.slice(0,-i.length));d&&(c+=f+d+h);return c},datetime_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c,d,e,h=a.format||"{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}",i="2012",j="01",k="01",l="NA",m="NA",n="NA",
o;c=a.value.split(" ");d=c.length;for(o=0;o<d;++o)e=c[o].split("-"),3===e.length?(i=e[0],j=e[1],k=e[2]):(e=c[o].split(":"),3===e.length?(l=e[0],m=e[1],n=e[2].split(".")[0]):(e=c[o].split("/"),3===e.length&&(i=e[0],j=e[1],k=e[2])));c=new Date;"NA"!==l||"NA"!==m||"NA"!==n?(c.setUTCHours(l),c.setUTCMinutes(m),c.setUTCSeconds(n),c.setUTCMilliseconds(0),c.setUTCMonth(j-1),c.setUTCDate(k),c.setUTCFullYear(i)):(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),c.setMonth(j-1),c.setDate(k),
c.setFullYear(i));return"[object Date]"!==Object.prototype.toString.call(c)||isNaN(c.getTime())?a.value:a.justString?$c(h,c):f.wrapStringData(a,$c(h,c))}},widget:{login:function(){s.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),b=document.getElementById(L+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=wa();janrain.engage.signin.appendTokenParams({capture_transactionId:c});Wc=c}a?(b.appendChild(a),a.style.display="block",
janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());aa||ra()},eventType:"render"});var a=f.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(a,c){c=c?D.parse(c):{text:"Share"};s.push({elementName:"share_widget",eventType:"click",handler:function(){janrain.engage.share.show()}});var d=f.createDiv({elementName:"share_widget",
classes:["share_widget"]});return d+=c.text+" </div>"}}};var ua={},Fb=!0,vc={},Qc="",oc=0,gd=[],qc,bc=0,id=0,kb=null;hb.accessDenied='<div class="capture_access">'+(C.accessDenied||"Sorry. Access denied.")+"</div>";hb.retrievingUserData='<div class="capture_retrieving">'+(C.retrievingUserData||"Please wait while we retrieve your user data.")+"</div>";var Kc=[],jd={};return{modal:{close:function(){"object"==typeof u&&u.close()},closeConfirm:function(){"object"==typeof u&&u.closeConfirm()},open:function(a){Hb=
!0;a=a||X.flow.defaultScreen;if("object"==typeof u&&(janrain.capture.ui.renderScreen(a),a=document.getElementById(m.screens[a].layout)))u.setShowContentOnLoad(!0),u.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof u&&(u.setBorder(a),u.refresh({center:!0}));return!0},setBorderColor:function(a){"object"===typeof u&&(u.setBorderColor(a),u.refresh());return!0},setBorderOpacity:function(a){"object"===typeof u&&(u.setBorderOpacity(a),u.refresh());
return!0},setBorderRadius:function(a){"object"==typeof u&&(u.setBorderRadius(a),u.refresh());return!0},setOverlayZIndex:function(a){"object"==typeof u&&(u.setZIndex(a),u.refresh());return!0}},start:function(b,c){a(b,c)},hasActiveSession:function(){return!!ka},render:function(a,c){a.i18nStrings&&(C=a.i18nStrings);if(a.version)Lc=a.version;else throw Error("MissingVersionError: Missing version.");sb(a);Ia=a.hasTraditionalAccount;Ta=a.form;if(Ia)for(var d=da("janrain_traditional_account_only"),e=d.length,
f=0;f<e;f++)d[f].style.display="block";Lb(a);d=new xa;e=!1;yc&&zc&&(e=janrain.settings.capture.registerFlow||"socialRegister");e=m.oneTimeRender||e||janrain.settings.capture.screenToRender||m.defaultScreen;d.setScreenData(e,m.screens[e]);if(c)for(var h in c)c[h].id&&c[h].value&&(d=document.getElementById(c[h].id),d.value=c[h].value,"radio"===c[h].type&&(d.checked=c[h].checked,c[h].checked&&d.click()))},renderScreen:function(a,c){t=!1;c||tc.push(X);(new xa).setScreenData(a,m.screens[a])},setHandler:function(a,
c,d){this.setFieldAttribute(a,c+"Handler",d)},setFieldAttribute:function(a,c,d){xc.push({field:a,attribute:c,value:d})},setRenderer:function(a,c,d){B.prototype.render[a].helpers=fd;B.prototype.render[a][c]=d},setValidator:function(a,c){F.prototype[a]=c},registerFunction:function(a,c){jd[a]=c},addRenderer:function(a,c,d){this.setRenderer(a,c,d)},trackLoadedCssFiles:function(a){Pc.push(a)},handleCaptureUniqueResponse:function(a){Xb(a)},handleCaptureResponse:function(a,c){Tb(a,c)},handleErrorResponse:function(a,
c){janrain.events.onCaptureError.fire("object"===typeof a?a:"{"+a+"}");if(a.result&&a.result.error&&("access_token_expired"===a.result.error&&(sa(),janrain.events.onCaptureExpiredToken.fire()),"invalid_argument"===a.result.error&&"malformed access token"===a.result.errorDescription&&(sa(),janrain.events.onCaptureInvalidToken.fire()),"linkError"===a.result.error)){var d=Gb("linkAccounts"),e=d.length?d[0]:{},d=e.messages&&e.messages.errors&&e.messages.errors.linkError?e.messages.errors.linkError:"That account is already in use.",
h=E().getCookie("expected_tab");if(u&&u.isOpen()&&(e=e&&e.linkAccountContainer?da("capture_"+e.linkAccountContainer,document.getElementById("janrainModal")):!1))for(var e=da("capture_form_error_container",e[0]),i=0,j=e.length;i<j;i++)e[i].innerHTML='<div class="capture_form_error">'+d+"</div>";janrain.events.onCaptureLinkAccountError.fire({message:d,provider:h})}d=a.result.error+": "+a.result.errorDescription;uc&&(h=f.domHelpers.createDiv({classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()}),
h.innerHTML=d,uc.insertBefore(h,uc.firstChild),janrain.events.onCaptureContentChange.fire());uc||alert(d);Q(a);"function"===typeof c&&c()},createCaptureSession:function(a){V(a)},endCaptureSession:function(){sa()},addTransactionIds:function(a){Jb(a)},getFailedLogins:function(){return Fa},setCustomHtml:function(a,c){p(oa,a)&&(hb[a]=c)},getEngageCookie:function(a){return jc(a)},getProfileCookieData:function(a,c){return Yb(a,c)},federateLogoutCallbackFired:function(a,c){p(Nc,a)||(Nc.push(a),c())},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);
tb(a.transactionId);v();lb=!0},federateSetLoginSuccess:function(a){a&&a.transactionId&&Ua&&Ua[a.transactionId]&&(Ua[a.transactionId].setLoginSuccess=!0,Ua[a.transactionId].eventFiredDueToSlowResponse||Vb(a.transactionId))},federateRefreshToken:function(a){a&&"ok"===a.stat&&(V(a.accessToken,!1,!0),P())},scriptLoader:function(a,c){return Zc(a,c)},noop:function(){},validationHandler:function(a){var c=document.getElementById(a.elementId),d=new f.validation;d.setParentDiv(c);d.setElement(c);d.valid();
a.valid?d.valid():d.notValid(a.reason)},setNoReturnExperience:function(){var a=new E;a.setUseLocalStorage(!0).setName("janrainLastAuthMethod");a.remove();janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);wc&&janrain.capture.ui.renderScreen(wc)},getPublicProfile:function(a,c){$(a,c)}}};return{engage:{signin:janrain&&janrain.engage&&janrain.engage.signin?janrain.engage.signin:ja,share:janrain&&janrain.engage&&janrain.engage.share?janrain.engage.share:W,publish:janrain&&
janrain.engage&&janrain.engage.publish?janrain.engage.publish:pb,simpleshare:janrain&&janrain.engage&&janrain.engage.simpleshare?janrain.engage.simpleshare:qb},capture:{ui:Jd}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;