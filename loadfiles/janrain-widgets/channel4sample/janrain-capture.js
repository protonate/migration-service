/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: master
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var ya,Ia;function Mb(){function a(a){var a=a||"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",Ma&&(c.innerHTML=Ma)):(c.src=ba,H||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=X?d:e;return c}function e(a){da||(r.style.display="none",va.style.display="none",N.style.display="none");na&&S.deactivate();
("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&wa.fire();"object"===typeof a&&J(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),d=document.createElement("a"),j=document.createElement("a"),o=document.createElement("h3");d.innerHTML=za;j.innerHTML=oa;o.innerHTML=ca;d.setAttribute("href","#");j.setAttribute("href","#");a.className="janrain_close_confirm_container";c.className="janrain_close_confirm";d.className="janrain_modal_confirm";
j.className="janrain_modal_cancel";O(d,"click",function(a){e();r.removeChild(ia);ia=null;J(a)});O(j,"click",function(a){r.removeChild(ia);ia=null;J(a)});c.appendChild(o);c.appendChild(j);c.appendChild(d);a.appendChild(c);return a}function d(a){ia||(ia=c(),r.appendChild(ia));J(a)}function sa(a){var c=Bb(),d=Ea(a),e=-1*d.width/2,d=-1*d.height/2;a.style.left="50%";a.style.marginLeft=e+"px";a.style.marginTop=d+c+"px";a.style.top="50%";0>a.offsetLeft&&(a.style.left=0,a.style.marginLeft=0);0>a.offsetTop&&
(a.style.marginTop=0,a.style.top="10px");N.style.height=ya+c+"px";"absolute"!==a.style.position&&(a.style.position="absolute")}function j(){if(da){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(r)}else sa(r);da||y.show()}function f(a){ua||(Y=K("number",[0,20],10,a),$.fire({radius:jb(ja,Y)}))}function p(a){ua||(E=K("color",null,"#000000",a))}function C(a){ua||(ja=K("number",[0,20],10,a),Aa.fire({radius:jb(ja,Y),refresh:!0}))}function ka(a){ua||(Q=K("number",
[0,1],0.5,a),"object"==typeof r&&kb(r,Y,E,Q))}function Cb(a){if("portrait"===a){ra="portrait";var c="one column"}"landscape"===a&&(ra="landscape",c="two column");q.fire({orientation:ra,format:c,width:s,height:ic});j()}function Ba(a){a&&(z=a);h&&R&&(z+=Y-2);"object"==typeof r&&(r.style.width=z+"px");return this}function mc(a){a&&(fa=a);h&&R&&(fa=fa+2*Y-4);a&&"object"==typeof r&&(r.style.height=fa+"px");return this}function la(){Ia>=ya&&"undefined"===typeof window.orientation?"landscape"!==ra&&Cb("landscape"):
90===window.orientation||-90===window.orientation?"landscape"!==ra&&Cb("landscape"):"portrait"!==ra&&Cb("portrait");j()}function v(){var a,c=r;a="undefined"!=typeof window.innerWidth?window.innerHeight:document.documentElement.offsetHeight;var d=Bb();Ea(c);N.style.height=a+d+"px"}var s=380,ic=131,r,Nb="janrainModal",va,N,pa,z=s,fa=ic,Y=10,E="#000000",ja=10,Q=0.5,X=!1,ba=sb("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),Ma="",ua=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,
H=!1,ca="Are you sure you want to quit?",za="Yes, quit",oa="No, stay",ia,ra="landscape",P=!0,na="boolean"===typeof na?na:"number"===typeof window.orientation?!0:!1,Z="boolean"===typeof Z?Z:janrain.settings.previewMode,da=Z,W=W||!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(ba=janrain.settings.capture.modalCloseImage,H=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(Ma=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||
(window.janrain.events.onModalClose=T());var wa=T(),V=T(),Aa=T(),$=T(),q=T();S&&S.onOrientationChange&&S.onViewportChange&&(S.onOrientationChange.addHandler(function(a){Cb(a.orientation)}),S.onViewportChange.addHandler(function(){sa(r)}));return{isOpen:function(){return"object"===typeof r&&"none"!==r.style.display},setWidth:function(a){Ba(a);return this},setHeight:function(a){mc(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&f(a);ua||"object"==typeof r&&kb(r,Y,E,Q);
return this},setBorderColor:function(a){a&&p(a);ua||"object"==typeof r&&kb(r,Y,E,Q);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&C(a);ua||"object"==typeof r&&aa(r,ja);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&ka(a);return this},setZIndex:function(a){N.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(da=a);return this},setId:function(a){Nb=a;r&&(r.id=a);return this},show:function(){na||(r.style.display=
"block");"object"==typeof va&&P&&(va.style.display="block");da?na&&(r.style.display="block"):(N.style.display="block",na?(S.setElement(r).activate(),r.style.display="block"):(O(window,"resize",la),O(window,"resize",v),O(window,"scroll",v),la(),v()));ua||Aa.fire({radius:jb(ja,Y),refresh:!1});V.fire();r.focus()},close:function(a){e(a)},closeConfirm:function(){d()},refresh:function(){W||r.appendChild(pa);j()},remove:function(){if(da){var a=document.getElementById("previewMode");"object"===typeof pa&&
r.removeChild(pa);"object"===typeof r&&a.removeChild(r);"object"===typeof N&&document.body.removeChild(N);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";N=r=""}else"object"===typeof pa&&r.removeChild(pa),"object"===typeof N&&document.body.removeChild(N),"object"===typeof r&&document.body.removeChild(r)},addContent:function(c){va=c;if(!r){r=document.createElement("div");r.id=Nb;if("number"===typeof z||"string"===typeof z)r.style.width=z+"px";r.style.height=fa+"px";
r.style.position="absolute";ua||(r.style.padding=Y+"px",aa(r,ja),kb(r,Y,E,Q));r.style.zIndex=1E3;r.style.display="none";N=document.createElement("div");N.style.width="100%";N.style.left=0;N.style.top=0;N.style.backgroundColor="#000000";N.style.position="absolute";c=N;"undefined"!==typeof c.style.filter&&(c.style.filter="alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&
(c.style.MozOpacity="0.4");N.style.display="none";N.style.zIndex=1E3;pa=Ma?a("a"):a();r.appendChild(pa);document.body.appendChild(N);document.body.appendChild(r)}r.appendChild(va);da&&j();return this},getContent:function(){return va},getBorderWidth:function(){return Y},getState:function(){return{borderWidth:Y,borderColor:E,borderRadius:ja,borderOpacity:Q,orientation:ra}},setState:function(a){u("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&f(a.borderWidth),"undefined"!==
typeof a.borderColor&&p(a.borderColor),"undefined"!==typeof a.borderOpacity&&ka(a.borderOpacity),"undefined"!==typeof a.orientation&&Cb(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&C(a.borderRadius),"object"==typeof r&&aa(r,ja)))},setConfirmClose:function(a){X=a;return this},setShowContentOnLoad:function(a){P=a;return this},setConfirmMessageText:function(a){ca=a},setConfirmLinkText:function(a){za=a},setCancelLinkText:function(a){oa=
a},onClose:wa,onShow:V,onOrientationChange:q,onBorderRadiusChange:Aa,onBorderWidthChange:$}}function nc(a){function e(){var a=window.open(c,"","width="+d+", height="+sa+", status=1, location=1, resizable=yes"),e=window.setInterval(function(){if(a&&a.closed||"undefined"===typeof a.closed)window.clearInterval(e),"function"===typeof j&&j()},500)}var c=a,d=400,sa=400,j;return{show:function(){e()},setWidth:function(a){a&&(d=a);return this},setHeight:function(a){a&&(sa=a);return this},setCallback:function(a){a&&
(j=a);return this}}}function dc(){return"http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.0.3/":"https://d3hmp0045zy3cs.cloudfront.net/2.0.3/"}function oc(a,e,c){var d;if(document.getElementById(a))return!1;if(h){d="";var sa=document.createElement("div");sa.innerHTML=d+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+e+'" ')+'style="display: none;"></iframe>';document.body.appendChild(sa)}else d=document.createElement("iframe"),d.setAttribute("name",a),d.id=a,d.setAttribute("src",
e),d.style.display="none",d.className="",document.body.appendChild(d);"function"===typeof c&&c()}function Ob(a){for(var e="",e="",c=0;c<a;c++)e+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return e}function Db(){function a(a,c,d,e){c={action:a,key:c,messageId:d};"set"===a&&(c.value=e);return"janrainCapture:"+E.stringify(c)}function e(a,c){function d(){e++;if(10<e)return!1;if("undefined"!==typeof f[a])return clearTimeout(j),"get"===f[a].action&&"function"===typeof c&&
c(f[a].storedValue),!0;var j=setTimeout(d,50)}var e=0;d()}function c(c,d){lb;var j=Ob(40);window.setTimeout(function(){h.contentWindow.postMessage(a("get",c,j),C)});return e(j,d)}function d(a,e){if(j)lb?c(a,e):setTimeout(function(){d(a,e)},50);else return window.localStorage.getItem(a)}function sa(a){if(0!==a.data.indexOf("janrainCapture:")||!z(ka,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=E.parse(a.data.replace("janrainCapture:",""));f[a.messageId]=a}var j=!1,f={},h,
C,ka=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,d){if(j){var f=Ob(40);window.setTimeout(function(){h.contentWindow.postMessage(a("set",c,f,d),C)});return e(f)}return window.localStorage.setItem(c,d)},removeItem:function(c){if(j){var d=Ob(40);window.setTimeout(function(){h.contentWindow.postMessage(a("remove",c,d),C)});return e(d)}return window.localStorage.removeItem(c)},getItem:d,setMultiDomain:function(a){if(j=a)window.addEventListener?
window.addEventListener("message",sa,!1):window.attachEvent?window.attachEvent("onmessage",sa):document.attachEvent&&document.attachEvent("onmessage",sa),h=document.getElementById("xDomainLocalStorageJanrain"),C=janrain.settings.storageServerDomain}}}function Q(){function a(){if(f&&tb){var a=new Db;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(d);a.removeItem(d+"_Expires")}else{var a=h?"; domain="+h:"",c=new Date;c.setTime(c.getTime()+-864E6);document.cookie=d+"="+j+";expires="+
c.toUTCString()+a+"; path="+p}}function e(c,e){var j,h,p,la,Ca;if(f&&tb)if(Ca=new Db,janrain.settings.multiDomainLocalStorage)Ca.setMultiDomain(!0),Ca.getItem(c,function(j){j?Ca.getItem(c+"_Expires",function(r){r?Math.round((new Date).getTime()/1E3)>Math.round((new Date(r)).getTime()/1E3)?(d=c,a(),"function"===typeof e&&e(!1)):"function"===typeof e&&e(j):(new Q).getCookie(c+"_session")?"function"===typeof e&&e(j):(d=c,a())}):"function"===typeof e&&e(!1)});else if(la=Ca.getItem(c),j=Ca.getItem(c+"_Expires"),
la){if(!(j&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(j)).getTime()/1E3))&&(j||(new Q).getCookie(c+"_session")))return la;d=c;a()}else return!1;else{j=document.cookie.split(";");h=j.length;for(var u=0;u<h;u++)if(p=j.pop(),la=p.split("="),p=la[0],la=la[1],p.trim()===c)return la;return!1}}var c,d,f=!1,j,h,p="/";return{create:function(){if(f&&tb){var a=new Db;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(d,j);c?a.setItem(d+"_Expires",c):(new Q).setName(d+"_session").setValue("session").create()}else document.cookie=
d+"="+j+";expires="+c+(h?"; domain="+h:"")+"; path="+p},remove:a,setExpirationDirectly:function(a){a&&(c=a);return this},setExpiration:function(a){if(a){var d=new Date;d.setTime(d.getTime()+864E5*a);c=d.toUTCString()}return this},setName:function(a){a&&(d=a);return this},setValue:function(a){"undefined"!==typeof a&&(j=a);return this},setUseLocalStorage:function(a){f=a;return this},setPath:function(a){a&&(p=a);return this},setDomain:function(a){a&&(h=a);return this},getCookie:function(a,c){return e(a,
c)}}}function ab(){return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)?parseFloat(RegExp.$1):!1}function Pb(){var a;return navigator.userAgent&&(a=navigator.userAgent.match(/(\d)[\d.]+ Safari/))&&a[1]?1*a[1]:0}function aa(a,e,c,d,f,j){"number"===typeof c&&"number"===typeof d&&"number"===typeof f&&"number"===typeof j?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=c+"px "+d+"px "+f+"px "+j+"px"),"undefined"!==typeof a.style.MozBorderRadius&&
(a.style.MozBorderRadius=c+"px "+d+"px "+f+"px "+j+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px "+d+"px "+f+"px "+j+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=e+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=e+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=e+"px"));return a}function jb(a,e){if("undefined"===typeof a||"undefined"===typeof e)return!1;var c=a-e;
0>c&&(c=0);c>a&&(c=a);return c}function Eb(a,e){if(h&&9>=h)return a.style.backgroundImage="url('"+sb("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;if(Pb()&&4>=Pb()||S.getMobileDevice()){var c="",d="",f="",j=e.split(","),Ca={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};j[0]&&Ca[j[0]]&&(c=Ca[j[0]]);j[1]&&(d="from("+j[1]+")");j[j.length-1]&&(f="to("+j[j.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+
c+","+d+","+f+")"}a.style.backgroundImage="-moz-linear-gradient("+e+")";a.style.backgroundImage="-webkit-linear-gradient("+e+")";a.style.backgroundImage="-ms-linear-gradient("+e+")";a.style.backgroundImage="-o-linear-gradient("+e+")";a.style.backgroundImage="linear-gradient("+e+")"}function kb(a,e,c,d){var f=Qb(c),j=Qb(c,d);if(c=pc(c))c.a=d,j="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<e){a.style.backgroundColor=f;a.style.padding=e+"px";if(0<h&&8>=h||h&&R)return!1;a.style.backgroundColor=j;a.style.padding=
e+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function pc(a){var e={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;e.r=a[0];e.g=a[1];e.b=a[2];e.a=a[3]?a[3]:1;return e}function Qb(a,e){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),d=parseInt(a.substring(2,4),16),f=parseInt(a.substring(4,
6),16);return isNaN(e)?"rgb("+c+","+d+","+f+")":"rgba("+c+","+d+","+f+","+e+")"}function O(a,e,c){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+e,c):a.addEventListener(e,c,!1)}function jc(a,e,c){"object"===typeof window.detachEvent?a.detachEvent("on"+e,c):a.removeEventListener(e,c,!1)}function Bb(){return document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}function Ea(a){return{width:parseInt(a.style.width||
a.offsetWidth),height:parseInt(a.style.height||a.offsetHeight)}}function K(a,e,c,d,f){var j=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,h=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("url"===a){if("string"!==typeof d)return c;d=d.trim();return/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(d)?d:c}if("text"===a){if(e){if(0<=e.indexOf(d))return d;f||y.log('Value of "'+d+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+
'" instead');return c}return j.test(d)?d:c}if("usertext"===a)return"string"!==typeof d&&"number"!==typeof d?c:v(e)?1===e.length?d.length<=e[0]?d:c:2===e.length&&d.length<=e[1]&&d.length>=e[0]?d:c:d;"string"===typeof d&&0==d.length&&(d=" ");if(!j.test(d))return f||y.log(d+" contains invalid character(s)"),c;if("boolean"===a){if("boolean"===typeof d)return d;f||y.log(d+" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return d;if("number"===a){if(isNaN(parseInt(d)))return f||
y.log(d+" is wrong type, must be a valid number"),c;d=parseFloat(d)}if("color"===a){d&&(d=d.trim());if("transparent"===d||h.test(d))return d;f||y.log('Value of "'+d+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof d!=a&&"color"!=a)return f||y.log(d+" for "+arguments.callee.caller.name+" is "+typeof d+" expected "+a),c;if("object"===typeof e&&"string"===a){if(0<=e.indexOf(d))return d;f||y.log('Value of "'+d+'" for '+arguments.callee.caller.name+
' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof e&&"number"===a){if(2===e.length)j=e[0],h=e[1];else var j=e.shift(),h=e.pop(),p=e;if(d<j)return f||y.log("Value of "+d+" for "+arguments.callee.caller.name+" is below minimum of "+j+", using minimum value of "+j+" instead"),j;if(d>h)return f||y.log("Value of "+d+" for "+arguments.callee.caller.name+" is above maximum of "+h+", using maximum value of "+h+" instead"),h;if(p&&"number"===typeof p.indexOf(d)||
d==j||d==h)return d;return p?(f||y.log("Value of "+d+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):d}return 0!=d&&!d?c:d}function mb(a){for(var e=mb.options,a=e.parser[e.strictMode?"strict":"loose"].exec(a),c={},d=14;d--;)c[e.key[d]]=a[d]||"";c[e.q.name]={};c[e.key[12]].replace(e.q.parser,function(a,d,f){d&&(c[e.q.name][d]=f)});return c}function Ja(a){return document.getElementById(X(a).getAttribute("id"))}function X(a){return a.target?a.target:
a.srcElement}function W(a,e){var c=document.createElement("script"),d=document.getElementsByTagName("script")[0];c.src=a;c.setAttribute("type","text/javascript");"function"===typeof e&&(c.addEventListener?c.addEventListener("load",e,!1):c.readyState&&(c.onreadystatechange=function(){("complete"==c.readyState||"loaded"==c.readyState)&&e()}));d.parentNode.insertBefore(c,d)}function kc(a,e){h&&9>h&&Rb(a,e)}function Rb(a,e){if(h){var c=document.createElement("link");c.rel="stylesheet";c.href=a;c.type=
"text/css"}else c=document.createElement("style"),c.textContent='@import "'+a+'";';if(h)c.onload=function(){"function"===typeof e&&e();"object"===typeof janrain.events.onCssLoad&&janrain.events.onCssLoad.fire({source:a})},c.onreadystatechange=function(){if("complete"==c.readyState||"loaded"==c.readyState)"function"===typeof e&&e(),"object"===typeof janrain.events.onCssLoad&&janrain.events.onCssLoad.fire({source:a})};else var d=setInterval(function(){try{c.sheet.cssRules,"function"===typeof e&&e(),
"object"===typeof janrain.events.onCssLoad&&janrain.events.onCssLoad.fire({source:a}),clearInterval(d)}catch(f){}},10);document.getElementsByTagName("head")[0].appendChild(c)}function s(a){var e;e=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===e.indexOf(c)&&(e.push(c),a&&(a.className=e.join(" ")));return this},remove:function(c){-1!==e.indexOf(c)&&(e.splice([e.indexOf(c)],1),a&&(a.className=e.join(" ").trim()));return this},has:function(a){return-1!==e.indexOf(a)}}}function v(a){return"[object Array]"===
Object.prototype.toString.call(a)}function z(a,e){return!v(a)?!1:-1<a.indexOf(e)}function Sb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function ub(a){var e="",c;for(c in a)e+="&"+encodeURIComponent(c)+"="+encodeURIComponent(a[c]);return e="?"+e.substr(1)}function J(a){if(!a)return!1;a.preventDefault?a.preventDefault():a.returnValue=!1}function qc(a){if(!a)return!1;var e=a.getElementsByTagName("input");e||(e=a.getElementsByTagName("button"));if(!e)return!1;for(var c=e.length,d=0;d<c;d++)if("submit"===
e[d].type)return e[d];e=a.getElementsByTagName("button");for(d=0;d<c;d++)if("submit"===e[d].type)return e[d]}function Tb(a){return!isNaN(parseFloat(a))&&isFinite(a)}function ec(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var e=a.split("/"),a=parseInt(e[1],10),c=parseInt(e[0],10),e=parseInt(e[2],10),d=new Date(e,c-1,a);return d.getFullYear()==e&&d.getMonth()==c-1&&d.getDate()==a?!0:!1}return!1}function rc(){function a(){u=(new Date).getTime()-d;if(u<c){var a=Math.round(e()*C+j);f.style[p]=a+"px"}else clearInterval(ka),
f.style[p]=h+"px",v()}function e(){if("flat"==Ba)return u*(1/c);if("sinusoidal"==Ba)return Math.abs(Math.sin(u*(Math.PI/(2*c))))}var c="1000",d,f,j,h,p="left",C,ka,u,Ba="flat",v;return{setAcceleration:function(a){Ba=a;return this},setCallback:function(a){v=a;return this},setDuration:function(a){c=a;return this},setDirection:function(a){"horizontal"===a&&(p="left");"vertical"===a&&(p="top");return this},setElement:function(a){f=a;return this},startPosition:function(a){j=a;return this},endPosition:function(a){h=
a;return this},animate:function(){C=h-j;d=(new Date).getTime();ka=setInterval(a,10);return this}}}function T(){return new H}function H(){this.eventHandlers=[];this.firedEvents=[]}function Ub(){if(function(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onCustomizationChange,onProviderLoginComplete,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),
c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}())clearTimeout(a),janrain.events.onAuthWidgetLoad.fire();else var a=setTimeout(Ub,5)}function Fb(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,d=janrain.events.captureEvents.length;a<d;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;return!janrain.ready?!1:!0}if("function"===
typeof janrainCaptureWidgetOnLoad)if(a())clearTimeout(e),janrainCaptureWidgetOnLoad();else var e=setTimeout(Fb,5)}var f=[],bb="c573f33",lb=!1,tb=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,Na=!1,ba=!1,R="CSS1Compat"!==document.compatMode,$=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
vb=null!==$?$[0]:!1,fc="number"===typeof window.orientation||null!==$;Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var e in this)if(this[e]===a)return parseInt(e);return-1});Array.prototype.map||(Array.prototype.map=function(a,e){if(null===this)throw new TypeError;var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var f=Array(d),j=0;j<d;j++)j in c&&(f[j]=a.call(e,c[j],j,c));return f});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,
"")});for(var S=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;d(document.body,Ba);u=h().content;p();C();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){z(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});j()},
!1),setTimeout(j,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,j,!1)},!1));s.addHandler(function(){e({height:window.innerHeight,width:window.innerWidth},0)});y.addHandler(function(a){ya=a.height;Ia=a.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,j,!1)},!1)}function e(a,c){var d=window.innerHeight,f=window.innerWidth,j=!0,h=!0;d!=a.height&&(j=!1);f!=a.width&&(h=!1);j&&h?20>c?setTimeout(function(){e({height:d,width:f},
++c)},100):y.fire({height:d,width:f}):setTimeout(function(){e({height:d,width:f},0)},100)}function c(){setTimeout(function(){ka(u)},20);d(Ba,document.body)}function d(a,c){for(var d=0;d<a.style.length;d++){var e=a.style[d];c.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}function f(){var a;a=(0===window.orientation||180===window.orientation)&&Ia>ya||(90===window.orientation||-90===window.orientation)&&ya>Ia?!1:!0;var c="landscape";if(a&&(0===window.orientation||180===
window.orientation))c="portrait";if(!a&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function j(){var a=f();ka("width=device-width, initial-scale=1, maximum-scale=1");s.fire({orientation:a})}function h(){var a=document.getElementsByTagName("meta"),c;for(c in a)if("viewport"===a[c].name)return a[c];return!1}function p(){if("undefined"===typeof document.getElementsByTagName||h())return!1;var a=document.getElementsByTagName("head")[0],c=document.createElement("meta");c.setAttribute("name",
"viewport");a.appendChild(c);return!0}function C(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function ka(a){var c=h();if(!c||c.content==a)return!1;if("undefined"===typeof a){var d=h();document.getElementsByTagName("head")[0].removeChild(d)}c.content=a;return!0}var u,Ba=document.createElement("div"),v=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
la=null!==v?v[0]:!1,s=T(),y=T();la&&la[0].match(/android|\Wsilk\W/);var z=function(){var a=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},d={height:window.innerHeight,width:window.innerWidth},e=!1;return function(f,j,h){var p=!1,ka=function(a,c){return a.height>=a.width&&c.height>=c.width||a.width>a.height&&c.width>c.height?!0:!1},C=a===f,u=ka(j,c),sa=ka(h,d);if(!C&&(!u||!sa))p=!0;!C&&!u&&(e=!0);p&&(e&&!ka(j,h)&&(p=h.height,h.height=h.width,h.width=p),ya=h.height,
Ia=h.width);a=f;c={height:j.height,width:j.width};d={height:h.height,width:h.width}}}();return{setElement:function(){return this},onOrientationChange:s,onViewportChange:y,getMobileDevice:function(){return la},getOrientation:function(){return f()},activate:function(){a()},deactivate:function(){c()}}}(),sb=function(a){var e;e="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";e=e.replace(/\/$/,"");return e+"/"+a},$={openId:{aol:{identifier:"aol",flow:"openid1",
width:514,height:550,color:"#0FD6FF"},blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",
flow:"openid",width:500,height:500,color:"#FF0084"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5"},hyves:{identifier:"http://hyves.nl/",flow:"openid",width:800,height:600,color:"#659BC8"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665"},verisign:{identifier:"http://pip.verisignlabs.com/",
flow:"openid",width:945,height:600,color:"#B8004D"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:500,height:500,color:"#3B5998",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}},
contact:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#009DDC",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,
color:"#666666"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333"},orkut:{flow:"orkut",width:800,height:600,color:"#333"},vzn:{flow:"vzn",width:600,height:450,color:"#333"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333"},mixi:{flow:"mixi",width:950,height:550,color:"#333",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},nb={},Oa=["openId","openId2","oauth"];0<Oa.length;){var Pa=Oa.pop(),ca;for(ca in $[Pa])nb[ca]=$[Pa][ca]}janrain.settings.storageServer&&oc("xDomainLocalStorageJanrain",janrain.settings.storageServer,
function(){O(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){lb=!0})});ca=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;ya=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:
0;Ia=ca;var h=ab(),u=function(){var a=function(a){for(var d=[],e=0;e<a.length;e++)d.push(a[e]);return d},e={};janrain.settings&&janrain.settings.permissions&&(e.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(e.share=a(janrain.settings.share.permissions));return function(a,d){d=d||"login";return!e[d]?!1:0<=e[d].indexOf(a)}}();mb.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),
q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var Qa=function(a,e,c){Qa=document.getElementsByClassName?function(a,c,e){for(var a=(c||document).getElementsByClassName(a),
e=e?RegExp("\\b"+e+"\\b","i"):null,c=[],f,h=0,u=a.length;h<u;h+=1)f=a[h],(!e||e.test(f.nodeName))&&c.push(f);return c}:function(a,c,e){var e=e||"*",c=c||document,f=a.split(" "),a=[],c="*"===e&&c.all?c.all:c.getElementsByTagName(e),e=[],h;h=0;for(var u=f.length;h<u;h+=1)a.push(RegExp("(^|\\s)"+f[h]+"(\\s|$)"));for(var u=0,ka=c.length;u<ka;u+=1){f=c[u];h=!1;for(var v=0,Ba=a.length;v<Ba&&!(h=a[v].test(f.className),!h);v+=1);h&&e.push(f)}return e};return Qa(a,e,c)},y=function(){var a=[];return{log:function(e){var c=
{};c.id=a.length+1;c.message=e;a.push(c);return this},show:function(){if(0!=a.length){for(var e in a)if("undefined"!==typeof a[e].id){var c=a[e];"object"===typeof console&&console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message)}a=[]}}}}();H.prototype.addHandler=function(a){this.eventHandlers.push(a);return this.eventHandlers.length-1};H.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};H.prototype.fire=function(a){for(var e=this.eventHandlers.length,
c=0;c<e;c++)try{if("function"===typeof this.eventHandlers[c])this.eventHandlers[c](a)}catch(d){y.log(d),y.show()}this.firedEvents.push({event:this,args:a})};"undefined"===typeof janrain.events&&(janrain.events={});var E;E||(E={});(function(){function a(a){return 10>a?"0"+a:a}function e(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var c=v[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var f,v,p,s,y=h,z,r=d[a];r&&
"object"===typeof r&&"function"===typeof r.toJSON&&(r=r.toJSON(a));"function"===typeof C&&(r=C.call(d,a,r));switch(typeof r){case "string":return e(r);case "number":return isFinite(r)?""+r:"null";case "boolean":case "null":return""+r;case "object":if(!r)return"null";h+=u;z=[];if("[object Array]"===Object.prototype.toString.apply(r)){s=r.length;for(f=0;f<s;f+=1)z[f]=c(f,r)||"null";p=0===z.length?"[]":h?"[\n"+h+z.join(",\n"+h)+"\n"+y+"]":"["+z.join(",")+"]";h=y;return p}if(C&&"object"===typeof C){s=
C.length;for(f=0;f<s;f+=1)"string"===typeof C[f]&&(v=C[f],(p=c(v,r))&&z.push(e(v)+(h?": ":":")+p))}else for(v in r)Object.prototype.hasOwnProperty.call(r,v)&&(p=c(v,r))&&z.push(e(v)+(h?": ":":")+p);p=0===z.length?"{}":h?"{\n"+h+z.join(",\n"+h)+"\n"+y+"}":"{"+z.join(",")+"}";h=y;return p}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+
a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,u,v={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},
C;"function"!==typeof E.stringify&&(E.stringify=function(a,e,d){var f;u=h="";if("number"===typeof d)for(f=0;f<d;f+=1)u+=" ";else"string"===typeof d&&(u=d);if((C=e)&&"function"!==typeof e&&("object"!==typeof e||"number"!==typeof e.length))throw Error("JSON.stringify");return c("",{"":a})});"function"!==typeof E.parse&&(E.parse=function(a,c){function e(a,d){var f,h,j=a[d];if(j&&"object"===typeof j)for(f in j)Object.prototype.hasOwnProperty.call(j,f)&&(h=e(j,f),void 0!==h?j[f]=h:delete j[f]);return c.call(a,
d,j)}var f,a=""+a;d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),"function"===typeof c?e({"":f},""):f;throw new SyntaxError("JSON.parse");})})();"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=
new H);janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=T());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=T());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=T());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=T());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=T());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=T());janrain.events.onProviderLogoutStart||
(janrain.events.onProviderLogoutStart=T());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=T());Ub();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureStartRegistration,onCaptureStartLogin,onCaptureSuccessfulLogin,onCaptureSuccessfulProfileSave,onCaptureFailedProfileSave,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFailedLogin,onCaptureSuccessfulRegistration,onCaptureFailedRegistration,onCaptureSuccessfulSave,onCaptureFailedSave,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureFormError,onCaptureExpiredToken,onCaptureCustomEvent".split(",");
ca=0;for($=janrain.events.captureEvents.length;ca<$;ca++)"undefined"===typeof janrain.events[janrain.events.captureEvents[ca]]&&(janrain.events[janrain.events.captureEvents[ca]]=new H);Fb();ca=new function(){function a(){function a(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){if(S){var b=document.createElement("div");b.style.backgroundColor=
Gb?"aqua":Ra;b.style.width=F+"px";b.style.height=na+"px";b.style.position="absolute";b.style.left="0px";b.style.paddingLeft=w+"px";b.style.paddingRight=w+"px";b.style.paddingBottom=w+"px";b.style.bottom="0px";b.style.fontSize="10px";b.style.textAlign="left";b.style.color=Sa;aa(b,null,0,0,I,I);var i=document.createElement("div");i.appendChild(document.createTextNode(janrain.settings.translate.POWERED_BY_PREFIX||"Powered by "));i.style.paddingLeft="1px";var a=document.createElement("a");a.setAttribute("href",
"http://www.janrain.com/products/engage/engage-introduction?utm_source=login.janrain.com&utm_medium=partner&utm_campaign=attribution");a.setAttribute("target","_blank");a.appendChild(document.createTextNode("Janrain"));i.appendChild(a);b.appendChild(i);xa=b}L=n();b=document.createElement("div");b.style.backgroundColor=Gb?"orange":Ra;b.className="janrainHeader";b.style.fontSize=Hb+"px";b.style.color=Sa;b.style.position="relative";b.style.height=H+"px";40===M&&(b.style.cssFloat="left");b.style.left=
40===M?"-6px":"-5px";b.style.paddingLeft=w+"px";b.style.paddingRight=w+"px";b.style.paddingTop=w+"px";b.style.paddingBottom="0px";b.style.whiteSpace="nowrap";b.style.width=40===M?"81px":F+"px";b.style.zIndex="100";40===M?aa(b,null,I,0,0,I):aa(b,null,I,I,0,0);40===M&&(b.style.marginTop="-3px");b.style.textAlign="one column"===t?"center":"left";i=d();Ib=document.createElement("div");Ib.style.paddingLeft="1px";Ib.style.fontFamily=wb;" "!==i&&Ib.appendChild(document.createTextNode(i));b.appendChild(Ib);
Ca=b;D=document.createElement("div");D.className="janrainContent";D.style.width=F+"px";D.style.height=j()+"px";D.style.paddingLeft=w+"px";D.style.paddingRight=w+"px";D.style.boxSizing="content-box";40===M&&(D.style.paddingTop=w-1+"px");ba||(D.style.backgroundColor=Ra);ba||(D.style.border=ja?"1px solid "+gc:"1px solid "+Ra);D=aa(D,I);ba||(D.style.overflow="hidden");D.style.position=ja?"relative":"absolute";fa=z();2==L||0==L?(V=(new v).setSide("right").create(),W=(new v).setSide("left").create()):(V=
(new v).setSide("top").create(),W=(new v).setSide("bottom").create());b=document.createElement("div");b.id="janrainView";" "!==d()&&b.appendChild(Ca);i=C("blank");i.style.display="none";b.appendChild(i);b.appendChild(fa);!ba&&V&&W&&(b.appendChild(V),b.appendChild(W));0<L&&S&&b.appendChild(xa);D.appendChild(b);u("customizable_auth_widget_styling")||e(D);Na||y.show()}function e(b){function i(b){var a="string"===typeof b.getAttribute("style")?b.getAttribute("style"):null;a&&(a.cssText&&(a=a.cssText),
b.style.setAttribute?b.style.setAttribute("cssText",a.replace(/(((?!!important).)+?);/g,"$1 !important;")):b.setAttribute("style",a.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var a=b.getElementsByTagName("*"),g=0,m=a.length;g<m;g++)"janrainProviderPages"===a[g].id||"janrainSlideControl"===a[g].className||"janrainSlideControl"===a[g].parentNode.className||i(a[g]);i(b)}function d(){return lc?ta:f.translate.HEADER?f.translate.HEADER:"two column"===t?a().twoColumn.actionText:"one column"===
t?a().oneColumn.actionText:"one row"===t?a().oneRow.actionText:ta}function n(){var b=t;if("default"==b||"two column"==b)return 2;if("one column"==b)return 1;if("one row"==b)return 0}function j(){var b=" "===ta?0:H+w,i=S&&"one row"!==t?na+w:0;return r()+b+i}function o(){var b=parseInt(fa.style.left),i=parseInt(fa.style.top),a;1==L?parseInt(fa.style.height):parseInt(fa.style.width);2==L&&(a=(F-3*w-(2==L?10:0))/L);if("one column"===t){if(" "===ta&&(i+=11,0<i||-9<=i))return 0;if(9>i)return 1;if(0<i||
i>=-(H-(w+1)))return 0}0==L&&(a=F-100);if(0>b&&b<-a)return 1;if(0<b||b>=-w)return 0}function r(){if("two column"===t)var b=qa/2;"one column"===t&&(b=qa);"one row"===t&&(b=1);var i="one row"===t?0:2*b,a="one column"===t?3*w:0;if(7===h||6===h||h&&R){if("two column"===t&&(a=w,7===h||6===h))a=2*w;if("one column"===t&&(a=3*w,(7===h||6===h)&&!R))a+=w;if("one row"===t&&(7===h||6===h))a=w}"one column"===t&&Ka<=qa&&(a=h&&R?a+2*w:a-2*w);return U*b+w*(b+1)+i+a}function v(){function b(){var i;k="over";var c=
o();if(0==c&&"left"===m||0==c&&"top"===m||1==c&&"right"===m||1==c&&"bottom"===m)return this.style.cursor="default",ga.onclick="",!1;var d=this;setTimeout(function(){if(1===f){if("over"!==k)return!1;h&&(g.style.display="block");e.style.display="block";ga.onclick=a;d.style.cursor="pointer";var b=document.getElementById("janrainProviderPages");i="top"==m||"bottom"==m?parseInt(b.style.top):parseInt(b.style.left);var c="right"===m||"bottom"===m?i-$:i+$;"top"===m||"bottom"===m?b.style.top=c+"px":b.style.left=
c+"px";f=2}},h?50:100)}function i(){var b;k="out";var a=o();if(1==a&&"right"===m||0==a&&"left"===m||0==a&&"top"===m||1==a&&"bottom"===m)return!1;setTimeout(function(){if(2===f){if("out"!==k)return!1;h&&(g.style.display="none");e.style.display="none";var i=document.getElementById("janrainProviderPages");b="top"==m||"bottom"==m?parseInt(i.style.top):parseInt(i.style.left);var a="right"===m||"bottom"===m?b+$:b-$;"top"===m||"bottom"===m?i.style.top=a+"px":i.style.left=a+"px";f=1}},h?200:400)}function a(){e.style.display=
"none";ga.style.cursor="default";p(m,function(b){B(b);f=1})}var g,m,c,e,d={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},k="",f=1,ga;return{setSide:function(b){m=b;return this},create:function(){var k;if(Ka<=qa)k=!1;else{k=document.createElement("div");k.setAttribute("id","janrainShim_"+m);k.style.background="black";"top"===m||"bottom"===m?(k.style.height="19px",k.style.width="100%"):(k.style.height="100%",k.style.width="17px");k.style.filter=Gb?"alpha(opacity=100)":"alpha(opacity=0)";
k.style.position="absolute";k.style.zindex="99";if("top"===m||"bottom"===m)k.style.left="0";k.style[m]=w+"px";k.style.top="one column"!==t?w+1+"px":"top"===m?"10px":"0px";k.style.display="none";g=k;k=document.createElement("div");k.style.backgroundColor=Gb?"green":Ra;k.className="janrainSlideControllerMask";k.style.position="absolute";"one column"!==t&&(k.style.width=w+"px",k.style.height="100%",k.style.top="0px",k.style[m]="0px",k.style.borderWidth="1px","right"===m&&(!S||"one row"===t)&&aa(k,null,
0,0,I,0),"left"===m&&(!S||"one row"===t)&&aa(k,null,0,0,0,I),"right"===m&&" "===ta&&aa(k,null,0,I,I,0),"left"===m&&" "===ta&&aa(k,null,I,0,0,I));"one column"===t&&(k.style.height=w+"px",k.style.fontSize="0px",k.style.width="100%",k.style.padding="0px",k.style[m]="0px","top"===m&&" "===ta?aa(k,null,I,I,0,0):"bottom"===m&&!S&&aa(k,null,0,0,I,I));"one row"===t&&(k.style.height="105.5%");c=k;k=document.createElement("div");k.setAttribute("id","janrainArrow_"+m);k.style.background="url("+sb("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+
") no-repeat scroll "+d[m]+" transparent";k.style.height="19px";k.style.width="17px";k.style.position="absolute";if("top"===m||"bottom"===m)k.style.left=F/2+"px";k.style[m]=w+"px";k.style.top="one column"!==t?r()/2-2*w+1+"px":"top"===m?"10px":"0px";k.style.display="none";e=k;k=document.createElement("div");k.className="janrainSlideControl";k.style.backgroundColor=Gb?"purple":"transparent";"one column"===t?(k.style.width=F+4+"px",k.style.left="3px","top"==m?(k.style.height=w+"px"," "===ta&&(k.style.left=
"0px",k.style.width=F+10+"px")):(k.style.height="20px",k.style.bottom=(S?na+w:0)+"px",aa(k,null,0,0,I,I))):(k.style.width="right"===m?"20px":"0px",k.style[m]="0px",k.style.height=r()-(w*(" "===ta)?1:2)+"px",40===M&&"one row"===t&&"left"===m&&(k.style.left=ha+"px"),"right"===m&&!S&&aa(k,null,0,0,I,0),"left"===m&&!S&&aa(k,null,0,0,0,I));k.style.position="absolute";k.style.zIndex="100";k.style.cursor="pointer";k.onmouseover=b;k.onmouseout=i;k.onclick=a;ga=k;ga.appendChild(c);ga.appendChild(g);ga.appendChild(e);
k=ga}return k}}}function p(b,i){var a=document.getElementById("janrainProviderPages"),g=new rc;if("top"===b||"bottom"===b){if(" "===ta)var m=-(r()-U),k=0;else m=-(r()-U-H-w),k=H+w;50===U&&(m-=20);h&&R&&(m+=w," "!==ta&&(k+=w));g.setElement(a).setAcceleration("sinusoidal").setDuration(100*qa).startPosition(parseInt(a.style.top)).endPosition("bottom"===b?m:k).setDirection("vertical").setCallback(function(){i(b)}).animate()}else h&&R?(m=-(F-2*w-39),"one row"===t&&(m=-(ha-1*w))):(m=-(F-32),"one row"===
t&&(m=-(F-24))),g.setElement(a).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(a.style.left)).endPosition("right"==b?m:w).setDirection("horizontal").setCallback(function(){i(b)}).animate()}function z(){var b,i;function a(g){g.preventDefault();g=g.touches[0];g="one column"===t?b-g.pageY:i-g.pageX;if(35<g||-35>g)"one column"===t?(m.style.top=parseInt(m.style.top)-g+"px",g=0<g?"bottom":"top"):(m.style.left=parseInt(m.style.left)-g+"px",g=0<g?"right":"left"),p(g,function(){B()}),
m.ontouchmove=""}var g,m,k,c,e,d=L,f=[];c=A();e=ba?1:Math.ceil(Ka/qa);2<e&&y.log("Either reduce the number of providers, or increase the setting for providersPerPage.");m=document.createElement("div");m.setAttribute("id","janrainProviderPages");ba&&(m.className="janrainConfigureMode");m.style.paddingTop=(6===h||7===h)&&h&&R?2*w:w+"px";if((6===h||7===h)&&!R)m.style.paddingTop=w+4+"px";m.ontouchstart=function(a){a=a.touches[0];"one column"===t?b=a.pageY:i=a.pageX};m.ontouchmove=a;m.ontouchend=function(){m.ontouchmove=
a};40===M&&"one row"===t?m.style.left=ha+w+"px":h&&R?"one column"!==t&&(m.style.left=w+"px"):m.style.left=w+"px";40===M&&"one row"===t&&(m.style.cssFloat="left");40===M&&"one row"===t&&(m.style.marginTop="1px");"one column"===t&&(m.style.top=(h&&R?1:0)+H+w+"px");"one row"!==t&&" "===ta&&(m.style.top="0px");"one column"===t&&" "===ta&&(m.style.top="0px");g=F*e;m.style.position="absolute";"two column"===t&&!(Ka<=qa)&&(m.style.width=g+"px");"one row"===t&&(m.style.width=(!0===ba?F+w:2*F)+"px");ba&&(d=
0);i=0;b=0;for(var ga=0;ga<e;ga++){for(k=0;k<=d;k++)f[k]=document.createElement("ul"),f[k].className="providers",f[k].id="janrainProviders_"+k,1<d&&(f[k].style.cssFloat="left"),1<d&&(f[k].style.styleFloat="left"),f[k].style.listStyleType="none",f[k].style.marginTop="0px",f[k].style.marginLeft="0px",f[k].style.marginRight="0px",f[k].style.marginBottom="0px",f[k].style.padding="0px";g=document.createElement("div");g.className="janrainPage";g.setAttribute("pageIndex",ga);h&&R&&1===e&&(g.style.width=
"110%");for(k=0;k<=d;k++)g.appendChild(f[k]);for(var $b=c.length%2,cb=ba?Ka:qa,Sa=0;Sa<cb&&!(0==c.length);Sa++){if(2==d)var l=1==$b?f[c.length%2?0:1]:f[c.length%2];if(1==d||0==d)l=f[0];k=c.shift();l.appendChild(k)}m.appendChild(g)}return m}function B(b){0==o()?("left"===b&&(W.style.width=w+"px",V.style.display="block",V.style.width="20px"),"top"===b&&(V.style.height=w+"px",W.style.display="block",W.style.height="20px")):("right"===b&&(V.style.width=w+"px",W.style.display="block",W.style.width="20px"),
"bottom"===b&&(W.style.height=w+"px",V.style.display="block",V.style.height="20px"))}function A(){for(var b=[],i=0;i<Ka;i++){var a=C(Xb[i]);b.push(a)}return b}function s(b,i){i.style.cursor="pointer";i.setAttribute("id","janrain-"+b);i.setAttribute("role","button");"one row"===t?i.style.background="transparent":("gradient"===db&&Eb(i,"bottom, #eeeeee, #ffffff"),"gray"===db&&(i.style.backgroundColor="#eeeeee"),"white"===db&&(i.style.backgroundColor="#ffffff"));O(i,"mouseover",function(){ab();"one row"===
t?i.style.background="transparent":(i.style.backgroundColor="#E3E3E3",i.style.backgroundImage="")});O(i,"mouseout",function(){ab();"one row"===t?i.style.background="transparent":("gradient"===db&&Eb(i,"bottom, #eeeeee, #ffffff"),"gray"===db&&(i.style.backgroundColor="#eeeeee"),"white"===db&&(i.style.backgroundColor="#ffffff"))});Na||G(i,b);return i}function C(b){var i=document.createElement("li");i.style.listStyle="none";0==L&&!1===ba&&(i.style.cssFloat="left");0==L&&!1===ba&&(i.style.styleFloat=
"left");i.style.textAlign="center";i.style.height=h&&R?U-2:U+"px";if("two column"==t){var a=ba?3*w:Ka<=qa?0:3*w;i.style.width=6===h||ab&&R?(F-a-4*w)/L+"px":(F-a-(2==L?10:0))/L+"px"}i.style.marginTop="0px";if("one column"==t){if(7==h||6==h)i.style.marginTop="-1px";h&&R?i.style.marginRight="0px":i.style.width=F-w/2+"px";i.style.marginLeft="0px"}else i.style.marginRight=w+"px";0==L&&(i.style.width=U+"px");i.style.marginBottom=(7===h||6===h||h&&R?3:w)+"px";i.style.position="relative";0!=L&&(i.style.border=
"1px solid "+Zb);0!=L&&aa(i,Kb);if("customopenid"===b){a=document.createElement("img");if(1==L||2==L)30==U&&(a.src=Aa.smallLogo),50==U&&(a.src=Aa.largeLogo);0==L&&(30==U&&(a.src=Aa.smallIcon),50==U&&(a.src=Aa.largeIcon))}else if(a=document.createElement("span"),"blank"!==b){if(1==L||2==L)30==U&&(a.className="janrain-provider100-"+b),50==U&&(a.className="janrain-provider150-"+b);0==L&&(30==U&&(a.className="janrain-provider30-"+b),50==U&&(a.className="janrain-provider50-"+b))}a.style.backgroundColor=
"transparent";h&&R&&(a.style.height=U-2+"px");if(6===h&&"one row"!==t){var g=document.createElement("div");g.style.height=a.style.height;g.style.width="90px";g.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+a.src+"')";a.style.filter="alpha(opacity=0)";g.appendChild(a);i.appendChild(g)}else i.appendChild(a);return s(b,i)}function ka(b,i){var a=document.createElement("div"),g=f.translate.SIGN_IN_AS||"Sign in as {name}",g=g.replace("{name}",i),g=
document.createTextNode(g),m=document.createElement("div");m.style.cssFloat="right";m.style.styleFloat="right";m.style.fontFamily=wb;m.style.position="relative";m.style.top=U/4-3+"px";m.appendChild(g);var k=document.createElement("div"),c=7.5*g.length+30,e=j();k.style.fontSize="16px";k.style.height="100%";k.style.position="relative";if(0==L||120>e)15<=g.length&&(k.style.fontSize="14px",c=7*g.length+30),20<=g.length&&(k.style.fontSize="12px",c=6*g.length+30),24<=g.length&&(k.style.fontSize="10px",
c=5*g.length+25),30<=g.length&&(g.textContent=g.textContent.substr(0,26)+"...",c=162);k.style.width=c+"px";if(0==L||116>e)if("customopenid"===b){var d=document.createElement("img");d.src=Aa.smallIcon;d.style.width="20px";d.style.height="20px";d.style.cssFloat="left";d.style.styleFloat="left"}else d=document.createElement("span"),d.style.margin="2px 0",d.className="janrain-provider16-"+b;a.style.overflow="hidden";a.style.position="relative";a.style.height=("one row"!==t?U:25)+"px";a.style.marginBottom=
"one row"===t?"-4px":"4px";"one row"===t&&(a.style.top="-4px");a.style.left="0px";h&&R&&(a.style.marginRight="5px");h&&R&&(a.style.marginLeft="3px");a.style.border="1px solid "+Zb;a.style.color=nb[b].color;aa(a,Kb);if(0==L||116>e)k.style.paddingTop=(50===U?16:2)+"px",k.appendChild(d);6===h||7===h||h&&R?k.style.left="0px":k.style.margin="0 auto";k.appendChild(m);0==L||116>e?a.appendChild(k):(50===U&&parseInt(a.style.height),m.style.cssFloat="none",m.style.styleFloat="none",a.appendChild(m));return s(b,
a)}function G(b,i){O(b,"click",function(){J(i)})}function J(b){var i=nb[b],a={appUrl:f.appUrl,mobileDevice:vb,language:f.language,popup:$a,tokenUrl:ra||f.tokenUrl||window.location.href,facebookPermissions:ua,forceReauth:za,widgetType:"auth",tokenAction:oa,bpChannel:Ya,customOpenid:bb,customOpenidOpxblob:f.customOpenidOpxblob};i.name=b;new Ia(i,a,function(){wa||(x=setTimeout(function(){$b(i)},300))})}function E(b){var i=document.createElement("div");if("customopenid"===b){var a=document.createElement("img");
a.src=Aa.largeLogo;a.style.width="150px";a.style.height="50px"}else a=document.createElement("span"),a.className="janrain-provider150-"+b;i.style.position="absolute";i.style.top="0px";if(!h||!R)i.style.left="0px",i.style.width=F+"px";i.style.zIndex="102";i.style.textAlign="center";i.style.padding=w+"px";i.style.backgroundColor="transparent"===Ra?"#ffffff":Ra;i.style.height=j()-(h&&R?0:2*w)+"px";aa(i,I);"one row"!==t&&116<=j()&&i.appendChild(a);return i}function N(b){var i=document.createElement("a"),
a=document.createTextNode(f.translate.USE_ANOTHER_ACCOUNT||"switch accounts");i.setAttribute("class","janrainSwitchAccountLink");i.setAttribute("href","");i.style.fontSize="12px";i.style.fontFamily=wb;i.style.color=Sa;i.onclick=b;i.appendChild(a);return i}function Q(){return"modal"===P?document.getElementById("janrainModal"):"embed"===P?document.getElementById("janrainEngageEmbed"):!1}function X(){var b=parseInt(D.style.width);return b=b+2*w+2}function Y(){var b=Q();null!==b&&"object"===typeof D&&
D.parentNode===b&&b.removeChild(D)}function la(){var b="";"object"===typeof q&&(b=q.getState());return{type:P,width:X(),fontFamily:wb,fontSize:Hb,fontColor:Sa,backgroundColor:Ra,borderColor:gc,borderRadius:I,format:t,providersPerPage:qa,providers:Xb,buttonBackgroundStyle:db,buttonBorderColor:Zb,buttonBorderRadius:Kb,actionText:d(),showAttribution:S,modalState:b}}function Z(b){t=K("string",["default","two column","one column","one row"],"two column",b);"default"===t&&(t="two column");"one row"==b&&
(I=K("number",[0,5],5,I));i()}function T(b){"two column"===t&&(F=K("number",[225,600],380,b));"one column"===t&&(F=K("number",[160,600],200,b));"one row"===t&&(U=30,b=Ka<=qa?w*(parseInt(qa)-1):w*(parseInt(qa)+2),40===M&&(b+=ha-w),F=U*qa+b);if(("two column"===t||"one column"===t)&&!ba)F=F-2*w-2;h&&R&&(F=F+2*w+2);"one row"!==t&&(U=380<F?50:30)}function da(b){"string"===typeof b&&(lc=!0,ta=K("text",null,ta,b)," "===ta?I=K("number",[0,5],5,I,!0):H="two column"!==t?a().headerHeight-5:a().headerHeight)}
function sa(b){db=K("string",["gray","white","gradient"],"gradient",b)}function l(b){Zb=K("color",null,"#CCCCCC",b)}function ia(b){Ra=K("color",null,"#ffffff",b)}function ca(b){"undefined"===typeof b&&(b=5);I=" "===ta||!S||"one row"===t?K("number",[0,5],5,b,!0):K("number",[0,10],10,b)}function ma(b){S=K("boolean",null,!0,b);j();I=b?K("number",[0,10],5,I,!0):K("number",[0,5],5,I,!0)}function b(b){gc=K("color",null,"#C0C0C0",b)}function i(){"two column"===t&&(Hb=18);if("one column"===t||"one row"===
t)Hb=14}function g(b){Sa=K("color",null,"#333333",b)}function m(b){if("object"==typeof b){L=n();for(var i=0,a=b.length;i<a;i++)if(!nb[b[i]])return ga(4),y.log(b[i]+" is not a valid provider, using default providers instead"),this;Xb=b;Ka=b.length;"object"===typeof q&&q.setHeight(j()-2*w).refresh()}}function ga(b){"two column"===t&&(qa=K("number",[4,6,8],6,b));"one column"===t&&(qa=K("number",[1,6],6,b));"one row"===t&&(qa=ob?Ka:K("number",[4,8],6,b),T(F))}function $b(b){var i=document.createTextNode(f.translate.SIGNING_IN||
"Signing in ..."),a=document.createElement("div");ea=E(b.name);a.appendChild(i);ea.appendChild(a);D&&D.appendChild(ea)}var Gb=!1,F=380,lc=!1,wb="lucida grande, Helvetica, Verdana, sans-serif",Hb=18,Sa="#666666",Ra="#ffffff",gc="#C0C0C0",I=10,D,Ib,t="two column",L,ja,qa=6,Xb=["aol","google","yahoo","openid"],Ka=4,Zb="#CCCCCC",Kb=5,db="gradient",U=30,H=a().headerHeight,M=60,ha=89,na=a().footerHeight,w=5,$=10,ta="Sign in using your account with",ea,fa,V,W,S=!0,Ba=!1,va=!1,Ca,xa;janrain.events.onProviderLoginStart.addHandler(function(b){ya("login_tab",
b.provider,1)});return{build:c,setFormat:function(b){b&&Z(b);"two column"!==t&&(H=a().headerHeight-5);"two column"===t&&(qa=a().twoColumn.providersPerPage,H=a().headerHeight);return this},setActionText:function(b){"string"===typeof b&&da(b);return this},setFontSize:function(b){b&&i(b);return this},setFontFamily:function(b){b&&b&&(wb=b);return this},setFontColor:function(b){b&&g(b);return this},setButtonBorderColor:function(b){b&&l(b);return this},setButtonBorderRadius:function(b){if("string"==typeof b||
"number"==typeof b)Kb=K("number",[0,20],5,b);return this},setButtonBackgroundStyle:function(b){b&&sa(b);return this},setWidth:function(b){("string"==typeof b||"number"==typeof b)&&T(b);return this},refresh:function(){Y();var b=Q();c();var i=pa("expected_tab");i&&!zb?Za("expected_tab",i):(null!==b&&"object"===typeof D&&b.appendChild(D),"object"===typeof q&&q.setHeight(parseInt(D.style.height)+2).refresh());janrain.events.onCustomizationChange.fire(la());return this},remove:function(){Y();return this},
setRowHeight:function(b){if(0!==n())return this;b||(b=60);oneRowHeaderHeight=K("number",[40,60,90],60,b);40===oneRowHeaderHeight&&(U=30,M=40);60===oneRowHeaderHeight&&(U=30);90===oneRowHeaderHeight&&(U=50);return this},setHeight:function(b){"object"==typeof D&&(D.style.height=b+"px");return this},setBackgroundColor:function(b){b&&ia(b);return this},setBorderColor:function(i){i&&b(i);return this},setBorderRadius:function(b){("string"==typeof b||"number"==typeof b)&&ca(b);return this},setProviders:function(b){"object"==
typeof b&&m(b);return this},setProvidersPerPage:function(b){if("string"==typeof b||"number"==typeof b)ga(b),"object"===typeof q&&q.setHeight(j()).refresh("janrainModal");return this},setShowAttribution:function(b){"boolean"===typeof b&&ma(b);return this},setPreviewMode:function(b){"boolean"===typeof b&&(Na=b);return this},setProviderFlow:function(b,i){return G(b,i)},triggerFlow:function(b){return J(b)},setNoReturnExperience:function(b){"boolean"===typeof b&&(Ba=b);return this},setNoReturnExperienceSwitchAccountLink:function(b){"boolean"===
typeof b&&(va=b);return this},setConfigureMode:function(b){"boolean"===typeof b&&(ba=b,L=n());return this},embed:function(b){if((ja=b)&&"object"==typeof D)D.style.position="relative";return this},getContentsDiv:function(){return D},getErrorPage:function(b,i){var a=document.createTextNode(i.msg),g=document.createElement("div");g.appendChild(a);g.style.color=Sa;g.style.fontSize=Hb+"px";g.style.width="100%";var m=E(b);m.appendChild(g);m.appendChild(N(function(){D.removeChild(m);D.removeChild(ea);za=
!0;return!1},b));D.appendChild(m);return D},getReturnExperience:function(b,i){if(Na||Ba||-1===Xb.indexOf(b))return D;var a=ka(b,i),g=E(b),m=function(){za=zb=!0;D.removeChild(g);return!1};g.id="janrainAuthReturnExperience";g.appendChild(a);va||g.appendChild(N(m,b));D.appendChild(g);return D},getWidth:function(){return X()},getActualHeight:function(){return parseInt(D.style.height)+2},getHeight:function(){return j()-2*w},getState:function(){return la()},setState:function(c){if(u("customizable_auth_widget_styling")){var d=
c.fontFamily;d&&(wb=d);i(c.fontSize);g(c.fontColor);ia(c.backgroundColor);b(c.borderColor);"embed"===P&&c.format&&(c.format&&Z(c.format),"two column"!==t&&(H=a().headerHeight-5),"two column"===t&&(qa=a().twoColumn.providersPerPage,H=a().headerHeight));if("string"==typeof c.providersPerPage||"number"==typeof c.providersPerPage)ga(c.providersPerPage),"object"===typeof q&&q.setHeight(j()).refresh("janrainModal");sa(c.buttonBackgroundStyle);l(c.buttonBorderColor);Kb=K("number",[0,20],5,c.buttonBorderRadius);
da(c.actionText);ma(c.showAttribution);ca(c.borderRadius);"embed"===P&&("string"==typeof width||"number"==typeof width)&&T(c.width)}m(c.providers)},showNotice:function(){$b()},removeNotice:function(){"undefined"!==typeof ea&&D.removeChild(ea)},removeReturnExperience:function(){var b=document.getElementById("janrainAuthReturnExperience");b&&b.parentNode.removeChild(b)}}}function e(){if("object"===typeof o)if("object"===typeof n){var a=o.getState();a.width=n.width;n=a}else n=o.getState();"object"===
typeof o&&o.remove();"object"===typeof q&&q.remove();z();P="modal";"object"===typeof o&&n&&u("customizable_auth_widget_styling")&&o.setState(n);"object"===typeof q&&rb&&u("customizable_auth_widget_styling")&&q.setState(rb);"object"===typeof q&&q.show();"object"===typeof o&&o.refresh()}function c(){if("object"===typeof o){if("object"===typeof n){var a=o.getState();a.borderRadius=n.borderRadius;a.format=n.format;a.width=n.width;n=a}else n=o.getState();rb=n.modalState;delete rb.orientation}"object"===
typeof o&&o.remove();"object"===typeof q&&q.remove();"object"===typeof q&&(q="");v();P="embed";"object"===typeof o&&n&&u("customizable_auth_widget_styling")&&o.setState(n);"object"===typeof o&&o.refresh()}function d(){var a,c;z();c=document.getElementsByTagName("a");var d=RegExp("(\\s|^)"+f.linkClass+"(\\s|$)");for(a in c)d.test(c[a].className)&&(c[a].onclick=j)}function v(){var c=pa("expected_tab");o=new a;o.setBackgroundColor(Ta).embed(!0).setPreviewMode(Ga).setShowAttribution(eb).setNoReturnExperience(xa).setNoReturnExperienceSwitchAccountLink(pb).setFormat(Ua).setRowHeight(G).setFontSize(Va).setFontFamily(ma).setFontColor(Ha).setActionText(La).setProviders(fb).setProvidersPerPage(qb).setWidth(Wa).setBorderColor(Ab).setBorderRadius(gb).setButtonBorderColor(hb).setButtonBorderRadius(ib).setButtonBackgroundStyle(M).build();
var d=document.getElementById("janrainEngageEmbed");null===d&&(d=document.getElementById("janrainModal"));Z||(c?(ja("welcome_info_name",unescape(pa("welcome_info_name"))),Za("expected_tab",c)):Ea(d,o.getContentsDiv()))}function j(){"object"===typeof q&&q.show();return!1}function z(){var c=jb(ea,B),d=pa("expected_tab");if("undefined"===typeof c||0>c)c=5;o=new a;o.setBackgroundColor(Ta).setPreviewMode(Ga).setShowAttribution(eb).setNoReturnExperience(xa).setNoReturnExperienceSwitchAccountLink(pb).setFontSize(Va).setFontFamily(ma).setFontColor(Ha).setActionText(La).setProviders(fb).setProvidersPerPage(qb).setBorderRadius(c).setButtonBorderColor(hb).setButtonBorderRadius(ib).setButtonBackgroundStyle(M).build();
if("object"!==typeof q){q=new Mb;q.ready=!1;var e=q.addContent;q.addContent=function(a){q.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}q.setHeight(o.getActualHeight()).setWidth(o.getWidth()).setPreviewMode(Ga).setBorderColor(Xa).setBorder(B).setBorderOpacity(Da).setBorderRadius(ea);Z||(d?(ja("welcome_info_name",unescape(pa("welcome_info_name"))),Za("expected_tab",d)):q.addContent(o.getContentsDiv()));q.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&o.setFormat(a.format).setWidth(200).refresh();
"landscape"===a.orientation&&o.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh();q.setHeight(o.getActualHeight());q.setWidth(o.getWidth())});q.onShow.addHandler(function(){"object"==typeof o&&q.setWidth(o.getWidth())});q.onBorderWidthChange.addHandler(function(a){"object"===typeof q&&"object"===typeof o&&(o.setBorderRadius(a.radius).refresh(),a=o.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&q.setBorderRadius(a.borderRadius+a.modalState.borderWidth))});
q.onBorderRadiusChange.addHandler(function(a){"object"===typeof o&&(o.setBorderRadius(a.radius).refresh(),a=o.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&q.setBorderRadius(a.borderRadius+a.modalState.borderWidth))})}function p(a,c){if(!u("customizable_auth_widget_styling"))return!1;if("object"===typeof o)return c(a),!0}function s(a){return p(a,function(a){o.setBackgroundColor(a).refresh()})}function ka(a){return p(a,function(a){o.setBorderRadius(a).refresh()})}function J(a){return p(a,
function(a){o.setBorderColor(a).refresh()})}function X(a){return"modal"===P?!1:p(a,function(a){o.setWidth(a).refresh()})}function ca(a){return p(a,function(a){o.setActionText(a).refresh()})}function la(a){return p(a,function(a){o.setButtonBorderColor(a).refresh()})}function $(a){return p(a,function(a){o.setButtonBorderRadius(a).refresh()})}function S(a){return p(a,function(a){o.setButtonBackgroundStyle(a).refresh()})}function Ja(a){return"modal"==P?!1:p(a,function(a){o.setFormat(a).refresh()})}function r(a){return p(a,
function(a){o.setProvidersPerPage(a).refresh()})}function Nb(a){return p(a,function(a){o.setFontFamily(a).refresh()})}function va(a){return p(a,function(a){o.setFontSize(a).refresh()})}function N(a){return p(a,function(a){o.setFontColor(a).refresh()})}function pa(a){var c;if("single cookie"===V){c=Q().getCookie("janrain_engage_login_data");if(!c)return;c=E.parse(c);return!c[a]?void 0:a=c[a]}if("default"===V)return a=Q().getCookie(a),!a?void 0:a}function ya(a,c,d){var e;if(!a||!c)return!1;d||(d=1);
if("single cookie"===V)return(oldCookieJSON=Q().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),d=E.parse(oldCookieJSON),d[a]=c,e=new Q,e.setName("janrain_engage_login_data").setValue(E.stringify(d)).setExpiration(1826).create(),!0;return"default"===V?(e=new Q,e.setName(a).setValue(c).setExpiration(d).create(),!0):!1}function fa(a,c){if(xa)return!1;if("expected_tab"===a&&!c){var d=pa("login_tab");d&&fa("expected_tab",d);return!1}if(!c||"undefined"===c||"expected_tab"!==a&&"expected_user_input"!==
a&&"welcome_info_name"!==a)return!1;c="welcome_info_name"===a?escape(c):c;ya(a,c,1826)}function Y(a,c){var d;if(h&&3>ha)return(void 0).time=(new Date).getTime(),d=ub(void 0),W(c+"/signin/get_login_info"+d),ha++,!0;"undefined"!==typeof x&&clearTimeout(x);return!1}function Ia(a,c,d){var e=c.appUrl+"/"+a.flow+"/start",f=window.location.href;c.mobileDevice&&(f="mobile");var h=c.popup?"xdr":"xdrsw",n=c.tokenUrl||window.location.href,j={};j.language_preference=c.language||"en";j.token_url=n;j.display="popup";
j.widget=!0;"object"===typeof c.facebookPermissions&&(j.ext_perm=c.facebookPermissions.toString());j.openid_identifier=a.identifier;j.origin_url=f;j.provider_name=a.name;j.force_reauth=c.forceReauth;j.xdReceiver=c.appUrl+"/"+h;j.callback="none";j.widget_type=c.widgetType;j.token_action="url";if("event"===c.tokenAction||"hybrid"===c.tokenAction)j.token_action="event";c.mobileDevice&&"hybrid"===c.tokenAction&&(j.token_action="url");c.bpChannel&&(j.bpChannel=c.bpChannel);c.customOpenid&&"string"===typeof c.customOpenidOpxblob&&
(j.opx_blob=c.customOpenidOpxblob);e+=ub(j);(function(){janrain.events.onProviderLoginStart.fire({provider:a.name,width:a.width,height:a.height});var f;c.mobileDevice&&"event"!==c.tokenAction||!c.popup?W(c.appUrl+"/signin/set_login_tab?login_tab="+a.name+"&origin_url="+window.location.href,function(){window.top.location.href=e}):(f=new nc(e),f.setWidth(a.width).setHeight(a.height).setCallback(function(){var e={},f="";e.widget_type=c.widgetType;e.provider=a.name||"";e.time=(new Date).getTime();f=ub(e);
"function"===typeof d&&d();W(c.appUrl+"/signin/get_login_info"+f);janrain.events.onProviderLoginComplete.fire({provider:a.name})}).show())})()}function ja(a,c){if(!c||"undefined"===c||"welcome_info_name"!==a)return!1;c&&(na=c)}function Za(a,c){var d=function(a){var e=function(){600>a&&setTimeout(function(){d(++a)},50)};if("object"!==typeof o)return e(),!1;"modal"===P?q.addContent(o.getReturnExperience(c,na)):"embed"===P&&Ea(document.getElementById("janrainEngageEmbed"),o.getReturnExperience(c,na));
"modal"===P&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!c)return!1;"object"===typeof o&&o.removeReturnExperience();janrain.events.onAuthWidgetLoad.addHandler(function(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,welcomeName:na})});d(0)}function Ea(a,c){janrain.settings.capture&&(a?a.appendChild(c):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?a.appendChild(c):y.log('Missing container div, please place this div where you want the embedded widget to be displayed on your page - <div id="janrainEngageEmbed"></div>.').show();
return a}function Qa(a,c){ra=ra||ia;tokenUrl=c?ra:ia;var d="";if(!mb(tokenUrl).query)var d=d+"?",e=!0;for(var f in a)e?(d+=f+"="+a[f],e=!1):d+="&"+f+"="+a[f];ra=tokenUrl+d}function Ma(){f=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout(Ma,5),!1;Rb(dc()+"providers.css");if(f.stop)return!0;fc&&W(f.appUrl+"/signin/establish_session");oa=f.tokenAction?f.tokenAction:oa;if(!f.tokenUrl&&"event"===oa)ia=window.location.href;else if(f.tokenUrl)ia=
f.tokenUrl;else return y.log("Missing tokenUrl.  tokenUrl is required."),y.show(),!1;P=K("string",["modal","embed"],"embed",f.type?f.type:P);Z=f.multi?f.multi:vb?!0:Z;wa=f.custom?f.custom:wa;za=f.forceReauth?f.forceReauth:za;Ya=f.bpChannel?f.bpChannel:Ya;ua=f.facebookPermissions?f.facebookPermissions:ua;V=f.storageType?K("string",["default","single cookie"],"default",f.storageType):V;$a="boolean"===typeof f.popup?f.popup:$a;vb&&"event"!==oa&&($a=!1);da=f.returnExperienceTimeout?f.returnExperienceTimeout:
da;Z&&(setTimeout(function(){var a=pa("expected_tab");a?(ja("welcome_info_name",unescape(pa("welcome_info_name"))),Za("expected_tab",a)):"modal"===P?q.addContent(o.getContentsDiv()):"embed"===P&&Ea(embedDiv,o.getContentsDiv())},da),W(f.appUrl+"/signin/get_cookies"));if(wa)return!0;oa=f.tokenAction?f.tokenAction:oa;B=u("customizable_auth_widget_styling")?f.modalBorderWidth:B;Xa=u("customizable_auth_widget_styling")?f.modalBorderColor:Xa;ea=u("customizable_auth_widget_styling")?f.modalBorderRadius:
ea;Da=u("customizable_auth_widget_styling")?f.modalBorderOpacity:Da;Ta=u("customizable_auth_widget_styling")?f.backgroundColor:Ta;gb=u("customizable_auth_widget_styling")?f.borderRadius:gb;Ab=u("customizable_auth_widget_styling")?f.borderColor:Ab;Ua=u("customizable_auth_widget_styling")?f.format:Ua;Ha=u("customizable_auth_widget_styling")?f.fontColor:Ha;Va=u("customizable_auth_widget_styling")?f.fontSize:Va;ma=u("customizable_auth_widget_styling")?f.fontFamily:ma;Wa=u("customizable_auth_widget_styling")?
f.width:Wa;G=u("customizable_auth_widget_styling")?f.rowHeight:G;qb=u("customizable_auth_widget_styling")?f.providersPerPage:qb;ob=u("customizable_auth_widget_styling")?f.providersNotPaged:ob;La=u("customizable_auth_widget_styling")?f.actionText:La;hb=u("customizable_auth_widget_styling")?f.buttonBorderColor:hb;ib=u("customizable_auth_widget_styling")?f.buttonBorderRadius:ib;M=u("customizable_auth_widget_styling")?f.buttonBackgroundStyle:M;eb=u("customizable_auth_widget_hide_attribution")?f.showAttribution:
eb;Ga=f.previewMode;xa=f.noReturnExperience;pb=f.noReturnExperienceSwitchAccountLink;fb=f.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate={});if(f.customOpenid&&u("customizable_auth_widget_styling")){bb=!0;if(!f.customOpenidFlow)return y.log("Missing customOpenidFlow. customOpenidFlow is required when adding a custom openid provider."),y.show(),!1;if(!f.customOpenidIdentifier)return y.log("Missing customOpenidIdentifier. customOpenidIdentifier is required when adding a custom openid provider."),
y.show(),!1;if(!f.customOpenidSmallLogo)return y.log("Missing customOpenidSmallLogo.  customOpenidSmallLogo is required and should be the full path to an image that has a width of 90px and height of 30px."),y.show(),!1;if(!f.customOpenidSmallIcon)return y.log("Missing customOpenidSmallIcon.  customOpenidSmallIcon is required and should be the full path to an image that is 30px x 30px."),y.show(),!1;if(!f.customOpenidLargeLogo)return y.log("Missing customOpenidLargeLogo.  customOpenidLargeLogo is required and should be the full path to an image that has a width of 150px and height of 50px."),
y.show(),!1;if(!f.customOpenidLargeIcon)return y.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),y.show(),!1;Aa={smallLogo:f.customOpenidSmallLogo,smallIcon:f.customOpenidSmallIcon,largeLogo:f.customOpenidLargeLogo,largeIcon:f.customOpenidLargeIcon};nb.customopenid={flow:f.customOpenidFlow,identifier:f.customOpenidIdentifier}}f.previewMode?("modal"===P&&(janrain.ready?e():O(window,"load",e)),"embed"===P&&(janrain.ready?
c():O(window,"load",c))):("modal"===P&&(janrain.ready?d():O(window,"load",d)),"embed"===P&&(janrain.ready?v():O(window,"load",v)))}var ua,Ya,bb=!1,za=!1,oa="url",ia,ra,P="embed",na="unknown",Z=!1,da=300,za=!1,$a=!0,wa=!1,V="default",Aa,rb,q,B,Xa,ea,Da,o,n,Ta,gb,Ab,Wa,G,Ua,fb=[],ob=!1,qb,La,Va,ma,Ha,hb,ib,M,Ga,xa,pb,eb,zb=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=T());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=T());janrain.events.onReturnExperienceFound||
(janrain.events.onReturnExperienceFound=T());janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===typeof janrainWidgetOnload&&(wa?janrainWidgetOnload():o?janrainWidgetOnload(o.getState()):janrainWidgetOnload())});var x,ha=0;"undefined"===typeof janrain.events.onProviderLoginStart&&(janrain.events.onProviderLoginStart=new H);"undefined"===typeof janrain.events.onProviderLoginError&&(janrain.events.onProviderLoginError=new H);"undefined"===typeof janrain.events.onProviderLoginToken&&(janrain.events.onProviderLoginToken=
new H);"undefined"===typeof janrain.events.onProviderLoginSuccess&&(janrain.events.onProviderLoginSuccess=new H);"undefined"===typeof janrain.events.onProviderLoginComplete&&(janrain.events.onProviderLoginComplete=new H);"undefined"===typeof janrain.events.onProviderLogoutStart&&(janrain.events.onProviderLogoutStart=new H);"undefined"===typeof janrain.events.onProviderLogoutComplete&&(janrain.events.onProviderLogoutComplete=new H);janrain.events.onProviderLoginError.addHandler(function(a){if(wa)return!0;
var c=pa("login_tab");if("modal"===P){var d=document.getElementById("janrainModal");d&&d.appendChild(o.getErrorPage(c,a.err))}"embed"===P&&(d=document.getElementById("janrainEngageEmbed"))&&Ea(d,o.getErrorPage(c,a.err))});Ma();return{appendTokenParams:function(a,c){Qa(a,c)},appendTokenParamsCumulative:function(a){Qa(a,!0)},setBackplaneChannel:function(a){Ya=a},setLoginCookie:function(a,c){fa(a,c)},loginHandler:function(a){var c=oa;a?("ok"===a.stat&&("event"===c||"hybrid"===c?W(a.redirectUrl):(c=document.createElement("form"),
c.action=a.redirectUrl,c.method="POST",janrain.settings.targetTop&&(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===a.stat&&(janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof x&&clearTimeout(x))):Y()},cancelLogin:function(){Y(void 0,f.appUrl,"auth");wa||o.removeNotice()},removeNotice:function(){o.removeNotice()},setWelcomeInfoName:function(a,c){ja(a,c)},setReturnExperience:function(a,c){Za(a,c)},setNoReturnExperience:function(a){"boolean"===typeof a&&o?(o.setNoReturnExperience(a).refresh(),
a=!0):a=!1;return a},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&o?(o.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&o?(o.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&o?(o.setConfigureMode(a).refresh(),a=!0):a=!1;return a},setCustom:function(a){wa=a},getState:function(){return"object"===typeof o?o.getState():!1},setProviderFlow:function(c,d){var e;
e=!u("customizable_auth_widget_styling")||!wa?!1:a().setProviderFlow(c,d);return e},triggerFlow:function(c){c=!u("customizable_auth_widget_styling")||!wa?!1:a().triggerFlow(c);return c},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+
navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+a+": "+janrain.settings[a]),"object"===typeof janrain.settings[a])for(var c in janrain.settings[a])"function"!==
typeof janrain.settings[a][c]&&console.log(" --- --- "+c+": "+janrain.settings[a][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){c()},setBackgroundColor:function(a){return s(a)},setBorderColor:function(a){return J(a)},setBorderRadius:function(a){return ka(a)},setWidth:function(a){return X(a)},setActionText:function(a){return ca(a)},setFontFamily:function(a){return Nb(a)},setFontSize:function(a){return va(a)},setFontColor:function(a){return N(a)},setFormat:function(a){return Ja(a)},
setButtonBorderColor:function(a){return la(a)},setButtonBorderRadius:function(a){return $(a)},setButtonBackgroundStyle:function(a){return S(a)},setProviders:function(a){var c;"object"===typeof o&&(ba?o.setProviders(a):o.setProviders(a).refresh(),c=!0);return c},setProvidersPerPage:function(a){return r(a)},setShowAttribution:function(a){var c;u("customizable_auth_widget_hide_attribution")?"object"===typeof o&&o.setShowAttribution(a).refresh():c=!1;return c},refresh:function(){return o.refresh()},getWidth:function(){return o.getWidth()}},
modal:{init:function(){e()},close:function(){"object"==typeof q&&q.close()},create:function(){return new Mb},setBorder:function(a){u("customizable_auth_widget_styling")?("object"===typeof q&&(q.setBorder(a),q.refresh()),a=!0):a=!1;return a},setBorderColor:function(a){u("customizable_auth_widget_styling")?("object"===typeof q&&(q.setBorderColor(a),q.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){u("customizable_auth_widget_styling")?("object"===typeof q&&(q.setBorderOpacity(a),q.refresh()),
a=!0):a=!1;return a},setBorderRadius:function(a){u("customizable_auth_widget_styling")?("object"==typeof q&&(q.setBorderRadius(a),q.refresh()),a=!0):a=!1;return a}}}};$=new function(){return{status:"not loaded"}};Oa=new function(){return{status:"not loaded"}};Pa=new function(){function a(b){function a(){Vb=!0;var i=b||c();b&&(ea=mb(b).queryKey.flow_path);W(i,nb);K();pa();janrain.events.onCaptureFailedLogin.addHandler(function(){yb++;N()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){yb=
0;N()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){na(fb)});janrain.events.onCaptureSuccessfulRegistration.addHandler(function(){na(fb)});janrain.events.onCaptureValidationComplete.addHandler(function(){for(var b=!1,a=Fa.length,i=0;i<a;i++){var g=Fa[i];for(action in g)if(g.hasOwnProperty(action))switch(action){case "render":g.render.screen&&!b&&(b=!0,(new da).setScreenData(g.render.screen,x.screens[g.render.screen]));break;case "setCookie":var c=g.setCookie.name,m=g.setCookie.value,
d=g.setCookie.days;(new Q).setExpiration(d).setUseLocalStorage(!0).setName(c).setValue(m).create()}}Fa=[]});janrain.events.onCaptureRenderComplete.addHandler(function(){if(eb){for(var b=ha.savedProfileMessage||"Your profile has been saved",a=Qa("capture_profileSavedMessage_container",G.div),i=0,g=a.length;i<g;i++)a[i].innerHTML=b;eb=!1}});janrain.events.onCaptureContentChange.addHandler(function(){"object"===typeof A&&A.isOpen()&&(A.setHeight(Ea(A.getContent()).height),A.setWidth(Ea(A.getContent()).width).refresh())});
janrain.settings.custom&&!lb&&H()}janrain.settings.capture.noStyling||(Rb(dc()+"widgets.css"),kc(dc()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&v(janrain.settings.capture.stylesheets))for(var g=janrain.settings.capture.stylesheets,m=g.length,d=0;d<m;d++)Rb(g[d]),f(g[d]);if(h&&9>h&&janrain.settings.capture.conditionalIEStylesheets&&v(janrain.settings.capture.conditionalIEStylesheets)){g=janrain.settings.capture.conditionalIEStylesheets;m=g.length;for(d=0;d<m;d++)kc(g[d]),f(g[d])}janrain.settings.capture.federate?
W(janrain.settings.capture.federateServer+"/sso.js",function(){janrain.settings.capture.redirectFlow?jb(a):a()}):janrain.settings.capture.redirectFlow?jb(a):a()}function e(b,a,g,c){var d=[];c&&d.push({value:"",text:c,disabled:!0});if("desc"===g)for(g=a;g>b-1;g--)d.push({value:g,text:g});else for(g=b;g<a+1;g++)d.push({value:g,text:g});return d}function c(){var b=Da,a=janrain.settings.capture.flowVersion||"HEAD",g=janrain.settings.capture.flowName||"default",c=janrain.settings.capture.appid||janrain.settings.capture.appId;
return uri=c?d()+"/widget_data/flow.js:"+c+":"+b+":"+a+":"+g:d()+"/widget_data/flow.js:"+b+":"+a+":"+g}function d(){return"https://dlzjvycct5xka.cloudfront.net"}function f(b){z(Yb,b)||Yb.push(b);hc=Yb.length}function j(b){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+b+"' is missing."}}function u(b){var a=document.getElementById("capture_"+n+"_"+b.name+"_dateselectmonth"),a=a.options[a.selectedIndex].value,g=document.getElementById("capture_"+n+"_"+
b.name+"_dateselectday"),g=g.options[g.selectedIndex].value,b=document.getElementById("capture_"+n+"_"+b.name+"_dateselectyear");return a+"/"+g+"/"+b.options[b.selectedIndex].value}function p(b){if(!b)return!1;for(var a=b.getElementsByTagName("input"),g=b.getElementsByTagName("select"),c=b.getElementsByTagName("textarea"),b=[],a=[a,g,c],g={},c=0,d=a.length;c<d;c++)for(var e=a[c],f=e.length,h=0;h<f;h++){var j=e[h];"true"===j.getAttribute("data-capturecollection")?g[j.name]||(r(j,!0)||b.push(j),g[j.name]=
!0):r(j,!0)||b.push(j)}janrain.events.onCaptureValidationComplete.fire({fieldsWithError:b});return 0===b.length}function C(){}function y(){}function K(){O(document.body,"click",function(b){var a=janrain.settings.capture.logoutLinksClass||"capture_end_session",g=X(b);g&&g.nodeName&&"A"===g.nodeName&&s(g).has(a)&&(Y(),J(b))})}function H(){janrain.events.onProviderLoginToken.addHandler(function(b){b.linkAccounts?l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",
elementId:"linkAccount_form",needsResponse:!0,callback:function(){},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",elementValue:b.token}]}):(janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience),Wb&&(hb=Ha),Ha=b.token,G.values=$a(G.div.id),Wa.push(G),Ia())});lb=!0}function R(b){var a=X(b);if("formClicked"===a.className){var g=a.getAttribute("data-transactionId");
V("/widget/get_result.jsonp",{transactionId:g,cache:(new Date).getTime()},function(){function b(){d++;if(10<d)return Z("could not find transaction status"),!1;if(ab[g])ra(g),clearTimeout(a),a=ab[g],"success"===a.status?ba(c):Z("there was a problem with the response",a);else var a=setTimeout(b,50)}var c=E.parse(a.getAttribute("next")),d=0;b()})}else a.className="";a.className=""}function T(b,a){for(var g=X(b).getAttribute("id").split("_")[3],c=X(b).parentNode,d=s(c).has("capture_tab_toggle"),e=d?"capture_tab_toggle":
"capture_radio_toggle",f=0;f<a.collection.length;f++)a.collection[f].elementName!==g&&(document.getElementById("capture_"+n+"_"+a.collection[f].elementName).style.display="none");for(var e=Qa(e,document.getElementById("capture_"+n+"_"+a.elementName)),h=e.length,f=0;f<h;f++)s(e[f]).remove("capture_toggled");s(c).append("capture_toggled");document.getElementById("capture_"+n+"_"+g).style.display="block";janrain.events.onCaptureContentChange.fire();d&&J(b)}function $(b){function a(b){b=b?E.stringify(b):
g;ia(d);e.className="formClicked";e.setAttribute("next",b)}var g=X(b).getAttribute("next"),c=X(b),d=X(b).getAttribute("data-transactionId"),e=document.getElementById("captureIFrame_"+d),f=E.parse(g),h=!1;if("true"!==c.getAttribute("data-capturedomelement")){G.values=$a(G.div.id);if(!p(c))return J(b),!1;var j=qc(c),l=rb();j.parentNode.insertBefore(l,j);j.style.display="none"}if(f.conditional){c=f.conditional;f=c.length;for(j=0;j<f;j++)if(ca(c[j])){h=c[j];break}h?h.nosubmit?(J(b),ba(h.next)):a(h.next):
a()}else f.dontSubmit?(J(b),f.storeValues&&$a(c.id,!0),ba(f)):a()}function ca(b){var a=x.fields[b.field],a=document.getElementById("capture_"+n+"_"+(a.elementId||a.elementName));switch(b.compare){case "=":if(a.value===b.value)return!0}}function aa(b){b=Ja(b);r(b)}function r(b,a){if(b.type&&("hidden"===b.type||"submit"===b.type)||!b.getAttribute("data-capturefield"))return!0;var g=b.getAttribute("data-capturerendererfield")?x.fields[b.getAttribute("data-capturerendererfield")]:x.fields[b.getAttribute("data-capturefield")],
c=b.getAttribute("data-capturerendererchildfieldname"),d=c?g.elementName+"["+c+"]":g.elementName,e=!1;if(!g.validation||c&&!g.validation[c]&&"dateselect"!==g.type||"dateselect"===g.type&&"dateselect_year"!==c)return!0;c="multiCheckbox"===g.element||"multiRadio"===g.element?document.getElementById("capture_"+n+"_form_collection_"+g.elementName):"dateselect"===g.type?document.getElementById("capture_"+n+"_form_item_"+g.name):document.getElementById("capture_"+n+"_form_item_"+d);s(c).append("capture_validating");
e=new l.validation;e.setParentDiv(c);e.setElement(b);g=Xa.check(b,g,a);g.valid?(e.valid(),e=!0,s(c).remove("capture_validating")):g.pending?(e.pending(),e=!0):(e.notValid(g.reason),e=!1,s(c).remove("capture_validating"));return e}function ba(b){Wa.push(G);if(b.noop)return!1;b.url&&(window.location.href=b.url);b.screen&&(new da).setScreenData(b.screen,x.screens[b.screen]);if(b.action&&G)janrain.capture.ui[b.action]();if(b["function"]&&"function"===typeof ob[b["function"]])ob[b["function"]]()}function va(b){(new Q).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(b).create()}
function N(){(new Q).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(yb).create()}function pa(){var b=new Q;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainFailedLogins",function(b){Tb(b)&&(yb=parseInt(b,10))}):(b=b.getCookie("janrainFailedLogins"),Tb(b)&&(yb=parseInt(b,10)))}function ya(){var b=36E5*Db+(new Date).getTime();return(new Date((new Date).setTime(b))).toUTCString()}function fa(b,a){var g=ya();M=b;if(a)janrain.events.onCaptureSessionCreated.fire({accessToken:b}),
janrain.events.onCaptureSessionFound.fire({accessToken:b});else{var c=new Q;c.setExpirationDirectly(g).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(M);janrain.settings.capture.cookieDomain&&c.setDomain(janrain.settings.capture.cookieDomain);c.create();ib&&(janrain.events.onCaptureSuccessfulLogin.fire({accessToken:b}),ib=!1);janrain.events.onCaptureSessionCreated.fire({accessToken:b})}}function Y(){var b=new Q,a="function"===typeof janrain.settings.capture.federateLogoutCallback?
janrain.settings.capture.federateLogoutCallback:function(){};b.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove();b.setName("janrainCaptureProfileData");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove();janrain.events.onCaptureSessionEnded.fire();janrain.settings.capture.federate&&JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,
logout_uri:janrain.settings.capture.federateLogoutUri},a)}function Ia(){var b=oa(),a={token:Ha,redirect_uri:janrain.settings.capture.redirectUri,client_id:janrain.settings.capture.clientId,response_type:janrain.settings.capture.responseType,locale:Da,flow_version:xb,capture_transactionId:b,flow:x.flow,capture_screen:janrain.settings.capture.registerFlow||"socialRegister"};hb&&(a.merge_token=hb);ea&&(a.flow_path=ea);V("/widget/token_url.jsonp",a);ia(b);Wb&&(Wb=!1)}function ja(){var b=new Q;b.setUseLocalStorage(!0);
if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureToken",function(b){b?fa(b,!0):janrain.events.onCaptureSessionNotFound.fire()});else{if(b.getCookie("janrainCaptureToken"))return fa(b.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function Za(b){var a=oa();JANRAIN.SSO.CAPTURE.set_login({code:b,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});ia(a)}function nb(){if(janrain.settings.capture.federate){var b=
void 0,b={},a=oa(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:b.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:E.stringify({js_version:bb,capture_screen:n,capture_transactionId:a,flow:x.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,
flow_version:xb,locale:Da}),transaction_id:a,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver};JANRAIN.SSO.CAPTURE.check_login(b);ia(a)}else{a:{if(a=mb(window.location.href).anchor)if(a=a.split("="),"access_token"===a[0]&&a[1]){ib=!0;fa(a[1]);a=!0;break a}a=!1}if(a||ja())return Ga=!0,!1;Ga=!0}}function jb(b){var a=mb(window.location.href).anchor;if(!a)return b(),!1;var g=a.split(","),c=g.length,d,a={};
if(1<c){for(var e=0;e<c;e++)d=g[e],d=d.split("="),a[d[0]]=d[1];if(!a.transactionId||!a.engageToken)return b(),!1;Va=b=a.transactionId;Ha=a.engageToken;V("/widget/get_result.jsonp",{transactionId:b},function(){})}else return b(),!1}function Ma(b,a){var g=b["if"].compare;if(!g||0>g.indexOf(":"))return!1;switch(g.split(":")[0]){case "cookie":var c=g.split(":")[1],g=new Q;g.setUseLocalStorage(!0);"janrainLastAuthMethod"===c&&!Ta&&(Ta=n);if(janrain.settings.multiDomainLocalStorage)g.getCookie(c,function(g){d&&
"janrainLastAuthMethod"===c&&(gb=!0);Ya(ua(b["if"],g)?b.then:b["else"],a)});else{var d=g.getCookie(c);d&&"janrainLastAuthMethod"===c&&(gb=!0);Ya(ua(b["if"],d)?b.then:b["else"],a)}}}function ua(b,a){var g=Tb(a)?parseInt(a,10):a,c,d=Tb(b.to)?parseInt(b.to,10):b.to;switch(b.withOperator){case "===":c=d===g;break;case "!==":c=d!==g;break;case "==":c=d==g;break;case "!=":c=d!==g;break;case ">":c=g>d;break;case "<":c=g<d}return c}function Ya(b,a){!b&&"function"===typeof a&&a();if(!b)return!1;if("undefined"===
typeof b["if"]){if(b.render){var g=b.render.screen,c=x.screens[g];(new da).setScreenData(g,c)}}else Ma(b,a)}function kb(){for(var b="",a=[],g=0;10>g;g++)b=Ob(40),a.push(b);return a}function za(b){if(!v(b))return!1;for(var a=b.length,g=0;g<a;g++){var c=b[g];-1===Na.indexOf(c)&&Na.push(c)}}function oa(){var b=Na.pop();0===Na.length&&za(kb());-1===Oa.indexOf(b)&&Oa.push(b);return b}function ia(b){var a=Oa.indexOf(b);-1<a&&Oa.splice(a,1);-1===Pa.indexOf(b)&&Pa.push(b)}function ra(b){var a=Pa.indexOf(b);
-1<a&&Pa.splice(a,1);-1===sb.indexOf(b)&&sb.push(b)}function P(){if("object"!==typeof A)return!1;ha.modalConfirmText&&A.setConfirmMessageText(ha.modalConfirmText);ha.modalConfirmLinkText&&A.setConfirmLinkText(ha.modalConfirmLinkText);ha.modalCancelLinkText&&A.setCancelLinkText(ha.modalCancelLinkText)}function na(b){x=b;x.flow=janrain.settings.capture.flowName;"undefined"===typeof fb&&(fb=b);"object"!==typeof x.layouts&&(x.layouts={});"object"!==typeof x.layouts.captureAccessDeniedBuiltIn&&(x.layouts.captureAccessDeniedBuiltIn=
{});x.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:Lb.accessDenied;"object"!==typeof x.layouts.captureRetrievingUserDataBuiltIn&&(x.layouts.captureRetrievingUserDataBuiltIn={});x.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:Lb.retrievingUserData;for(b=0;b<Ua.length;b++)x.fields[Ua[b].field][Ua[b].attribute]=
Ua[b].value}function Z(){Ub.push(arguments);if(window.console){var b=arguments;b.callee=b.callee.caller;newArray=[].slice.call(b);h?console.log(newArray):console.log.apply(console,newArray)}}function da(){function b(b,a,i){a&&a.screenConditionals?Ya(a.screenConditionals,i):"function"===typeof i&&i()}function a(c,m){Ga?(n=c,b(c,m,function(){m&&(Ab=m.validateOnRender);if(m&&m.hasUserData&&!x.fused){var b=m.dataType&&"public"===m.dataType;!M&&!b?(janrain.events.onCaptureAccessDenied.fire(),g({layout:"captureAccessDeniedBuiltIn",
modal:m.modal,source:"server"})):(g({layout:"captureRetrievingUserDataBuiltIn",modal:m.modal,source:"server"}),wa(b));d()}else g(m),d(),gb&&(gb=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))})):setTimeout(function(){a(c,m)},50)}function g(b){G&&G.div&&(G.div.style.display="none");var a=b.layout,i=b.source,g=b.modal,b=!!b.modalLoadOnLoad;if("server"===i){var c=document.getElementById(a);c||(c=document.createElement("div"),c.setAttribute("id",
a));try{cb[a]?q.html=cb[a]:(q.html=x.layouts[a].html,cb[a]=q.html)}catch(m){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===i)try{if(c=document.getElementById(a))cb[a]?q.html=cb[a]:(q.html=c.innerHTML,cb[a]=q.html);else throw q.html="",j(a);}catch(d){throw Z(d.name+": "+d.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}s(c).append("janrain-capture-ui").append("capture-ui-content");fc&&
(s(c).append("janrain-capture-ui-mobile"),S.onOrientationChange.addHandler(function(b){s(c).append("janrain-capture-ui-mobile-"+b.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[b.orientation]);janrain.events.onCaptureContentChange.fire()}),S.onOrientationChange.fire({orientation:S.getOrientation()}));q.div=c;k=q.div;q.modalLoadOnLoad=b;q.source=i;q.modal=g;G=q}function c(b,a){if(b.close)return p.render.htmlElement.close(b);if("data"==b.element){if("string"===
b.type)return p.render.data.stringData(b);if("image"===b.type)return p.render.data.imageData(b)}if("multiRadio"==b.element)return p.render.htmlElement.multiRadio(b);if("multiCheckbox"==b.element)return p.render.htmlElement.multiCheckbox(b);if("textarea"==b.element)return p.render.htmlElement.textarea(b);if("select"==b.element)return p.render.htmlElement.select(b);if("input"==b.element)return p.render.htmlElement.input(b);if("form"==b.element)return p.render.htmlElement.form(b);if("div"==b.element)return p.render.htmlElement.div(b);
if("button"==b.element)return p.render.htmlElement.button(b);if("capture"==b.element){if("errorMessages"==b.type)return p.render.captureElement.errorMessages(b);if("savedProfileMessage"==b.type)return p.render.captureElement.savedProfileMessage(b);if("captcha"==b.type)return p.render.captureElement.captcha(b);if("traditionalPasswordChange"==b.type)return p.render.captureElement.traditionalPasswordChange(b);if("linkAccounts"==b.type)return p.render.captureElement.linkAccounts(b);if("mergeAccounts"==
b.type)return p.render.captureElement.mergeAccounts(b);if("radioCollection"==b.type)return p.render.captureElement.collection.radio(b);if("tabCollection"==b.type)return p.render.captureElement.collection.tab(b);if("photoManager"==b.type)return p.render.captureElement.photoManager(b);if("dateselect"==b.type)return p.render.captureElement.dateselect(b);if("addressFull"==b.type)return p.render.captureElement.addressFull(b);if("nameFull"==b.type)return p.render.captureElement.nameFull(b);if("backButton"==
b.type)return p.render.captureElement.backButton(b);if("partial"==b.type)return p.render.captureElement.partial(b,a)}return"widget"==b.element?p.render.widget[b.type](b):!1}function d(){var b=/\{\*(.*?)\*\}/,a=/^\s*\/\s*/,i=/^\s*#\s*/,g=/\stemplateVariables\={(.*?)*\}\s*/,f=!1;janrain.events.onCaptureRenderStart.fire(x);o=[];x.fields.submitButton||(x.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});
x.fields.loginWidget||(x.fields.loginWidget={element:"widget",type:"login"});x.fields.backButton||(x.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});x.fields.captcha||(x.fields.captcha={element:"capture",type:"captcha"});x.fields.errorMessages||(x.fields.errorMessages={element:"capture",type:"errorMessages"});x.fields.savedProfileMessage||(x.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});q.originalHtml=q.html;q.flow=x;var j=Va||oa();
Va=null;for(var ga,k=[],F=[];ga=b.exec(q.html);)try{var p=ga[1].trim();if(g.test(p))var v=p.match(g),p=p.replace(v[0],"").trim(),y=v[0].match(/\{(.*?)*\}\s*/)[0];f=!1;i.test(p)&&(p=p.replace("#","").trim(),f=!0);if(a.test(p)){var z=p.replace("/",""),s={};if("undefined"==typeof x.fields[z])return Z("No field definition for"+z,"error"),!1;s.element=x.fields[z].element;s.close=!0}else{if("undefined"==typeof x.fields[p])return Z("No field definition named "+p+" for tag "+ga[0],"error"),!1;s=x.fields[p];
s.name=p;f&&(s.start=!0);"form"===s.element&&!s.transactionId&&(s.transactionId=j);s.elementName=s.elementName||p}var y=y||null,A=c(s,y);A||(A=" ");q.html=q.html.replace(ga[0],A);(s.next||"form"===s.element&&!s.close)&&o.push({elementName:s.elementName,next:s.next});s.onclickHandler&&B.push({elementName:s.elementName,handler:s.onclickHandler,eventType:"click"});s.onchangeHandler&&B.push({elementName:s.elementName,handler:s.onchangeHandler,eventType:"change"});"string"===typeof s.element&&"form"===
s.element&&!s.close&&B.push({elementName:s.elementName,handler:$,eventType:"submit"});if("form"===s.element&&("widget/traditional_register.jsonp"===s.action||"widget/social_register.jsonp"===s.action))F.push("widget/traditional_register.jsonp"===s.action?"traditionalRegister":"socialRegister");if("form"===s.element&&"widget/traditional_signin.jsonp"===s.action||"widget"===s.element&&"login"===s.type)k.push("widget/traditional_signin.jsonp"===s.action?"traditionalSignin":"socialSignin")}catch(C){return Z(C.name+
": "+C.message,"error"),!1}k.length&&janrain.events.onCaptureStartLogin.fire({action:k.join(","),screen:n});F.length&&janrain.events.onCaptureStartRegistration.fire({action:F.join(","),screen:n});q.div.innerHTML=q.html;"server"==q.source&&(document.getElementById("janrainCaptureWidget")||(b=document.createElement("div"),b.id="janrainCaptureWidget",document.body.appendChild(b)),document.getElementById("janrainCaptureWidget").appendChild(q.div));b=0;for(a=ac.length;b<a;b++)r(document.getElementById(ac[b]));
ac=[];h();e();if(0<janrain.events.onCssLoad.firedEvents.length){b=janrain.events.onCssLoad.firedEvents;a=0;for(i=b.length;a<i;a++)"object"==typeof b&&b[a].args&&b[a].args.source&&-1==cc.indexOf(b[a].args.source)&&b[a].event.fire(b[a].args)}l.domHelpers.createIFrame(j);for(b=0;b<o.length;b++)a=document.getElementById("capture_"+n+"_"+o[b].elementName),o[b].next&&o[b].next.type&&"server"===o[b].next.type?a.setAttribute("next",'{"noop":""}'):o[b].next?(o[b].next.conditional&&a.setAttribute("next",E.stringify(o[b].next)),
o[b].next.screen&&a.setAttribute("next",E.stringify(o[b].next)),o[b].next.url&&a.setAttribute("next",E.stringify(o[b].next)),o[b].next.action&&a.setAttribute("next",E.stringify(o[b].next))):a.setAttribute("next",'{"noop":""}');u(j);G=q;janrain.events.onCaptureContentChange.fire()}function e(){q.div.getAttribute("data-captureventadded")||(O(q.div,"click",function(b){var a=X(b);if(a&&a.nodeName&&"A"===a.nodeName){var i=a.getAttribute("data-capturescreen");i&&(janrain.capture.ui.renderScreen(i),J(b));
a.getAttribute("data-cancelcapturereturnexperience")&&Ta&&(i=new Q,i.setUseLocalStorage(!0).setName("janrainLastAuthMethod"),i.remove(),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.capture.ui.renderScreen(Ta),J(b));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof A)"close"===a&&(janrain.capture.ui.modal.close(),J(b)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),J(b))}}),q.div.setAttribute("data-captureventadded",!0));for(var b=
q.div.getElementsByTagName("img"),a=b.length,i=0;i<a;i++)O(b[i],"load",function(){janrain.events.onCaptureContentChange.fire()});b=Qa(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=b.length;if(!ub){for(i=0;i<a;i++)O(b[i],"click",function(b){"object"===typeof A?(janrain.capture.ui.renderScreen(G.flow.defaultScreen),A.setShowContentOnLoad(!0).addContent(G.div).show(),janrain.events.onCaptureScreenShow.fire({screen:n}),janrain.events.onCaptureContentChange.fire()):tb=!0;J(b)});ub=!0}}
function h(){if(x.cssDependencies&&v(x.cssDependencies))for(var b=0;b<x.cssDependencies.length;b++)f(x.cssDependencies[b]);hc&&Vb&&!zb?janrain.events.onCssLoad.addHandler(function(b){cc.push(b.source);for(b=0;b<hc;b++)if(-1==cc.indexOf(Yb[b]))return!1;zb||(F(),zb=!0)}):F();janrain.events.onCaptureRenderComplete.fire({flow:x,screen:n})}function F(){var b=!1,a=janrain.settings.capture.modalBorderWidth||10,i=janrain.settings.capture.modalBorderColor||"#000",g=janrain.settings.capture.modalBorderRadius||
10,c=janrain.settings.capture.modalBorderOpacity||0.5;if(q.modal){if("object"===typeof A){var b=!0,m=A.getContent();m&&document.body.appendChild(m);A.close(!0)}else A=new Mb,P();vb||(janrain.events.onCaptureModalReady.fire(),vb=!0);A.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(i).setBorder(a).setBorderOpacity(c).setBorderRadius(g).setShowContentOnLoad(!0).addContent(q.div);if(b||q.modalLoadOnLoad||tb)A.show(),janrain.events.onCaptureScreenShow.fire({screen:n})}else"object"===
typeof A&&A.close(!0),janrain.events.onCaptureScreenShow.fire({screen:n});q.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function u(b,a){for(var a=a||B,i=0;i<a.length;i++){if("function"===typeof a[i].handler)if("render"===a[i].eventType)a[i].handler();else{var g=document.getElementById("capture_"+n+"_"+a[i].elementName);O(g,a[i].eventType,a[i].handler)}b&&O(document.getElementById("captureIFrame_"+b),"load",R)}B=[]}var q={},p;p=new y;Xa=new C;return{setScreenData:a,render:d,
attachEventHandlers:u}}function $a(b,a){for(var g=[],c=document.getElementById(b).getElementsByTagName("INPUT"),d=c.length,e=0;e<d;e++){var f={};f.id=c[e].id;f.placeholder=c[e].getAttribute("placeholder");if(qb||a)La[c[e].getAttribute("data-capturefield")]=c[e].value;f.value=f.placeholder?f.placeholder===c[e].value?"":c[e].value:c[e].value;"radio"===c[e].type&&(f.type="radio",f.checked=c[e].checked);g.push(f)}return g}function wa(b,a){var g="function"===typeof a?a:function(){};if(b){var c=mb(window.location.href).queryKey.uuid;
c?(Z("need to get data for "+c),l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:g,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:c}]})):Z("no uuid supplied")}else{if(!M)return!1;l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",
needsResponse:!0,callback:g,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function V(b,a,g){var c=-1<b.indexOf("?")?"&":"?",d=0===b.indexOf("http")?"":janrain.settings.capture.captureServer,e=[],f;for(f in a)a.hasOwnProperty(f)&&e.push(f+"="+encodeURIComponent(a[f]));W(d+b+c+e.join("&"),g)}function Aa(b){function a(b){return'<li><a href="#" class="capture_suggestion">'+b+"</a></li>"}var b=b.result,g=x.fields[b.field],c=document.getElementById("capture_"+n+"_"+(g.elementId||
g.elementName)),d=b.alternatives,e=g.validation.messages.unique||"",f=document.getElementById("capture_"+n+"_form_item_"+g.elementName),h=new l.validation;h.setElement(c);h.setParentDiv(f);if(!1===b.unique)if(d){var d=d.map(a),j=function(b){var a=X(b);s(a).has("capture_suggestion")&&(c.value=a.innerHTML,jc(f,"click",j),h.valid(),J(b))};h.notValid(e+'<ul class="capture_suggestions">'+d.join("")+"</ul>",function(){O(f,"click",j)})}else h.notValid(e);else h.valid()}function rb(){var b=document.createElement("div");
b.className="capture_btn capture_processing";b.innerHTML="Processing";return b}function q(b){if("object"!==typeof A)A=new Mb,P();else{var a=A.getContent();a.style.display="none";a&&document.body.appendChild(a)}G&&G.modal&&Wa.push(G);A.addContent(b).show();A.setHeight(Ea(b).height);A.setWidth(Ea(b).width).refresh()}var B=[],Xa,ea,Da=janrain.settings.capture.language||janrain.settings.language||"en-US",o=[],n,Ta,gb=!1,Ab,Wa=[],G={},Ua=[],fb,ob={},qb=janrain.settings.capture.mode13||!1,La={},Va,ma,Ha,
hb,ib=!1,M,Ga=!1,xa,pb=!1,eb=!1,zb=!1,x,ha={},k,cb={},ab={},Na=[],Oa=[],Pa=[],sb=[],Vb=!1,Db=1,Jb="placeholder"in document.createElement("input"),lb=!1,Wb=!1,A,tb=!1,ub=!1,vb=!1,Yb=[],hc=0,ac=[],xb="HEAD",Bb=!1,Lb={},Pb=["accessDenied","retrievingUserData"],bc={},Eb=!1,yb=0,Fa=[],cc=[];"en"===Da&&(Da="en-US");bc.publicPrivateTogglers=[];C.prototype.check=function(b,a,g){var a=a||x.fields[b.name],c=b.getAttribute("data-capturerendererchildfieldname");a.validation.temp=c&&a.validation&&a.validation[c]?
a.validation[c]:c&&"dateselect"!==a.type?!1:a.validation;if(!a.validation.temp)return!0;a.validation.temp.messages||(a.validation.temp.messages={});if(!this.hasValue(b,a))return{valid:!1,reason:a.validation.temp.messages.required||"Field not completed"};if(!this.isValidMinYears(b,a))return{valid:!1,reason:a.validation.temp.messages.minYears||"Not old enough"};if(!this.isValidMinLength(b,a))return{valid:!1,reason:a.validation.temp.messages.minLength||"Invalid length"};if(!this.isValidMaxLength(b,a))return{valid:!1,
reason:a.validation.temp.messages.maxLength||"Invalid length"};if(!this.isValidMaxNumericLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxNumericLength||"Invalid number of numeric characters"};if(!this.isValidFormat(b,a))return{valid:!1,reason:a.validation.temp.messages.format||"Invalid format"};if(!this.isValidMatch(b,a))return{valid:!1,reason:a.validation.temp.messages.match||"Invalid match"};return a.validation.temp.unique&&!g?(g=document.getElementById("capture_"+n+"_form_item_"+
b.getAttribute("name")),this.isUnique(b,g,a,function(){}),{pending:!0}):{valid:!0}};C.prototype.getRating=function(b){var b=b.value,a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],g=0,c;c=Math.min(8,Math.floor(3*Math.log(b.length+1)));for(var d=0;d<a.length;d++)a[d].test(b)&&g++;return c+=Math.floor(Math.pow(2,g)/2)};C.prototype.isValidMaxNumericLength=function(b,a){if(!a)return!0;var g=a.validation.temp.maxNumericLength;if(!g)return!0;var c=b.value.match(/(\d)/g);v(c)&&c.length>g&&a.validation.temp.actions&&
a.validation.temp.actions.maxNumericLength&&Fa.push(a.validation.temp.actions.maxNumericLength);return v(c)?c.length<=g:!0};C.prototype.isValidMaxLength=function(b,a){var g=b.value;if(!a)return!0;var c=a.validation.temp.maxLength;if(!c)return!0;g.length>c&&a.validation.temp.actions&&a.validation.temp.actions.maxLength&&Fa.push(a.validation.temp.actions.maxLength);return g.length<=c};C.prototype.isValidMinLength=function(b,a){var g=b.value;if(!a)return!0;var c=a.validation.temp.minLength;if(!c)return!0;
g.length<c&&a.validation.temp.actions&&a.validation.temp.actions.minLength&&Fa.push(a.validation.temp.actions.minLength);return g.length>=c};C.prototype.isValidMinYears=function(b,a){if(!a||"dateselect"!==a.type)return!0;var g=u(a),c=a.validation.temp.minYears;if(!ec(g)||!c)return!0;var d=new Date,g=Math.abs(((new Date(g)).getTime()-d.getTime())/864E5),g=Math.floor(g/365.242199);g>=c||a.validation.temp.actions&&a.validation.temp.actions.minYears&&Fa.push(a.validation.temp.actions.minYears);return g>=
c};C.prototype.hasValue=function(b,a){var g;if("select"===a.element)g=b.options[b.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))g=b.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(g=a.elementName){g=document.getElementsByName(g);for(var c=g.length,d=[],e=0;e<c;e++)g[e].checked&&d.push(g[e]);g=d.length}else g=!1;else g=b.value;if(!a||!a.validation.temp.required)return!0;if("dateselect"===a.type)return g=u(a),ec(g)||
a.validation.temp.actions&&a.validation.temp.actions.required&&Fa.push(a.validation.temp.actions.required),ec(g);g||a.validation.temp.actions&&a.validation.temp.actions.required&&Fa.push(a.validation.temp.actions.required);return g};C.prototype.isUnique=function(b,a,g,c){a=b.form.getAttribute("data-capturefield");g=b.getAttribute("data-capturefield");b={value:b.value,form:a,field:g,client_id:janrain.settings.capture.clientId,flow_version:xb,locale:janrain.settings.capture.language||"en-US",flow:x.flow};
M&&(b.access_token=M);ea&&(b.flow_path=ea);V("/widget/unique.jsonp",b,c)};C.prototype.isBlacklisted=function(b,a,g){function c(){var a=b.value,i=response;if(!i||0===i.length)return!0;for(var g,d=0;d<i.length;d++)if(g=RegExp("^"+i[d]+"$","i"),g.test(a))return!0;return!1}captureUIBlacklistCallback=function(b){g(c(b))};v(a)?g(c(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):g(!0)};C.prototype.isValidFormat=function(b,a){var g={alpha:/^[a-z]+$/i,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,
email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!a.validation.temp.format)return!0;var c=a.validation.temp.format;if("string"===typeof c&&g[c])c=g[c];else return!1;c.test(b.value)||a.validation.temp.actions&&a.validation.temp.actions.format&&Fa.push(a.validation.temp.actions.format);return c.test(b.value)};C.prototype.isValidMatch=function(b,a){if(!a)return!0;var g=a.validation.temp.match;if(!g)return!0;g=x.fields[g];g=document.getElementById("capture_"+
n+"_"+(g.elementId||g.elementName));b.value!==g.value&&a.validation.temp.actions&&a.validation.temp.actions.match&&Fa.push(a.validation.temp.actions.match);return b.value===g.value};var l={attachFieldEventHandlers:function(b){b.type||(b.type="");"password"===b.type&&(B.push({elementName:b.elementName,handler:l.togglePasswordInput,eventType:"click"}),B.push({elementName:b.elementName,handler:l.togglePasswordInput,eventType:"focus"}),b.validation&&("function"===typeof b.validation.rating?B.push({elementName:b.elementName,
handler:function(a){var a=Ja(a),g=Xa.getRating(a);b.validation.rating(a,g)},eventType:"keyup"}):b.validation.rating&&B.push({elementName:b.elementName,handler:function(b){b=Ja(b);b=Xa.getRating(b);Z("Password Strength",b)},eventType:"keyup"})));if("text"===b.type||"password"===b.type||"email"===b.type)B.push({elementName:b.elementName,handler:l.clearPlaceHolder,eventType:"focus"}),B.push({elementName:b.elementName,handler:l.restorePlaceHolder,eventType:"blur"});B.push({elementName:b.elementName,handler:function(){var a=
document.getElementById("capture_"+n+"_form_item_"+b.elementName);s(a).append("capture_focused").remove("capture_error");fc&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()},eventType:"focus"});B.push({elementName:b.elementName,handler:function(){var a=document.getElementById("capture_"+n+"_form_item_"+b.elementName);s(a).remove("capture_focused")},eventType:"blur"});b.validation&&B.push({elementName:b.elementName,handler:aa,eventType:"blur"});b.rendererFieldName&&b.rendererChildFieldName&&
x.fields[b.rendererFieldName].validation&&x.fields[b.rendererFieldName].validation[b.rendererChildFieldName]&&B.push({elementName:b.rendererFieldName+"_"+b.rendererChildFieldName,handler:aa,eventType:"blur"});b.validation&&b.validation.custom&&B.push({elementName:b.elementName,handler:function(a){var a=Ja(a),g=document.getElementById("capture_"+n+"_form_item_"+b.elementName);s(g).append("capture_validating");var c=new l.validation;c.setParentDiv(g);c.setElement(a);Fb[b.validation.custom](a.name,a.value,
c);s(g).remove("capture_validating")},eventType:"blur"})},wrapFormItemStart:function(b){var a="",g=[],c=b.classes||[],d="elementCollection"===b.type?"form_collection":"form_item";if(b.justElement||"submit"===b.type||"button"===b.type)return"";-1===c.indexOf("capture_"+d)&&c.push("capture_"+d);b.errors&&-1===c.indexOf("capture_error")&&!b.collection&&c.push("capture_error");!b.collection&&b.type&&-1===c.indexOf("capture_"+b.type)&&("checkbox"===b.type||"radio"===b.type?g.push("capture_"+b.type):c.push("capture_"+
b.type));"elementCollection"===b.type&&b.displayInline&&-1===c.indexOf("capture_form_collection_inline")&&c.push("capture_form_collection_inline");a+=l.createDiv({elementName:d+"_"+b.elementName,hide:b.hide,classes:c});if(("checkbox"===b.type||"radio"===b.type)&&!b.collection)a+=l.createDiv({elementName:d+"_inner_"+b.elementName,classes:g});return a},wrapFormItemEnd:function(b){return b.justElement||"submit"===b.type||"button"===b.type?"":"</div>"},createPublicPrivateToggle:function(b){function a(){for(var b=
bc.publicPrivateTogglers,i=b.length,c=0;c<i;c++)b[c]&&(b[c].style.display="none");bc.publicPrivateTogglers=[]}function c(a){var i=X(a),g=document.getElementById("capture_"+n+"_display_toggle_options_"+b.elementName),d=document.getElementById("capture_"+n+"_display["+(b.rendererFieldName||b.elementName)+"]"),e=document.getElementById("capture_"+n+"_display_indicator_public_"+b.elementName),m=document.getElementById("capture_"+n+"_display_indicator_private_"+b.elementName),f="capture_"+n+"_display_option_public_"+
b.elementName,h="capture_"+n+"_display_option_private_"+b.elementName;document.getElementById("capture_"+n+"_display_toggle_options_"+b.elementName);i.id===f?(s(document.getElementById(f)).append("capture_checked"),s(document.getElementById(h)).remove("capture_checked"),d.value="public",s(e).append("capture_toggled"),s(m).remove("capture_toggled")):(s(document.getElementById(f)).remove("capture_checked"),s(document.getElementById(h)).append("capture_checked"),d.value="private",s(e).remove("capture_toggled"),
s(m).append("capture_toggled"));g.style.display="none";J(a)}var d;d=""+l.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+b.elementName});d+=l.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+b.elementName});var e=["capture_display_option"];b.displayPublic&&e.push("capture_checked");d+=l.createDiv({classes:e,elementId:"display_option_public_"+b.elementName});d+='<span class="janrain-icon-check janrain-icon-16"></span>public <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';
e=["capture_display_option"];b.displayPublic||e.push("capture_checked");d+=l.createDiv({classes:e,elementId:"display_option_private_"+b.elementName});d+='<span class="janrain-icon-check janrain-icon-16"></span>private <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';e=["capture_display_toggle","capture_public"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic&&e.push("capture_toggled");d+=l.createDiv({classes:e,elementId:"display_indicator_public_"+
b.elementName});d+='&nbsp;public <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_toggle","capture_private"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic||e.push("capture_toggled");d+=l.createDiv({classes:e,elementId:"display_indicator_private_"+b.elementName});d=d+'private <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+l.createInput({type:"hidden",elementName:"display["+(b.rendererFieldName||b.elementName)+
"]",value:b.displayPublic?"public":"private"});B.push({elementName:"display_toggle_wrap_"+b.elementName,eventType:"click",handler:function(c){var g=document.getElementById("capture_"+n+"_display_toggle_options_"+b.elementName),d="none"===g.style.display||""===g.style.display?"block":"none",e=X(c);s(e).has("capture_display_toggle")&&!s(e).has("capture_display_toggle_disabled")&&("block"===d&&(a(),bc.publicPrivateTogglers.push(g)),g.style.display=d);J(c)}});B.push({elementName:"display_option_public_"+
b.elementName,handler:c,eventType:"click"});B.push({elementName:"display_option_private_"+b.elementName,handler:c,eventType:"click"});Bb||(O(document.body,"click",function(b){b=X(b);!s(b).has("capture_display_toggle")&&!s(b).has("capture_display_option")&&a()}),Bb=!0);return d},createTextarea:function(b){var a="",c=b.elementId||b.elementName,d=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],e=b.rows||"5",a=a+l.createLabel(b);z(d,"capture_"+c)||d.push("capture_"+c);a=a+"<textarea "+("id='capture_"+
n+"_"+c+"' ");a+="class='"+d.join(" ")+"' ";a+="data-capturefield='"+b.name+"' ";a=a+("rows='"+e+"' ")+("name='"+b.elementName+"' ");b.placeholder&&Jb&&(a+="placeholder='"+b.placeholder+"'");a+=">";b.value&&(a+=b.value);a+="</textarea>";b.publicPrivateToggle&&(a+=l.createPublicPrivateToggle(b));return a+=l.createTip(b)},createTip:function(b){var a;a="<div class='capture_tip' ";b.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof b.tip?b.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+
(" data-elementName='"+b.elementName+"'>");a=a+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+b.elementName+"'>");b.errors&&v(b.errors)&&(a+=b.errors.join(" "));return a+"</div>"},createLabel:function(b,a){var c,d=b.elementId||b.elementName;if(!b.label)return a?a:"";c="<label ";"elementCollection"!==b.type&&(c+=" for='capture_"+n+"_"+d+"'");c+=">";a&&(c+=a);b.label&&(c+=b.label);return c+"</label>"},createSelect:function(b){var a="",c=b.rendererFieldName,d=b.rendererChildFieldName,
e=b.justElement,f=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],h=b.elementId||b.elementName;z(f,"capture_"+h)||f.push("capture_"+h);a+=l.createLabel(b);a=a+'<span class="capture_select"><select '+("id='capture_"+n+"_"+h+"' ");a+="class='"+f.join(" ")+"' ";c&&(a+="data-capturerendererfield='"+c+"' ");d&&(a+="data-capturerendererchildfieldname='"+d+"' ");a+="data-capturefield='"+b.name+"' ";a+="name='"+b.elementName+"' ";a+=">";c=b.options||[];d=c.length;for(f=0;f<d;f++){var h=c[f],j=h.value||
""===h.value?h.value:h.text,a=a+('<option value="'+j+'"');h.disabled&&(a+=' disabled="true"');j===b.value&&(a+=' selected="selected"');a+=">"+h.text+"</option>"}a+="</select></span>";b.publicPrivateToggle&&(a+=l.createPublicPrivateToggle(b));e||(a+=l.createTip(b));return a},createButton:function(b){var a="",c=b.elementId||b.elementName,d=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],e=b.type?b.type:"submit";z(d,"capture_"+c)||d.push("capture_"+c);z(d,"capture_btn")||d.push("capture_btn");
z(d,"capture_primary")||d.push("capture_primary");a=a+"<button "+("id='capture_"+n+"_"+c+"' ");a+="class='"+d.join(" ")+"' ";a=a+("type='"+e+"' ")+("data-capturefield='"+b.name+"' ");b.value&&(a+="value='"+b.value+"' ");a+="name='"+b.elementName+"' ";a+=">";b.elementContent&&(a+=b.elementContent);return a+"</button>"},createInput:function(b){var a="",c="",d=b.elementId||b.elementName,e=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],f="button"===b.type||"submit"===b.type||"checkbox"===b.type||
"radio"===b.type||"hidden"===b.type,h=b.justElement||b.collection||"hidden"===b.type||"button"===b.type||"submit"===b.type,j="password"===b.type&&!Jb&&b.placeholder?"text":b.type,k=("checkbox"===b.type&&!b.collection||"radio"===b.type&&!b.collection)&&!b.justElement,o=b.rendererFieldName,p=b.rendererChildFieldName,q=Ab&&!b.collection;z(e,"capture_"+d)||e.push("capture_"+d);f||(c+=l.createLabel(b));a=a+"<input "+("id='capture_"+n+"_"+d+"' ");"text"===b.type?z(e,"capture_text")||e.push("capture_text"):
"submit"===b.type&&(z(e,"capture_btn")||e.push("capture_btn"),z(e,"capture_primary")||e.push("capture_primary"));a+="class='"+e.join(" ")+"' ";a+="data-capturefield='"+b.name+"' ";b.collection&&(a+="data-capturecollection='true' ");o&&(a+="data-capturerendererfield='"+o+"' ");p&&(a+="data-capturerendererchildfieldname='"+p+"' ");a+="type='"+j+"' ";b.value?(e=b.value,b.displaySavedValue&&La[b.value]&&(e=La[b.value]),("password"===b.type||"text"===b.type||"email"===b.type)&&!b.errors&&q&&ac.push("capture_"+
n+"_"+d),a+="value='"+e+"' "):a=b.placeholder&&!Jb?a+("value='"+b.placeholder+"' "):a+"value='' ";b.placeholder&&(a+="placeholder='"+b.placeholder+"' ");b.checked&&(a+="checked='checked' ");a+="name='"+b.elementName+"' ";a+="/>";c="checkbox"===b.type||"radio"===b.type?c+l.createLabel(b,a):c+a;b.publicPrivateToggle&&(c+=l.createPublicPrivateToggle(b));k&&(c+="</div>");h||(c+=l.createTip(b));return c},createDiv:function(b){var a="<div ",c=b.elementId||b.elementName,d=b.classes||[];z(d,"capture_"+c)||
d.push("capture_"+c);a+="id='capture_"+n+"_"+c+"'";if("option"===b.type&&!b["default"]||b.hide)a+=" style='display:none'";"radioCollection"===b.type&&d.push("radio_set");v(d)&&d.length&&(a=a+' class="'+d.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');return a+">"},createImage:function(b){var a,c=b.classes||[];elementId=b.elementId||b.imageId||b.elementName||"";a="<img "+('src="'+b.src+'"');elementId&&!z(c,"capture_"+elementId)&&c.push("capture_"+elementId);b.hide&&(a+=" style='display:none'");
elementId&&(a+=' id="capture_'+n+"_"+b.imageId+'" ');v(c)&&c.length&&(a=a+'class="'+c.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(b){var a,c="captureIFrame_"+b;if(document.getElementById(c))return!1;if(h){a="";var d=document.createElement("div");d.innerHTML=a+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+b+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(d)}else a=document.createElement("iframe"),a.setAttribute("name",
c),a.setAttribute("data-transactionId",b),a.id=c,a.setAttribute("src","about:blank"),a.style.display="none",a.className="",document.body.appendChild(a)},createAnchor:function(b){var a=document.createElement("a");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!z(b.classes,"capture_"+n+"_"+b.elementId)&&b.classes.push("capture_"+n+"_"+b.elementId);a.setAttribute("href",b.elementHref);a.innerHTML=b.elementText;b.elementId&&(a.id="capture_"+n+"_"+b.elementId);a.className=b.classes.join(" ");
b.hideElement&&(a.style.display="none");return a},createDiv:function(b){var a=document.createElement("div");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!z(b.classes,"capture_"+n+"_"+b.elementId)&&b.classes.push("capture_"+n+"_"+b.elementId);b.elementId&&(a.id="capture_"+n+"_"+b.elementId);a.className=b.classes.join(" ");b.hideElement&&(a.style.display="none");return a},createImage:function(b){var a=document.createElement("img");if(!b.classes||b.classes&&!v(b.classes))b.classes=
[];b.elementId&&!z(b.classes,"capture_"+n+"_"+b.elementId)&&b.classes.push("capture_"+n+"_"+b.elementId);a.src=b.elementSrc;b.elementId&&(a.id="capture_"+n+"_"+b.elementId);a.className=b.classes.join(" ");b.hideElement&&(a.style.display="none");return a},createInput:function(b){var a=document.createElement("input"),c=b.containerDivClasses||[],d;"submit"===b.elementType&&b.containerDiv&&(d=this.createDiv({elementName:b.elementName+"_containverDiv",classes:c}));if(!b.classes||b.classes&&!v(b.classes))b.classes=
[];b.elementId&&!z(b.classes,"capture_"+n+"_"+b.elementId)&&b.classes.push("capture_"+n+"_"+b.elementId);b.elementType&&a.setAttribute("type",b.elementType);b.name&&a.setAttribute("data-capturefield",b.name);b.elementValue&&(a.value=b.elementValue);b.elementName&&(a.name=b.elementName);b.elementId&&(a.id="capture_"+n+"_"+b.elementId);b.hideElement&&(a.style.display="none");a.className=b.classes.join(" ");return d?(d.appendChild(a),d):a},createForm:function(b){b.transactionId||(b.transactionId=oa());
var a=b.transactionId,c=document.createElement("form"),d=v(b.fields)?b.fields:[],e=d.length;l.domHelpers.createIFrame(a);b.needsResponse&&O(document.getElementById("captureIFrame_"+a),"load",R);if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!z(b.classes,"capture_"+n+"_"+b.elementId)&&b.classes.push("capture_"+n+"_"+b.elementId);c.id="capture_"+n+"_"+b.elementId+"_"+a;c.className=b.classes.join(" ");c.setAttribute("target","captureIFrame_"+a);c.setAttribute("data-transactionId",
a);b.name&&c.setAttribute("data-capturefield",b.name);c.setAttribute("action",b.elementAction);c.setAttribute("method","POST");c.setAttribute("data-capturedomelement","true");c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:"\u2713",elementName:"utf8"}));ea&&c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:ea,elementName:"flow_path",elementId:"flow_path_"+a}));xa?c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:xa,elementName:"access_token",
elementId:"access_token_"+a})):M&&c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:M,elementName:"access_token",elementId:"access_token_"+a}));n&&c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:n,elementName:"capture_screen",elementId:"screen_"+a}));bb&&c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:bb,elementName:"js_version",elementId:"js_version_"+a}));b.serverNextScreen&&c.appendChild(l.domHelpers.createInput({elementType:"hidden",
elementValue:b.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+a}));b.engageTokenRequired&&c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:Ha,elementName:"token",elementId:"token_"+a}));c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:a,elementName:"capture_transactionId",elementId:"transactionId_"+a}));c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:b.name,elementName:"form",elementId:"form_"+
a}));c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:x.flow,elementName:"flow",elementId:"flow_"+a}));c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementName:"client_id",elementId:"client_id_"+a,elementValue:janrain.settings.capture.clientId}));c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementName:"redirect_uri",elementId:"redirect_uri_"+a,elementValue:janrain.settings.capture.redirectUri}));c.appendChild(l.domHelpers.createInput({elementType:"hidden",
elementValue:janrain.settings.capture.responseType,elementName:"reponse_type",elementId:"response_type_"+a}));c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:xb,elementName:"flow_version",elementId:"flow_version_"+a}));c.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:Da,elementName:"locale",elementId:"locale_"+a}));for(var f=0;f<e;f++)switch(a=d[f],a.elementType){case "div":c.appendChild(l.domHelpers.createDiv(a));break;case "anchor":c.appendChild(l.domHelpers.createAnchor(a));
break;case "hidden":c.appendChild(l.domHelpers.createInput(a));break;case "file":c.setAttribute("enctype","multipart/form-data");c.appendChild(l.domHelpers.createInput(a));break;case "submit":c.appendChild(l.domHelpers.createInput(a))}l.domHelpers.createFormHandler(c,b);return c},createFormHandler:function(b,a){"function"===typeof a.callback&&(b.setAttribute("next",'{"function":"'+a.elementId+'"}'),ob[a.elementId]=a.callback);O(b,"submit",$)},createFormAndPost:function(b){var a=oa();b.transactionId=
a;var c=l.domHelpers.createForm(b),a=l.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+a,elementId:"createFormAndPostSubmit_"+a,elementValue:"submit",hideElement:!0});c.appendChild(a);document.body.appendChild(c);l.domHelpers.createFormHandler(c,b);a.click()}},createListOfLinks:function(b,a){var c;optionsLength=b.length;c="<ul";v(a)&&a.length&&(c=c+' class="'+a.join(" "),c+='"');c+=">";for(var d=0;d<optionsLength;d++){c+="<li";"string"===typeof b[d].listItemId&&(c+=' id="capture_'+
n+"_"+b[d].listItemId+'" ');b[d].hide&&(c+=' style="display: none;" ');if(!b[d].listItemClasses||!v(b[d].listItemClasses))b[d].listItemClasses=[];"string"===typeof b[d].listItemId&&!z(b[d].listItemClasses,"capture_"+b[d].listItemId)&&b[d].listItemClasses.push("capture_"+b[d].listItemId);v(b[d].listItemClasses)&&b[d].listItemClasses.length&&(c+=' class="',c+=b[d].listItemClasses.join(" "),c+='"');c+=">";c+='<a href="'+b[d].anchorHref+'"';"string"===typeof b[d].anchorId&&(c+=' id="capture_'+n+"_"+b[d].anchorId+
'" ');if(!b[d].anchorClasses||!v(b[d].anchorClasses))b[d].anchorClasses=[];"string"===typeof b[d].anchorId&&!z(b[d].anchorClasses,"capture_"+b[d].anchorId)&&b[d].anchorClasses.push("capture_"+b[d].anchorId);v(b[d].anchorClasses)&&b[d].anchorClasses.length&&(c+=' class="',c+=b[d].anchorClasses.join(" "),c+='"');c+=">";c+=b[d].anchorText;c+="</a>";c+="</li>"}return c+"</ul>"},togglePasswordInput:function(b){b=Ja(b);b.getAttribute("value")===b.getAttribute("placeholder")&&b.setAttribute("value","");
if(h&&"text"===b.type){for(var a=[],c=0,d=B.length;c<d;c++)"capture_"+n+"_"+B[c].elementName==b.id&&(B[c].elementName=B[c].elementName,a.push(B[c]));c=document.createElement("span");d=b.parentElement;d.insertBefore(c,b);d.removeChild(b);var e=document.createElement("input");e.id=b.id;e.setAttribute("data-capturefield",b.name);e.className="capture_password";e.name=b.name;e.setAttribute("type","password");d.insertBefore(e,c);d.removeChild(c);da().attachEventHandlers(null,a);e.focus()}else b.setAttribute("type",
"password")},clearPlaceHolder:function(b){if(Jb)return!0;b=Ja(b);b.getAttribute("value")===b.getAttribute("placeholder")&&(h?b.value="":b.setAttribute("value",""))},restorePlaceHolder:function(b){if(Jb)return!0;var b=Ja(b),a=b.getAttribute("placeholder");"password"===b.getAttribute("type")&&""===b.value&&b.setAttribute("type","text");a&&""===b.value&&(h?b.value=a:b.setAttribute("value",a))},validation:function(){var b,a;return{setParentDiv:function(b){(a=b)&&a.className.split(" ")},setElement:function(c){b=
c;a&&a.className.split(" ")},valid:function(){s(a).append("capture_validated").remove("capture_error");var c={};b&&(c.field=b);janrain.events.onCaptureValidationSuccess.fire(c);janrain.events.onCaptureContentChange.fire()},pending:function(){janrain.events.onCaptureContentChange.fire()},notValid:function(c,d){s(a).append("capture_error").remove("capture_validated");if(c){for(var e,f=a.getElementsByTagName("div"),h=f.length,j=0;j<h;j++)if("capture_tip_error"===f[j].className){var l=0===a.id.indexOf("capture_"+
n+"_form_collection_")?"capture_"+n+"_form_collection_":"capture_"+n+"_form_item_";if(a.id.split(l)[1]===f[j].getAttribute("data-elementName")||a.id.split(l)[1]+"[dateselect_year]"===f[j].getAttribute("data-elementName")){e=f[j];break}}e&&(e.innerHTML=c);"function"===typeof d&&d();janrain.events.onCaptureContentChange.fire()}e={};b&&(e.field=b);janrain.events.onCaptureValidationFailed.fire(e)}}}},Qb={createSelect:l.createSelect,createTextarea:l.createTextarea,createInput:l.createInput,createLabel:l.createLabel,
createDiv:l.createDiv,createImage:l.createImage,createListOfLinks:l.createListOfLinks,toggelPassword:l.togglePasswordInput,clearPlaceHolder:l.clearPlaceHolder,restorePlaceHolder:l.restorePlaceHolder,getElementByEventAttribute:Ja};y.prototype.render={data:{stringData:function(b){return b.displaySavedValue&&qb&&La[b.value]?La[b.value]:b.value},imageData:function(b){var a;b.value&&(b.returnImageTag?(a={elementName:b.elementname,hide:b.hide,src:b.value},b.classes&&(a.classes=b.classes),b.elementId&&(a.elementId=
b.elementId),a=l.createImage(a)):a=b.value);return a}},htmlElement:{parent:y.prototype.render,textarea:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createTextarea(b);return a+=l.wrapFormItemEnd(b)},select:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createSelect(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},multi:function(b,a){var c,d,e=b.options.length;b.type="elementCollection";c=""+l.wrapFormItemStart(b);c+=l.createLabel(b);for(var f=0;f<e;f++)d=b.options[f],d.value=
d.value||d.label,d.label=d.label||d.value,c+=this.input({elementName:b.elementName,type:a,elementId:b.elementName+"_"+d.value+"_"+f,name:b.name,value:d.value,collection:!0,label:d.label,checked:z(b.value,d.value)});c+=l.createTip(b);return c+=l.wrapFormItemEnd(b)},multiCheckbox:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},multiRadio:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},input:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createInput(b);
a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},button:function(a){var c;c=""+l.wrapFormItemStart(a);c+=l.createButton(a);c+=l.wrapFormItemEnd(a);l.attachFieldEventHandlers(a);return c},form:function(a){var c="<form ",d=a.classes||[];d.indexOf("capture_form"===-1)&&d.push("capture_form");d.indexOf(-1==="capture_"+a.elementName)&&d.push("capture_"+a.elementName);c+="id='capture_"+n+"_"+a.elementName+"' ";c+="name='"+a.elementName+"' ";c+="data-capturefield='"+a.name+"' ";c+="action='"+
janrain.settings.capture.captureServer+"/"+a.action+"' ";v(d)&&(c+="class='"+d.join(" ")+"' ");var c=c+"method='POST' novalidate='novalidate'"+("data-transactionId='"+a.transactionId+"'"),c=c+("target='captureIFrame_"+a.transactionId+"'"),c=c+">"+('<div id="capture_'+n+"_"+a.elementName+'_errorMessages"></div>'),e="";if(a.errors)for(error in janrain.events.onCaptureFormError.fire(a.errors),a.errors)a.errors.hasOwnProperty(error)&&(e+=l.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),
e+=a.errors[error]+"</div>");B.push({handler:function(){var c=Qa("capture_form_error_container",document.getElementById("capture_"+n+"_"+a.elementName)),c=c.length?c[0]:document.getElementById("capture_"+n+"_"+a.elementName+"_errorMessages");c.innerHTML=e},eventType:"render"});c+=l.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});ea&&(c+=l.createInput({elementName:"flow_path",elementId:"flow_path_"+a.transactionId,type:"hidden",value:ea}));xa?c+=l.createInput({elementName:"access_token",
elementId:"accessToken_"+a.transactionId,type:"hidden",value:xa}):M&&(c+=l.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,type:"hidden",value:M}));n&&(c+=l.createInput({elementName:"capture_screen",elementId:"screen_"+a.transactionId,type:"hidden",value:n}));bb&&(c+=l.createInput({elementName:"js_version",elementId:"js_version_"+a.transactionId,type:"hidden",value:bb}));a.serverNextScreen&&(c+=l.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+
a.transactionId,type:"hidden",value:a.serverNextScreen}));a.engageTokenRequired&&(c+=l.createInput({elementName:"token",elementId:"token_"+a.transactionId,type:"hidden",value:Ha}));c+=l.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+a.transactionId,type:"hidden",value:a.transactionId});c+=l.createInput({elementName:"form",elementId:"form_"+a.transactionId,type:"hidden",value:a.name});c+=l.createInput({elementName:"flow",elementId:"flow_"+a.transactionId,type:"hidden",
value:x.flow});c+=l.createInput({elementName:"client_id",elementId:"client_id_"+a.transactionId,type:"hidden",value:janrain.settings.capture.clientId});c+=l.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+a.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});c+=l.createInput({elementName:"response_type",elementId:"response_type_"+a.transactionId,type:"hidden",value:janrain.settings.capture.responseType});c+=l.createInput({elementName:"flow_version",elementId:"flow_version_"+
a.transactionId,type:"hidden",value:xb});return c+=l.createInput({elementName:"locale",elementId:"locale_"+a.transactionId,type:"hidden",value:Da})},div:function(a){return l.createDiv(a)},close:function(a){return"</"+a.element+">"}},captureElement:{captcha:function(a){Eb||W("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Eb=!0});B.push({elementName:a.name,handler:function(){function a(){if("undefined"===typeof Recaptcha)setTimeout(a,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");
Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});return'<div id="recaptcha_container" class="capture_form_item"></div>'},traditionalPasswordChange:function(a){var c;c=ha.currentPasswordText||"Current Password";var d=ha.changePasswordText||"Change Password",e=ha.createANewPasswordText||"Create a new password.",f="capture_"+n+"_"+a.name+"_changepasswordscreen",
h=y.prototype.render;c='<div class="capture_traditionalPasswordChange"><div class="capture_form_item">'+('<label class="form_label">'+c+"</label>")+'<div class="capture_inputPlaceholder">\u2022 \u2022 \u2022 \u2022 \u2022 \u2022 \u2022 \u2022 </div>'+('<div class="capture_tip"><a href="#" id="capture_'+n+"_"+a.name+'_changepasswordlink">'+d+"</a></div>");c+="</div></div>";B.push({elementName:a.name+"_changepasswordlink",handler:function(a){q(document.getElementById(f));J(a)},eventType:"click"});c=
c+'<div style="display: none;">'+('<div id="'+f+'" class="janrain-capture-ui capture-ui-content capture_changeTraditionalPassword capture_med_footer">');G&&G.modal&&(c+=h.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));c+=h.htmlElement.form({name:a.name,elementName:a.name,action:"widget/profile.jsonp"});c=c+('<div class="capture_header"><h1>'+e+"</h1></div>")+h.htmlElement.input({elementName:"newpassword",label:"New Password",tip:"Desired Password",
type:"password"});c+=h.htmlElement.input({elementName:"newpasswordConfirm",label:"Password Confirm",tip:"Re-type your password",type:"password"});c=c+'<div class="capture_footer">'+h.htmlElement.input({name:"submitButton",elementName:"submitButton",value:"Save",type:"submit"});return c+"</div></form></div></div>"},mergeAccounts:function(a){var c=y.prototype.render,d=a.value,e;e=e+'<div class="capture_header"><div class="capture_icon_col">'+('<img src="'+d.current_photo+'" height="25" width="25" />');
e=e+'</div><div class="capture_displayName_col">'+(d.current_displayName+"<br />");e+=d.current_emailAddress;e=e+"</div>"+('<span class="capture_mergeProvider janrain-provider30-'+d.current_provider.toLowerCase()+'"></span>');e=e+'</div><div class="capture_dashed"><div class="capture_mergeCol capture_centerText capture_left">'+('<p class="capture_bigText">We found an existing account for <b>'+d.current_emailAddress+"</b>.</p>");e=e+'<div class="capture_hover"><div class="capture_popup_container"><span class="capture_popup-arrow"></span>'+
("You\u2019re seeing this screen because on "+d.existing_createdDate+" you registered at "+d.existing_siteName+" with your ");e+='<span class="capture_capitalize">'+d.existing_provider+"</span> account ("+d.existing_displayName+").</div>";e=e+'More Info ?</div></div><div class="capture_mergeCol capture_mergeExisting_col capture_right"><div class="capture_shadow capture_backgroundColor capture_border">'+('<div class="capture_icon_col"><img src="'+d.existing_provider_photo+'" height="25" width="25" /></div>');
e=e+'<div class="capture_displayName_col">'+(d.existing_provider_displayName+"<br />");e+=d.existing_provider_emailAddress;e=e+"</div>"+('<span class="capture_mergeProvider janrain-provider16-'+(d.existing_provider||"").toLowerCase()+'"></span>');e+='<div class="capture_centerText capture_smallText">Created '+d.existing_createdDate+" at "+d.existing_siteName+"</div>";e=e+"</div></div></div>"+c.htmlElement.multiRadio(a.merge_radioButtonCollection);a.connectButton.name="connectButton";a.connectButton.elementName=
"connectButton";e+=c.htmlElement.input(a.connectButton);B.push({elementName:a.connectButton.elementName,handler:function(){Wb=!0;janrain.engage.signin.setCustom(!0);janrain.engage.signin.triggerFlow(d.existing_provider);janrain.engage.signin.setCustom(!1)},eventType:"click"});return e},linkAccounts:function(a){a.value||(a.value={});a.customText||(a.customText={});for(var c='<div class="capture_linkAccounts" id="capture_'+n+"_"+a.name+'_currentlinkedaccounts">',d=a.customText.linkAnotherAccount||"Link Another Account",
e=a.customText.linkAnotherAccountDescription||"<h2>Link any of these providers with your account.</h2><h3>Allows you to sign in to your example.com account using that provider in the future.</h3>",f=v(a.value.providers)?a.value.providers.length:0,h="capture_"+n+"_"+a.name+"_linkaccountsscreen",j=y.prototype.render,c=c+'<ul class="capture_provider">',k=0;k<f;k++)c+='<li><span class="janrain-provider16-'+a.value.providers[k]+'"></span>'+a.value.providers[k],0<k&&(c+='<span class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" style="position: absolute; right: 0; cursor: pointer" data-captureidentifier="'+
a.value.identifiers[k]+'"></span>'),c+="</li>";c+='<li class="capture_linkAccount"><a href="#" id="capture_'+n+"_"+a.name+'_linknewlink">'+d+"</a></li>";c+="</ul></div>";B.push({elementName:a.name+"_linknewlink",handler:function(a){janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0});q(document.getElementById(h));J(a)},eventType:"click"});B.push({elementName:a.name+"_currentlinkedaccounts",
handler:function(a){var b=X(a);if(s(b).has("capture_remove_linkedaccount")){var c=b.getAttribute("data-captureidentifier");l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:function(){Sb(b.parentNode)},fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:c},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:c}]})}J(a)},eventType:"click"});c=c+'<div style="display: none;">'+
('<div id="'+h+'" class="janrain-capture-ui capture-ui-content capture_addLinkedAccount">');G&&G.modal&&(c+=j.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));c=c+('<div class="capture_header"><h1>'+d+"</h1></div>")+e+j.widget.login();return c+"</div></div>"},errorMessages:function(){var a;a=""+y.prototype.render.htmlElement.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});
return a+"</div>"},savedProfileMessage:function(){var a;a=""+y.prototype.render.htmlElement.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),classes:["capture_profileSavedMessage_container"]});return a+"</div>"},nameFull:function(a){var c,d=y.prototype.render.htmlElement;c='<div class="capture_form_item capture_nameBlock">'+d.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",
rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:""});c+=d.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&
a.placeholder.middlename?a.placeholder.middlename:""});c+=d.input({elementName:a.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return c+"</div>"},dateselect:function(a){var c='<div id="capture_'+n+"_form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',
d=a.value&&a.value.dateselect_day?a.value.dateselect_day:"",f=a.value&&a.value.dateselect_year?a.value.dateselect_year:"",h=[{text:"month",value:"",disabled:!0},{text:"January",value:1},{text:"February",value:2},{text:"March",value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},{text:"August",value:8},{text:"September",value:9},{text:"October",value:10},{text:"November",value:11},{text:"December",value:12}],j=a.monthStart||1,k=a.monthEnd||13,o=a.dayStart||
1,p=a.dayEnd||31,q=a.yearStart||1929,r=a.yearEnd||2012,c=c+l.createSelect({elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",label:a.label,rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],publicPrivateToggle:a.publicPrivateToggle,justElement:!0,displayPublic:a.displayPublic,value:a.value&&a.value.dateselect_month?a.value.dateselect_month:"",options:h.slice(0,1).concat(h.slice(j,k))}),c=c+l.createSelect({elementName:a.name+
"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:d,options:e(o,p,"asc","day")}),q=parseInt(q,10),r=parseInt(r,10),c=c+l.createSelect({elementName:a.name+"[dateselect_year]",elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],tip:a.tip,value:f,options:e(q,r,"desc","year")});return c+
"</div>"},addressFull:function(a){var c,d=y.prototype.render.htmlElement;a.value||(a.value={});a.value.country||(a.value.country="United States");c='<div class="capture_form_item capture_addressBlock">'+d.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.streetaddress?a.value.streetaddress:
"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});c+=d.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});c+=d.input({elementName:a.name+"[city]",elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],
rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});c+=d.select({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&
a.value.stateprovince?a.value.stateprovince:"",options:[{text:"state",value:"",disabled:!0},{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},
{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},
{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"},{text:"AB",value:"AB"},{text:"BC",value:"BC"},{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},
{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}]});B.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});c+=d.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:
""});c+=d.select({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:"",options:[{text:"country",value:""},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},
{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",
value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",
value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},
{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},{text:"Cyprus",
value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",
value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},
{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},
{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",
value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",
value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},
{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",
value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},
{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",
value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},
{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},
{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}]});B.push({elementName:a.name+"_country",handler:function(){var c=
this.options[this.selectedIndex].value||"",d=document.getElementById("capture_"+n+"_"+a.name+"_stateprovince");"United States"===c||"Canada"===c?document.getElementById("capture_"+n+"_form_item_"+a.name+"[stateprovince]").style.display="inline-block":(d.selectedIndex=0,document.getElementById("capture_"+n+"_form_item_"+a.name+"[stateprovince]").style.display="none")},eventType:"change"});return c+"</div>"},backButton:function(a){var c;a.type="button";c=""+l.createInput(a);a.type="backButton";B.push({elementName:a.elementName,
handler:function(){Vb=!1;var a=Wa.pop();a.flow.oneTimeRender&&(a.flow.oneTimeRender="");a&&janrain.capture.ui.render(a.flow,a.values)},eventType:"click"});return c},partial:function(a){var c=document.getElementById(a.layout);if(c)return c.innerHTML;throw j(a.layout);},photoManager:function(a){function c(d){var e=document.getElementById(n+"_"+a.name+"_profile_pic_uploadform_container"),g=l.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+"/widget/photo/upload_photo.jsonp",
classes:[],needsResponse:!0,elementId:"upload_photo_form",callback:function(){},fields:[{elementName:"photo",elementId:"photo_chooser",elementType:"file"},{elementName:"photo_submit",elementId:"photo_submit",elementValue:"Upload",classes:["capture_btn","capture_primary"],hideElement:!1,containerDiv:!0,containerDivClasses:["capture_footer"],elementType:"submit"}]});e.innerHTML="";e.appendChild(g);q(document.getElementById(r));d&&J(d)}function d(c){if(0<parseInt(c.unscaled.width)){k=c;var e=c.unscaled.height/
c.sizedHeight,g=Math.round(100/(c.unscaled.width/c.sizedWidth)),f=document.getElementById("capture_"+n+"_"+a.name+"_profile_pic_image_edit"),e=Math.round(100/e);"none"===f.style.display&&(f.style.display="block");f.style.width=g+"px";f.style.height=e+"px";f.style.marginLeft="-"+Math.round(c.unscaled.left/c.sizedWidth*g)+"px";f.style.marginTop="-"+Math.round(c.unscaled.top/c.sizedHeight*e)+"px"}}function e(){if(o)return!1;var c=document.getElementById("capture_"+n+"_"+a.name+"_profile_pic_image_edit_crop");
crop(c,d,450,450,function(){janrain.events.onCaptureContentChange.fire()});c.style.display="inline";o=!0}function f(){var a=k.sizedWidth/k.originalWidth,b=k.sizedHeight/k.originalHeight;document.getElementById("capture_"+n+"_width").value=Math.round(k.unscaled.width/a);document.getElementById("capture_"+n+"_height").value=Math.round(k.unscaled.height/b);document.getElementById("capture_"+n+"_x").value=Math.round(k.unscaled.left/a);document.getElementById("capture_"+n+"_y").value=Math.round(k.unscaled.top/
b)}if(v(a.value)&&a.value.length){ma={};for(var h=0,j=a.value.length;h<j;h++)ma[a.value[h].type]=a.value[h]}else ma=!1;var h=l.createDiv({elementName:a.elementName}),k,o=!1,p=(j="object"===typeof ma)?"":"capture_profile_pic ",r="capture_"+n+"_"+a.name+"_uploadphotoscreen",s="capture_"+n+"_"+a.name+"_editphotoscreen";a.customText||(a.customText={});var u=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",x=a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo",y=a.customText.editProfileInstructionPhotoManager||
"Select a region of the image to use for your photo.",A=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",C=a.customText.removePhotoLinkPhotoManager||"Remove photo",t=a.customText.editPhotoLinkPhotoManager||"Edit Photo",G=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo";Sb(document.getElementById(r));Sb(document.getElementById(s));h+='<div id="'+n+"_"+a.name+'_profile_pic" class="'+p+'capture_profile_pic_display capture_default">';j&&ma.large&&(h+=l.createImage({src:ma.large.value,
imageId:a.name+"_profile_pic_image"}));h=h+"&nbsp;</div>"+l.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:A,anchorHref:"#",anchorClasses:[],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:t,anchorHref:"#",anchorClasses:["three","four"],anchorId:"edit_photo_link",hide:!j},{listItemId:"remove_photo",listItemClasses:[],anchorText:C,anchorHref:"#",anchorClasses:["three","four"],anchorId:"remove_photo_link",hide:!j}],["options"]);h=h+'</div><div style="display: none;">'+
('<div id="'+r+'" class="janrain-capture-ui capture-ui-content capture_med_footer">')+'<div class="capture_header">'+("<h1>"+u+"</h1>")+"</div>"+('<div id="'+n+"_"+a.name+'_profile_pic_upload" class="'+p+'capture_profile_pic_upload capture_default">');j&&ma.normal&&(h+=l.createImage({src:ma.normal.value,imageId:a.name+"_profile_pic_image_upload"}));h=h+"&nbsp;</div>"+('<div id="'+n+"_"+a.name+'_profile_pic_uploadform_container" class="capture_uploadPhoto_container">');h=h+'</div></div></div><div style="display: none;">'+
('<div id="'+s+'" class="janrain-capture-ui capture-ui-content capture_med_footer">')+'<div class="capture_header">'+("<h1>"+x+"</h1>")+"</div>"+('<div id="'+n+"_"+a.name+'_profile_pic_edit" class="'+p+'capture_profile_pic_edit capture_default">');j&&ma.original&&(h+=l.createImage({src:ma.original.value,imageId:a.name+"_profile_pic_image_edit"}));h=h+"&nbsp;</div>"+('<div id="'+n+"_"+a.name+'_profile_pic_editPhoto_container" class="capture_editPhoto_container">');h+="<h2>"+y+"</h2>";j&&ma.original&&
(h+=l.createImage({src:ma.original.value,imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}));var h=h+"</div></div></div>",E=l.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+"/widget/photo/crop_photo.jsonp",needsResponse:!0,elementId:"crop_photo_form",fields:[{elementName:"",classes:["capture_popup-arrow"],elementType:"div"},{elementId:"width",elementName:"width",elementType:"hidden"},{elementId:"height",elementName:"height",elementType:"hidden"},
{elementId:"x",elementName:"x",elementType:"hidden"},{elementId:"y",elementName:"y",elementType:"hidden"},{elementValue:"Save",elementId:a.name+"_edit_photo_submit",elementName:"edit_photo_submit",hideElement:!1,containerDiv:!0,containerDivClasses:["capture_footer"],classes:["capture_btn","capture_primary"],elementType:"submit"}],callback:function(){}});B.push({eventType:"render",handler:function(){var d=document.createElement("a");d.innerHTML=G;d.setAttribute("href","#");O(d,"click",c);document.getElementById(n+
"_"+a.name+"_profile_pic_editPhoto_container").appendChild(E);var e=document.getElementById("capture_"+n+"_"+a.name+"_edit_photo_submit");e.parentNode.insertBefore(d,e);O(E,"submit",f)}});B.push({elementName:"upload_photo_link",handler:c,eventType:"click"});B.push({elementName:"edit_photo_link",handler:function(a){"function"!==typeof crop?W("http://janrain-widgets.s3.amazonaws.com/crop/crop.js",e):setTimeout(e,50);q(document.getElementById(s));J(a)},eventType:"click"});B.push({elementName:"remove_photo_link",
handler:function(a){if(!document.getElementById("capture_"+n+"_remove_photo_contain")){var b=l.domHelpers.createDiv({elementId:"remove_photo_contain",classes:["capture_popup_container pad"]}),c=l.domHelpers.createAnchor({elementHref:"#",elementText:"Remove",elementId:"confirm_remove_photo_link"}),d=l.domHelpers.createAnchor({elementHref:"#",elementText:"Cancel"});b.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';b.appendChild(c);b.appendChild(d);document.getElementById("capture_"+
n+"_remove_photo").appendChild(b);var e=function(a){!z(["capture_"+n+"_createFormAndPostSubmit","capture_"+n+"_confirm_remove_photo_link","capture_"+n+"_remove_photo_link"],X(a).getAttribute("id"))&&0>X(a).getAttribute("id").indexOf("capture_editProfileLayout_createFormAndPostSubmit_")&&(b.innerHTML="",Sb(b),jc(document,"click",e),J(a))};O(d,"click",e);O(document,"click",e);O(c,"click",function(a){l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",
needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});J(a)});J(a)}},eventType:"click"});return h},collection:{radio:function(a){for(var c=l.createDiv({elementName:a.elementName,classes:a.classes||""}),d=0;d<a.collection.length;d++)c+="<div class='capture_radio_toggle",c+=(0===d?" capture_toggled":"")+"'>",c+="<input type='radio' id='capture_"+n+"_radio_"+a.collection[d].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===d?"checked='true' ":"")+"/>",
c+="<label ",c+="class='capture_radio_label' ",c+="for='capture_"+n+"_radio_"+a.collection[d].elementName+"'>"+a.collection[d].label+" ",c+="</label></div>",B.push({elementName:"radio_"+a.collection[d].elementName,handler:function(c){T(c,a)},eventType:"click"});return c+"</div>"},accordion:function(){return"<div>"},tab:function(a){for(var c,d=[],e=l.createDiv({elementName:a.elementName,classes:a.classes||""}),f=0;f<a.collection.length;f++)c={},c.listItemId="tab_li_"+a.collection[f].elementName,c.listItemClasses=
["capture_tab_toggle"],0===f&&c.listItemClasses.push("capture_toggled"),c.anchorId="tab_"+a.collection[f].elementName,c.anchorText=a.collection[f].label,c.anchorHref="#",d.push(c),B.push({elementName:"tab_"+a.collection[f].elementName,handler:function(c){T(c,a)},eventType:"click"});e+=l.createListOfLinks(d,["capture_tabs"]);return e+"</div>"}}},widget:{login:function(){B.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),b=document.getElementById("capture_"+n+"_login_widget");
if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=oa();janrain.engage.signin.appendTokenParams({capture_transactionId:c});Va=c}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());lb||H()},eventType:"render"});var a=l.createDiv({elementName:"login_widget",classes:["login_widget"]});
return a+"</div>"},share:function(){}}};Lb.accessDenied='<div class="capture_access">'+(ha.accessDenied||"Sorry. Access denied.")+"</div>";Lb.retrievingUserData='<div class="capture_retrieving">'+(ha.retrievingUserData||"Please wait while we retrieve your user data.")+"</div>";var Ub=[],Fb={};return{modal:{close:function(){"object"==typeof A&&A.close()},closeConfirm:function(){"object"==typeof A&&A.closeConfirm()},open:function(a){a=a||G.flow.defaultScreen;"object"==typeof A&&(janrain.capture.ui.renderScreen(a),
A.setShowContentOnLoad(!0).addContent(G.div).show(),janrain.events.onCaptureContentChange.fire())},setBorder:function(a){"object"===typeof A&&(A.setBorder(a),A.refresh());return!0},setBorderColor:function(a){"object"===typeof A&&(A.setBorderColor(a),A.refresh());return!0},setBorderOpacity:function(a){"object"===typeof A&&(A.setBorderOpacity(a),A.refresh());return!0},setBorderRadius:function(a){"object"==typeof A&&(A.setBorderRadius(a),A.refresh());return!0}},start:function(b,c){a(b,c)},hasActiveSession:function(){return!!M},
render:function(a,c){za(kb());a.i18nStrings&&(ha=a.i18nStrings);if(a.version)xb=a.version;else throw Error("MissingVersionError: Missing version.");na(a);var d=new da,e=x.oneTimeRender||janrain.settings.capture.screenToRender||x.defaultScreen;d.setScreenData(e,x.screens[e]);if(c)for(var f in c)c[f].id&&c[f].value&&(d=document.getElementById(c[f].id),d.value=c[f].value,"radio"===c[f].type&&(d.checked=c[f].checked,c[f].checked&&d.click()))},renderScreen:function(a,c){Vb=!1;c||Wa.push(G);(new da).setScreenData(a,
x.screens[a])},setHandler:function(a,c,d){this.setFieldAttribute(a,c+"Handler",d)},setFieldAttribute:function(a,c,d){Ua.push({field:a,attribute:c,value:d})},setRenderer:function(a,c,d){y.prototype.render[a].helpers=Qb;y.prototype.render[a][c]=d},setValidator:function(a,c){C.prototype[a]=c},registerFunction:function(a,c){Fb[a]=c},addRenderer:function(a,c,d){this.setRenderer(a,c,d)},trackLoadedCssFiles:function(a){cc.push(a)},handleCaptureUniqueResponse:function(a){Aa(a)},handleCaptureResponse:function(a,
c){var d;if("ok"===a.stat&&(d=a.result,d.accessToken&&d.oneTime&&(xa=d.accessToken,pb=!0),d.accessToken&&!d.oneTime&&fa(d.accessToken),d&&d.status)){ab[d.transactionId]=d;"success"===d.status?(janrain.events.onCaptureSuccessfulSave.fire(d),xa&&!pb?xa="":pb=!1):janrain.events.onCaptureFailedSave.fire(d);"profile"===d.action&&d.statusMessage&&"profileFound"!==d.statusMessage&&("success"===d.status?(eb=!0,janrain.events.onCaptureSuccessfulProfileSave.fire(d)):janrain.events.onCaptureFailedProfileSave.fire(d));
if("traditionalSignin"===d.action||"socialSignin"===d.action||"ssoSignin"===d.action)if("success"===d.status){if(d.authorizationCode){var e;e=janrain.settings.capture.redirectUri;var f={code:d.authorizationCode},h=-1<e.indexOf("?")?"&":"?",j=[],k;for(k in f)f.hasOwnProperty(k)&&j.push(k+"="+encodeURIComponent(f[k]));e=e+h+j.join("&");d.redirectUri=e}if(d.accessToken||d.authorizationCode)janrain.events.onCaptureSuccessfulLogin.fire(d),("traditionalSignin"===d.action||"socialSignin"===d.action)&&va(d.action),
janrain.settings.capture.federate&&d.sso&&d.ssoCode&&Za(d.ssoCode),janrain.settings.capture.federate&&d.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(d),ra(d.transactionId),Ga=!0);d.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=e)}else janrain.events.onCaptureFailedLogin.fire(d);if("traditionalRegister"===d.action||"socialRegister"===d.action)if("success"===d.status){if(janrain.events.onCaptureSuccessfulRegistration.fire(d),d.accessToken||d.authorizationCode)"socialRegister"===
d.action?va("socialSignin"):va("traditionalSignin"),janrain.settings.capture.federate&&d.sso&&d.ssoCode&&Za(d.ssoCode)}else janrain.events.onCaptureFailedRegistration.fire(d);d.userData&&janrain.settings.capture.setProfileCookie&&(d=d.userData,k=ya(),(new Q).setExpirationDirectly(k).setName("janrainCaptureProfileData").setValue(E.stringify(d)).create())}"function"===typeof c&&c()},handleErrorResponse:function(a,c){a.result&&a.result.error&&"access_token_expired"===a.result.error&&(Y(),janrain.events.onCaptureExpiredToken.fire());
var d=a.result.error+": "+a.result.errorDescription;if(k){var e=l.domHelpers.createDiv({classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()});e.innerHTML=d;k.insertBefore(e,k.firstChild);janrain.events.onCaptureContentChange.fire()}k||alert(d);Z(a);"function"===typeof c&&c()},createCaptureSession:function(a){fa(a)},endCaptureSession:function(){Y()},addTransactionIds:function(a){za(a)},getFailedLogins:function(){return yb},setCustomHtml:function(a,c){z(Pb,a)&&(Lb[a]=c)},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);
ra(a.transactionId);ja();Ga=!0},federateSetLoginSuccess:function(a){ra(a)},validationHandler:function(a){var c=document.getElementById(a.elementId),d=new l.validation;d.setParentDiv(c);a.valid?d.valid():d.notValid(a.reason)}}};return{engage:{signin:janrain&&janrain.engage&&janrain.engage.signin?janrain.engage.signin:ca,share:janrain&&janrain.engage&&janrain.engage.share?janrain.engage.share:$,simpleshare:janrain&&janrain.engage&&janrain.engage.simpleshare?janrain.engage.simpleshare:Oa},capture:{ui:Pa}}}();
janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;