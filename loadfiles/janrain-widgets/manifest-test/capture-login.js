/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: master
 -*- Capture UI Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: master
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var Ta,va;function oc(){return"http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.0.18/":"https://d3hmp0045zy3cs.cloudfront.net/2.0.18/"}function Hc(a,e,c){var d;if(document.getElementById(a))return!1;if(i){d="";var z=document.createElement("div");z.innerHTML=d+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+e+'" ')+'style="display: none;"></iframe>';document.body.appendChild(z)}else d=document.createElement("iframe"),d.setAttribute("name",a),d.id=a,
d.setAttribute("src",e),d.style.display="none",d.className="",document.body.appendChild(d);"function"===typeof c&&c()}function pc(a){for(var e="",e="",c=0;c<a;c++)e+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return e}function rb(){function a(a,c,d,e){c={action:a,key:c,messageId:d};"set"===a&&(c.value=e);return"janrainCapture:"+M.stringify(c)}function e(a,c){function d(){e++;if(10<e)return!1;if("undefined"!==typeof w[a])return clearTimeout(h),"get"===w[a].action&&
"function"===typeof c&&c(w[a].storedValue),!0;var h=setTimeout(d,50)}var e=0;d()}function c(c,d){_xdomainStorageIframeLoaded;var h=pc(40);window.setTimeout(function(){f.contentWindow.postMessage(a("get",c,h),qc)});return e(h,d)}function d(a,e){if(h)_xdomainStorageIframeLoaded?c(a,e):setTimeout(function(){d(a,e)},50);else return window.localStorage.getItem(a)}function z(a){if(0!==a.data.indexOf("janrainCapture:")||!x(ha,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=M.parse(a.data.replace("janrainCapture:",
""));w[a.messageId]=a}var h=!1,w={},f,qc,ha=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,d){if(h){var z=pc(40);window.setTimeout(function(){f.contentWindow.postMessage(a("set",c,z,d),qc)});return e(z)}return window.localStorage.setItem(c,d)},removeItem:function(c){if(h){var d=pc(40);window.setTimeout(function(){f.contentWindow.postMessage(a("remove",c,d),qc)});return e(d)}return window.localStorage.removeItem(c)},getItem:d,
setMultiDomain:function(a){if(h=a)window.addEventListener?window.addEventListener("message",z,!1):window.attachEvent?window.attachEvent("onmessage",z):document.attachEvent&&document.attachEvent("onmessage",z),f=document.getElementById("xDomainLocalStorageJanrain"),qc=janrain.settings.storageServerDomain}}}function N(){function a(){if(z&&Gb){var a=new rb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(d);a.removeItem(d+"_Expires")}else{var a=w?"; domain="+w:"",c=new Date;c.setTime(c.getTime()+
-864E6);document.cookie=d+"="+h+";expires="+c.toUTCString()+a+"; path="+f}}function e(c,e){var h,f,w,A,i;if(z&&Gb)if(i=new rb,janrain.settings.multiDomainLocalStorage)i.setMultiDomain(!0),i.getItem(c,function(h){h?i.getItem(c+"_Expires",function(p){p?Math.round((new Date).getTime()/1E3)>Math.round((new Date(p)).getTime()/1E3)?(d=c,a(),"function"===typeof e&&e(!1)):"function"===typeof e&&e(h):(new N).getCookie(c+"_session")?"function"===typeof e&&e(h):(d=c,a())}):"function"===typeof e&&e(!1)});else if(A=
i.getItem(c),h=i.getItem(c+"_Expires"),A){if(!(h&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(h)).getTime()/1E3))&&(h||(new N).getCookie(c+"_session")))return A;d=c;a()}else return!1;else{h=document.cookie.split(";");f=h.length;for(var Oc=0;Oc<f;Oc++)if(w=h.pop(),A=w.split("="),w=A[0],A=A[1],w.trim()===c)return A;return!1}}var c,d,z=!1,h,w,f="/";return{create:function(){if(z&&Gb){var a=new rb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(d,h);c?a.setItem(d+"_Expires",
c):(new N).setName(d+"_session").setValue("session").create()}else document.cookie=d+"="+h+(c?"; expires="+c:"")+(w?"; domain="+w:"")+"; path="+f},remove:a,setExpirationDirectly:function(a){a&&(c=a);return this},setExpiration:function(a){if(a){var e=new Date;e.setTime(e.getTime()+864E5*a);c=e.toUTCString()}return this},setName:function(a){a&&(d=a);return this},setValue:function(a){"undefined"!==typeof a&&(h=a);return this},setUseLocalStorage:function(a){z=a;return this},setPath:function(a){a&&(f=
a);return this},setDomain:function(a){a&&(w=a);return this},getCookie:function(a,c){return e(a,c)}}}function Hb(){return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(sa)?parseFloat(RegExp.$1):!1}function Ib(){var a;return sa&&(a=sa.match(/(\d)[\d.]+ Safari/))&&a[1]?1*a[1]:0}function Ib(){return!/Chrome\//.test(sa)&&/Safari\//.test(sa)}function ia(a,e,c,d,z,h){"number"===typeof c&&"number"===typeof d&&"number"===typeof z&&"number"===typeof h?("undefined"!==
typeof a.style.borderRadius&&(a.style.borderRadius=c+"px "+d+"px "+z+"px "+h+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px "+d+"px "+z+"px "+h+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px "+d+"px "+z+"px "+h+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=e+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=e+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=
e+"px"));return a}function Jb(a,e){if("undefined"===typeof a||"undefined"===typeof e)return!1;var c=a-e;0>c&&(c=0);c>a&&(c=a);return c}function Xb(a,e){if(i&&9>=i)return a.style.backgroundImage="url('"+Kb("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;if(Ib()&&4>=Ib()||Ga.getMobileDevice()){var c="",d="",z="",h=e.split(","),w={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};h[0]&&w[h[0]]&&(c=w[h[0]]);h[1]&&(d="from("+
h[1]+")");h[h.length-1]&&(z="to("+h[h.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+c+","+d+","+z+")"}a.style.backgroundImage="-moz-linear-gradient("+e+")";a.style.backgroundImage="-webkit-linear-gradient("+e+")";a.style.backgroundImage="-ms-linear-gradient("+e+")";a.style.backgroundImage="-o-linear-gradient("+e+")";a.style.backgroundImage="linear-gradient("+e+")"}function fb(a,e,c,d){var z=Yb(c),h=Yb(c,d);if(c=ad(c))c.a=d,h="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<e){a.style.backgroundColor=
z;a.style.padding=e+"px";if(0<i&&8>=i||i&&V)return!1;a.style.backgroundColor=h;a.style.padding=e+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function ad(a){var e={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;e.r=a[0];e.g=a[1];e.b=a[2];e.a=a[3]?a[3]:1;return e}function Yb(a,e){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);
var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),d=parseInt(a.substring(2,4),16),z=parseInt(a.substring(4,6),16);return isNaN(e)?"rgb("+c+","+d+","+z+")":"rgba("+c+","+d+","+z+","+e+")"}function R(a,e,c){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+e,c):a.addEventListener(e,c,!1)}function rc(a,e,c){"object"===typeof window.detachEvent?a.detachEvent("on"+e,c):a.removeEventListener(e,c,!1)}function Zb(){var a,e;"undefined"!=typeof window.innerWidth?(a=window.innerWidth,
e=window.innerHeight):(a=document.documentElement.offsetWidth,e=document.documentElement.offsetHeight);return{width:a,height:e}}function $b(){return document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}function Ba(a){return{width:a.style&&a.style.width?parseInt(a.style.width):a.offsetWidth?parseInt(a.offsetWidth):0,height:a.style&&a.style.height?parseInt(a.style.height):a.offsetHeight?parseInt(a.offsetHeight):0}}function Pc(a,e){var c=
document.getElementById(a);if("object"===typeof c.currentStyle)var d=c.currentStyle[e];else window.getComputedStyle&&(d=document.defaultView.getComputedStyle(c,null).getPropertyValue(e));return d}function Q(a,e,c,d,z){var h=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,w=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!v(d))return z||y.log(d+" is wrong type, must be array, using default value instead"),c;if(e&&v(e))for(var f=0;f<d.length;f++)if(0>e.indexOf(d[f]))return z||
y.log(d+" is not within the valid range, using default value instead"),c;return d}if("url"===a){if("string"!==typeof d)return c;d&&(d=d.trim());if(/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(d))return d;z||y.log(d+" is not the valid format, using default value instead");return c}if("text"===a){if(e){if(0<=e.indexOf(d))return d;z||y.log('Value of "'+d+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return h.test(d)?d:c}if("usertext"===
a){if("string"!==typeof d&&"number"!==typeof d)return c;if(v(e)){if(1===e.length){if(d.length<=e[0])return d;z||y.log(d+" is too long, using default value instead");return c}if(2===e.length){if(d.length<=e[1]&&d.length>=e[0])return d;z||y.log(d+" is not within the valid range, using default value instead");return c}z||y.log("usertext range is invalid, using default value instead");return c}return d}"string"===typeof d&&0==d.length&&(d=" ");if(!h.test(d))return z||y.log(d+" contains invalid character(s)"),
c;if("boolean"===a){if("boolean"===typeof d)return d;z||y.log(d+" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return d;if("number"===a){if(isNaN(parseInt(d)))return z||y.log(d+" is wrong type, must be a valid number"),c;d=parseFloat(d)}if("color"===a){d&&(d=d.trim());if("transparent"===d||w.test(d))return d;z||y.log('Value of "'+d+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof d!=a&&
"color"!=a)return z||y.log(d+" for "+arguments.callee.caller.name+" is "+typeof d+" expected "+a),c;if("object"===typeof e&&"string"===a){if(0<=e.indexOf(d))return d;z||y.log('Value of "'+d+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof e&&"number"===a){2===e.length?(h=e[0],w=e[1]):(h=e.shift(),w=e.pop(),f=e);if(d<h)return z||y.log("Value of "+d+" for "+arguments.callee.caller.name+" is below minimum of "+h+", using minimum value of "+
h+" instead"),h;if(d>w)return z||y.log("Value of "+d+" for "+arguments.callee.caller.name+" is above maximum of "+w+", using maximum value of "+w+" instead"),w;if(f&&"number"===typeof f.indexOf(d)||d==h||d==w)return d;return f?(z||y.log("Value of "+d+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):d}return 0!=d&&!d?c:d}function wa(a){for(var e=wa.options,a=e.parser[e.strictMode?"strict":"loose"].exec(a),c={},d=14;d--;)c[e.key[d]]=a[d]||"";c[e.q.name]=
{};c[e.key[12]].replace(e.q.parser,function(a,d,f){d&&(c[e.q.name][d]=f)});return c}function Ua(a){return document.getElementById(H(a).getAttribute("id"))}function H(a){return a.target?a.target:a.srcElement}function sc(a,e){function c(a){G=!0;"undefined"!==typeof ha&&clearTimeout(ha);if("string"===typeof a)return"function"===typeof i&&i(a),!0;if("object"===typeof a||"undefined"===typeof a)return"object"===typeof a&&"error"===a.type?"function"===typeof i&&i(a):"function"===typeof f&&f(),!0}function d(){n++;
if(G)return!0;n<h?ha=setTimeout(d,50):c("Load Timeout Error")}var f=e,h=200,w=!1,i,n=0,ha,F=document.createElement("script"),Aa=document.getElementsByTagName("script")[0],G=!1;F.src=a;F.setAttribute("type","text/javascript");F.onload=F.onerror=F.onreadystatechange=function(a){!G&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&c(a)};return{setTimeoutCallback:function(a){w=!0;i=a;return this},setCallback:function(a){f=a;return this},setTimeoutLimit:function(a){h=a;return this},
load:function(){Aa.parentNode.insertBefore(F,Aa);w&&d()}}}function Ca(a,e){sc(a,e).load()}function Qc(a,e){i&&9>i&&ac(a,e)}function ac(a,e){function c(c){i=!1;"function"===typeof e&&e();janrain.events.onCssLoad.fire({source:a,noload:c})}function d(){if(i){for(ha=n.length;0<=--ha;)if(n[ha].href===h.href){c();break}w+=1;i&&(200>w?setTimeout(d,50):c(!0))}}function f(){var a;try{a=!!h.sheet.cssRules}catch(e){w+=1;200>w?setTimeout(f,50):a&&c(!0);return}c()}var h,w=0,i=!0,n=document.styleSheets,ha;"undefined"===
typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new $a);sb?(h=document.createElement("style"),h.innerHTML='@import "'+a+'";'):(h=document.createElement("link"),h.rel="stylesheet",h.href=a,h.type="text/css");bc||sb?(bc&&d(),sb&&f()):(h.onload=function(){c()},h.onerror=function(){c(!0)});document.getElementsByTagName("head")[0].appendChild(h)}function n(a){var e;e=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===e.indexOf(c)&&(e.push(c),a&&(a.className=e.join(" ")));
return this},remove:function(c){-1!==e.indexOf(c)&&(e.splice([e.indexOf(c)],1),a&&(a.className=e.join(" ").trim()));return this},has:function(a){return-1!==e.indexOf(a)}}}function v(a){return"[object Array]"===Object.prototype.toString.call(a)}function x(a,e){return!v(a)?!1:-1<a.indexOf(e)}function Rc(a,e){for(var c in a)a.hasOwnProperty(c)&&e.call(a[c],c,a[c])}function Lb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function tb(a){var e="",c;for(c in a)e+="&"+encodeURIComponent(c)+"="+encodeURIComponent(a[c]);
return e="?"+e.substr(1)}function J(a){if(!a)return!1;if(a.preventDefault)a.preventDefault();else try{a.returnValue=!1}catch(e){}}function ub(a){if(!a)return!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function bd(a){if(!a)return!1;var e=a.getElementsByTagName("input");e||(e=a.getElementsByTagName("button"));if(!e)return!1;for(var c=e.length,d=0;d<c;d++)if("submit"===e[d].type)return e[d];e=a.getElementsByTagName("button");for(d=0;d<c;d++)if("submit"===e[d].type)return e[d]}function tc(a){return!isNaN(parseFloat(a))&&
isFinite(a)}function Sc(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var e=a.split("/"),a=parseInt(e[1],10),c=parseInt(e[0],10),e=parseInt(e[2],10),d=new Date(e,c-1,a);return d.getFullYear()==e&&d.getMonth()==c-1&&d.getDate()==a?!0:!1}return!1}function $(a,e){for(var c=e,d=/\{\|(.*?)\|\}/,f;f=d.exec(c);)try{var h=f[1].trim(),c=c.replace(f[0],"undefined"!==typeof a[h]?a[h]:"")}catch(w){return window.console&&window.console.log&&console.log(w.name+": "+w.message,"error"),!1}return c}function Tc(a,e){var c=
a.parentNode.nodeName.toLowerCase();return"body"===c?!1:a.nodeName.toLowerCase()===e.toLowerCase()?a:c===e.toLowerCase()?a.parentNode:Tc(a.parentNode,e)}function uc(a){var e=[],c;for(c in a)a.hasOwnProperty(c)&&e.push(c+'="'+a[c]+'"');return e.join(" ")}function vc(){function a(a){var a=a||"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",Va&&(c.innerHTML=Va)):(c.src=
la,X||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=$?d:e;return c}function e(a){ma||(p.style.display="none",M.style.display="none",S.style.display="none");aa&&Ga.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&ja.fire();"object"===typeof a&&J(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),d=document.createElement("a"),h=document.createElement("a"),f=document.createElement("h3");
d.innerHTML=Za;h.innerHTML=Ma;f.innerHTML=wa;d.setAttribute("href","#");h.setAttribute("href","#");a.className="janrain_close_confirm_container";c.className="janrain_close_confirm";d.className="janrain_modal_confirm";h.className="janrain_modal_cancel";R(d,"click",function(a){e();p.removeChild(na);na=null;J(a)});R(h,"click",function(a){p.removeChild(na);na=null;J(a)});c.appendChild(f);c.appendChild(h);c.appendChild(d);a.appendChild(c);return a}function d(a){na||(na=c(),p.appendChild(na));J(a)}function f(a){var c=
$b(),d=Ba(a),e=-1*d.width/2,d=-1*d.height/2;a.style.left="50%";a.style.marginLeft=e+"px";a.style.marginTop=d+c+"px";a.style.top="50%";0>a.offsetLeft&&(a.style.left=0,a.style.marginLeft=0);0>a.offsetTop&&(a.style.marginTop=0,a.style.top="10px");e=Zb();S.style.height=e.height+c+"px";"absolute"!==a.style.position&&(a.style.position="absolute")}function h(){if(ma){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(p)}else f(p);ma||y.show()}function w(a){Na||(ea=Q("number",
[0,20],10,a),pa.fire({radius:Jb(ka,ea)}))}function n(a){Na||(Oa=Q("color",null,"#000000",a))}function v(a){Na||(ka=Q("number",[0,20],10,a),Pa.fire({radius:Jb(ka,ea),refresh:!0}))}function ha(a){Na||(Da=Q("number",[0,1],0.5,a),"object"==typeof p&&fb(p,ea,Oa,Da))}function F(a){if("portrait"===a){Ha="portrait";var c="one column"}"landscape"===a&&(Ha="landscape",c="two column");l.fire({orientation:Ha,format:c,width:x,height:N});h()}function Aa(a){a&&(cb=a);i&&V&&(cb+=ea-2);"object"==typeof p&&(p.style.width=
cb+"px");return this}function G(a){a&&(ta=a);i&&V&&(ta=ta+2*ea-4);a&&"object"==typeof p&&(p.style.height=ta+"px");return this}function A(){Ta>=va&&"undefined"===typeof window.orientation?"landscape"!==Ha&&F("landscape"):90===window.orientation||-90===window.orientation?"landscape"!==Ha&&F("landscape"):"portrait"!==Ha&&F("portrait");h()}function nb(){var a=p,c=Zb(),d=$b();Ba(a);S.style.height=c.height+d+"px"}var x=380,N=131,p,Uc="janrainModal",M,S,H,cb=x,ta=N,ea=10,Oa="#000000",ka=10,Da=0.5,$=!1,la=
Kb("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),Va="",Na=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,X=!1,wa="Are you sure you want to quit?",Za="Yes, quit",Ma="No, stay",na,Ha="landscape",W=!0,aa="boolean"===typeof aa?aa:"number"===typeof window.orientation?!0:!1,xa="boolean"===typeof xa?xa:janrain.settings.previewMode,ma=xa,Ca=Ca||!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(la=janrain.settings.capture.modalCloseImage,
X=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(Va=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=T());window.janrain.events.onModalOpen||(window.janrain.events.onModalOpen=T());var ja=T(),ya=T(),Pa=T(),pa=T(),l=T();Ga&&Ga.onOrientationChange&&Ga.onViewportChange&&(Ga.onOrientationChange.addHandler(function(a){F(a.orientation)}),Ga.onViewportChange.addHandler(function(){f(p)}));return{isOpen:function(){return"object"===
typeof p&&"none"!==p.style.display},setWidth:function(a){Aa(a);return this},setHeight:function(a){G(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&w(a);Na||"object"==typeof p&&fb(p,ea,Oa,Da);return this},setBorderColor:function(a){a&&n(a);Na||"object"==typeof p&&fb(p,ea,Oa,Da);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&v(a);Na||"object"==typeof p&&ia(p,ka);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===
typeof a)&&ha(a);return this},setZIndex:function(a){S.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(ma=a);return this},setId:function(a){Uc=a;p&&(p.id=a);return this},show:function(){aa||(p.style.display="block");"object"==typeof M&&W&&(M.style.display="block");ma?aa&&(p.style.display="block"):(S.style.display="block",aa?(Ga.setElement(p).activate(),p.style.display="block"):(R(window,"resize",A),R(window,"resize",nb),R(window,"scroll",nb),A(),nb()));Na||Pa.fire({radius:Jb(ka,ea),
refresh:!1});ya.fire();janrain.events.onModalOpen.fire();p.focus()},close:function(a){e(a)},closeConfirm:function(){d()},refresh:function(){Ca||p.appendChild(H);h()},remove:function(){if(ma){var a=document.getElementById("previewMode");"object"===typeof H&&p.removeChild(H);"object"===typeof p&&a.removeChild(p);"object"===typeof S&&document.body.removeChild(S);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";S=p=""}else"object"===typeof H&&p.removeChild(H),"object"===
typeof S&&document.body.removeChild(S),"object"===typeof p&&document.body.removeChild(p)},addContent:function(c){M=c;if(!p){p=document.createElement("div");p.id=Uc;if("number"===typeof cb||"string"===typeof cb)p.style.width=cb+"px";p.style.height=ta+"px";p.style.position="absolute";Na||(p.style.padding=ea+"px",ia(p,ka),fb(p,ea,Oa,Da));p.style.zIndex=1E3;p.style.display="none";S=document.createElement("div");janrain.settings&&janrain.settings.capture&&janrain.settings.capture.captureServer&&(S.id=
"janrainModalOverlay");S.style.width="100%";S.style.left=0;S.style.top=0;S.style.backgroundColor="#000000";S.style.position="absolute";c=S;"undefined"!==typeof c.style.filter&&(c.style.filter="alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");S.style.display="none";S.style.zIndex=1E3;H=Va?a("a"):a();p.appendChild(H);document.body.appendChild(S);
document.body.appendChild(p)}p.appendChild(M);ma&&h();return this},getContent:function(){return M},getBorderWidth:function(){return ea},getState:function(){return{borderWidth:ea,borderColor:Oa,borderRadius:ka,borderOpacity:Da,orientation:Ha}},setState:function(a){D("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&w(a.borderWidth),"undefined"!==typeof a.borderColor&&n(a.borderColor),"undefined"!==typeof a.borderOpacity&&ha(a.borderOpacity),"undefined"!==typeof a.orientation&&
F(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&v(a.borderRadius),"object"==typeof p&&ia(p,ka)))},setConfirmClose:function(a){$=a;return this},setShowContentOnLoad:function(a){W=a;return this},setConfirmMessageText:function(a){wa=a},setConfirmLinkText:function(a){Za=a},setCancelLinkText:function(a){Ma=a},onClose:ja,onShow:ya,onOrientationChange:l,onBorderRadiusChange:Pa,onBorderWidthChange:pa}}function cd(a){function e(){var a=
window.open(c,"","width="+d+", height="+f+", status=1, location=1, resizable=yes"),e=window.setInterval(function(){if(a&&a.closed||a&&"undefined"===typeof a.closed||"undefined"===typeof a)window.clearInterval(e),"function"===typeof h&&h()},500)}var c=a,d=400,f=400,h;return{show:function(){e()},setWidth:function(a){a&&(d=a);return this},setHeight:function(a){a&&(f=a);return this},setCallback:function(a){a&&(h=a);return this}}}function Ic(){function a(){Aa=(new Date).getTime()-d;if(Aa<c){var a=Math.round(e()*
ha+i);f.style[v]=a+"px"}else clearInterval(F),f.style[v]=n+"px",A()}function e(){if("flat"==G)return Aa*(1/c);if("sinusoidal"==G)return Math.abs(Math.sin(Aa*(Math.PI/(2*c))))}var c="1000",d,f,h=document,i,n,v="left",ha,F,Aa,G="flat",A;return{setAcceleration:function(a){G=a;return this},setCallback:function(a){A=a;return this},setDuration:function(a){c=a;return this},setDirection:function(a){"horizontal"===a&&(v="left");"vertical"===a&&(v="top");return this},setElement:function(a){f=a;return this},
setElementBoundry:function(a){h=a;return this},startPosition:function(a){i=a;return this},endPosition:function(a){n=a;return this},animate:function(){ha=n-i;d=(new Date).getTime();F=setInterval(a,10);return this},drag:function(a){function c(a){var d=xc({event:a,boundry:h});f.style.left=d.x()+"px";ub(a);J(a)}function d(a){var e=xc({event:a,boundry:h});f.style.left=e.x()+"px";rc(document,"mouseup",d);rc(document,"mousemove",c);ub(a);J(a);A({pos_x:e.x()})}R(document,"mousemove",c);R(document,"mouseup",
d);ub(a);J(a)}}}function xc(a){return{x:function(){var e=a.event.clientX-Vc(a.boundry).x,e=e<this.boundry_x()?e:this.boundry_x();return 0<e?e:0},boundry_x:function(){return a.boundry.getBoundingClientRect().width},y:function(){},boundry_y:function(){}}}function Vc(a){var e=curtop=0;if(a.offsetParent){do e+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return{x:e,y:curtop}}}function T(){return new $a}function $a(){this.eventHandlers=[];this.firedEvents=[]}function cc(){if(function(){if("object"!==
typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onCustomizationChange,onProviderLoginComplete,onProviderLoginCancel,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}())clearTimeout(a),janrain.events.onAuthWidgetLoad.fire();
else var a=setTimeout(cc,5)}function dc(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,d=janrain.events.captureEvents.length;a<d;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;return!janrain.ready?!1:!0}if("function"===typeof janrainCaptureWidgetOnLoad)if(a())clearTimeout(e),janrainCaptureWidgetOnLoad();else var e=setTimeout(dc,5)}Array.prototype.indexOf||
(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var e=Object(this),c=e.length>>>0;if(0===c)return-1;var d=0;0<arguments.length&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&Infinity!=d&&-Infinity!=d&&(d=(0<d||-1)*Math.floor(Math.abs(d))));if(d>=c)return-1;for(d=0<=d?d:Math.max(c-Math.abs(d),0);d<c;d++)if(d in e&&e[d]===a)return d;return-1});Array.prototype.map||(Array.prototype.map=function(a,e){if(null===this)throw new TypeError;var c=Object(this),d=c.length>>>0;if("function"!==
typeof a)throw new TypeError;for(var f=Array(d),h=0;h<d;h++)h in c&&(f[h]=a.call(e,c[h],h,c));return f});Array.prototype.filter||(Array.prototype.filter=function(a,e){if(null==this)throw new TypeError;var c=Object(this),d=c.length>>>0;if("function"!=typeof a)throw new TypeError;for(var f=[],h=0;h<d;h++)if(h in c){var i=c[h];a.call(e,i,h,c)&&f.push(i)}return f});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var X=window.innerWidth?window.innerWidth:
document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;va=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;Ta=X;var Gb=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,
V="CSS1Compat"!==document.compatMode,hb=!1,la=!1,f=[],ib="1a30f00",X=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),xb=null!==X?X[0]:!1,Ob="number"===typeof window.orientation||null!==X,dd="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
ed="January,February,March,April,May,June,July,August,September,October,November,December".split(","),fd=[16,20,30,32,48,50,64],Wc=[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",
value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",
value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"}],gd=[{text:"AB",value:"AB"},{text:"BC",value:"BC"},{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",
value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];janrain.settings&&janrain.settings.storageServer&&Hc("xDomainLocalStorageJanrain",janrain.settings.storageServer,function(){R(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){_xdomainStorageIframeLoaded=!0})});var sa=navigator.userAgent,i=Hb(),sb=/Gecko\//.test(sa),bc=/AppleWebKit\//.test(sa);/Chrome\//.test(sa);var hd=Ib(),D=function(){var a=function(a){for(var d=[],e=0;e<
a.length;e++)d.push(a[e]);return d},e={};janrain.settings&&janrain.settings.permissions&&(e.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(e.share=a(janrain.settings.share.permissions));return function(a,d){d=d||"login";return!e[d]?!1:0<=e[d].indexOf(a)}}();wa.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},
parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};for(var oa=function(a,e,c){oa=document.getElementsByClassName?function(a,c,e){for(var a=(c||document).getElementsByClassName(a),e=e?RegExp("\\b"+
e+"\\b","i"):null,c=[],f,i=0,n=a.length;i<n;i+=1)f=a[i],(!e||e.test(f.nodeName))&&c.push(f);return c}:function(a,c,e){var e=e||"*",c=c||document,f=a.split(" "),a=[],c="*"===e&&c.all?c.all:c.getElementsByTagName(e),e=[],i;i=0;for(var n=f.length;i<n;i+=1)a.push(RegExp("(^|\\s)"+f[i]+"(\\s|$)"));for(var n=0,v=c.length;n<v;n+=1){f=c[n];i=!1;for(var F=0,Aa=a.length;F<Aa&&!(i=a[F].test(f.className),!i);F+=1);i&&e.push(f)}return e};return oa(a,e,c)},Ga=function(){function a(){if("undefined"===typeof window.orientation)return!1;
var a;d(document.body,Aa);F=i().content;n();v();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){D(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});h()},!1),setTimeout(h,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,
h,!1)},!1));x.addHandler(function(){e({height:window.innerHeight,width:window.innerWidth},0)});y.addHandler(function(a){va=a.height;Ta=a.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,h,!1)},!1)}function e(a,c){var d=window.innerHeight,f=window.innerWidth,h=!0,i=!0;d!=a.height&&(h=!1);f!=a.width&&(i=!1);h&&i?20>c?setTimeout(function(){e({height:d,width:f},++c)},100):y.fire({height:d,width:f}):setTimeout(function(){e({height:d,width:f},0)},100)}function c(){setTimeout(function(){ha(F)},
20);d(Aa,document.body)}function d(a,c){for(var e=0;e<a.style.length;e++){var d=a.style[e];c.style.setProperty(d,a.style.getPropertyValue(d),a.style.getPropertyPriority(d))}}function f(){var a;a=(0===window.orientation||180===window.orientation)&&Ta>va||(90===window.orientation||-90===window.orientation)&&va>Ta?!1:!0;var c="landscape";if(a&&(0===window.orientation||180===window.orientation))c="portrait";if(!a&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function h(){var a=
f();ha("width=device-width, initial-scale=1, maximum-scale=1");x.fire({orientation:a})}function i(){var a=document.getElementsByTagName("meta"),c;for(c in a)if("viewport"===a[c].name)return a[c];return!1}function n(){if("undefined"===typeof document.getElementsByTagName||i())return!1;var a=document.getElementsByTagName("head")[0],c=document.createElement("meta");c.setAttribute("name","viewport");a.appendChild(c);return!0}function v(){if("undefined"===typeof document.getElementsByTagName)return!1;
document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function ha(a){var c=i();if(!c||c.content==a)return!1;if("undefined"===typeof a){var e=i();document.getElementsByTagName("head")[0].removeChild(e)}c.content=a;return!0}var F,Aa=document.createElement("div"),G=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
A=null!==G?G[0]:!1,x=T(),y=T();A&&A[0].match(/android|\Wsilk\W/);var D=function(){var a=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},e={height:window.innerHeight,width:window.innerWidth},d=!1;return function(f,h,i){var n=!1,w=function(a,c){return a.height>=a.width&&c.height>=c.width||a.width>a.height&&c.width>c.height?!0:!1},z=a===f,A=w(h,c),v=w(i,e);if(!z&&(!A||!v))n=!0;!z&&!A&&(d=!0);n&&(d&&!w(h,i)&&(n=i.height,i.height=i.width,i.width=n),va=i.height,Ta=i.width);
a=f;c={height:h.height,width:h.width};e={height:i.height,width:i.width}}}();return{setElement:function(){return this},onOrientationChange:x,onViewportChange:y,getMobileDevice:function(){return A},getOrientation:function(){return f()},activate:function(){a()},deactivate:function(){c()}}}(),Kb=function(a){var e;e="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";e=e.replace(/\/$/,"");return e+"/"+a},X={openId:{aol:{identifier:"aol",flow:"openid1",
width:514,height:550,color:"#0FD6FF"},blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",
flow:"openid",width:500,height:500,color:"#FF0084"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5"},hyves:{identifier:"http://hyves.nl/",flow:"openid",width:800,height:600,color:"#659BC8"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665"},verisign:{identifier:"http://pip.verisignlabs.com/",
flow:"openid",width:945,height:600,color:"#B8004D"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:1050,height:550,color:"#3B5998",publishSettings:{},shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,
media:!0,actionLink:!0}},contact:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,
color:"#666666"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333"},orkut:{flow:"orkut",width:800,height:600,color:"#333"},vzn:{flow:"vzn",width:600,height:450,color:"#333"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333"},renren:{flow:"renren",width:950,height:550,color:"#333"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333"},mixi:{flow:"mixi",width:950,height:550,color:"#333",shareSettings:{broadcast:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},jb={},yb=["openId",
"openId2","oauth"];0<yb.length;){var kb=yb.pop(),pa;for(pa in X[kb])jb[pa]=X[kb][pa]}var y=function(){var a=[];return{log:function(e){var c={};c.id=a.length+1;c.message=e;a.push(c);return this},show:function(){if(0!=a.length){for(var e in a)if("undefined"!==typeof a[e].id){var c=a[e];"object"===typeof console&&("function"===typeof console.error?console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message):"function"===typeof console.log&&console.log("WARNING ID:"+c.id+" MESSAGE: "+c.message))}a=[]}}}}();
$a.prototype.addHandler=function(a){this.eventHandlers.push(a);return this.eventHandlers.length-1};$a.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};$a.prototype.fire=function(a){for(var e=this.eventHandlers.length,c=0;c<e;c++)try{if("function"===typeof this.eventHandlers[c])this.eventHandlers[c](a)}catch(d){y.log(d),y.show()}this.firedEvents.push({event:this,args:a})};"undefined"===typeof janrain.events&&(janrain.events={});var M;M||(M={});(function(){function a(a){return 10>
a?"0"+a:a}function e(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var c=n[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var f,n,A,z,x=h,y,p=d[a];p&&"object"===typeof p&&"function"===typeof p.toJSON&&(p=p.toJSON(a));"function"===typeof v&&(p=v.call(d,a,p));switch(typeof p){case "string":return e(p);case "number":return isFinite(p)?""+p:"null";case "boolean":case "null":return""+p;case "object":if(!p)return"null";
h+=i;y=[];if("[object Array]"===Object.prototype.toString.apply(p)){z=p.length;for(f=0;f<z;f+=1)y[f]=c(f,p)||"null";A=0===y.length?"[]":h?"[\n"+h+y.join(",\n"+h)+"\n"+x+"]":"["+y.join(",")+"]";h=x;return A}if(v&&"object"===typeof v){z=v.length;for(f=0;f<z;f+=1)"string"===typeof v[f]&&(n=v[f],(A=c(n,p))&&y.push(e(n)+(h?": ":":")+A))}else for(n in p)Object.prototype.hasOwnProperty.call(p,n)&&(A=c(n,p))&&y.push(e(n)+(h?": ":":")+A);A=0===y.length?"{}":h?"{\n"+h+y.join(",\n"+h)+"\n"+x+"}":"{"+y.join(",")+
"}";h=x;return A}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,i,n={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},v;"function"!==typeof M.stringify&&(M.stringify=function(a,e,d){var f;i=h="";if("number"===typeof d)for(f=0;f<d;f+=1)i+=" ";else"string"===typeof d&&(i=d);if((v=e)&&"function"!==typeof e&&("object"!==typeof e||"number"!==typeof e.length))throw Error("JSON.stringify");return c("",{"":a})});
"function"!==typeof M.parse&&(M.parse=function(a,c){function e(a,d){var f,h,i=a[d];if(i&&"object"===typeof i)for(f in i)Object.prototype.hasOwnProperty.call(i,f)&&(h=e(i,f),void 0!==h?i[f]=h:delete i[f]);return c.call(a,d,i)}var f,a=""+a;d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),"function"===typeof c?e({"":f},""):f;throw new SyntaxError("JSON.parse");})})();janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=T());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=T());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=T());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=T());janrain.events.onProviderLoginSuccess||
(janrain.events.onProviderLoginSuccess=T());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=T());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=T());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=T());cc();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureRegistrationStart,onCaptureLoginStart,onCaptureLoginSuccess,onCaptureProfileSaveSuccess,onCaptureProfileSaveFailed,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureLoginFailed,onCaptureRegistrationSuccess,onCaptureRegistrationFailed,onCaptureEmailVerficationSuccess,onCaptureEmailVerificationFailed,onCaptureSaveSuccess,onCaptureSaveFailed,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureServerValidationFailed,onCaptureFormError,onCaptureProfileCookieSet,onCaptureExpiredToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCaptureBackplaneReady,onCaptureAutoSaveUpdate,onModalClose,onModalOpen,onCaptureAccountReactivateSuccess,onCaptureAccountReactivateFailed,onCaptureAccountDeactivateSuccess,onCaptureAccountDeactivateFailed,onCaptureLinkAccountError,onCaptureError".split(",");
pa=0;for(X=janrain.events.captureEvents.length;pa<X;pa++)"undefined"===typeof janrain.events[janrain.events.captureEvents[pa]]&&(janrain.events[janrain.events.captureEvents[pa]]=new $a);janrain.events.onCaptureStartRegistration=janrain.events.onCaptureRegistrationStart;janrain.events.onCaptureStartLogin=janrain.events.onCaptureLoginStart;janrain.events.onCaptureSuccessfulLogin=janrain.events.onCaptureLoginSuccess;janrain.events.onCaptureSuccessfulProfileSave=janrain.events.onCaptureProfileSaveSuccess;
janrain.events.onCaptureFailedProfileSave=janrain.events.onCaptureProfileSaveFailed;janrain.events.onCaptureFailedLogin=janrain.events.onCaptureLoginFailed;janrain.events.onCaptureSuccessfulRegistration=janrain.events.onCaptureRegistrationSuccess;janrain.events.onCaptureFailedRegistration=janrain.events.onCaptureRegistrationFailed;janrain.events.onCaptureSuccessfulEmailVerification=janrain.events.onCaptureEmailVerficationSuccess;janrain.events.onCaptureFailedEmailVerification=janrain.events.onCaptureEmailVerificationFailed;
janrain.events.onCaptureSuccessfulSave=janrain.events.onCaptureSaveSuccess;janrain.events.onCaptureFailedSave=janrain.events.onCaptureSaveFailed;janrain.events.onCaptureFailedServerValidation=janrain.events.onCaptureServerValidationFailed;dc();pa=new function(){function a(){function a(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){if(Ra){var a=
document.createElement("div");a.style.backgroundColor=na?"aqua":Wa;a.style.width=O+"px";a.style.height=Sa+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=r+"px";a.style.paddingRight=r+"px";a.style.paddingBottom=r+"px";a.style.bottom="0px";a.style.fontSize="10px";a.style.textAlign="left";a.style.color=ta;ia(a,null,0,0,K,K);var E=document.createElement("div");E.appendChild(document.createTextNode(janrain.settings.translate.POWERED_BY_PREFIX||"Powered by "));E.style.paddingLeft=
"1px";var f=document.createElement("a");f.setAttribute("href","http://www.janrain.com/products/engage/engage-introduction?utm_source=login.janrain.com&utm_medium=partner&utm_campaign=attribution");f.setAttribute("target","_blank");f.appendChild(document.createTextNode("Janrain"));E.appendChild(f);a.appendChild(E);db=a}L=h();a=document.createElement("div");a.style.backgroundColor=na?"orange":Wa;a.className="janrainHeader";a.style.fontSize=ua+"px";a.style.color=ta;a.style.position="relative";a.style.height=
qa+"px";40===Ia&&(a.style.cssFloat="left");a.style.left=40===Ia?"-6px":"-5px";a.style.paddingLeft=r+"px";a.style.paddingRight=r+"px";a.style.paddingTop=r+"px";a.style.paddingBottom="0px";a.style.whiteSpace="nowrap";a.style.width=40===Ia?"81px":O+"px";a.style.zIndex="100";40===Ia?ia(a,null,K,0,0,K):ia(a,null,K,K,0,0);40===Ia&&(a.style.marginTop="-3px");a.style.textAlign="one column"===q?"center":"left";E=d();ya=document.createElement("div");ya.style.paddingLeft="1px";ya.style.fontFamily=ma;" "!==E&&
ya.appendChild(document.createTextNode(E));a.appendChild(ya);Ya=a;C=document.createElement("div");C.className="janrainContent";C.style.width=O+"px";C.style.height=n()+"px";C.style.paddingLeft=r+"px";C.style.paddingRight=r+"px";C.style.boxSizing="content-box";40===Ia&&(C.style.paddingTop=r-1+"px");la||(C.style.backgroundColor=Wa);la||(C.style.border=Ka?"1px solid "+u:"1px solid "+Wa);C=ia(C,K);la||(C.style.overflow="hidden");C.style.position=Ka?"relative":"absolute";sa=x();2==L||0==L?(Qa=(new t).setSide("right").create(),
k=(new t).setSide("left").create()):(Qa=(new t).setSide("top").create(),k=(new t).setSide("bottom").create());a=document.createElement("div");a.id="janrainView";" "!==d()&&a.appendChild(Ya);E=H("blank");E.style.display="none";a.appendChild(E);a.appendChild(sa);!la&&Qa&&k&&(a.appendChild(Qa),a.appendChild(k));0<L&&Ra&&a.appendChild(db);C.appendChild(a);D("customizable_auth_widget_styling")||e(C);hb||y.show()}function e(a){function c(b){var j="string"===typeof b.getAttribute("style")?b.getAttribute("style"):
null;j&&(j.cssText&&(j=j.cssText),b.style.setAttribute?b.style.setAttribute("cssText",j.replace(/(((?!!important).)+?);/g,"$1 !important;")):b.setAttribute("style",j.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var d=a.getElementsByTagName("*"),b=0,j=d.length;b<j;b++)"janrainProviderPages"===d[b].id||"janrainSlideControl"===d[b].className||"janrainSlideControl"===d[b].parentNode.className||c(d[b]);c(a)}function d(){return Ga?Y:f.translate.HEADER?f.translate.HEADER:"two column"===q?a().twoColumn.actionText:
"one column"===q?a().oneColumn.actionText:"one row"===q?a().oneRow.actionText:Y}function h(){var a=q;if("default"==a||"two column"==a)return 2;if("one column"==a)return 1;if("one row"==a)return 0}function n(){var a=" "===Y?0:qa+r,c=Ra&&"one row"!==q?Sa+r:0;return p()+a+c}function m(){var a=parseInt(sa.style.left),c=parseInt(sa.style.top),e;1==L?parseInt(sa.style.height):parseInt(sa.style.width);2==L&&(e=(O-3*r-(2==L?10:0))/L);if("one column"===q){if(" "===Y&&(c+=11,0<c||-9<=c))return 0;if(9>c)return 1;
if(0<c||c>=-(qa-(r+1)))return 0}0==L&&(e=O-100);if(0>a&&a<-e)return 1;if(0<a||a>=-r)return 0}function p(){if("two column"===q)var a=ba/2;"one column"===q&&(a=ba);"one row"===q&&(a=1);var c="one row"===q?0:2*a,e="one column"===q?3*r:0;if(7===i||6===i||i&&V){if("two column"===q&&(e=r,7===i||6===i))e=2*r;if("one column"===q&&(e=3*r,(7===i||6===i)&&!V))e+=r;if("one row"===q&&(7===i||6===i))e=r}"one column"===q&&Ja<=ba&&(e=i&&V?e+2*r:e-2*r);return P*a+r*(a+1)+c+e}function t(){function a(){var s;d="over";
var c=m();if(0==c&&"left"===j||0==c&&"top"===j||1==c&&"right"===j||1==c&&"bottom"===j)return this.style.cursor="default",f.onclick="",!1;var fa=this;setTimeout(function(){if(1===E){if("over"!==d)return!1;i&&(b.style.display="block");g.style.display="block";f.onclick=e;fa.style.cursor="pointer";var a=document.getElementById("janrainProviderPages");s="top"==j||"bottom"==j?parseInt(a.style.top):parseInt(a.style.left);var c="right"===j||"bottom"===j?s-nb:s+nb;"top"===j||"bottom"===j?a.style.top=c+"px":
a.style.left=c+"px";E=2}},i?50:100)}function c(){var a;d="out";var s=m();if(1==s&&"right"===j||0==s&&"left"===j||0==s&&"top"===j||1==s&&"bottom"===j)return!1;setTimeout(function(){if(2===E){if("out"!==d)return!1;i&&(b.style.display="none");g.style.display="none";var s=document.getElementById("janrainProviderPages");a="top"==j||"bottom"==j?parseInt(s.style.top):parseInt(s.style.left);var c="right"===j||"bottom"===j?a+nb:a-nb;"top"===j||"bottom"===j?s.style.top=c+"px":s.style.left=c+"px";E=1}},i?200:
400)}function e(){g.style.display="none";f.style.cursor="default";v(j,function(b){z(b);E=1})}var b,j,s,g,fa={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},d="",E=1,f;return{setSide:function(b){j=b;return this},create:function(){var d;if(Ja<=ba)d=!1;else{d=document.createElement("div");d.setAttribute("id","janrainShim_"+j);d.style.background="black";"top"===j||"bottom"===j?(d.style.height="19px",d.style.width="100%"):(d.style.height="100%",d.style.width="17px");d.style.filter=
na?"alpha(opacity=100)":"alpha(opacity=0)";d.style.position="absolute";d.style.zindex="99";if("top"===j||"bottom"===j)d.style.left="0";d.style[j]=r+"px";d.style.top="one column"!==q?r+1+"px":"top"===j?"10px":"0px";d.style.display="none";b=d;d=document.createElement("div");d.style.backgroundColor=na?"green":Wa;d.className="janrainSlideControllerMask";d.style.position="absolute";"one column"!==q&&(d.style.width=r+"px",d.style.height="100%",d.style.top="0px",d.style[j]="0px",d.style.borderWidth="1px",
"right"===j&&(!Ra||"one row"===q)&&ia(d,null,0,0,K,0),"left"===j&&(!Ra||"one row"===q)&&ia(d,null,0,0,0,K),"right"===j&&" "===Y&&ia(d,null,0,K,K,0),"left"===j&&" "===Y&&ia(d,null,K,0,0,K));"one column"===q&&(d.style.height=r+"px",d.style.fontSize="0px",d.style.width="100%",d.style.padding="0px",d.style[j]="0px","top"===j&&" "===Y?ia(d,null,K,K,0,0):"bottom"===j&&!Ra&&ia(d,null,0,0,K,K));"one row"===q&&(d.style.height="105.5%");s=d;d=document.createElement("div");d.setAttribute("id","janrainArrow_"+
j);d.style.background="url("+Kb("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+") no-repeat scroll "+fa[j]+" transparent";d.style.height="19px";d.style.width="17px";d.style.position="absolute";if("top"===j||"bottom"===j)d.style.left=O/2+"px";d.style[j]=r+"px";d.style.top="one column"!==q?p()/2-2*r+1+"px":"top"===j?"10px":"0px";d.style.display="none";g=d;d=document.createElement("div");d.className="janrainSlideControl";d.style.backgroundColor=na?"purple":"transparent";"one column"===q?(d.style.width=
O+4+"px",d.style.left="3px","top"==j?(d.style.height=r+"px",d.style.top=qa+r+"px"," "===Y&&(d.style.left="0px",d.style.width=O+10+"px")):(d.style.height="20px",d.style.bottom=(Ra?Sa+r:0)+"px",ia(d,null,0,0,K,K))):(d.style.width="right"===j?"20px":"0px",d.style[j]="0px",d.style.height=p()-(r*(" "===Y)?1:2)+"px",40===Ia&&"one row"===q&&"left"===j&&(d.style.left=La+"px"),"right"===j&&!Ra&&ia(d,null,0,0,K,0),"left"===j&&!Ra&&ia(d,null,0,0,0,K));d.style.position="absolute";d.style.zIndex="100";d.style.cursor=
"pointer";d.onmouseover=a;d.onmouseout=c;d.onclick=e;f=d;f.appendChild(s);f.appendChild(b);f.appendChild(g);d=f}return d}}}function v(a,c){var d=document.getElementById("janrainProviderPages"),b=new Ic;if("top"===a||"bottom"===a){if(" "===Y)var j=-(p()-P),s=0;else j=-(p()-P-qa-r),s=qa+r;50===P&&(j-=20);i&&V&&(j+=r," "!==Y&&(s+=r));b.setElement(d).setAcceleration("sinusoidal").setDuration(100*ba).startPosition(parseInt(d.style.top)).endPosition("bottom"===a?j:s).setDirection("vertical").setCallback(function(){c(a)}).animate()}else i&&
V?(j=-(O-2*r-39),"one row"===q&&(j=-(La-1*r))):(j=-(O-32),"one row"===q&&(j=-(O-24))),b.setElement(d).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(d.style.left)).endPosition("right"==a?j:r).setDirection("horizontal").setCallback(function(){c(a)}).animate()}function x(){var a,c;function d(b){b.preventDefault();b=b.touches[0];b="one column"===q?a-b.pageY:c-b.pageX;if(35<b||-35>b)"one column"===q?(j.style.top=parseInt(j.style.top)-b+"px",b=0<b?"bottom":"top"):(j.style.left=parseInt(j.style.left)-
b+"px",b=0<b?"right":"left"),v(b,function(){z()}),j.ontouchmove=""}var b,j,s,g,fa,e=L,E=[];g=A();fa=la?1:Math.ceil(Ja/ba);2<fa&&y.log("Either reduce the number of providers, or increase the setting for providersPerPage.");j=document.createElement("div");j.setAttribute("id","janrainProviderPages");la&&(j.className="janrainConfigureMode");j.style.paddingTop=(6===i||7===i)&&i&&V?2*r:r+"px";if((6===i||7===i)&&!V)j.style.paddingTop=r+4+"px";j.ontouchstart=function(b){b=b.touches[0];"one column"===q?a=
b.pageY:c=b.pageX};j.ontouchmove=d;j.ontouchend=function(){j.ontouchmove=d};40===Ia&&"one row"===q?j.style.left=La+r+"px":i&&V?"one column"!==q&&(j.style.left=r+"px"):j.style.left=r+"px";40===Ia&&"one row"===q&&(j.style.cssFloat="left");40===Ia&&"one row"===q&&(j.style.marginTop="1px");"one column"===q&&(j.style.top=(i&&V?1:0)+qa+r+"px");"one row"!==q&&" "===Y&&(j.style.top="0px");"one column"===q&&" "===Y&&(j.style.top="0px");b=O*fa;j.style.position=i&&V&&"one column"===q?"relative":"absolute";"two column"===
q&&!(Ja<=ba)&&(j.style.width=b+"px");"one row"===q&&(j.style.width=(!0===la?O+r:2*O)+"px");la&&(e=0);c=0;a=0;for(var f=0;f<fa;f++){for(s=0;s<=e;s++)E[s]=document.createElement("ul"),E[s].className="providers",E[s].id="janrainProviders_"+s,1<e&&(E[s].style.cssFloat="left"),1<e&&(E[s].style.styleFloat="left"),E[s].style.listStyleType="none",E[s].style.marginTop="0px",E[s].style.marginLeft="0px",E[s].style.marginRight="0px",E[s].style.marginBottom="0px",E[s].style.padding="0px";b=document.createElement("div");
b.className="janrainPage";b.setAttribute("pageIndex",f);i&&V&&1===fa&&(b.style.width="110%");for(s=0;s<=e;s++)b.appendChild(E[s]);for(var k=g.length%2,I=la?Ja:ba,h=0;h<I&&!(0==g.length);h++){if(2==e)var o=1==k?E[g.length%2?0:1]:E[g.length%2];if(1==e||0==e)o=E[0];s=g.shift();o.appendChild(s)}j.appendChild(b)}return j}function z(a){0==m()?("left"===a&&(k.style.width=r+"px",Qa.style.display="block",Qa.style.width="20px"),"top"===a&&(Qa.style.height=r+"px",k.style.display="block",k.style.height="20px")):
("right"===a&&(Qa.style.width=r+"px",k.style.display="block",k.style.width="20px"),"bottom"===a&&(k.style.height=r+"px",Qa.style.display="block",Qa.style.height="20px"))}function A(){for(var a=[],c=0;c<Ja;c++){var d=H(Fa[c]);a.push(d)}return a}function w(a,c){c.style.cursor="pointer";c.setAttribute("id","janrain-"+a);c.setAttribute("role","button");"one row"===q?c.style.background="transparent":("gradient"===oa&&Xb(c,"bottom, #eeeeee, #ffffff"),"gray"===oa&&(c.style.backgroundColor="#eeeeee"),"white"===
oa&&(c.style.backgroundColor="#ffffff"));R(c,"mouseover",function(){Hb();"one row"===q?c.style.background="transparent":(c.style.backgroundColor="#E3E3E3",c.style.backgroundImage="")});R(c,"mouseout",function(){Hb();"one row"===q?c.style.background="transparent":("gradient"===oa&&Xb(c,"bottom, #eeeeee, #ffffff"),"gray"===oa&&(c.style.backgroundColor="#eeeeee"),"white"===oa&&(c.style.backgroundColor="#ffffff"))});hb||J(c,a);return c}function H(a){var c=document.createElement("li");c.style.listStyle=
"none";0==L&&!1===la&&(c.style.cssFloat="left");0==L&&!1===la&&(c.style.styleFloat="left");c.style.textAlign="center";c.style.height=i&&V?P-2:P+"px";if("two column"==q){var d=la?3*r:Ja<=ba?0:3*r;c.style.width=6===i||Hb&&V?(O-d-4*r)/L+"px":(O-d-(2==L?10:0))/L+"px"}c.style.marginTop="0px";if("one column"==q){if(7==i||6==i)c.style.marginTop="-1px";i&&V?c.style.marginRight="0px":c.style.width=O-r/2+"px";c.style.marginLeft="0px"}else c.style.marginRight=r+"px";0==L&&(c.style.width=P+"px");c.style.marginBottom=
(7===i||6===i||i&&V?3:r)+"px";c.style.position="relative";0!=L&&(c.style.border="1px solid "+va);0!=L&&ia(c,Ba);if("customopenid"===a){d=document.createElement("img");if(1==L||2==L)30==P&&(d.src=Pa.smallLogo),50==P&&(d.src=Pa.largeLogo);0==L&&(30==P&&(d.src=Pa.smallIcon),50==P&&(d.src=Pa.largeIcon))}else if(d=document.createElement("span"),"blank"!==a){if(1==L||2==L)30==P&&(d.className="janrain-provider100-"+a,d.style.width=100),50==P&&(d.className="janrain-provider150-"+a,d.style.width=150);0==L&&
(30==P&&(d.className="janrain-provider-icon-32 janrain-provider-icon-"+a,d.style.width=32),50==P&&(d.className="janrain-provider-icon-48 janrain-provider-icon-"+a,d.style.width=48))}i&&V&&(d.style.height=P-2+"px");if(6===i&&"one row"!==q){var b=document.createElement("div");b.style.height=d.style.height;b.style.width="90px";b.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+d.src+"')";d.style.filter="alpha(opacity=0)";b.appendChild(d);c.appendChild(b)}else c.appendChild(d);
return w(a,c)}function M(a,c){var d=document.createElement("div"),b=f.translate.SIGN_IN_AS||"Sign in as {name}",b=b.replace("{name}",c),b=document.createTextNode(b),j=document.createElement("div");j.style.cssFloat="right";j.style.styleFloat="right";j.style.fontFamily=ma;j.style.position="relative";j.style.top="one row"===q?"2px":P/4-3+"px";j.appendChild(b);var s=document.createElement("div"),g=7.5*b.length+30,fa=n();s.style.fontSize="16px";s.style.height="100%";s.style.position="relative";if(0==L||
120>fa)15<=b.length&&(s.style.fontSize="14px",g=7*b.length+30),20<=b.length&&(s.style.fontSize="12px",g=6*b.length+30),24<=b.length&&(s.style.fontSize="10px",g=5*b.length+25),30<=b.length&&(b.textContent=b.textContent.substr(0,26)+"...",g=162);s.style.width=g+"px";if(0==L||116>fa){if("customopenid"===a){var e=document.createElement("img");e.src=Pa.smallIcon}else e=document.createElement("span"),e.className="janrain-provider-icon-20 janrain-provider-icon-"+a;e.style.width="20px";e.style.height="20px";
e.style.cssFloat="left";e.style.styleFloat="left"}d.style.overflow="hidden";d.style.position="relative";d.style.height=("one row"!==q?P:25)+"px";d.style.marginBottom="one row"===q?"-4px":"4px";"one row"===q&&(d.style.top="-4px");d.style.left="0px";i&&V&&(d.style.marginRight="5px");i&&V&&(d.style.marginLeft="3px");d.style.border="1px solid "+va;ia(d,Ba);"customopenid"===a&&(d.style.color=jb[a].color);if(0==L||116>fa)s.style.paddingTop="2px",s.appendChild(e);6===i||7===i||i&&V?s.style.left="10px":s.style.margin=
"0 auto";s.appendChild(j);0==L||116>fa?d.appendChild(s):(50===P&&parseInt(d.style.height),j.style.cssFloat="none",j.style.styleFloat="none",d.appendChild(j));return w(a,d)}function J(a,c){R(a,"click",function(){G(c)})}function G(a){var c=jb[a],d={appUrl:f.appUrl,mobileDevice:xb,language:f.language,popup:wb,tokenUrl:Ha||f.tokenUrl||window.location.href,facebookPermissions:Na,forceReauth:Za,widgetType:"auth",tokenAction:Ma,bpChannel:vb,customOpenid:Ta,customOpenidOpxblob:f.customOpenidOpxblob};c.name=
a;new Oa(c,d,function(){ja||(ab=setTimeout(function(){Ca(c)},300))})}function F(a){var c=document.createElement("div");if("customopenid"===a){var d=document.createElement("img");d.src=Pa.largeLogo}else d=document.createElement("span"),d.className="janrain-provider150-"+a;d.style.width="150px";d.style.height="50px";c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.width=O+"px";c.style.zIndex="102";c.style.textAlign="center";c.style.padding=r+"px";c.style.backgroundColor="transparent"===
Wa?"#ffffff":Wa;c.style.height=n()-(i&&V?0:2*r)+"px";ia(c,K);"one row"!==q&&116<=n()&&c.appendChild(d);return c}function N(a){var c=document.createElement("a"),d=document.createTextNode(f.translate.USE_ANOTHER_ACCOUNT||"switch accounts");c.setAttribute("class","janrainSwitchAccountLink");c.setAttribute("href","");c.style.fontSize="12px";c.style.fontFamily=ma;c.style.color=ta;c.onclick=a;c.appendChild(d);return c}function U(){return"modal"===W?document.getElementById("janrainModal"):"embed"===W?document.getElementById("janrainEngageEmbed"):
!1}function S(){var a=parseInt(C.style.width);return a=a+2*r+2}function $(){var a=U();null!==a&&"object"===typeof C&&C.parentNode===a&&a.removeChild(C)}function ha(){var a="";"object"===typeof l&&(a=l.getState());return{type:W,width:S(),fontFamily:ma,fontSize:ua,fontColor:ta,backgroundColor:Wa,borderColor:u,borderRadius:K,format:q,providersPerPage:ba,providers:Fa,buttonBackgroundStyle:oa,buttonBorderColor:va,buttonBorderRadius:Ba,actionText:d(),showAttribution:Ra,modalState:a}}function aa(a){q=Q("string",
["default","two column","one column","one row"],"two column",a);"default"===q&&(q="two column");"one row"==a&&(K=Q("number",[0,5],5,K));ra()}function T(a){"two column"===q&&(O=Q("number",[225,600],380,a));"one column"===q&&(O=Q("number",[160,600],200,a));"one row"===q&&(P=30,a=Ja<=ba?r*(parseInt(ba)-1):r*(parseInt(ba)+2),40===Ia&&(a+=La-r),O=P*ba+a);if(("two column"===q||"one column"===q)&&!la)O=O-2*r-2;i&&V&&(O=O+2*r+2);"one row"!==q&&(P=380<O?50:30)}function ca(c){"string"===typeof c&&(Ga=!0,Y=
Q("text",null,Y,c)," "===Y?K=Q("number",[0,5],5,K,!0):qa="two column"!==q?a().headerHeight-5:a().headerHeight)}function da(a){oa=Q("string",["gray","white","gradient"],"gradient",a)}function o(a){va=Q("color",null,"#CCCCCC",a)}function ea(a){Wa=Q("color",null,"#ffffff",a)}function ka(a){"undefined"===typeof a&&(a=5);K=" "===Y||!Ra||"one row"===q?Q("number",[0,5],5,a,!0):Q("number",[0,10],10,a)}function Aa(a){Ra=Q("boolean",null,!0,a);n();K=a?Q("number",[0,10],5,K,!0):Q("number",[0,5],5,K,!0)}function X(a){u=
Q("color",null,"#C0C0C0",a)}function ra(){"two column"===q&&(ua=18);if("one column"===q||"one row"===q)ua=14}function xa(a){ta=Q("color",null,"#333333",a)}function pa(a){if("object"==typeof a){L=h();for(var c=0,d=a.length;c<d;c++)if(!jb[a[c]])return wa(4),y.log(a[c]+" is not a valid provider, using default providers instead"),this;Fa=a;Ja=a.length;"object"===typeof l&&l.setHeight(n()-2*r).refresh()}}function wa(a){"two column"===q&&(ba=Q("number",[4,6,8],6,a));"one column"===q&&(ba=Q("number",[1,
6],6,a));"one row"===q&&(ba=ga?Ja:Q("number",[4,8],6,a),T(O))}function Ca(a){var c=document.createTextNode(f.translate&&f.translate.SIGNING_IN?f.translate.SIGNING_IN:"Signing in ..."),d=document.createElement("div");bb=F(a.name);d.appendChild(c);bb.appendChild(d);C&&C.appendChild(bb)}var na=!1,O=380,Ga=!1,ma="lucida grande, Helvetica, Verdana, sans-serif",ua=18,ta="#666666",Wa="#ffffff",u="#C0C0C0",K=10,C,ya,q="two column",L,Ka,ba=6,Fa=["aol","google","yahoo","openid"],Ja=4,va="#CCCCCC",Ba=5,oa="gradient",
P=30,qa=a().headerHeight,Ia=60,La=89,Sa=a().footerHeight,r=5,nb=10,Y="Sign in using your account with",bb,sa,Qa,k,Ra=!0,Ua=!1,Va=!1,Ya,db;janrain.events.onProviderLoginStart.addHandler(function(a){cb("login_tab",a.provider,1)});return{build:c,setFormat:function(c){c&&aa(c);"two column"!==q&&(qa=a().headerHeight-5);"two column"===q&&(ba=a().twoColumn.providersPerPage,qa=a().headerHeight);return this},setActionText:function(a){"string"===typeof a&&ca(a);return this},setFontSize:function(a){a&&ra(a);
return this},setFontFamily:function(a){a&&a&&(ma=a);return this},setFontColor:function(a){a&&xa(a);return this},setButtonBorderColor:function(a){a&&o(a);return this},setButtonBorderRadius:function(a){if("string"==typeof a||"number"==typeof a)Ba=Q("number",[0,20],5,a);return this},setButtonBackgroundStyle:function(a){a&&da(a);return this},setWidth:function(a){("string"==typeof a||"number"==typeof a)&&T(a);return this},refresh:function(){$();var a=U();c();var d=gb("expected_tab");d&&!Qb?Da("expected_tab",
d):(null!==a&&"object"===typeof C&&a.appendChild(C),"object"===typeof l&&l.setHeight(parseInt(C.style.height)+2).refresh());janrain.events.onCustomizationChange.fire(ha());return this},remove:function(){$();return this},setRowHeight:function(a){if(0!==h())return this;a||(a=60);oneRowHeaderHeight=Q("number",[40,60,90],60,a);40===oneRowHeaderHeight&&(P=30,Ia=40);60===oneRowHeaderHeight&&(P=30);90===oneRowHeaderHeight&&(P=50);return this},setHeight:function(a){"object"==typeof C&&(C.style.height=a+"px");
return this},setBackgroundColor:function(a){a&&ea(a);return this},setBorderColor:function(a){a&&X(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&ka(a);return this},setProviders:function(a){"object"==typeof a&&pa(a);return this},setProvidersPerPage:function(a){if("string"==typeof a||"number"==typeof a)wa(a),"object"===typeof l&&l.setHeight(n()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===typeof a&&Aa(a);return this},setPreviewMode:function(a){"boolean"===
typeof a&&(hb=a);return this},setProviderFlow:function(a,c){return J(a,c)},triggerFlow:function(a){return G(a)},setNoReturnExperience:function(a){"boolean"===typeof a&&(Ua=a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(Va=a);return this},setConfigureMode:function(a){"boolean"===typeof a&&(la=a,L=h());return this},embed:function(a){if((Ka=a)&&"object"==typeof C)C.style.position="relative";return this},getContentsDiv:function(){return C},getErrorPage:function(a,
c){var d=document.createTextNode(c.msg),b=document.createElement("div");b.appendChild(d);b.style.color=ta;b.style.fontSize=ua+"px";b.style.width="100%";var j=F(a);j.appendChild(b);j.appendChild(N(function(){C.removeChild(j);C.removeChild(bb);Za=!0;return!1},a));C.appendChild(j);return C},getReturnExperience:function(a,c){if(hb||Ua||-1===Fa.indexOf(a))return C;var d=M(a,c),b=F(a),j=function(){Za=Qb=!0;C.removeChild(b);return!1};b.id="janrainAuthReturnExperience";b.appendChild(d);Va||b.appendChild(N(j,
a));C.appendChild(b);return C},getWidth:function(){return S()},getActualHeight:function(){return parseInt(C.style.height)+2},getHeight:function(){return n()-2*r},getState:function(){return ha()},setState:function(c){if(D("customizable_auth_widget_styling")){var d=c.fontFamily;d&&(ma=d);ra(c.fontSize);xa(c.fontColor);ea(c.backgroundColor);X(c.borderColor);"embed"===W&&c.format&&(c.format&&aa(c.format),"two column"!==q&&(qa=a().headerHeight-5),"two column"===q&&(ba=a().twoColumn.providersPerPage,qa=
a().headerHeight));if("string"==typeof c.providersPerPage||"number"==typeof c.providersPerPage)wa(c.providersPerPage),"object"===typeof l&&l.setHeight(n()).refresh("janrainModal");da(c.buttonBackgroundStyle);o(c.buttonBorderColor);Ba=Q("number",[0,20],5,c.buttonBorderRadius);ca(c.actionText);Aa(c.showAttribution);ka(c.borderRadius);"embed"===W&&("string"==typeof width||"number"==typeof width)&&T(c.width)}pa(c.providers)},showNotice:function(){Ca()},removeNotice:function(){Lb(bb)},removeReturnExperience:function(){var a=
document.getElementById("janrainAuthReturnExperience");Lb(a)}}}function e(){if("object"===typeof m)if("object"===typeof da){var a=m.getState();a.width=da.width;da=a}else da=m.getState();"object"===typeof m&&m.remove();"object"===typeof l&&l.remove();v();W="modal";"object"===typeof m&&da&&D("customizable_auth_widget_styling")&&m.setState(da);"object"===typeof l&&va&&D("customizable_auth_widget_styling")&&l.setState(va);"object"===typeof l&&l.show();"object"===typeof m&&m.refresh()}function c(){if("object"===
typeof m){if("object"===typeof da){var a=m.getState();a.borderRadius=da.borderRadius;a.format=da.format;a.width=da.width;da=a}else da=m.getState();va=da.modalState;delete va.orientation}"object"===typeof m&&m.remove();"object"===typeof l&&l.remove();"object"===typeof l&&(l="");n();W="embed";"object"===typeof m&&da&&D("customizable_auth_widget_styling")&&m.setState(da);"object"===typeof m&&m.refresh()}function d(){var a,c;v();c=document.getElementsByTagName("a");var d=RegExp("(\\s|^)"+f.linkClass+
"(\\s|$)");for(a in c)d.test(c[a].className)&&(c[a].onclick=h)}function n(){var c=gb("expected_tab");m=new a;m.setBackgroundColor(ra).embed(!0).setPreviewMode(Rb).setShowAttribution(Bb).setNoReturnExperience(Cb).setNoReturnExperienceSwitchAccountLink(nc).setFormat(Db).setRowHeight(Sb).setFontSize(Tb).setFontFamily(ua).setFontColor(Eb).setActionText(pb).setProviders(Ub).setProvidersPerPage(Ka).setWidth(ib).setBorderColor(Fb).setBorderRadius(La).setButtonBorderColor(qb).setButtonBorderRadius(Vb).setButtonBackgroundStyle(Wb).build();
var d=document.getElementById("janrainEngageEmbed");null===d&&(d=document.getElementById("janrainModal"));xa||(c?(ka("welcome_info_name",unescape(gb("welcome_info_name"))),Da("expected_tab",c)):wc(d,m.getContentsDiv()))}function h(){"object"===typeof l&&l.show();return!1}function v(){var c=Jb(ob,Ba),d=gb("expected_tab");if("undefined"===typeof c||0>c)c=5;m=new a;m.setBackgroundColor(ra).setPreviewMode(Rb).setShowAttribution(Bb).setNoReturnExperience(Cb).setNoReturnExperienceSwitchAccountLink(nc).setFontSize(Tb).setFontFamily(ua).setFontColor(Eb).setActionText(pb).setProviders(Ub).setProvidersPerPage(Ka).setBorderRadius(c).setButtonBorderColor(qb).setButtonBorderRadius(Vb).setButtonBackgroundStyle(Wb).build();
if("object"!==typeof l){l=new vc;l.ready=!1;var e=l.addContent;l.addContent=function(a){l.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}l.setHeight(m.getActualHeight()).setWidth(m.getWidth()).setPreviewMode(Rb).setBorderColor(Mb).setBorder(Ba).setBorderOpacity(Nb).setBorderRadius(ob);xa||(d?(ka("welcome_info_name",unescape(gb("welcome_info_name"))),Da("expected_tab",d)):l.addContent(m.getContentsDiv()));l.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&m.setFormat(a.format).setWidth(200).refresh();
"landscape"===a.orientation&&m.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh();l.setHeight(m.getActualHeight());l.setWidth(m.getWidth())});l.onShow.addHandler(function(){"object"==typeof m&&l.setWidth(m.getWidth())});l.onBorderWidthChange.addHandler(function(a){"object"===typeof l&&"object"===typeof m&&(m.setBorderRadius(a.radius).refresh(),a=m.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&l.setBorderRadius(a.borderRadius+a.modalState.borderWidth))});
l.onBorderRadiusChange.addHandler(function(a){"object"===typeof m&&(m.setBorderRadius(a.radius).refresh(),a=m.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&l.setBorderRadius(a.borderRadius+a.modalState.borderWidth))})}function x(a,c){if(!D("customizable_auth_widget_styling"))return!1;if("object"===typeof m)return c(a),!0}function H(a){return x(a,function(a){m.setBackgroundColor(a).refresh()})}function J(a){return x(a,function(a){m.setBorderRadius(a).refresh()})}function F(a){return x(a,
function(a){m.setBorderColor(a).refresh()})}function $(a){return"modal"===W?!1:x(a,function(a){m.setWidth(a).refresh()})}function G(a){return x(a,function(a){m.setActionText(a).refresh()})}function A(a){return x(a,function(a){m.setButtonBorderColor(a).refresh()})}function X(a){return x(a,function(a){m.setButtonBorderRadius(a).refresh()})}function pa(a){return x(a,function(a){m.setButtonBackgroundStyle(a).refresh()})}function Ga(a){return"modal"==W?!1:x(a,function(a){m.setFormat(a).refresh()})}function p(a){return x(a,
function(a){m.setProvidersPerPage(a).refresh()})}function oa(a){return x(a,function(a){m.setFontFamily(a).refresh()})}function sa(a){return x(a,function(a){m.setFontSize(a).refresh()})}function S(a){return x(a,function(a){m.setFontColor(a).refresh()})}function gb(a){var c;if("single cookie"===ya){c=N().getCookie("janrain_engage_login_data");if(!c)return;c=M.parse(c);return!c[a]?void 0:a=c[a]}if("default"===ya)return a=N().getCookie(a),!a?void 0:a}function cb(a,c,d){var e;if(!a||!c)return!1;d||(d=
1);if("single cookie"===ya)return(oldCookieJSON=N().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),d=M.parse(oldCookieJSON),d[a]=c,e=new N,e.setName("janrain_engage_login_data").setValue(M.stringify(d)).setExpiration(1826).create(),!0;return"default"===ya?(e=new N,e.setName(a).setValue(c).setExpiration(d).create(),!0):!1}function ta(a,c){if(Cb)return!1;if("expected_tab"===a&&!c){var d=gb("login_tab");d&&ta("expected_tab",d);return!1}if(!c||"undefined"===c||"expected_tab"!==a&&"expected_user_input"!==
a&&"welcome_info_name"!==a)return!1;c="welcome_info_name"===a?escape(c):c;cb(a,c,1826)}function ea(a,c){var d={};a||(a=Ya);c||(c=Ya.appUrl);if(i&&3>Fa)return d.widget_type=a.widget_type,d.provider=a.provider,d.time=(new Date).getTime(),d=tb(d),Ca(c+"/signin/get_login_info"+d),Fa++,!0;"object"===typeof janrain.events.onProviderLoginCancel&&janrain.events.onProviderLoginCancel.fire(a);"undefined"!==typeof ab&&clearTimeout(ab);return!1}function Oa(a,c,d){var e=c.appUrl+"/"+a.flow+"/start",f=window.location.href;
c.mobileDevice&&(f="mobile");var h=c.language||"en",i=c.popup?"xdr":"xdrsw",n=c.tokenUrl||window.location.href,m={};Ya={appUrl:c.appUrl,provider:a.name,widget_type:c.widgetType};m.language_preference=h;m.token_url=n;m.display="popup";m.widget=!0;"object"===typeof c.facebookPermissions&&(m.ext_perm=c.facebookPermissions.toString());m.openid_identifier=a.identifier;m.origin_url=f;m.provider_name=a.name;m.force_reauth=c.forceReauth;m.xdReceiver=c.appUrl+"/"+i;m.callback="none";m.widget_type=c.widgetType;
m.token_action="url";if("event"===c.tokenAction||"hybrid"===c.tokenAction)m.token_action="event";c.mobileDevice&&"hybrid"===c.tokenAction&&(m.token_action="url");c.bpChannel&&(m.bpChannel=c.bpChannel);c.customOpenid&&"string"===typeof c.customOpenidOpxblob&&(m.opx_blob=c.customOpenidOpxblob);e+=tb(m);(function(){janrain.events.onProviderLoginStart.fire({provider:a.name,width:a.width,height:a.height});var f;c.mobileDevice&&"event"!==c.tokenAction||!c.popup?Ca(c.appUrl+"/signin/set_login_tab?login_tab="+
a.name+"&origin_url="+window.location.href,function(){window.top.location.href=e}):(f=new cd(e),f.setWidth(a.width).setHeight(a.height).setCallback(function(){var e={},f="";e.widget_type=c.widgetType;e.provider=a.name||"";e.time=(new Date).getTime();f=tb(e);"function"===typeof d&&d();Ca(c.appUrl+"/signin/get_login_info"+f);janrain.events.onProviderLoginComplete.fire({provider:a.name})}).show())})()}function ka(a,c){if(!c||"undefined"===c||"welcome_info_name"!==a)return!1;c&&(aa=c)}function Da(a,c){function d(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,
welcomeName:aa})}var e=function(a){var d=function(){600>a&&setTimeout(function(){e(++a)},50)};if("object"!==typeof m)return d(),!1;"modal"===W?l.addContent(m.getReturnExperience(c,aa)):"embed"===W&&wc(document.getElementById("janrainEngageEmbed"),m.getReturnExperience(c,aa));"modal"===W&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!c)return!1;"object"===typeof m&&m.removeReturnExperience();t?d():janrain.events.onAuthWidgetLoad.addHandler(d);e(0)}function wc(a,c){janrain.settings.capture&&
(a?a.appendChild(c):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?a.appendChild(c):y.log('Missing container div, please place this div where you want the embedded widget to be displayed on your page - <div id="janrainEngageEmbed"></div>.').show();return a}function Ua(a,c){Ha=Ha||na;tokenUrl=c?Ha:na;var d="";if(!wa(tokenUrl).query)var d=d+"?",e=!0;for(var f in a)e?(d+=f+"="+a[f],e=!1):d+="&"+f+"="+a[f];Ha=tokenUrl+d}function Va(){f=
janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout(Va,5),!1;ac(oc()+"providers.css");i&&9>=i&&ac(oc()+"providers-ie.css");if(f.stop)return!0;Ob&&Ca(f.appUrl+"/signin/establish_session");Ma=f.tokenAction?f.tokenAction:Ma;if(!f.tokenUrl&&"event"===Ma)na=window.location.href;else if(f.tokenUrl)na=f.tokenUrl;else return y.log("Missing tokenUrl.  tokenUrl is required."),y.show(),!1;W=Q("string",["modal","embed"],"embed",f.type?f.type:
W);xa=f.multi?f.multi:xb?!0:xa;ja=f.custom?f.custom:ja;Za=f.forceReauth?f.forceReauth:Za;vb=f.bpChannel?f.bpChannel:vb;Na=f.facebookPermissions?f.facebookPermissions:Na;ya=f.storageType?Q("string",["default","single cookie"],"default",f.storageType):ya;wb="boolean"===typeof f.popup?f.popup:wb;xb&&"event"!==Ma&&(wb=!1);ma=f.returnExperienceTimeout?f.returnExperienceTimeout:ma;xa&&(setTimeout(function(){var a=gb("expected_tab");a?(ka("welcome_info_name",unescape(gb("welcome_info_name"))),Da("expected_tab",
a)):"modal"===W?l.addContent(m.getContentsDiv()):"embed"===W&&(a=document.getElementById("janrainEngageEmbed"),wc(a,m.getContentsDiv()))},ma),Ca(f.appUrl+"/signin/get_cookies"));if(f.customOpenid&&D("customizable_auth_widget_styling")){Ta=!0;if(!f.customOpenidFlow)return y.log("Missing customOpenidFlow. customOpenidFlow is required when adding a custom openid provider."),y.show(),!1;if(!f.customOpenidIdentifier)return y.log("Missing customOpenidIdentifier. customOpenidIdentifier is required when adding a custom openid provider."),
y.show(),!1;jb.customopenid={flow:f.customOpenidFlow,identifier:f.customOpenidIdentifier}}if(ja)return!0;Ma=f.tokenAction?f.tokenAction:Ma;Ba=D("customizable_auth_widget_styling")?f.modalBorderWidth:Ba;Mb=D("customizable_auth_widget_styling")?f.modalBorderColor:Mb;ob=D("customizable_auth_widget_styling")?f.modalBorderRadius:ob;Nb=D("customizable_auth_widget_styling")?f.modalBorderOpacity:Nb;ra=D("customizable_auth_widget_styling")?f.backgroundColor:ra;La=D("customizable_auth_widget_styling")?f.borderRadius:
La;Fb=D("customizable_auth_widget_styling")?f.borderColor:Fb;Db=D("customizable_auth_widget_styling")?f.format:Db;Eb=D("customizable_auth_widget_styling")?f.fontColor:Eb;Tb=D("customizable_auth_widget_styling")?f.fontSize:Tb;ua=D("customizable_auth_widget_styling")?f.fontFamily:ua;ib=D("customizable_auth_widget_styling")?f.width:ib;Sb=D("customizable_auth_widget_styling")?f.rowHeight:Sb;Ka=D("customizable_auth_widget_styling")?f.providersPerPage:Ka;ga=D("customizable_auth_widget_styling")?f.providersNotPaged:
ga;pb=D("customizable_auth_widget_styling")?f.actionText:pb;qb=D("customizable_auth_widget_styling")?f.buttonBorderColor:qb;Vb=D("customizable_auth_widget_styling")?f.buttonBorderRadius:Vb;Wb=D("customizable_auth_widget_styling")?f.buttonBackgroundStyle:Wb;Bb=D("customizable_auth_widget_hide_attribution")?f.showAttribution:Bb;Rb=f.previewMode;Cb=f.noReturnExperience;nc=f.noReturnExperienceSwitchAccountLink;Ub=f.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate=
f.translate={});if(f.customOpenid&&D("customizable_auth_widget_styling")){if(!f.customOpenidSmallLogo)return y.log("Missing customOpenidSmallLogo.  customOpenidSmallLogo is required and should be the full path to an image that has a width of 90px and height of 30px."),y.show(),!1;if(!f.customOpenidSmallIcon)return y.log("Missing customOpenidSmallIcon.  customOpenidSmallIcon is required and should be the full path to an image that is 30px x 30px."),y.show(),!1;if(!f.customOpenidLargeLogo)return y.log("Missing customOpenidLargeLogo.  customOpenidLargeLogo is required and should be the full path to an image that has a width of 150px and height of 50px."),
y.show(),!1;if(!f.customOpenidLargeIcon)return y.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),y.show(),!1;Pa={smallLogo:f.customOpenidSmallLogo,smallIcon:f.customOpenidSmallIcon,largeLogo:f.customOpenidLargeLogo,largeIcon:f.customOpenidLargeIcon}}f.previewMode?("modal"===W&&(janrain.ready?e():R(window,"load",e)),"embed"===W&&(janrain.ready?c():R(window,"load",c))):("modal"===W&&(janrain.ready?d():R(window,"load",
d)),"embed"===W&&(janrain.ready?n():R(window,"load",n)))}var Na,vb,Ta=!1,Za=!1,Ma="url",na,Ha,W="embed",aa="unknown",xa=!1,ma=300,Za=!1,wb=!0,ja=!1,ya="default",Pa,va,l,Ba,Mb,ob,Nb,m,da,ra,La,Fb,ib,Sb,Db,Ub=[],ga=!1,Ka,pb,Tb,ua,Eb,qb,Vb,Wb,Rb,Cb,nc,Bb,Qb=!1,t=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=T());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=T());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=T());janrain.events.onAuthWidgetLoad.addHandler(function(){t=
!0});janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===typeof janrainWidgetOnload&&(ja?janrainWidgetOnload():m?janrainWidgetOnload(m.getState()):janrainWidgetOnload())});for(var ab,Fa=0,Ya,ca="onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginCancel,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),U=0;U<ca.length;U++)"undefined"===typeof janrain.events[ca[U]]&&(janrain.events[ca[U]]=new $a);janrain.events.onProviderLoginError.addHandler(function(a){if(ja)return!0;
var c=gb("login_tab");if("modal"===W){var d=document.getElementById("janrainModal");d&&d.appendChild(m.getErrorPage(c,a.err))}"embed"===W&&(d=document.getElementById("janrainEngageEmbed"))&&wc(d,m.getErrorPage(c,a.err))});Va();return{appendTokenParams:function(a,c){Ua(a,c)},appendTokenParamsCumulative:function(a){Ua(a,!0)},setBackplaneChannel:function(a){vb=a},setLoginCookie:function(a,c){ta(a,c)},loginHandler:function(a){var c=Ma;a?("ok"===a.stat&&("event"===c||"hybrid"===c?Ca(a.redirectUrl):(c=
document.createElement("form"),c.action=a.redirectUrl,c.method="POST",janrain.settings.targetTop&&(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===a.stat&&(janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof ab&&clearTimeout(ab))):ea()},cancelLogin:function(a){ea(a,f.appUrl);ja||m.removeNotice()},removeNotice:function(){m.removeNotice()},setWelcomeInfoName:function(a,c){ka(a,c)},setReturnExperience:function(a,c){Da(a,c)},setNoReturnExperience:function(a){"boolean"===
typeof a&&m?(m.setNoReturnExperience(a).refresh(),a=!0):a=!1;return a},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&m?(m.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&m?(m.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&m?(m.setConfigureMode(a).refresh(),a=!0):a=!1;return a},setCustom:function(a){ja=a},getState:function(){return"object"===typeof m?
m.getState():!1},setProviderFlow:function(c,d){var e;e=!D("customizable_auth_widget_styling")||!ja?!1:a().setProviderFlow(c,d);return e},triggerFlow:function(c){c=!D("customizable_auth_widget_styling")||!ja?!1:a().triggerFlow(c);return c},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");
console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+a+": "+janrain.settings[a]),
"object"===typeof janrain.settings[a])for(var c in janrain.settings[a])"function"!==typeof janrain.settings[a][c]&&console.log(" --- --- "+c+": "+janrain.settings[a][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){c()},setBackgroundColor:function(a){return H(a)},setBorderColor:function(a){return F(a)},setBorderRadius:function(a){return J(a)},setWidth:function(a){return $(a)},setActionText:function(a){return G(a)},setFontFamily:function(a){return oa(a)},
setFontSize:function(a){return sa(a)},setFontColor:function(a){return S(a)},setFormat:function(a){return Ga(a)},setButtonBorderColor:function(a){return A(a)},setButtonBorderRadius:function(a){return X(a)},setButtonBackgroundStyle:function(a){return pa(a)},setProviders:function(a){var c;"object"===typeof m&&(la?m.setProviders(a):m.setProviders(a).refresh(),c=!0);return c},setProvidersPerPage:function(a){return p(a)},setShowAttribution:function(a){var c;D("customizable_auth_widget_hide_attribution")?
"object"===typeof m&&m.setShowAttribution(a).refresh():c=!1;return c},refresh:function(){return m.refresh()},getWidth:function(){return m.getWidth()}},modal:{init:function(){e()},close:function(){"object"==typeof l&&l.close()},create:function(){return new vc},setBorder:function(a){D("customizable_auth_widget_styling")?("object"===typeof l&&(l.setBorder(a),l.refresh()),a=!0):a=!1;return a},setBorderColor:function(a){D("customizable_auth_widget_styling")?("object"===typeof l&&(l.setBorderColor(a),l.refresh()),
a=!0):a=!1;return a},setBorderOpacity:function(a){D("customizable_auth_widget_styling")?("object"===typeof l&&(l.setBorderOpacity(a),l.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){D("customizable_auth_widget_styling")?("object"==typeof l&&(l.setBorderRadius(a),l.refresh()),a=!0):a=!1;return a}}}};var X=new function(){return{status:"not loaded"}},yb=new function(){return{status:"not loaded"}},kb=new function(){return{status:"not loaded"}},id=new function(){function a(b){function a(){O=
!0;var j=b||f();b&&(Fa=wa(b).queryKey.flow_path);Ca(j,Hb);p();Na();janrain.events.onCaptureLoginFailed.addHandler(function(){P++;Va()});janrain.events.onCaptureLoginSuccess.addHandler(function(){P=0;Va()});janrain.events.onCaptureLoginSuccess.addHandler(function(){Db(kb)});janrain.events.onCaptureRegistrationSuccess.addHandler(function(){Db(kb)});janrain.events.onCaptureValidationComplete.addHandler(function(){a:{var b=!1,a;for(a in za)if("invalid"===za[a].status){var j=za[a].postValidationActions;
if(j)for(var c in j){if(!za[a].validation||"undefined"===typeof za[a].validation[c])break a;for(var g in j[c])if(j[c].hasOwnProperty(g))switch(g){case "render":j[c].render.screen&&!b&&(b=!0,(new Ka).setScreenData(j[c].render.screen,o.screens[j[c].render.screen]));break;case "setCookie":var s=j[c].setCookie.name,d=actionObj.setCookie.value,e=j[c].setCookie.days;(new N).setExpiration(e).setUseLocalStorage(!0).setName(s).setValue(d).create()}}}}});janrain.events.onCaptureRenderComplete.addHandler(function(){if(ub){var b=
eb.savedProfileMessage||"Your profile has been saved",a=oa("capture_profileSavedMessage_container",Z.div),j=a.length;if(j)for(var c=0,j=a.length;c<j;c++)a[c].innerHTML=b,a[c].style.display="",Nb(a[c]);else if(Wa&&(a=document.getElementById(I+Wa+"_defaultSavedProfileMessage")))a.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+b+"</div>",Nb(a);ub=!1}ia()});janrain.events.onCaptureContentChange.addHandler(function(){"object"===typeof u&&u.isOpen()&&(u.setHeight(Ba(u.getContent()).height),
u.setWidth(Ba(u.getContent()).width).refresh())});janrain.settings.custom&&!Kc&&la()}function c(){janrain.settings.capture.redirectFlow?l(a):a()}function g(){hd&&(janrain.settings.capture.federate=!1);janrain.settings.capture.federate?sc(janrain.settings.capture.federateServer+"/sso.js",c).setTimeoutLimit(3E5).setTimeoutCallback(function(){janrain.settings.capture.federate=!1;dc=!0;c()}).load():c()}function d(){mb=Backplane.getChannelID();if(!Xb){Xb=!0;var b=function(){Backplane.expectMessages("identity/login")};
janrain.events.onCaptureLoginSuccess.addHandler(b);janrain.events.onCaptureRegistrationSuccess.addHandler(b);janrain.events.onCaptureBackplaneReady.fire();g()}}da(m());janrain.settings.capture.noStyling||(ac(oc()+"widgets.css"),Qc(oc()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&v(janrain.settings.capture.stylesheets))for(var e=janrain.settings.capture.stylesheets,k=e.length,h=0;h<k;h++)ac(e[h]),w(e[h]);if(i&&9>i&&janrain.settings.capture.conditionalIEStylesheets&&v(janrain.settings.capture.conditionalIEStylesheets)){e=
janrain.settings.capture.conditionalIEStylesheets;k=e.length;for(h=0;h<k;h++)Qc(e[h]),w(e[h])}janrain.settings.capture.backplane?sc("http://backplane1.janrainbackplane.com/bus/test/channel/test?callback=janrain.capture.ui.noop",function(){Ca("https://d134l0cdryxgwa.cloudfront.net/backplane.js",function(){Backplane(d);Backplane.init({serverBaseURL:"https://backplane1.janrainbackplane.com/v1.2",busName:janrain.settings.capture.backplaneBusName,channelExpires:janrain.settings.capture.backplaneChannelExpires||
""})})}).setTimeoutLimit(3E5).setTimeoutCallback(function(){janrain.settings.capture.backplane=!1;g()}).load():g()}function e(b,a,c,g){var d=[];g&&d.push({value:"",text:g,disabled:!0});if("desc"===c)for(c=a;c>b-1;c--)d.push({value:c,text:c});else for(c=b;c<a+1;c++)d.push({value:c,text:c});return d}function c(b){return"string"===typeof b?"capture_"+b+"_":"capture_"+d(b)+"_"}function d(b){var a=b.getAttribute("data-capturescreenname");if(a&&o.screens[a])return a;for(var a=oa("capture_screen_container"),
c=0,g=a.length;c<g;c++){var d;a:{for(d=b.parentNode;null!=d;){if(d==a[c]){d=!0;break a}d=d.parentNode}d=!1}if(d)return a=a[c].getAttribute("data-capturescreenname"),b.setAttribute("data-capturescreenname",a),a}}function f(){var b=Ya,a=janrain.settings.capture.flowVersion||"HEAD",c=janrain.settings.capture.flowName||"default",g=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=g?h()+"/widget_data/flow.js:"+g+":"+b+":"+a+":"+c:h()+"/widget_data/flow.js:"+b+":"+a+":"+c}function h(){return"https://dlzjvycct5xka.cloudfront.net"}
function w(b){x(q,b)||q.push(b);L=q.length}function y(b){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+b+"' is missing."}}function D(b){b=H(b);Q(b)}function Q(b,a){var c=b.getAttribute("data-capturefield"),c=ab.check(b,o.fields[c]),g=document.getElementById(b.id+"_errors");!c.valid&&c.reason?g&&(g.innerHTML=c.reason):g&&(g.innerHTML="");if(a)return"object"!==typeof c&&(c={valid:!0}),c}function F(b,a){var s=c(b),g=document.getElementById(s+a.name+"_dateselectmonth"),
g=g.options[g.selectedIndex].value,d=document.getElementById(s+a.name+"_dateselectday"),d=d.options[d.selectedIndex].value,s=document.getElementById(s+a.name+"_dateselectyear"),s=s.options[s.selectedIndex].value;return!g||!d||!s?!1:g+"/"+d+"/"+s}function V(b,a){if(!b)return!1;for(var c=b.getElementsByTagName("input"),g=b.getElementsByTagName("select"),d=b.getElementsByTagName("textarea"),e=[],c=[c,g,d],a=a||!1,g={},d=0,f=c.length;d<f;d++)for(var k=c[d],h=k.length,i=0;i<h;i++){var m=k[i];"true"===
m.getAttribute("data-capturecollection")?g[m.name]||(Da(m,!0,a)||e.push(m),g[m.name]=!0):"file"===m.type?Q(m,!0).valid||e.push(m):Da(m,!0,a)||e.push(m)}janrain.events.onCaptureValidationComplete.fire({fieldsWithError:e});return 0===e.length}function G(){}function A(){}function T(b){R(document.getElementById("captureIFrame_"+b),"load",pa)}function X(b,a,c){if(!v(b)&&!a)return!1;v(b)||(b=[]);var g=b.length,d,e=new Ka,f="",k=[],h=document.getElementById(c+a);if(!h)return!1;for(a=0;a<g;a++)if(d=o.fields[b[a]])d.fieldPrefix=
c,d.name=d.elementName=b[a],f+=e.renderField(d),k.push(d.name);if(!f.length&&h)return h.innerHTML="",!1;h.innerHTML=f;a=0;for(g=k.length;a<g;a++)(b=document.getElementById(c+k[a]))&&R(b,"blur",ka)}function ia(){for(var b=Z.div.getElementsByTagName("select"),a=b.length,c=0;c<a;c++)b[c].getElementsByTagName("option")[b[c].selectedIndex].disabled&&(n(b[c]).append("capture_disabled"),R(b[c],"change",function(){n(this).remove("capture_disabled")}))}function p(){R(document.body,"click",function(b){var a=
janrain.settings.capture.logoutLinksClass||"capture_end_session",c=H(b);c&&c.nodeName&&"A"===c.nodeName&&(n(c).has(a)&&(xa(),J(b)),a=c.getAttribute("data-capturescreen"),c=c.getAttribute("data-captureuseruuid"),a&&(c&&(!o.userUUID||o.userUUID&&o.userUUID!==c||!o.privacyFiltered?(bb=c,o.fused=!1):bb=""),janrain.capture.ui.renderScreen(a),J(b)))})}function la(){janrain.events.onProviderLoginToken.addHandler(function(b){if(b.janrainWidgetParameters&&b.janrainWidgetParameters.widget_type&&"share"===b.janrainWidgetParameters.widget_type)return!1;
b.linkAccounts?k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:b.currentScreen,needsResponse:!0,callback:function(){janrain.events.onCaptureProfileLink.fire({provider:b.janrainWidgetParameters.provider})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",elementValue:b.token}]}):(janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience),
yc&&(lc=lb),lb=b.token,Z.values=pb(Z.div.id),fc.push(Z),ma(b.keepMeLoggedIn))});Kc=!0}function pa(b){var a=H(b);"formClicked"===a.className&&function(){var b=a.getAttribute("data-transactionId");ua("/widget/get_result.jsonp",{transactionId:b,cache:(new Date).getTime()},function(){function c(){e++;if(10<e)return ga("could not find transaction status"),!1;if(Ec[b])Fb(b),clearTimeout(a),a=Ec[b],"success"===a.status?Ta(d):ga("there was a problem with the response",a);else var a=setTimeout(c,50)}var d=
M.parse(a.getAttribute("next")),e=0;c()})}()}function S(b,a){for(var s=H(b).getAttribute("id").split("_")[3],g=H(b),d=c(g),g=g.parentNode,e=n(g).has("capture_tab_toggle"),f=e?"capture_tab_toggle":"capture_radio_toggle",k=0;k<a.collection.length;k++)a.collection[k].elementName!==s&&(document.getElementById(d+a.collection[k].elementName).style.display="none");for(var f=oa(f,document.getElementById(d+a.elementName)),h=f.length,k=0;k<h;k++)n(f[k]).remove("capture_toggled");n(g).append("capture_toggled");
document.getElementById(d+s).style.display="block";janrain.events.onCaptureContentChange.fire();e&&J(b)}function sa(){if(0===Lc)return!1;var b=(new Date).getTime()-Lc,b=Math.floor(b/1E3);if(60>b)return b+" seconds ago";b=Math.floor(b/60);if(1==b)return b+" minute ago";if(59>b)return b+" minutes ago"}function va(b){db=!0;var a=document.getElementById(b),b=janrain.settings.capture.autoSaveInterval||45E3,c=janrain.settings.capture.autoSaveUpdateInterval||1E4;clearInterval(Zc);Zc=setInterval(function(){if(!db)return!1;
if(V(a,!0)){a.submit();a.getAttribute("next");var b=a.getAttribute("data-transactionId"),c=document.getElementById("captureIFrame_"+b);(new ea).setIframe(c).setTransactionId(b).setNext('{"noop": ""}').setForm(a).setEvent(null).process()}},b);clearInterval($c);$c=setInterval(function(){if(!db)return!1;janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:sa()})},c)}function ta(b,a,c,g){c=g?M.stringify(g):c;La(a);b.className="formClicked";b.setAttribute("next",c)}function ea(){var b,
a,d,g,e,f,k=!1;return{setIframe:function(a){b=a;return this},setTransactionId:function(b){a=b;return this},setNext:function(b){d=b;g=M.parse(d);return this},setForm:function(b){e=b;return this},setEvent:function(b){f=b;return this},process:function(){if(g.conditional){for(var h=g.conditional,i=h.length,m=0;m<i;m++){var n;a:{n=h[m];var p=o.fields[n.field],p=c(e)+(p.elementId||p.elementName),p=document.getElementById(p);switch(n.compare){case "=":if(p.value===n.value){n=!0;break a}}n=void 0}if(n){k=
h[m];break}}k?k.nosubmit?(J(f),Ta(k.next)):ta(b,a,d,k.next):ta(b,a,d)}else g.dontSubmit?(J(f),g.storeValues&&pb(e.id,!0),Ta(g)):ta(b,a,d)}}}function Oa(b){var a=H(b),c=a&&a.id?a.id:"",g=H(b).getAttribute("data-transactionId"),d=document.getElementById("captureIFrame_"+g);a.getAttribute("next")||a.setAttribute("next",'{"noop":""}');var e=a.getAttribute("next");if("true"!==a.getAttribute("data-capturedomelement")||"true"===a.getAttribute("data-capturedomelementvalidate")){Z.values=pb(Z.div.id);if(V(a)){var f=
!1,k=function(){var g=0;h++;400<h&&(clearTimeout(validationTimeout),J(b));for(var d in za)if(za.hasOwnProperty(d)){if("invalid"==za[d].status&&c===za[d].formId){J(b);return}"pending"==za[d].status&&c===za[d].formId&&g++}0===g?("function"===typeof validationTimeout&&clearTimeout(validationTimeout),f&&a.submit()):(J(b),f=!0,validationTimeout=setTimeout(k,50))},h=0;k()}else return J(b),!1;var i=bd(a),m=nc();i.parentNode.insertBefore(m,i);i.style.display="none"}(new ea).setIframe(d).setTransactionId(g).setNext(e).setForm(a).setEvent(b).process()}
function ka(b){b=Ua(b);Da(b,!1)}function Da(b,a,d){if(b.type&&("hidden"===b.type||"submit"===b.type||"file"===b.type)||!b.getAttribute("data-capturefield"))return!0;var g=b.getAttribute("data-capturerendererfield")?o.fields[b.getAttribute("data-capturerendererfield")]:o.fields[b.getAttribute("data-capturefield")],e=b.getAttribute("data-capturerendererchildfieldname"),f=e?g.elementName+"["+e+"]":g.elementName,h=c(b),i=!1;if(!g.validation||!b.value&&!g.validation.required||g.validation.type&&"server"===
g.validation.type||e&&!g.validation[e]&&"dateselect"!==g.type)return!0;i=b.id||b.name;za[i]={};za[i].status="pending";za[i].postValidationActions=g.validation.actions||null;f="multiCheckbox"===g.element||"multiRadio"===g.element?document.getElementById(h+"form_collection_"+g.elementName):"dateselect"===g.type?document.getElementById(h+"form_item_"+g.name):document.getElementById(h+"form_item_"+f);d||n(f).append("capture_validating");h=new k.validation;h.setParentDiv(f);h.setElement(b);b=ab.check(b,
g,a);b.validation&&(h.setValidation(b.validation),za[i].validation=b.validation);b.valid?(i=!0,d||(h.valid(),n(f).remove("capture_validating"))):b.pending?(d||h.pending(),i=!0):(i=!1,d||(h.notValid(b.reason),n(f).remove("capture_validating")));return i}function Ta(b){fc.push(Z);if(b.noop)return!1;b.url&&(window.location.href=b.url);b.screen&&(new Ka).setScreenData(b.screen,o.screens[b.screen]);if(b.action&&Z)janrain.capture.ui[b.action]();if(b["function"]&&"function"===typeof rb[b["function"]])rb[b["function"]]()}
function $a(b){(new N).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(b).create()}function Va(){(new N).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(P).create()}function Na(){var b=new N;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainFailedLogins",function(b){tc(b)&&(P=parseInt(b,10))}):(b=b.getCookie("janrainFailedLogins"),tc(b)&&(P=parseInt(b,10)))}function vb(){var b=36E5*Zb+(new Date).getTime();return(new Date((new Date).setTime(b))).toUTCString()}
function jb(){clearTimeout(Nc);Nc=setTimeout(Ma,1E4)}function Za(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b,a,c=new N;c.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)c.getCookie("janrainCaptureTokenRefresh",function(c){c&&(a=new Date,expiretime=new Date(c),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):jb())});
else if(c=c.getCookie("janrainCaptureTokenRefresh"))a=new Date,b=new Date(c),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):jb()}}function Ma(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b=new N;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureToken",function(b){b?Za():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}):
b.getCookie("janrainCaptureToken")?Za():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}}function na(b){var a=new N;a.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken").setValue(b);janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.create()}function Ha(){var b=new N;b.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);
b.remove()}function W(){var b=new N;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureTemporaryToken",function(b){b&&(aa(b),Ha())}):b.getCookie("janrainCaptureTemporaryToken")&&(aa(b.getCookie("janrainCaptureTemporaryToken")),Ha())}function aa(b,a,c){var g=vb();Ea=b;a?(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&Ma(),janrain.events.onCaptureSessionCreated.fire({accessToken:b}),janrain.events.onCaptureSessionFound.fire({accessToken:b})):
(a=new N,a.setExpirationDirectly(g).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(Ea),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.create(),janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&(g=new N,a=36E5*Zb-6E5+(new Date).getTime(),a=(new Date((new Date).setTime(a))).toUTCString(),g.setExpirationDirectly(a).setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(a),janrain.settings.capture.cookieDomain&&
g.setDomain(janrain.settings.capture.cookieDomain),g.create(),Ma()),sb&&(janrain.events.onCaptureLoginSuccess.fire({accessToken:b}),sb=!1),c?janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:b}):janrain.events.onCaptureSessionCreated.fire({accessToken:b}))}function xa(){var b=new N,a=ra(),c="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){},g=function(){janrain.capture.ui.federateLogoutCallbackFired(a,c)};
b.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove();Ea="";janrain.settings.capture.keepProfileCookieAfterLogout||(b.setName("janrainCaptureProfileData"),janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain),b.remove());janrain.settings.capture.backplane&&"function"===typeof Backplane&&Backplane.resetCookieChannel();o&&Ub(o,!0);if(janrain.settings.capture.federate){clearTimeout(Nc);
JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},g);var d=0,e=function(){d++;if(20<d)return ga("federatecallback not successful"),r.push(a),c(),!1;if(x(r,a))return clearTimeout(b),!1;var b=setTimeout(e,500)};e()}else dc&&c();janrain.events.onCaptureSessionEnded.fire()}function ma(b){var a=ra(),c=ja({capture_screen:janrain.settings.capture.registerFlow||"socialRegister",token:lb,capture_transactionId:a});lc&&(c.merge_token=
lc,lc=null);"true"===b&&(c.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(c.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var b=janrain.settings.capture.dataDefaults,g;for(g in b)b.hasOwnProperty(g)&&"undefined"===typeof c[g]&&(c[g]=b[g])}ua("/widget/token_url.jsonp",c);La(a);yc&&(yc=!1)}function wb(){var b=new N;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureToken",
function(b){b?aa(b,!0):janrain.events.onCaptureSessionNotFound.fire()});else{if(b.getCookie("janrainCaptureToken"))return aa(b.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function ja(b,a){var c={js_version:ib,capture_screen:U,flow:o.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:ba,locale:Ya};mb&&(c.bp_channel=mb);Fa&&(c.flow_path=
Fa);if("object"===typeof b)for(var g in b)b.hasOwnProperty(g)&&(c[g]=b[g]);if(v(a)){g=0;for(var d=a.length;g<d;g++)c.hasOwnProperty(a[g])&&delete c[a[g]]}return c}function ya(b){b=Ec[b];b.fireEvent&&janrain.events[b.fireEvent]&&("onCaptureLoginSuccess"===b.fireEvent&&Ac||janrain.events[b.fireEvent].fire(b))}function Pa(b,a){function c(){g++;if(10<g)return ga("set login not successful"),Sa[a].eventFiredDueToSlowResponse=!0,ya(a),!1;if(Sa[a]&&Sa[a].setLoginSuccess)return clearTimeout(b),!1;var b=setTimeout(c,
500)}JANRAIN.SSO.CAPTURE.set_login({code:b,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});var g=0;c()}function Hb(){if(Y.capture_complete_social_registration)zb=!0,aa(Y.capture_complete_social_registration);else if(janrain.settings.capture.federate){var b=void 0,b={},a=ra(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:b.response_method||"jsonp",response_type:janrain.settings.capture.responseType,
redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:M.stringify(ja({capture_transactionId:a},["client_id"])),transaction_id:a,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver};mb&&(b.bp_channel=mb);JANRAIN.SSO.CAPTURE.check_login(b);La(a)}else{a:{if(a=wa(window.location.href).anchor)if(a=a.split("="),"access_token"===a[0]&&a[1]){sb=!0;aa(a[1]);a=!0;break a}a=!1}if(a||wb())return zb=!0,!1;
zb=!0}}function l(b){var a=wa(window.location.href).anchor;if(!a)return b(),!1;var c=a.split(","),g=c.length,d,a={};if(1<g){for(var e=0;e<g;e++)d=c[e],d=d.split("="),a[d[0]]=d[1];if(!a.transactionId||!a.engageToken)return b(),!1;Bc=b=a.transactionId;lb=a.engageToken;ua("/widget/get_result.jsonp",{transactionId:b},function(){})}else return b(),!1}function Ib(b,a){var c=b["if"].compare;if(!c||0>c.indexOf(":"))return!1;switch(c.split(":")[0]){case "cookie":var g=c.split(":")[1],c=new N;c.setUseLocalStorage(!0);
"janrainLastAuthMethod"===g&&!fb&&(fb=U);if(janrain.settings.multiDomainLocalStorage)c.getCookie(g,function(c){d&&"janrainLastAuthMethod"===g&&(hb=!0);ob(Mb(b["if"],c)?b.then:b["else"],a)});else{var d=c.getCookie(g);d&&"janrainLastAuthMethod"===g&&(hb=!0);ob(Mb(b["if"],d)?b.then:b["else"],a)}}}function Mb(b,a){var c=tc(a)?parseInt(a,10):a,g,d=tc(b.to)?parseInt(b.to,10):b.to;switch(b.withOperator){case "===":g=d===c;break;case "!==":g=d!==c;break;case "==":g=d==c;break;case "!=":g=d!==c;break;case ">":g=
c>d;break;case "<":g=c<d}return g}function ob(b,a){!b&&"function"===typeof a&&a();if(!b)return!1;if("undefined"===typeof b["if"]){if(b.render){var c=b.render.screen,g=o.screens[c];(new Ka).setScreenData(c,g)}}else Ib(b,a)}function Nb(b){if(!b)return!1;"undefined"!==typeof janrain.settings.capture.hideSavedProfileMessageDelay&&setTimeout(function(){b&&(b.style.display="none")},janrain.settings.capture.hideSavedProfileMessageDelay)}function m(){for(var b="",a=[],c=0;10>c;c++)b=pc(40),a.push(b);return a}
function da(b){if(!v(b))return!1;for(var a=b.length,c=0;c<a;c++){var g=b[c];-1===Fc.indexOf(g)&&Fc.push(g)}}function ra(){var b=Fc.pop();0===Fc.length&&da(m());-1===Gc.indexOf(b)&&Gc.push(b);return b}function La(b){var a=Gc.indexOf(b);-1<a&&Gc.splice(a,1);-1===Dc.indexOf(b)&&Dc.push(b)}function Fb(b){var a=Dc.indexOf(b);-1<a&&Dc.splice(a,1);-1===Yb.indexOf(b)&&Yb.push(b)}function Jb(b){if(b.status){Ec[b.transactionId]=b;"success"===b.status?(janrain.events.onCaptureSaveSuccess.fire(b),Ab&&!tb?Ab=
"":tb=!1):janrain.events.onCaptureSaveFailed.fire(b);if("reactivateAccount"===b.action&&b.statusMessage&&("accountReactivated"===b.statusMessage||"invalidReactivationCode"===b.statusMessage))"success"===b.status?janrain.events.onCaptureAccountReactivateSuccess.fire(b):janrain.events.onCaptureAccountReactivateFailed.fire(b);"deactivateAccount"===b.action&&b.statusMessage&&("success"===b.status&&"accountDeactivated"===b.statusMessage?janrain.events.onCaptureAccountDeactivateSuccess.fire(b):janrain.events.onCaptureAccountDeactivateFailed.fire(b));
if("emailCode"===b.action&&b.statusMessage&&("verified"===b.statusMessage||"invalidVerificationCode"===b.statusMessage))if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureEmailVerficationSuccess.fire(b),(b.accessToken||b.authorizationCode)&&janrain.settings.capture.federate&&b.sso&&b.ssoCode)b.fireEvent="onCaptureEmailVerficationSuccess",Sa[b.transactionId]=b,Pa(b.ssoCode,b.transactionId)}else janrain.events.onCaptureEmailVerificationFailed.fire(b);
"profile"===b.action&&b.statusMessage&&"profileFound"!==b.statusMessage&&("success"===b.status?(ub=!0,Lc=(new Date).getTime(),janrain.events.onCaptureProfileSaveSuccess.fire(b)):janrain.events.onCaptureProfileSaveFailed.fire(b));if("traditionalSignin"===b.action||"socialSignin"===b.action||"ssoSignin"===b.action)if("success"===b.status){if(b.authorizationCode){var a=Eb(janrain.settings.capture.redirectUri,{code:b.authorizationCode});b.redirectUri=a}if(b.accessToken||b.authorizationCode){if(!janrain.settings.capture.federate||
!b.sso||!b.ssoCode)Ac?Ac=!1:janrain.events.onCaptureLoginSuccess.fire(b);("traditionalSignin"===b.action||"socialSignin"===b.action)&&$a(b.action);janrain.settings.capture.federate&&b.sso&&b.ssoCode&&(b.fireEvent="onCaptureLoginSuccess",Sa[b.transactionId]=b,Pa(b.ssoCode,b.transactionId));janrain.settings.capture.federate&&b.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(b),Fb(b.transactionId),zb=!0)}b.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=a)}else janrain.events.onCaptureLoginFailed.fire(b);
if("traditionalRegister"===b.action||"socialRegister"===b.action)if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureRegistrationSuccess.fire(b),gc&&(gc=!1),b.accessToken||b.authorizationCode)"socialRegister"===b.action?$a("socialSignin"):$a("traditionalSignin"),janrain.settings.capture.federate&&b.sso&&b.ssoCode&&(b.fireEvent="onCaptureRegistrationSuccess",Sa[b.transactionId]=b,Pa(b.ssoCode,b.transactionId))}else janrain.events.onCaptureRegistrationFailed.fire(b);
b.userData&&janrain.settings.capture.setProfileCookie&&(b=b.userData,a=vb(),(new N).setExpirationDirectly(a).setUseLocalStorage(!0).setName("janrainCaptureProfileData").setValue(M.stringify(b)).create(),janrain.events.onCaptureProfileCookieSet.fire(b))}}function Sb(){if("object"!==typeof u)return!1;eb.modalConfirmText&&u.setConfirmMessageText(eb.modalConfirmText);eb.modalConfirmLinkText&&u.setConfirmLinkText(eb.modalConfirmLinkText);eb.modalCancelLinkText&&u.setCancelLinkText(eb.modalCancelLinkText)}
function Db(b){o=b;o.flow=janrain.settings.capture.flowName;"undefined"===typeof kb&&(kb=b);"object"!==typeof o.layouts&&(o.layouts={});"object"!==typeof o.layouts.captureAccessDeniedBuiltIn&&(o.layouts.captureAccessDeniedBuiltIn={});o.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:Ja.accessDenied;"object"!==typeof o.layouts.captureRetrievingUserDataBuiltIn&&(o.layouts.captureRetrievingUserDataBuiltIn=
{});o.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:Ja.retrievingUserData;for(b=0;b<hc.length;b++)o.fields[hc[b].field][hc[b].attribute]=hc[b].value}function Ub(b,a){Rc(b.fields,function(c,g){if((!b.form||a)&&g.doNotPrePopulate)g.value=""})}function ga(){Hc.push(arguments);if(window.console){var b=arguments;b.callee=b.callee.caller;b=[].slice.call(b);i?console.log(b):console.log.apply(console,
b)}}function Ka(){function b(b,a,j){a&&a.screenConditionals?ob(a.screenConditionals,j):"function"===typeof j&&j()}function a(b){janrain.events.onCaptureAccessDenied.fire();kc=!0;e({layout:"captureAccessDeniedBuiltIn",modal:b.modal,source:"server"})}function c(b){var a,j=ra();switch(b){case "email":(b=wa(window.location.href).queryKey.verification_code)?(a=ja({capture_transactionId:j,verification_code:b}),ua("/widget/email_code.jsonp",a),La(j),ga("need to verify "+b)):ga("no code supplied");break;
case "password":(b=wa(window.location.href).queryKey.code)?(ga("need to verify "+b),a=ja({capture_transactionId:j,code:b}),ua("/widget/email_code.jsonp",a),La(j)):ga("no code supplied");break;case "reactivate":(b=wa(window.location.href).queryKey.reactivation_code)?(ga("need to verify "+b),a=ja({capture_transactionId:j,reactivation_code:b}),ua("/widget/reactivate_account.jsonp",a),La(j)):ga("no code supplied")}}function g(b){b&&(yb=b.validateOnRender);if(b&&"changePasswordLink"===b.dataType&&!b.errors)return c("password"),
!1;if(b&&"verifyEmail"===b.dataType&&!b.errors)return c("email"),!1;if(b&&"reactivateAccount"===b.dataType&&!b.errors)return c("reactivate"),!1;var g=b.dataType&&"public"===b.dataType;if(b&&b.hasUserData&&!o.fused||b&&b.hasUserData&&g&&!o.privacyFiltered)return g=b.dataType&&"public"===b.dataType,!Ea&&!g?a(b):(kc=!0,e({layout:"captureRetrievingUserDataBuiltIn",modal:b.modal,source:"server"}),Tb(g)),h(),!1;if(!Ea&&b&&b.requireAccessToken)return a(b),h(),!1;kc=!1;e(b);h();hb&&(hb=!1,janrain.engage&&
janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function d(a,j){j&&j.type&&"completeSocialRegistration"===j.type&&(Ac=!0);if(Ob&&j&&(o.noModalForMobile||j.noModalForMobile))j.modal=!1;if(Ob&&j&&(o.modalForMobile||j.modalForMobile))j.modal=!0;zb?(U=a,I="capture_"+U+"_",b(a,j,function(){g(j)})):setTimeout(function(){d(a,j)},50)}function e(b){if(Z&&Z.div&&(!b.modal||Z.modal&&b.modal)&&!b.keepPreviousScreen)Z.div.style.display="none";var a=b.layout,j=b.source,
c=b.modal,b=!!b.modalLoadOnLoad;if("server"===j){var g=document.getElementById(a);g||(g=document.createElement("div"),g.setAttribute("id",a));try{Pb[a]?B.html=Pb[a]:(B.html=o.layouts[a].html,Pb[a]=B.html)}catch(d){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===j)try{if(g=document.getElementById(a))Pb[a]?B.html=Pb[a]:(B.html=g.innerHTML,Pb[a]=B.html);else throw B.html="",y(a);}catch(s){throw ga(s.name+": "+s.message,"warn"),
Error("Exiting, please see documentation for setting up layouts.");}n(g).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");Ob&&(n(g).append("janrain-capture-ui-mobile"),Ga.onOrientationChange.addHandler(function(b){n(g).append("janrain-capture-ui-mobile-"+b.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[b.orientation]);janrain.events.onCaptureContentChange.fire()}),Ga.onOrientationChange.fire({orientation:Ga.getOrientation()}));
B.div=g;kc||B.div.setAttribute("data-capturescreenname",U);mc=B.div;B.modalLoadOnLoad=b;B.source=j;B.modal=c;Z=B;"undefined"===typeof E[U]&&(E[U]={});E[U].layout=B}function f(b,a){if("object"===typeof b.displayCondition&&"undefined"!==typeof b.displayConditionPassed&&!1===b.displayConditionPassed)return!1;if(b.close)return l.render.htmlElement.close(b);if("data"==b.element){if("string"===b.type)return l.render.data.stringData(b);if("image"===b.type)return l.render.data.imageData(b);if("engageCookie"===
b.type)return l.render.data.engageCookieData(b)}if("multiRadio"==b.element)return l.render.htmlElement.multiRadio(b);if("multiCheckbox"==b.element)return l.render.htmlElement.multiCheckbox(b);if("textarea"==b.element)return l.render.htmlElement.textarea(b);if("select"==b.element)return l.render.htmlElement.select(b);if("input"==b.element)return l.render.htmlElement.input(b);if("form"==b.element)return l.render.htmlElement.form(b);if("div"==b.element)return l.render.htmlElement.div(b);if("anchor"==
b.element)return l.render.htmlElement.anchor(b);if("button"==b.element)return l.render.htmlElement.button(b);if("capture"==b.element){if("keepMeLoggedIn"==b.type)return l.render.captureElement.keepMeLoggedIn(b);if("countrySelect"==b.type)return l.render.captureElement.countrySelect(b);if("stateSelect"==b.type)return l.render.captureElement.stateSelect(b);if("publicProfileLink"==b.type)return l.render.captureElement.publicProfileLink(b,a);if("errorMessages"==b.type)return l.render.captureElement.errorMessages(b);
if("savedProfileMessage"==b.type)return l.render.captureElement.savedProfileMessage(b);if("captcha"==b.type)return l.render.captureElement.captcha(b);if("linkAccounts"==b.type)return l.render.captureElement.linkAccounts(b);if("mergeAccounts"==b.type)return l.render.captureElement.mergeAccounts(b,a);if("radioCollection"==b.type)return l.render.captureElement.collection.radio(b);if("tabCollection"==b.type)return l.render.captureElement.collection.tab(b);if("photoManager"==b.type)return l.render.captureElement.photoManager(b,
a);if("dateselect_public"==b.type)return l.render.captureElement.dateselect_public(b);if("dateselect"==b.type)return l.render.captureElement.dateselect(b);if("addressFull"==b.type)return l.render.captureElement.addressFull(b);if("addressFull_public"==b.type)return l.render.captureElement.addressFull_public(b);if("nameFull"==b.type)return l.render.captureElement.nameFull(b);if("nameFull_public"==b.type)return l.render.captureElement.nameFull_public(b);if("backButton"==b.type)return l.render.captureElement.backButton(b);
if("partial"==b.type)return l.render.captureElement.partial(b,a);if("slider"==b.type)return l.render.captureElement.slider(b,a);if("table"==b.type)return l.render.captureElement.table(b,a);if("pluralIterator"==b.type)return l.render.captureElement.pluralIterator(b)}return"widget"==b.element?l.render.widget[b.type](b,a):!1}function h(){janrain.events.onCaptureRenderStart.fire(o);ca=[];o.fields.submitButton||(o.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",
elementName:"capture_submit",value:"Submit"});o.fields.loginWidget||(o.fields.loginWidget={element:"widget",type:"login"});o.fields.shareWidget||(o.fields.shareWidget={element:"widget",type:"share"});o.fields.backButton||(o.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});o.fields.captcha||(o.fields.captcha={element:"capture",type:"captcha"});o.fields.keepMeLoggedIn||(o.fields.keepMeLoggedIn={element:"capture",type:"keepMeLoggedIn"});o.fields.errorMessages||(o.fields.errorMessages=
{element:"capture",type:"errorMessages"});o.fields.savedProfileMessage||(o.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});B.originalHtml=B.html;B.flow=o;var b=Bc||ra();Bc=null;B.html=i(B.html,b);B.div.innerHTML=B.html;if("server"==B.source){if(!document.getElementById("janrainCaptureWidget")){var a=document.createElement("div");a.id="janrainCaptureWidget";document.body.appendChild(a)}document.getElementById("janrainCaptureWidget").appendChild(B.div)}if(!kc){for(var a=0,
j=zc.length;a<j;a++)Da(document.getElementById(zc[a]),!1);zc=[]}p();m();if(0<janrain.events.onCssLoad.firedEvents.length)for(var a=janrain.events.onCssLoad.firedEvents,j=0,c=a.length;j<c;j++)"object"==typeof a&&a[j].args&&a[j].args.source&&-1==Qa.indexOf(a[j].args.source)&&a[j].event.fire(a[j].args);k.domHelpers.createIFrame(b);for(a=0;a<ca.length;a++)j=document.getElementById(I+ca[a].elementName),ca[a].next&&ca[a].next.type&&"server"===ca[a].next.type?j.setAttribute("next",'{"noop":""}'):ca[a].next?
(ca[a].next.conditional&&j.setAttribute("next",M.stringify(ca[a].next)),ca[a].next.screen&&j.setAttribute("next",M.stringify(ca[a].next)),ca[a].next.url&&j.setAttribute("next",M.stringify(ca[a].next)),ca[a].next.action&&j.setAttribute("next",M.stringify(ca[a].next))):j.setAttribute("next",'{"noop":""}');x(b);Z=B;janrain.events.onCaptureContentChange.fire()}function i(b,a){for(var j=/\{\*(.*?)\*\}/,c=/^\s*\/\s*/,g=/^\s*#\s*/,d=/\{(.*?)*\}\s*/,s=!1,e,fa=[],k=[];e=j.exec(b);)try{var h=e[1].trim();if(d.test(h))var Xc=
h.match(d),h=h.replace(Xc[0],"").trim(),m=Xc[0].match(/\{(.*?)*\}\s*/)[0];else m=null;s=!1;g.test(h)&&(h=h.replace("#","").trim(),s=!0);if(c.test(h)){var n=h.replace("/",""),l={};if("undefined"==typeof o.fields[n])return ga("No field definition for"+n,"error"),!1;l.element=o.fields[n].element;l.type=o.fields[n].type;l.close=!0}else{if("undefined"==typeof o.fields[h])return ga("No field definition named "+h+" for tag "+e[0],"error"),!1;l=o.fields[h];l.name=h;s&&(l.start=!0);"form"===l.element&&!l.transactionId&&
(l.transactionId=a);l.elementName=l.elementName||h}var m=m||null,p=f(l,m);p||(p=" ");b=b.replace(e[0],p);(l.next||"form"===l.element&&!l.close)&&ca.push({elementName:l.elementName,next:l.next});l.onclickHandler&&t.push({elementName:l.elementName,handler:l.onclickHandler,eventType:"click"});l.onchangeHandler&&t.push({elementName:l.elementName,handler:l.onchangeHandler,eventType:"change"});"string"===typeof l.element&&"form"===l.element&&!l.close&&(t.push({elementName:l.elementName,handler:Oa,eventType:"submit"}),
janrain.settings.capture.autoSave&&t.push({elementName:l.elementName,handler:va,eventType:"render"}));if("form"===l.element&&("widget/traditional_register.jsonp"===l.action||"widget/social_register.jsonp"===l.action))k.push("widget/traditional_register.jsonp"===l.action?"traditionalRegister":"socialRegister");if("form"===l.element&&"widget/traditional_signin.jsonp"===l.action||"widget"===l.element&&"login"===l.type)fa.push("widget/traditional_signin.jsonp"===l.action?"traditionalSignin":"socialSignin")}catch(Yc){return ga(Yc.name+
": "+Yc.message,"error"),!1}fa.length&&janrain.events.onCaptureLoginStart.fire({action:fa.join(","),screen:U});k.length&&janrain.events.onCaptureRegistrationStart.fire({action:k.join(","),screen:U});return b}function m(){B.div.getAttribute("data-captureventadded")||(R(B.div,"click",function(b){var a=H(b);if(a&&a.nodeName&&"A"===a.nodeName){var j=a.getAttribute("data-capturecontrol");if(j){var c=ra(),j=ja({flow_control:j,token:Ea,capture_transactionId:c});ua("/widget/control.jsonp",j);La(c);J(b)}a.getAttribute("data-cancelcapturereturnexperience")&&
fb&&(c=new N,c.setUseLocalStorage(!0).setName("janrainLastAuthMethod"),c.remove(),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.capture.ui.renderScreen(fb),J(b));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof u)"close"===a&&(janrain.capture.ui.modal.close(),J(b)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),J(b))}}),B.div.setAttribute("data-captureventadded",!0));for(var b=B.div.getElementsByTagName("img"),a=b.length,j=
0;j<a;j++)R(b[j],"load",function(){janrain.events.onCaptureContentChange.fire()});b=oa(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=b.length;if(!C){for(j=0;j<a;j++)R(b[j],"click",function(b){"object"===typeof u?(janrain.capture.ui.renderScreen(Z.flow.defaultScreen),u.setShowContentOnLoad(!0).addContent(Z.div).show(),janrain.events.onCaptureScreenShow.fire({screen:U}),janrain.events.onCaptureContentChange.fire()):K=!0;J(b)});C=!0}}function p(){if(o.cssDependencies&&v(o.cssDependencies))for(var b=
0;b<o.cssDependencies.length;b++)w(o.cssDependencies[b]);L&&O&&!xb?janrain.events.onCssLoad.addHandler(function(b){B=Z;Qa.push(b.source);for(b=0;b<L;b++)if(-1==Qa.indexOf(q[b]))return!1;xb||(r(),xb=!0)}):r();janrain.events.onCaptureRenderComplete.fire({flow:o,screen:U});o.screens&&o.screens[U]&&o.screens[U].type&&"completeSocialRegistration"===o.screens[U].type&&(na(Ea),xa())}function r(){var b=!1,a=!1;if(B.modal){if("object"===typeof u){var b=!0,j=u.getContent();j&&document.body.appendChild(j);u.close(!0)}else u=
new vc,Sb();$b||(a=!0,janrain.events.onModalClose.addHandler(function(){o&&o.mergeToken&&(o.mergeToken="")}),$b=!0);u=Bb(u);u.setShowContentOnLoad(!0).addContent(B.div);a&&janrain.events.onCaptureModalReady.fire();if(b||B.modalLoadOnLoad||K)u.show(),janrain.events.onCaptureScreenShow.fire({screen:U})}else"object"===typeof u&&u.close(!0),janrain.events.onCaptureScreenShow.fire({screen:U});B.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function x(b,a){for(var a=a||t,j=0;j<
a.length;j++){if("function"===typeof a[j].handler)if("render"===a[j].eventType)a[j].handler(I+a[j].elementName);else{var c=document.getElementById(I+a[j].elementName);R(c,a[j].eventType,a[j].handler)}b&&T(b)}t=[]}var B={},l;l=new A;ab=new G;return{setScreenData:d,render:h,renderField:f,attachEventHandlers:x}}function pb(b,a){for(var c=[],g=document.getElementById(b).getElementsByTagName("INPUT"),d=g.length,e=0;e<d;e++){var f={};f.id=g[e].id;f.placeholder=g[e].getAttribute("placeholder");if(Gb||a)jc[g[e].getAttribute("data-capturefield")]=
g[e].value;f.value=f.placeholder?f.placeholder===g[e].value?"":g[e].value:g[e].value;"radio"===g[e].type&&(f.type="radio",f.checked=g[e].checked);c.push(f)}return c}function Tb(b,a){var c="function"===typeof a?a:function(){};if(b){var g=bb||wa(window.location.href).queryKey.uuid;bb&&(bb="");g?(ga("need to get data for "+g),k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:c,
fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:g}]})):ga("no uuid supplied")}else{if(!Ea)return!1;k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function ua(b,a,c){var g=-1<b.indexOf("?")?"&":"?",d=0===b.indexOf("http")?
"":janrain.settings.capture.captureServer,e=[],f;for(f in a)a.hasOwnProperty(f)&&e.push(f+"="+encodeURIComponent(a[f]));Ca(d+b+g+e.join("&"),c)}function Eb(b,a){var c=-1<b.indexOf("?")?"&":"?",g=[],d;for(d in a)a.hasOwnProperty(d)&&g.push(d+"="+encodeURIComponent(a[d]));return b+c+g.join("&")}function qb(b,a){xa();var c={},g=b&&b.userData&&b.userData.migratedUserType?b.userData.migratedUserType:null,d=a?Kb:ic;lb&&!a&&(c.capture_social_registration=lb);Ea&&a&&(c.capture_complete_social_registration=
Ea);Mc&&(c.authProvider=Mc);g&&(c.migratedUserType=g);c=Eb(d,c);window.location=c}function Vb(b,a){var c=!1,g;if("ok"===b.stat&&(g=b.result,g.accessToken&&g.oneTime&&(Ab=g.accessToken,tb=!0),g.accessToken&&!g.oneTime&&aa(g.accessToken),g&&Jb(g),Mc=g&&g.authProvider?g.authProvider:null,g&&g.screen&&o.screens&&o.screens[g.screen]&&o.screens[g.screen].type&&"completeSocialRegistration"===o.screens[g.screen].type&&W(),"socialSignin"===g.action&&"success"===g.status&&"noUserForIdentifier"===g.statusMessage||
"socialSignin"===g.action&&"success"===g.status&&janrain.settings.capture.socialRegistrationRedirectUrlCondition)){var d=janrain.settings.capture.socialRegistrationRedirectUrlCondition;if(d){var e=[];Rc(d,function(b,a){g[b]===a||g.userData&&g.userData[b]===a?e.push(!0):e.push(!1)})}ic&&"noUserForIdentifier"===g.statusMessage&&(c=!0,qb(g));Kb&&d&&!x(e,!1)&&(c=!0,qb(g,!0))}"function"===typeof a&&!c&&a(g)}function Wb(b){function a(b){return'<li><a href="#" class="capture_suggestion">'+b+"</a></li>"}
var b=b.result,d=c(b.submittedScreen),g=o.fields[b.field],e=document.getElementById(d+(g.elementId||g.elementName)),f=b.alternatives,h=g.validation.messages.unique||"",i=document.getElementById(d+"form_item_"+g.elementName),l=new k.validation;l.setElement(e);l.setParentDiv(i);if(!1===b.unique)if(f){var f=f.map(a),m=function(b){var a=H(b);n(a).has("capture_suggestion")&&(e.value=a.innerHTML,rc(i,"click",m),l.valid(),J(b))};l.notValid(h+'<ul class="capture_suggestions">'+f.join("")+"</ul>",function(){R(i,
"click",m)})}else l.notValid(h);else l.valid()}function Rb(b,a){if("string"!==typeof b||!janrain.settings.capture.setProfileCookie)return!1;var c=new N,g;c.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)c.getCookie("janrainCaptureProfileData",function(c){c.length&&(g=M.parse(c),"function"===typeof a&&"object"===typeof g&&a(g[b]))});else if(c=c.getCookie("janrainCaptureProfileData"),c.length&&(g=M.parse(c),"object"===typeof g))return g[b]}function Cb(b){var a=N();return x(["expected_tab",
"welcome_info_name","login_tab"],b)&&(b=a.getCookie(b))?unescape(b):""}function nc(){var b=document.createElement("div");b.className="capture_btn capture_processing";b.innerHTML="Processing";return b}function Bb(b){var a=janrain.settings.capture.modalBorderWidth||10,c=janrain.settings.capture.modalBorderColor||"#000",g=janrain.settings.capture.modalBorderRadius||10,d=janrain.settings.capture.modalBorderOpacity||0.5;b.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(c).setBorder(a).setBorderOpacity(d).setBorderRadius(g);
return b}function Qb(b){if("object"!==typeof u)u=new vc,Sb();else{var a=u.getContent();a.style.display="none";a&&document.body.appendChild(a)}Z&&Z.modal&&fc.push(Z);u=Bb(u);u.addContent(b).show();u.setHeight(Ba(b).height);u.setWidth(Ba(b).width).refresh()}var t=[],ab,Fa,Ya=janrain.settings.capture.language||janrain.settings.language||"en-US",ca=[],U,E={},I,fb,hb=!1,yb,fc=[],Z={},hc=[],kb,rb={},Gb=janrain.settings.capture.mode13||!1,ic=janrain.settings.capture.socialRegistrationRedirect,Kb=janrain.settings.capture.socialRegistrationCompleteRedirect,
Ac=!1,gc=!1,jc={},Bc,Xa,kc=!1,lb,lc,sb=!1,Ea,zb=!1,Ab,tb=!1,ub=!1,xb=!1,o,eb={},mc,mb,Xb=!1,Pb={},Ec={},Fc=[],Gc=[],Dc=[],Yb=[],O=!1,Zb=1,ec="placeholder"in document.createElement("input"),Kc=!1,yc=!1,Wa,u,K=!1,C=!1,$b=!1,q=[],L=0,zc=[],ba="HEAD",bc=!1,Ja={},xc=["accessDenied","retrievingUserData"],Cc={},cc=!1,P=0,qa=[],Ia=!1,dc=!1,Sa={},r=[],Nc,Y=wa(window.location.href).queryKey,bb,Mc,Qa=[];"en"===Ya&&(Ya="en-US");ic&&Y&&Y.capture_social_registration&&(lb=Y.capture_social_registration,gc=!0);Cc.publicPrivateTogglers=
[];G.prototype.check=function(b,a,d){a.validation&&!0!==a.validation.noTrim&&"string"===typeof b.value&&(b.value=b.value.trim());var a=a||o.fields[b.name],g=b.getAttribute("data-capturerendererchildfieldname"),g=g&&a.validation&&a.validation[g]?a.validation[g]:g&&"dateselect"!==a.type?!1:a.validation;if(!a.validation)return!0;a.validation.temp=g;if(!a.validation.temp)return!0;a.validation.temp.messages||(a.validation.temp.messages={});if(!this.hasValue(b,a))return{valid:!1,reason:a.validation.temp.messages.required||
"Field not completed"};if(!this.isDate(b,a))return{valid:!1,reason:a.validation.temp.messages.isDate||"Not a valid date"};if(!this.isValidMaxFileSize(b,a))return{valid:!1,reason:a.validation.temp.messages.maxFileSize||"File is too large"};if(!this.isValidFileType(b,a))return{valid:!1,reason:a.validation.temp.messages.validFileTypes||"File is not a valid file type"};if(!this.isValidMinYears(b,a))return{valid:!1,reason:a.validation.temp.messages.minYears||"Not old enough",validation:{minYears:g.minYears}};
if(!this.isValidMinLength(b,a))return{valid:!1,reason:a.validation.temp.messages.minLength||"Invalid length"};if(!this.isValidMaxLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxLength||"Invalid length"};if(!this.isValidMaxNumericLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxNumericLength||"Invalid number of numeric characters"};if(!this.isValidFormat(b,a))return{valid:!1,reason:a.validation.temp.messages.format||"Invalid format"};if(!this.isValidMatch(b,a))return{valid:!1,
reason:a.validation.temp.messages.match||"Invalid match"};g=this.custom(b,a);if(!g)return"undefined"===typeof g?{pending:!0}:{valid:!1,reason:a.validation.temp.messages.custom||"Invalid"};return a.validation.temp.unique&&!d?(d=document.getElementById(c(b)+"form_item_"+b.getAttribute("name")),this.isUnique(b,d,a,function(){}),{pending:!0}):{valid:!0}};G.prototype.custom=function(b,a){if(!a||!a.validation.temp.custom||"function"!==typeof Jc[a.validation.temp.custom])return!0;var d=new k.validation,
g=document.getElementById(c(b)+"form_item_"+a.elementName);d.setParentDiv(g);d.setElement(b);return Jc[a.validation.temp.custom](b.name,b.value,d)};G.prototype.getRating=function(b){var b=b.value,a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],c=0,d;d=Math.min(8,Math.floor(3*Math.log(b.length+1)));for(var e=0;e<a.length;e++)a[e].test(b)&&c++;return d+=Math.floor(Math.pow(2,c)/2)};G.prototype.isValidMaxNumericLength=function(b,a){if(!a)return!0;var c=a.validation.temp.maxNumericLength;if(!c)return!0;var d=
b.value.match(/(\d)/g);v(d)&&d.length>c&&a.validation.temp.actions&&a.validation.temp.actions.maxNumericLength&&qa.push(a.validation.temp.actions.maxNumericLength);return v(d)?d.length<=c:!0};G.prototype.isValidMaxLength=function(b,a){var c=b.value;if(!a)return!0;var d=a.validation.temp.maxLength;if(!d)return!0;c.length>d&&a.validation.temp.actions&&a.validation.temp.actions.maxLength&&qa.push(a.validation.temp.actions.maxLength);return c.length<=d};G.prototype.isValidMinLength=function(b,a){var c=
b.value;if(!a)return!0;var d=a.validation.temp.minLength;if(!d)return!0;c.length<d&&a.validation.temp.actions&&a.validation.temp.actions.minLength&&qa.push(a.validation.temp.actions.minLength);return c.length>=d};G.prototype.isValidMaxFileSize=function(b,a){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.maxFileSize;return!c?!0:b.files[0].size<c};G.prototype.isValidFileType=function(b,a){if(!window.File||!window.FileReader||
!window.FileList||!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.validFileTypes;return!v(c)?!0:x(c,b.files[0].type)};G.prototype.isDate=function(b,a){if((!a||"dateselect"!==a.type)&&!a.validation.temp.isDate)return!0;var c=F(b,a);return c?Sc(c):!0};G.prototype.isValidMinYears=function(b,a){if(!a||"dateselect"!==a.type)return!0;var c=F(b,a),d=a.validation.temp.minYears;if(!Sc(c)||!d)return!0;var e=new Date,c=Math.abs(((new Date(c)).getTime()-e.getTime())/864E5),c=Math.floor(c/365.242199);
c>=d||a.validation.temp.actions&&a.validation.temp.actions.minYears&&qa.push(a.validation.temp.actions.minYears);return c>=d};G.prototype.hasValue=function(b,a){var c;if("select"===a.element)c=b.options[b.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=b.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var d=c.length,e=[],f=0;f<d;f++)c[f].checked&&e.push(c[f]);
c=e.length}else c=!1;else c=b.value;if(!a||!a.validation.temp.required)return!0;if("dateselect"===a.type)return c=F(b,a),!c?!1:!0;c||a.validation.temp.actions&&a.validation.temp.actions.required&&qa.push(a.validation.temp.actions.required);return c};G.prototype.isUnique=function(b,a,c,g){a=b.form.getAttribute("data-capturefield");c=b.getAttribute("data-capturefield");b=ja({value:b.value,form:a,capture_screen:d(b),field:c});Ea&&(b.access_token=Ea);Fa&&(b.flow_path=Fa);ua("/widget/unique.jsonp",b,g)};
G.prototype.isBlacklisted=function(b,a,c){function d(){var a=b.value,j=response;if(!j||0===j.length)return!0;for(var c,g=0;g<j.length;g++)if(c=RegExp("^"+j[g]+"$","i"),c.test(a))return!0;return!1}captureUIBlacklistCallback=function(b){c(d(b))};v(a)?c(d(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):c(!0)};G.prototype.isValidFormat=function(b,a){var c={alpha:/^[a-z]+$/i,alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,
email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!a.validation.temp.format)return!0;var d=a.validation.temp.format;if("string"===typeof d&&c[d])d=c[d];else return!1;d.test(b.value)||a.validation.temp.actions&&a.validation.temp.actions.format&&qa.push(a.validation.temp.actions.format);return d.test(b.value)};G.prototype.isValidMatch=function(b,a){if(!a)return!0;var d=a.validation.temp.match;if(!d)return!0;d=o.fields[d];d=c(b)+(d.elementId||
d.elementName);d=document.getElementById(d);b.value!==d.value&&a.validation.temp.actions&&a.validation.temp.actions.match&&qa.push(a.validation.temp.actions.match);return b.value===d.value};var k={attachFieldEventHandlers:function(b){b.type||(b.type="");"password"===b.type&&(t.push({elementName:b.elementName,handler:k.togglePasswordInput,eventType:"click"}),t.push({elementName:b.elementName,handler:k.togglePasswordInput,eventType:"focus"}),b.validation&&("function"===typeof b.validation.rating?t.push({elementName:b.elementName,
handler:function(a){var a=Ua(a),c=ab.getRating(a);b.validation.rating(a,c)},eventType:"keyup"}):b.validation.rating&&t.push({elementName:b.elementName,handler:function(b){b=Ua(b);b=ab.getRating(b);ga("Password Strength",b)},eventType:"keyup"})));if("text"===b.type||"password"===b.type||"email"===b.type)t.push({elementName:b.elementName,handler:k.clearPlaceHolder,eventType:"focus"}),t.push({elementName:b.elementName,handler:k.restorePlaceHolder,eventType:"blur"});t.push({elementName:b.elementName,
handler:function(a){a=H(a);a=c(a);a=document.getElementById(a+"form_item_"+b.elementName);n(a).append("capture_focused").remove("capture_error");Ob&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()},eventType:"focus"});t.push({elementName:b.elementName,handler:function(a){a=H(a);a=c(a);a=document.getElementById(a+"form_item_"+b.elementName);n(a).remove("capture_focused")},eventType:"blur"});b.validation&&t.push({elementName:b.elementName,handler:ka,eventType:b.validation.eventType||
"blur"});b.rendererFieldName&&b.rendererChildFieldName&&o.fields[b.rendererFieldName].validation&&o.fields[b.rendererFieldName].validation[b.rendererChildFieldName]&&t.push({elementName:b.rendererFieldName+"_"+b.rendererChildFieldName,handler:ka,eventType:"blur"})},wrapStringData:function(b,a,c){var d="",e=["capture_data_item"];c&&e.push(c);d+=k.createDiv({elementId:"stringdata_"+b.name,classes:e});b.label&&(d+=k.createLabel({elementId:b.name,label:b.label,classes:["capture_data_label"]}));d+=k.createDiv({elementId:b.name,
classes:["capture_data"]});return d+a+"</div></div>"},wrapFormItemStart:function(b){var a="",c=[],d=b.classes||[],e="elementCollection"===b.type?"form_collection":"form_item";if(b.justElement||"submit"===b.type||"button"===b.type)return"";-1===d.indexOf("capture_"+e)&&d.push("capture_"+e);b.errors&&-1===d.indexOf("capture_error")&&!b.collection&&d.push("capture_error");!b.collection&&b.type&&-1===d.indexOf("capture_"+b.type)&&("checkbox"===b.type||"radio"===b.type?c.push("capture_"+b.type):d.push("capture_"+
b.type));"elementCollection"===b.type&&b.displayInline&&-1===d.indexOf("capture_form_collection_inline")&&d.push("capture_form_collection_inline");b.collection?(-1===d.indexOf("capture_"+e+"_"+b.elementName)&&d.push("capture_"+e+"_"+b.elementName),b.checked&&d.push("capture_toggled"),a+=k.createDiv({elementName:e+"_"+b.elementId,hide:b.hide,classes:d})):a+=k.createDiv({elementName:e+"_"+b.elementName,hide:b.hide,classes:d});if(("checkbox"===b.type||"radio"===b.type)&&!b.collection)a+=k.createDiv({elementName:e+
"_inner_"+b.elementName,classes:c});return a},wrapFormItemEnd:function(b){return b.justElement||"submit"===b.type||"button"===b.type?"":"</div>"},createPublicPrivateToggle:function(b){function a(){for(var b=Cc.publicPrivateTogglers,c=b.length,j=0;j<c;j++)b[j]&&(b[j].style.display="none");Cc.publicPrivateTogglers=[]}function d(a){var j=H(a),g=c(j),e=document.getElementById(g+"display_toggle_options_"+b.elementName),s=document.getElementById(g+"display["+(b.rendererFieldName||b.elementName)+"]"),f=
document.getElementById(g+"display_indicator_public_"+b.elementName),h=document.getElementById(g+"display_indicator_private_"+b.elementName),k=g+"display_option_public_"+b.elementName,fa=g+"display_option_private_"+b.elementName;document.getElementById(g+"display_toggle_options_"+b.elementName);if(j.parentNode&&j.parentNode.id&&(j.parentNode.id===k||j.parentNode.id===fa))j=j.parentNode;if(!j.id)return!1;j.id===k?(n(document.getElementById(k)).append("capture_checked"),n(document.getElementById(fa)).remove("capture_checked"),
s.value="public",n(f).append("capture_toggled"),n(h).remove("capture_toggled")):(n(document.getElementById(k)).remove("capture_checked"),n(document.getElementById(fa)).append("capture_checked"),s.value="private",n(f).remove("capture_toggled"),n(h).append("capture_toggled"));e.style.display="none";J(a)}var g;g=""+k.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+b.elementName});g+=k.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+
b.elementName});var e=["capture_display_option"];b.displayPublic&&e.push("capture_checked");g+=k.createDiv({classes:e,elementId:"display_option_public_"+b.elementName});g+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_option"];b.displayPublic||e.push("capture_checked");g+=k.createDiv({classes:e,elementId:"display_option_private_"+b.elementName});g+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';
e=["capture_display_toggle","capture_public"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic&&e.push("capture_toggled");g+=k.createDiv({classes:e,elementId:"display_indicator_public_"+b.elementName});g+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_toggle","capture_private"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic||e.push("capture_toggled");
g+=k.createDiv({classes:e,elementId:"display_indicator_private_"+b.elementName});g=g+'<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+k.createInput({type:"hidden",elementName:"display["+(b.rendererFieldName||b.elementName)+"]",value:b.displayPublic?"public":"private"});t.push({elementName:"display_toggle_wrap_"+b.elementName,eventType:"click",handler:function(d){var g=H(d),e=c(g),e=document.getElementById(e+"display_toggle_options_"+
b.elementName),s="none"===e.style.display||""===e.style.display?"block":"none";g.parentNode&&n(g.parentNode).has("capture_display_toggle")&&(g=g.parentNode);n(g).has("capture_display_toggle")&&!n(g).has("capture_display_toggle_disabled")&&("block"===s&&(a(),Cc.publicPrivateTogglers.push(e)),e.style.display=s);J(d)}});t.push({elementName:"display_option_public_"+b.elementName,handler:d,eventType:"click"});t.push({elementName:"display_option_private_"+b.elementName,handler:d,eventType:"click"});bc||
(R(document.body,"click",function(b){b=H(b);b.parentNode&&n(b.parentNode).has("capture_display_toggle")&&(b=b.parentNode);!n(b).has("capture_display_toggle")&&!n(b).has("capture_display_option")&&a()}),bc=!0);return g},createAnchor:function(b){var a="",c=b.fieldPrefix||I,d=b.elementId||b.elementName,e="object"===typeof b.elementAttributes?b.elementAttributes:{},f=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[];x(f,"capture_"+d)||f.push("capture_"+d);a=a+"<a "+("id='"+c+d+"' ");b.target&&
(a+="target='"+b.target+"' ");a+="class='"+f.join(" ")+"' ";a+=uc(e)+" ";a+="data-capturefield='"+b.name+"' ";a+="href='"+b.elementHref+"' ";a+="name='"+b.elementName+"' ";a+=">";b.elementText&&(a+=b.elementText);return a+"</a>"},createTextarea:function(b){var a="",c=b.fieldPrefix||I,d=b.elementId||b.elementName,e=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],f=b.rows||"5",a=a+k.createLabel(b);x(e,"capture_"+d)||e.push("capture_"+d);x(e,"capture_textarea")||e.push("capture_textarea");
a=a+"<textarea "+("id='"+c+d+"' ")+("class='"+e.join(" ")+"' ");a+="data-capturefield='"+b.name+"' ";a=a+("rows='"+f+"' ")+("name='"+b.elementName+"' ");b.placeholder&&ec&&(a+="placeholder='"+b.placeholder+"'");a+=">";b.value&&(a+=b.value);a+="</textarea>";b.publicPrivateToggle&&(a+=k.createPublicPrivateToggle(b));return a+=k.createTip(b)},createTip:function(b){var a;a="<div class='capture_tip' ";b.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof b.tip?b.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+
(" data-elementName='"+b.elementName+"'>");a=a+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+b.elementName+"'>");b.errors&&v(b.errors)&&(a+=b.errors.join(" "),janrain.events.onCaptureServerValidationFailed.fire(b));return a+"</div>"},createLabel:function(b,a){var c,d=b.fieldPrefix||I,e=b.elementId||b.elementName;if(!b.label)return a?a:"";c="<label ";"elementCollection"!==b.type&&(c+=" for='"+d+e+"'");c+=">";a&&(c+=a);b.label&&(c+=b.label);return c+"</label>"},createSelect:function(b){var a=
"",d=b.fieldPrefix||I,g=b.rendererFieldName,e=b.rendererChildFieldName,f,h=b.justElement,i=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],l=b.elementId||b.elementName;x(i,"capture_"+l)||i.push("capture_"+l);x(i,"capture_select")||i.push("capture_select");a+=k.createLabel(b);a=a+'<span class="capture_select_arrow"><select '+("id='"+d+l+"' ")+("class='"+i.join(" ")+"' ");g&&(a+="data-capturerendererfield='"+g+"' ");b.showFieldWhere&&(a+='data-showFieldWhere="'+b.showFieldWhere+'" ');e&&(a+=
"data-capturerendererchildfieldname='"+e+"' ");a+="data-capturefield='"+b.name+"' ";a+="name='"+b.elementName+"' ";a+=">";g=b.options||[];e=g.length;for(i=0;i<e;i++){var l=g[i],m=l.value||""===l.value?l.value:l.text,a=a+('<option value="'+m+'"');l.disabled&&(a+=' disabled="true"');v(l.showField)&&(a+=' data-showField="'+l.showField.join(",")+'"');m===b.value&&(a+=' selected="selected"',f=l.showField);a+=">"+l.text+"</option>"}a+="</select></span>";b.publicPrivateToggle&&(a+=k.createPublicPrivateToggle(b));
h||(a+=k.createTip(b));t.push({handler:function(){f&&X(f,b.showFieldWhere,d)},eventType:"render"});t.push({elementName:b.elementName,handler:function(b){var a=H(b),b=c(a),j=a.getElementsByTagName("option")[a.selectedIndex].getAttribute("data-showField"),a=a.getAttribute("data-showFieldWhere");j&&j.length&&(j=j.split(","));X(j,a,b)},eventType:"change"});return a},createButton:function(b){var a="",c=b.fieldPrefix||I,d=b.elementId||b.elementName,e=b.elementClasses&&v(b.elementClasses)?b.elementClasses:
[],f=b.type?b.type:"submit";x(e,"capture_"+d)||e.push("capture_"+d);x(e,"capture_btn")||e.push("capture_btn");x(e,"capture_primary")||e.push("capture_primary");a+="<button ";b.hide&&(a+="style='display:none' ");a=a+("id='"+c+d+"' ")+("class='"+e.join(" ")+"' ");a=a+("type='"+f+"' ")+("data-capturefield='"+b.name+"' ");b.value&&(a+="value='"+b.value+"' ");a+="name='"+b.elementName+"' ";a+=">";b.elementContent&&(a+=b.elementContent);return a+"</button>"},createInput:function(b){var a="",c="",d=b.fieldPrefix||
I,e=b.elementId||b.elementName,f=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],h="object"===typeof b.elementAttributes?b.elementAttributes:{},i="button"===b.type||"submit"===b.type||"checkbox"===b.type||"radio"===b.type||"hidden"===b.type,l=b.justElement||b.collection||"hidden"===b.type||"button"===b.type||"submit"===b.type,m="password"===b.type&&!ec&&b.placeholder?"text":b.type,n=("checkbox"===b.type&&!b.collection||"radio"===b.type&&!b.collection)&&!b.justElement,o=b.rendererFieldName,
p=b.rendererChildFieldName,q=yb&&!b.collection;x(f,"capture_"+e)||f.push("capture_"+e);i||(c+=k.createLabel(b));a+="<input ";b.hide&&(a+="style='display:none' ");a=a+("id='"+d+e+"' ")+(uc(h)+" ");"text"===b.type||"email"===b.type||"password"===b.type||"file"===b.type?x(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===b.type||"radio"===b.type?x(f,"capture_input_"+b.type)||f.push("capture_input_"+b.type):"submit"===b.type&&(x(f,"capture_btn")||f.push("capture_btn"),x(f,"capture_primary")||
f.push("capture_primary"));a+="data-capturefield='"+b.name+"' ";b.collection&&(a+="data-capturecollection='true' ");o&&(a+="data-capturerendererfield='"+o+"' ");p&&(a+="data-capturerendererchildfieldname='"+p+"' ");a+="type='"+m+"' ";("checkbox"===b.type||"radio"===b.type)&&b.elementValue?a+="value='"+b.elementValue+"' ":b.value?(h=b.value,b.displaySavedValue&&jc[b.value]&&(h=jc[b.value]),("password"===b.type||"text"===b.type||"email"===b.type)&&!b.errors&&q&&zc.push(d+e),a+="value='"+h+"' "):b.placeholder&&
!ec?(a+="value='"+b.placeholder+"' ",x(f,"capture_input_placeholder")||f.push("capture_input_placeholder")):a+="value='' ";a+="class='"+f.join(" ")+"' ";b.placeholder&&(a+="placeholder='"+b.placeholder+"' ");if(b.checked||b.elementValue&&b.value===b.elementValue)a+="checked='checked' ";a+="name='"+b.elementName+"' ";a+="/>";c="checkbox"===b.type||"radio"===b.type?c+k.createLabel(b,a):c+a;b.publicPrivateToggle&&(c+=k.createPublicPrivateToggle(b));n&&(c+="</div>");l||(c+=k.createTip(b));return c},createDiv:function(b){var a=
"<div ",c=b.fieldPrefix||I,d=b.elementId||b.elementName,e="object"===typeof b.elementAttributes?b.elementAttributes:{},f=b.classes||[];x(f,"capture_"+d)||f.push("capture_"+d);a+="id='"+c+d+"'";if("option"===b.type&&!b["default"]||b.hide)a+=" style='display:none'";"radioCollection"===b.type&&f.push("radio_set");v(f)&&f.length&&(a=a+' class="'+f.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=uc(e)+" ";a+="data-capturefield='"+b.name+"' ";a+=">";b.elementText&&(a+=b.elementText);b.closeDiv&&
(a+="</div>");return a},createImage:function(b){var a,c=b.fieldPrefix||I,d=b.classes||[],e=b.elementId||b.imageId||b.elementName||"";a="<img "+('src="'+b.src+'"');e&&!x(d,"capture_"+e)&&d.push("capture_"+e);b.hide&&(a+=" style='display:none'");b.alt&&(a+=" alt='"+b.alt+"'");"undefined"!==typeof b.width&&(a+=" width='"+b.width+"'");"undefined"!==typeof b.height&&(a+=" height='"+b.height+"'");e&&(a+=' id="'+c+b.imageId+'" ');v(d)&&d.length&&(a=a+'class="'+d.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(b){var a,
c="captureIFrame_"+b;if(document.getElementById(c))return!1;if(i){a="";var d=document.createElement("div");d.innerHTML=a+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+b+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(d)}else a=document.createElement("iframe"),a.setAttribute("name",c),a.setAttribute("data-transactionId",b),a.id=c,a.setAttribute("src","about:blank"),a.style.display="none",a.className="",document.body.appendChild(a)},createAnchor:function(b){var a=
b.fieldPrefix||I,c=document.createElement("a");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!x(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);c.setAttribute("href",b.elementHref);c.innerHTML=b.elementText;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createDiv:function(b){var a=b.fieldPrefix||I,c=document.createElement("div");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!x(b.classes,
a+b.elementId)&&b.classes.push(a+b.elementId);b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createImage:function(b){var a=b.fieldPrefix||I,c=document.createElement("img");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!x(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.alt&&c.setAttribute("alt",b.alt);"undefined"!==typeof b.width&&c.setAttribute("width",b.width);"undefined"!==typeof b.height&&c.setAttribute("height",
b.height);c.src=b.elementSrc;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createInput:function(b){var a=document.createElement("input"),c=b.fieldPrefix||I,d="object"===typeof b.elementAttributes?b.elementAttributes:{},e=b.containerDivClasses||[],f;"submit"===b.elementType&&b.containerDiv&&(f=this.createDiv({elementName:b.elementName+"_containverDiv",classes:e}));if(!b.classes||b.classes&&!v(b.classes))b.classes=[];for(var h in d)d.hasOwnProperty(h)&&
a.setAttribute(h,d[h]);b.elementId&&!x(b.classes,c+b.elementId)&&b.classes.push(c+b.elementId);b.elementType&&a.setAttribute("type",b.elementType);b.name&&a.setAttribute("data-capturefield",b.name);b.elementValue&&(a.value=b.elementValue);b.elementName&&(a.name=b.elementName);b.elementId&&(a.id=c+b.elementId);b.hideElement&&(a.style.display="none");a.className=b.classes.join(" ");return f?(f.appendChild(a),f):a},createForm:function(b){b.transactionId||(b.transactionId=ra());var a=b.transactionId,
d=b.captureScreen||U,g=c(d),e=document.createElement("form"),f=v(b.fields)?b.fields:[],h=f.length;k.domHelpers.createIFrame(a);b.needsResponse&&T(a);if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!x(b.classes,g+b.elementId)&&b.classes.push(g+b.elementId);e.id=g+b.elementId+"_"+a;e.className=b.classes.join(" ");e.setAttribute("target","captureIFrame_"+a);e.setAttribute("data-transactionId",a);b.name&&e.setAttribute("data-capturefield",b.name);e.setAttribute("action",b.elementAction);
e.setAttribute("method","POST");e.setAttribute("data-capturedomelement","true");b.validate&&e.setAttribute("data-capturedomelementvalidate","true");e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:"\u2713",elementName:"utf8"}));o&&o.mergeToken&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:o.mergeToken,elementName:"merge_token",elementId:"merge_token_"+a}));mb&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",
fieldPrefix:g,elementValue:mb,elementName:"bp_channel",elementId:"bp_channel_"+a}));Fa&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:Fa,elementName:"flow_path",elementId:"flow_path_"+a}));Ab?e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:Ab,elementName:"access_token",elementId:"access_token_"+a})):Ea&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:Ea,elementName:"access_token",
elementId:"access_token_"+a}));U&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:d,elementName:"capture_screen",elementId:"screen_"+a}));ib&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:ib,elementName:"js_version",elementId:"js_version_"+a}));b.serverNextScreen&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:b.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+
a}));b.engageTokenRequired&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",elementValue:lb,fieldPrefix:g,elementName:"token",elementId:"token_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",elementValue:a,fieldPrefix:g,elementName:"capture_transactionId",elementId:"transactionId_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:b.name,elementName:"form",elementId:"form_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",
fieldPrefix:g,elementValue:o.flow,elementName:"flow",elementId:"flow_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementName:"client_id",elementId:"client_id_"+a,elementValue:janrain.settings.capture.clientId}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementName:"redirect_uri",elementId:"redirect_uri_"+a,elementValue:janrain.settings.capture.redirectUri}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,
elementValue:janrain.settings.capture.responseType,elementName:"reponse_type",elementId:"response_type_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:ba,elementName:"flow_version",elementId:"flow_version_"+a}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:Ya,elementName:"locale",elementId:"locale_"+a}));for(d=0;d<h;d++)switch(a=f[d],a.elementType){case "div":a.fieldPrefix=a.fieldPrefix||g;e.appendChild(k.domHelpers.createDiv(a));
break;case "anchor":a.fieldPrefix=a.fieldPrefix||g;e.appendChild(k.domHelpers.createAnchor(a));break;case "hidden":a.fieldPrefix=a.fieldPrefix||g;e.appendChild(k.domHelpers.createInput(a));break;case "file":a.fieldPrefix=a.fieldPrefix||g;e.setAttribute("enctype","multipart/form-data");e.appendChild(k.domHelpers.createInput(a));break;case "submit":a.fieldPrefix=a.fieldPrefix||g,e.appendChild(k.domHelpers.createInput(a))}k.domHelpers.createFormHandler(e,b);return e},createFormHandler:function(b,a){"function"===
typeof a.callback&&(b.setAttribute("next",'{"function":"'+a.elementId+'"}'),rb[a.elementId]=a.callback);R(b,"submit",Oa)},createFormAndPost:function(b){var a=b.fieldPrefix||I,c=ra();b.fieldPrefix=b.fieldPrefix||a;b.transactionId=c;var d=k.domHelpers.createForm(b),a=k.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:a,elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});d.appendChild(a);document.body.appendChild(d);k.domHelpers.createFormHandler(d,
b);a.click()}},createListOfLinks:function(b,a){var c=b.fieldPrefix||I,d;optionsLength=b.length;d="<ul";v(a)&&a.length&&(d=d+' class="'+a.join(" "),d+='"');d+=">";for(var e=0;e<optionsLength;e++){d+="<li";"string"===typeof b[e].listItemId&&(d+=' id="'+c+b[e].listItemId+'" ');b[e].hide&&(d+=' style="display: none;" ');if(!b[e].listItemClasses||!v(b[e].listItemClasses))b[e].listItemClasses=[];"string"===typeof b[e].listItemId&&!x(b[e].listItemClasses,"capture_"+b[e].listItemId)&&b[e].listItemClasses.push("capture_"+
b[e].listItemId);v(b[e].listItemClasses)&&b[e].listItemClasses.length&&(d+=' class="',d+=b[e].listItemClasses.join(" "),d+='"');d+=">";d+='<a href="'+b[e].anchorHref+'"';"string"===typeof b[e].anchorId&&(d+=' id="'+c+b[e].anchorId+'" ');if(!b[e].anchorClasses||!v(b[e].anchorClasses))b[e].anchorClasses=[];"string"===typeof b[e].anchorId&&!x(b[e].anchorClasses,"capture_"+b[e].anchorId)&&b[e].anchorClasses.push("capture_"+b[e].anchorId);v(b[e].anchorClasses)&&b[e].anchorClasses.length&&(d+=' class="',
d+=b[e].anchorClasses.join(" "),d+='"');d+=">";d+=b[e].anchorText;d+="</a>";d+="</li>"}return d+"</ul>"},togglePasswordInput:function(b){var b=Ua(b),a=b.getAttribute("data-capturefield"),a=o&&o.fields&&a?o.fields[a]:"",d=c(b);if(a&&!a.placeholder)return!1;b.getAttribute("value")===b.getAttribute("placeholder")&&b.setAttribute("value","");if(i&&"text"===b.type){for(var a=[],e=0,f=t.length;e<f;e++)d+t[e].elementName==b.id&&(t[e].elementName=t[e].elementName,a.push(t[e]));d=document.createElement("span");
e=b.parentElement;e.insertBefore(d,b);e.removeChild(b);f=document.createElement("input");f.id=b.id;f.setAttribute("data-capturefield",b.name);f.className="capture_password";f.name=b.name;f.setAttribute("type","password");e.insertBefore(f,d);e.removeChild(d);Ka().attachEventHandlers(null,a);f.focus()}else b.setAttribute("type","password")},clearPlaceHolder:function(b){if(ec)return!0;b=Ua(b);b.getAttribute("value")===b.getAttribute("placeholder")&&(i?b.value="":b.setAttribute("value",""),n(b).remove("capture_input_placeholder"))},
restorePlaceHolder:function(b){if(ec)return!0;var b=Ua(b),a=b.getAttribute("placeholder");if(!a)return!1;"password"===b.getAttribute("type")&&""===b.value&&b.setAttribute("type","text");a&&""===b.value&&(i?b.value=a:b.setAttribute("value",a),n(b).append("capture_input_placeholder"))},validation:function(){function b(b){e=b;b=a.id||a.name;za[b].status=e;if((za[b].element=a)&&a.form&&a.form.id)za[b].formId=a.form.id}var a,d,e,f;return{getElement:function(){return a},getParentDiv:function(){return d},
getState:function(){return e},getValidation:function(){return f},setState:function(a){b(a)},setValidation:function(b){f=b},setParentDiv:function(b){(d=b)&&d.className.split(" ")},setElement:function(b){a=b;d&&d.className.split(" ")},valid:function(){n(d).append("capture_validated").remove("capture_validating").remove("capture_error");b("valid");var c={};a&&(c.field=a);janrain.events.onCaptureValidationSuccess.fire(c);janrain.events.onCaptureContentChange.fire()},pending:function(){b("pending");n(d).append("capture_validating").remove("capture_validated");
janrain.events.onCaptureContentChange.fire()},notValid:function(e,g){b("invalid");if(e){if("noValidationMessage"!==e){n(d).append("capture_error").remove("capture_validated");for(var h,k=c(d),i=d.getElementsByTagName("div"),l=i.length,m=0;m<l;m++)if("capture_tip_error"===i[m].className){var o=0===d.id.indexOf(k+"form_collection_")?k+"form_collection_":k+"form_item_";if(d.id.split(o)[1]===i[m].getAttribute("data-elementName")||d.id.split(o)[1]+"[dateselect_year]"===i[m].getAttribute("data-elementName")){h=
i[m];break}}h&&(h.innerHTML=e)}"function"===typeof g&&g();janrain.events.onCaptureContentChange.fire()}h={};a&&(h.field=a);h.message=e;h.parentDiv=d;f&&(h.validation=f);janrain.events.onCaptureValidationFailed.fire(h)}}}},Ra={createSelect:k.createSelect,createTextarea:k.createTextarea,createAnchor:k.createAnchor,createInput:k.createInput,createLabel:k.createLabel,createDiv:k.createDiv,createImage:k.createImage,createListOfLinks:k.createListOfLinks,toggelPassword:k.togglePasswordInput,clearPlaceHolder:k.clearPlaceHolder,
restorePlaceHolder:k.restorePlaceHolder,getElementByEventAttribute:Ua};A.prototype.render={data:{engageCookieData:function(b){return Cb(b.cookieName)},stringData:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",a=b.displaySavedValue&&Gb&&jc[b.value]?jc[b.value]:b.value;return a=b.justString?a:k.wrapStringData(b,a)},imageData:function(b){var a;b.value&&(b.returnImageTag?(a={elementName:b.elementname,hide:b.hide,src:b.value},b.classes&&(a.classes=b.classes),
b.elementId&&(a.elementId=b.elementId),a=k.createImage(a)):a=b.value);return a}},htmlElement:{parent:A.prototype.render,anchor:function(b){return b=""+k.createAnchor(b)},textarea:function(b){var a;a=""+k.wrapFormItemStart(b);a+=k.createTextarea(b);return a+=k.wrapFormItemEnd(b)},select:function(b){var a;a=""+k.wrapFormItemStart(b);a+=k.createSelect(b);a+=k.wrapFormItemEnd(b);k.attachFieldEventHandlers(b);return a},multi:function(b,a){var d="",e,f=v(b.value)?b.value:"string"===typeof b.value?b.value.split(","):
[],h=b.options.length;b.type="elementCollection";for(var d=d+k.wrapFormItemStart(b),d=d+k.createLabel(b),i=0;i<h;i++)e=b.options[i],e.value=e.value||e.label,e.label=e.label||e.value,d+=this.input({elementName:b.elementName,type:a,elementId:b.elementName+"_"+e.value+"_"+i,name:b.name,value:e.value,collection:!0,label:e.label,checked:x(f,e.value)}),t.push({elementName:b.elementName+"_"+e.value+"_"+i,handler:function(a,d){return function(){for(var e=c(this),j=document.getElementById(e+"form_collection_"+
b.elementName),j=oa("capture_form_item_"+b.elementName,j),e=document.getElementById(e+"form_item_"+b.elementName+"_"+a+"_"+d),g=0,f=j.length;g<f;g++)n(j[g]).remove("capture_toggled");e&&n(e).append("capture_toggled")}}(e.value,i),eventType:"click"});d+=k.createTip(b);return d+=k.wrapFormItemEnd(b)},multiCheckbox:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},multiRadio:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},input:function(b){var a;
a=""+k.wrapFormItemStart(b);a+=k.createInput(b);a+=k.wrapFormItemEnd(b);k.attachFieldEventHandlers(b);return a},button:function(b){var a;a=""+k.wrapFormItemStart(b);a+=k.createButton(b);a+=k.wrapFormItemEnd(b);k.attachFieldEventHandlers(b);return a},form:function(b){var a="<form ",c="object"===typeof b.elementAttributes?b.elementAttributes:{},d=b.localFieldPrefix||I,e=b.classes||[];e.indexOf("capture_form"===-1)&&e.push("capture_form");e.indexOf(-1==="capture_"+b.elementName)&&e.push("capture_"+b.elementName);
a+="id='"+d+b.elementName+"' ";a+=uc(c)+" ";a+="name='"+b.elementName+"' ";a+="data-capturefield='"+b.name+"' ";a+="action='"+janrain.settings.capture.captureServer+"/"+b.action+"' ";v(e)&&(a+="class='"+e.join(" ")+"' ");var a=a+"method='POST' novalidate='novalidate' "+("data-transactionId='"+b.transactionId+"' "),a=a+("target='captureIFrame_"+b.transactionId+"' "),a=a+">"+('<div id="'+d+b.elementName+'_defaultSavedProfileMessage"></div>'),a=a+('<div id="'+d+b.elementName+'_errorMessages"></div>'),
f="";if(b.errors){janrain.events.onCaptureFormError.fire(b.errors);for(var h in b.errors)b.errors.hasOwnProperty(h)&&(f+=k.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),f+=b.errors[h]+"</div>")}t.push({handler:function(){var a=document.getElementById(d+b.elementName);if(!a)return!1;var c=oa("capture_form_error_container",a),c=c.length?c[0]:document.getElementById(d+b.elementName+"_errorMessages");f?(c.innerHTML=f,n(a).append("capture_form_level_error")):c.innerHTML=
""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,i;for(i in c)c.hasOwnProperty(i)&&(a+=k.createInput({elementName:i,type:"hidden",value:c[i]}))}a+=k.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});mb&&(a+=k.createInput({elementName:"bp_channel",elementId:"bp_channel"+b.transactionId,type:"hidden",value:mb}));Fa&&(a+=k.createInput({elementName:"flow_path",elementId:"flow_path_"+
b.transactionId,type:"hidden",value:Fa}));o&&o.mergeToken&&(a+=k.createInput({elementName:"merge_token",elementId:"merge_token_"+b.transactionId,type:"hidden",value:o.mergeToken}));Ab?a+=k.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,classes:["capture_accessToken"],type:"hidden",value:Ab}):Ea&&(a+=k.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,classes:["capture_accessToken"],type:"hidden",value:Ea}));U&&(a+=k.createInput({elementName:"capture_screen",
elementId:"screen_"+b.transactionId,type:"hidden",value:U}));ib&&(a+=k.createInput({elementName:"js_version",elementId:"js_version_"+b.transactionId,type:"hidden",value:ib}));b.serverNextScreen&&(a+=k.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+b.transactionId,type:"hidden",value:b.serverNextScreen}));if(b.engageTokenRequired||gc)a+=k.createInput({elementName:"token",elementId:"token_"+b.transactionId,type:"hidden",value:lb});a+=k.createInput({elementName:"capture_transactionId",
elementId:"transactionId_"+b.transactionId,type:"hidden",value:b.transactionId});a+=k.createInput({elementName:"form",elementId:"form_"+b.transactionId,type:"hidden",value:b.name});a+=k.createInput({elementName:"flow",elementId:"flow_"+b.transactionId,type:"hidden",value:o.flow});a+=k.createInput({elementName:"client_id",elementId:"client_id_"+b.transactionId,type:"hidden",value:janrain.settings.capture.clientId});a+=k.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+b.transactionId,
type:"hidden",value:janrain.settings.capture.redirectUri});a+=k.createInput({elementName:"response_type",elementId:"response_type_"+b.transactionId,type:"hidden",value:janrain.settings.capture.responseType});a+=k.createInput({elementName:"flow_version",elementId:"flow_version_"+b.transactionId,type:"hidden",value:ba});return a+=k.createInput({elementName:"locale",elementId:"locale_"+b.transactionId,type:"hidden",value:Ya})},div:function(a){return k.createDiv(a)},close:function(a){return"capture"===
a.element?"photoManager"===a.type?"</div>":"":"</"+a.element+">"}},captureElement:{table:function(a){var c='<table class="capture_table">',d=A.prototype.render.htmlElement;if(a.th.display){var c=c+"<tr>",e;for(e in a.th.cols)c+="<th>"+a.th.cols[e]+"</th>";c+="</tr>"}for(var f in a.rows){var c=c+"<tr>",h;for(h in a.rows[f].cells)a.rows[f].cells[h].type&&"radio"===a.rows[f].cells[h].type?(e=a.rows[f].cells[h],e.name="table",a.value&&e.elementValue===a.value[e.rendererChildFieldName]&&(e.checked=!0),
c+="<td>",c+=k.wrapFormItemStart(a),c+=d.input(e),c+=k.wrapFormItemEnd(a),c+="</td>"):c+="<td>"+a.rows[f].cells[h]+"</td>";c+="</tr>"}return c+"</table>"},countrySelect:function(a){a.options=[{text:"country",value:"country",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},
{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",
value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},
{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},
{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},
{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",
value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",
value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",
value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",
value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",
value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},
{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},
{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",
value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},
{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},
{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",
value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return A.prototype.render.htmlElement.select(a)},stateSelect:function(a){var c=[{text:"state",value:"state",disabled:!0}],c=a.noCanadianProvinces?c.concat(Wc):
c.concat(Wc,gd);a.options=c;return A.prototype.render.htmlElement.select(a)},keepMeLoggedIn:function(a){var c=a.fieldPrefix||I,a=""+k.createInput({label:a.label||"Keep me logged in",type:"checkbox",name:a.name,justElement:!0,value:"yes",checked:a.checked||!1,elementName:"capture_keep_me_logged_in"});t.push({elementName:"capture_keep_me_logged_in",handler:function(){loggedInElement=document.getElementById(c+"capture_keep_me_logged_in");loggedInElement.checked?janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},
!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},!0)},eventType:"render"});t.push({elementName:"capture_keep_me_logged_in",handler:function(a){H(a).checked?janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},!0)},eventType:"click"});return a},captcha:function(a){var c="http:"===document.location.protocol?"http://www.google.com/recaptcha/api/js/recaptcha_ajax.js":"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js";
cc||Ca(c,function(){cc=!0});t.push({elementName:a.name,handler:function(){function a(){if("undefined"===typeof Recaptcha)setTimeout(a,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});c=""+k.wrapFormItemStart(a);a.label&&(c+=k.createLabel(a));c=c+'<div id="recaptcha_container"></div>'+
k.createTip(a);return c+=k.wrapFormItemEnd(a)},mergeAccounts:function(a,c){var c=c?M.parse(c):{custom:!1},d=A.prototype.render,e=a.value,f="";e.existing_provider="legacy"===e.existing_provider?"email":e.existing_provider;a.customText||(a.customText={});var h=a.customText.connectRadio||'Connect this session with your existing account <br /><span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',
k=a.customText.connectLegacyRadio||'Connect this session with your existing account <br /><span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',i=a.customText.createRadio||"Create a new account using Google sign-in.",l=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",m=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',
o=a.customText.moreInfo||"More Info ?",p=a.customText.createButton||"Create",q=a.customText.connectButton||"Connect";e.connectRadioText=$(e,h);e.connectLegacyRadioText=$(e,k);e.createRadioText=$(e,i);e.foundExistingAccountText=$(e,l);e.moreInfoHoverText=$(e,m);e.moreInfoText=$(e,o);e.createButtonText=$(e,p);e.connectButtonText=$(e,q);e.connect_button=d.htmlElement.button({elementContent:'<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase()+
'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.current_provider.toLowerCase()+'"></span>'+q,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});e.create_button=d.htmlElement.button({elementContent:p,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});e.merge_radio=d.htmlElement.multiRadio({element:"multiRadio",value:[1],elementName:a.name+"_mergeRadio",
classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===e.existing_provider?$(e,k):$(e,h),value:1},{label:i,value:2}]});e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase();e.existing_provider_lowerCase=
e.existing_provider.toLowerCase();c.custom?t.push({handler:function(){var c=document.getElementById(a.name);c.innerHTML=$(e,c.innerHTML)},eventType:"render"}):f+=$(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}          </div>         <span class="capture_mergeProvider janrain-provider-icon-30 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
t.push({elementName:a.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(yc=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});t.push({elementName:a.name+"_createButton",handler:function(){ic?qb():(lc=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});t.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(I+a.name+"_connectButton").style.display="";document.getElementById(I+a.name+"_createButton").style.display="none";n(document.getElementById(I+"form_item_"+a.name+"_mergeRadio_1_0")).append("capture_toggled");n(document.getElementById(I+"form_item_"+a.name+"_mergeRadio_2_1")).remove("capture_toggled")},eventType:"click"});t.push({elementName:a.name+
"_mergeRadio_2_1",handler:function(){document.getElementById(I+a.name+"_connectButton").style.display="none";document.getElementById(I+a.name+"_createButton").style.display="";n(document.getElementById(I+"form_item_"+a.name+"_mergeRadio_2_1")).append("capture_toggled");n(document.getElementById(I+"form_item_"+a.name+"_mergeRadio_1_0")).remove("capture_toggled")},eventType:"click"});return f},publicProfileLink:function(a,c){var d="",e=c?M.parse(c).elementHref:a.elementHref;a.elementAttributes="object"===
typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=e+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return d+=k.createAnchor(a)},linkAccounts:function(a){function c(d,e,j){var g;g='<li class="capture_provider_linked"><span class="'+("janrain-provider-icon-"+r+" janrain-provider-icon-"+d+(a.customIcons?"-custom":"")+'">');g=g+'</span><span class="'+("janrain-provider-text-"+d+(a.customIcons?"-custom":
"")+'">'+(a.displayFormat?$({provider:d,displayName:e},a.displayFormat):d));g+="</span>";if(Ia||0!==B)g+='<span tabindex="0" class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+d+'" data-captureidentifier="'+j+'"></span>';return g+"</li>"}function d(c){var j=H(c);if(n(j).has("capture_remove_linkedaccount")){var h=j.getAttribute("data-captureidentifier");k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",
elementId:"getUserData_form",fieldPrefix:q,captureScreen:e,needsResponse:!0,callback:function(){var c=j.getAttribute("data-captureprovider");janrain.events.onCaptureProfileUnlink.fire({provider:c});if(a.customAddLinks){var d=j.parentNode,e=document.createElement("li");e.className="capture_custom_add_linkedaccount";e.setAttribute("data-captureprovider",c);e.innerHTML=$({provider:c},a.customAddLinkFormat);d&&d.parentNode?d.parentNode.insertBefore(e,d):document.getElementById(f+a.name+"_linkedproviderlist").appendChild(e)}Lb(j.parentNode)},
fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:h},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:h}]})}J(c)}a.value||(a.value={});a.customText||(a.customText={});var e=U,f=a.fieldPrefix||I,h='<div class="capture_linkAccounts" id="'+f+a.name+'_currentlinkedaccounts">',i=o.fields[a.linkAccountContainer].elementName||o.fields[a.linkAccountContainer].name||a.linkAccountContainer,l=a.customText.linkAnotherAccount||"Link Another Account",m=v(a.value.providers)?
a.value.providers.length:0,p=f+a.name+"_linkaccountsscreen",q=f,r=a.providerIconSize&&x(fd,a.providerIconSize)?a.providerIconSize:16,u=A.prototype.render,h=h+('<ul class="capture_provider" id="'+f+a.name+'_linkedproviderlist">');if(!a.customAddLinks)for(var B=0;B<m;B++)h+=c(a.value.providers[B],a.value.displayNames[B],a.value.identifiers[B]);if(a.customAddLinks){B=0;for(l=a.customProviders.length;B<l;B++)x(a.value.providers,a.customProviders[B])?(m=a.value.providers.indexOf(a.customProviders[B]),
h+=c(a.value.providers[m],a.value.displayNames[m],a.value.identifiers[m])):(h+='<li tabindex="0" class="capture_custom_add_linkedaccount" data-captureprovider="'+a.customProviders[B]+'">',h+=$({provider:a.customProviders[B]},a.customAddLinkFormat)+"</li>");var z=function(a){a=H(a);a=Tc(a,"li");n(a).has("capture_custom_add_linkedaccount")&&(a=a.getAttribute("data-captureprovider"),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.engage&&janrain.engage.signin&&
janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:e},!0),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.triggerFlow(a))};t.push({elementName:a.name+"_linkedproviderlist",handler:z,eventType:"click"});t.push({elementName:a.name+"_linkedproviderlist",handler:function(a){13===a.keyCode&&z(a)},eventType:"keypress"})}else h+='<li class="capture_linkAccount"><a href="#" id="'+f+a.name+'_linknewlink">'+l+"</a></li>";h+="</ul></div>";t.push({elementName:a.name+"_linknewlink",
handler:function(a){janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:e},!0);Qb(document.getElementById(p));J(a)},eventType:"click"});t.push({elementName:a.name+"_currentlinkedaccounts",handler:function(a){13===a.keyCode&&d(a)},eventType:"keypress"});t.push({elementName:a.name+"_currentlinkedaccounts",handler:d,eventType:"click"});h=h+'<div style="display: none;">'+
('<div id="'+p+'" class="janrain-capture-ui capture-ui-content capture_addLinkedAccount">');Z&&Z.modal&&(h+=u.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));h+='<div  id="'+f+a.name+'_linkAccountContainerContainer">';h+="</div></div></div>";a.customAddLinks||t.push({handler:function(){var c=document.getElementById(f+i);document.getElementById(f+a.name+"_linkAccountContainerContainer").appendChild(c)},eventType:"render"});return h},
errorMessages:function(){var a;a=""+A.prototype.render.htmlElement.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+A.prototype.render.htmlElement.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&
!1===a.displayPublic)return"";var c="",c="";a.value.firstname&&(c+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&(c+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(c+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+a.value.lastname+"</span>");return c=a.justString?c:k.wrapStringData(a,
c,"capture_stringdata_nameBlock")},nameFull:function(a){var c,d=A.prototype.render.htmlElement;c='<div class="capture_form_item capture_nameBlock">'+d.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&
a.placeholder.firstname?a.placeholder.firstname:""});c+=d.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""});c+=d.input({elementName:a.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",
type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return c+"</div>"},dateselect_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic||!a.value.dateselect_month||!a.value.dateselect_year||!a.value.dateselect_day)return"";var c="",d="",c=parseInt(a.value.dateselect_month,10),d=parseInt(a.value.dateselect_year,10),e=parseInt(a.value.dateselect_day,
10);a.format?(c=new Date(d,c-1,e),d=a.format,d=d.replace("{yyyy}",c.getFullYear()),d=d.replace("{month}",ed[c.getMonth()]),d=d.replace("{day}",dd[c.getDay()]),d=d.replace("{m}",c.getMonth()+1),d=d.replace("{d}",c.getDate())):d=c+"/"+e+"/"+d;return c=a.justString?d:k.wrapStringData(a,d,"capture_stringdata_dateselectBlock")},dateselect:function(a){function d(e){e=H(e);e=c(e);e=document.getElementById(e+"form_item_"+a.elementName);n(e).append("capture_focused").remove("capture_error");Ob&&window.scrollTo(0,
0);janrain.events.onCaptureContentChange.fire()}function f(d){var e=H(d),g=c(e),g=document.getElementById(g+"form_item_"+a.elementName);n(g).remove("capture_focused");F(e,a)&&ka(d)}a.customText||(a.customText={});var g=a.customText.dayLabelDateSelect||"day",h=a.customText.monthLabelDateSelect||"month",i=a.customText.yearLabelDateSelect||"year",l='<div id="'+(a.fieldPrefix||I)+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',m,o=v(a.format)&&3===a.format.length?a.format:["month",
"day","year"],p=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):"",q=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"";m=a.value&&a.value.dateselect_month?parseInt(a.value.dateselect_month):"";var r=[{text:h,value:"",disabled:!0},{text:"January",value:1},{text:"February",value:2},{text:"March",value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},{text:"August",value:8},{text:"September",value:9},{text:"October",value:10},
{text:"November",value:11},{text:"December",value:12}],x=a.monthStart||1,u=a.monthEnd||13,z=a.dayStart||1,y=a.dayEnd||31,h=a.yearStart||1929,A=a.yearEnd||2012;m={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],justElement:!0,value:m,options:r.slice(0,1).concat(r.slice(x,u))};g={elementName:a.name+"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],
rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:p,options:e(z,y,"asc",g)};h=parseInt(h,10);A=parseInt(A,10);i={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],value:q,options:e(h,A,"desc",i)};for(q=0;3>q;q++){var w;switch(o[q]){case "month":w=m;break;case "day":w=g;break;case "year":w=i}0===q&&(w.label=a.label);
2===q&&(w.publicPrivateToggle=a.publicPrivateToggle,w.displayPublic=a.displayPublic,w.tip=a.tip,w.justElement=!1);l+=k.createSelect(w)}l+="</div>";t.push({elementName:a.name+"_dateselectyear",handler:d,eventType:"focus"});t.push({elementName:a.name+"_dateselectyear",handler:f,eventType:"blur"});t.push({elementName:a.name+"_dateselectday",handler:d,eventType:"focus"});t.push({elementName:a.name+"_dateselectday",handler:f,eventType:"blur"});t.push({elementName:a.name+"_dateselectmonth",handler:d,eventType:"focus"});
t.push({elementName:a.name+"_dateselectmonth",handler:f,eventType:"blur"});return l},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c="",c="";a.value.streetaddress&&(c+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&(c+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+=
'<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(c+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&(c+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(c+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+="</div>";a.value.country&&(c+=
'<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return c=k.wrapStringData(a,c,"capture_stringdata_addressBlock")},addressFull:function(a){var d,e=A.prototype.render.htmlElement;a.value||(a.value={});a.value.country||(a.value.country="United States");d='<div class="capture_form_item capture_addressBlock">'+e.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:a.label||"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,
publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});d+=e.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?
a.placeholder.streetaddress2:""});d+=e.input({elementName:a.name+"[city]",elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});d+=A.prototype.render.captureElement.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",
rendererFieldName:a.name,label:"",placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:""});t.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});d+=e.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],
type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});d+=A.prototype.render.captureElement.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});
t.push({elementName:a.name+"_country",handler:function(d){var d=H(d),d=c(d),e=this.options[this.selectedIndex].value||"",f=document.getElementById(d+a.name+"_stateprovince");"United States"===e||"Canada"===e?document.getElementById(d+"form_item_"+a.name+"[stateprovince]").style.display="inline-block":(f.selectedIndex=0,document.getElementById(d+"form_item_"+a.name+"[stateprovince]").style.display="none")},eventType:"change"});return d+"</div>"},backButton:function(a){var c;a.type="button";a.elementContent=
'<span class="janrain-icon-16 janrain-icon-back"></span>';c=""+k.createButton(a);a.type="backButton";t.push({elementName:a.elementName,handler:function(){O=!1;var a=fc.pop();a&&janrain.capture.ui.render(a.flow,a.values)},eventType:"click"});return c},partial:function(a){var c=document.getElementById(a.layout);if(c)return c.innerHTML;throw y(a.layout);},photoManager:function(a,d){function e(c){db=!1;var d=document.getElementById(n+a.name+"_profile_pic_uploadform_container"),g=document.getElementById(n+
a.name+"_upload_photo_form");d.innerHTML="";var f=document.createElement("div");f.innerHTML=Z;var j=document.createElement("div");j.innerHTML=aa;d.appendChild(f);d.appendChild(g);d.appendChild(j);Qb(document.getElementById(E));d=document.getElementById(n+"photo_chooser");R(d,"change",D);janrain.events.onModalClose.addHandler(function(){db=!0});c&&J(c)}function g(c){if(0<parseInt(c.unscaled.width)){u=c;var d=c.unscaled.height/c.sizedHeight,e=Math.round(p/(c.unscaled.width/c.sizedWidth)),g=document.getElementById(n+
a.name+"_profile_pic_image_edit"),d=Math.round(q/d);"none"===g.style.display&&(g.style.display="block");g.style.width=e+"px";g.style.height=d+"px";g.style.marginLeft="-"+Math.round(c.unscaled.left/c.sizedWidth*e)+"px";g.style.marginTop="-"+Math.round(c.unscaled.top/c.sizedHeight*d)+"px"}}function f(){if(z)return!1;var c=document.getElementById(n+a.name+"_profile_pic_image_edit_crop");crop(c,g,w,r,function(){janrain.events.onCaptureContentChange.fire()});c.style.display="inline";z=!0}function h(a){if(!u)return!1;
H(a);var a=u.sizedWidth/u.originalWidth,b=u.sizedHeight/u.originalHeight;document.getElementById(n+"width").value=Math.round(u.unscaled.width/a);document.getElementById(n+"height").value=Math.round(u.unscaled.height/b);document.getElementById(n+"x").value=Math.round(u.unscaled.left/a);document.getElementById(n+"y").value=Math.round(u.unscaled.top/b)}var d=d?M.parse(d):{custom:!1},i={};if(v(a.value)&&a.value.length){Xa={};for(var l=0,m=a.value.length;l<m;l++)Xa[a.value[l].type]=a.value[l]}else Xa=
!1;var l=k.createDiv({elementName:a.elementName+"_parent"}),o=U,n=a.fieldPrefix||I,m=A.prototype.render.htmlElement,p=a.previewSizeWidth||100,q=a.previewSizeHeight||100,r=a.originalMaxWidth||450,w=a.originalMaxHeight||450,u,z=!1,y="object"===typeof Xa,C=y?"":"capture_profile_pic ",E=n+a.name+"_uploadphotoscreen",G=n+a.name+"_editphotoscreen";i.profilePicClass=C;i.uploadPhotoScreenId=E;i.editPhotoScreenId=G;var p=parseInt(p,10),q=parseInt(q,10),r=parseInt(r,10),w=parseInt(w,10),F={elementName:a.elementName};
y&&Xa.large&&(F.classes=["capture_userphoto"]);i.mainDiv=k.createDiv(F);i.closeDiv="</div>";a.customText||(a.customText={});var F=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",K=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",L=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",N=a.customText.removePhotoLinkPhotoManager||"Remove photo",O=a.customText.editPhotoLinkPhotoManager||"Edit Photo",P=a.customText.chooseDifferentPhotoLinkPhotoManager||
"Choose a different photo",Q=a.customText.editPhotoButtonTextPhotoManager||"Save",S=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",V=a.customText.removePhotoButtonTextPhotoManager||"Remove",W=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",Z=a.customText.uploadNewPhotoInstructionPhotoManager||"",aa=a.customText.uploadNextStepInstructionPhotoManager||"",ba=a.customText.editPhotoPreviewTitlePhotoManager||"";i.editProfilePhotoTitle=a.customText.editProfilePhotoTitlePhotoManager||
"Profile Photo";i.editProfileInstruction=K;i.profilePhotoTitle=F;i.prefixFieldName=n+a.name;i.editPhotoPreviewTitle=ba;Lb(document.getElementById(E));Lb(document.getElementById(G));i.profileImage='<div id="'+n+a.name+'_profile_pic" class="'+C+'capture_profile_pic_display capture_default">';y&&Xa.large&&(i.profileImage+=k.createImage({src:Xa.large.value,imageId:a.name+"_profile_pic_image"}));i.profileImage+="</div>";i.photoLinks=k.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:L,
anchorHref:"#",anchorClasses:["capture_upload_photo_link"],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:O,anchorHref:"#",anchorClasses:["capture_edit_photo_link"],anchorId:"edit_photo_link",hide:!y},{listItemId:"remove_photo",listItemClasses:[],anchorText:N,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!y}],["options"]);i.uploadImage=y&&Xa.large?k.createImage({src:Xa.large.value,imageId:a.name+"_profile_pic_image_upload"}):
"";i.editImage=y&&Xa.original?k.createImage({src:Xa.original.value+"?"+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit"}):"";i.cropImage=y&&Xa.original?k.createImage({src:Xa.original.value+"?"+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}):"";i.photoChooserErrors=k.createDiv({elementId:"photo_chooser_errors"});i.photoChooserErrors+="</div>";var X=ra();k.domHelpers.createIFrame(X);i.uploadFormOpen=m.form({action:"widget/photo/upload_photo.jsonp",
elementAttributes:{enctype:"multipart/form-data"},transactionId:X,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form"});i.uploadFileField=k.createInput({elementName:"photo",elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});i.uploadSubmitButton=k.createInput({elementName:"photo_submit",elementId:"photo_submit",value:S,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});i.uploadFormClose="</form>";var Y=ra();
k.domHelpers.createIFrame(Y);i.editFormOpen=m.form({action:"widget/photo/crop_photo.jsonp",transactionId:Y,name:a.name+"_crop_photo_form",elementName:a.name+"_crop_photo_form"});i.editFormOpen+=k.createDiv({elementName:"",classes:["capture_popup-arrow"],type:"div"});i.editFormOpen+="</div>";i.editFormOpen+=k.createInput({elementName:"width",elementId:"width",justElement:!0,type:"hidden"});i.editFormOpen+=k.createInput({elementName:"height",elementId:"height",justElement:!0,type:"hidden"});i.editFormOpen+=
k.createInput({elementName:"x",elementId:"x",justElement:!0,type:"hidden"});i.editFormOpen+=k.createInput({elementName:"y",elementId:"y",justElement:!0,type:"hidden"});i.editSubmitButton=k.createInput({elementName:"edit_photo_submit",elementId:"edit_photo_submit",value:Q,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});i.editFormClose="</form>";i.chooseDifferentPhotoLink=k.createAnchor({elementHref:"#",elementText:P,elementId:a.name+"_different_photo_link"});d.custom?t.push({handler:function(){var c=
document.getElementById(n+a.name+"_parent");c.innerHTML=$(i,c.innerHTML);t.push({elementName:a.name+"_upload_photo_form",handler:Oa,eventType:"submit"});t.push({elementName:a.name+"_crop_photo_form",handler:Oa,eventType:"submit"});T(X);T(Y)},eventType:"render"}):(l+=$(i,'{| mainDiv |}      {| profileImage |}     {| photoLinks |}     &nbsp;  {| closeDiv |}  <\!-- hidden crop form --\> <div style="display: none;">     {| editFormOpen |}     <div class="capture_footer">         {| chooseDifferentPhotoLink |}         {| editSubmitButton |}     </div>     {| editFormClose |} </div>  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| photoChooserErrors |}             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div>  <\!-- hidden edit photo screen --\> <div style="display: none;">     <div id="{| editPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| editProfilePhotoTitle |}</h1>         </div>         <div class="{| profilePicClass |}profile_pic_edit_container">             <h2>{| editPhotoPreviewTitle |}</h2>             <div id="{| prefixFieldName |}_profile_pic_edit" class="{| profilePicClass |}capture_profile_pic_edit capture_default">                 {| editImage |}                 &nbsp;             </div>         </div>         <div id="{| prefixFieldName |}_profile_pic_editPhoto_container" class="capture_editPhoto_container">             <h2>{| editProfileInstruction |}</h2>             {| cropImage |}         </div>     </div> </div> '),
l+="</div>",t.push({elementName:a.name+"_upload_photo_form",handler:Oa,eventType:"submit"}),t.push({elementName:a.name+"_crop_photo_form",handler:Oa,eventType:"submit"}),T(X),T(Y));t.push({eventType:"render",handler:function(){var c=document.getElementById(n+a.name+"_different_photo_link");R(c,"click",e);c=document.getElementById(n+a.name+"_crop_photo_form");document.getElementById(n+a.name+"_profile_pic_editPhoto_container").appendChild(c);R(c,"submit",h)}});t.push({elementName:"upload_photo_link",
handler:e,eventType:"click"});t.push({elementName:"edit_photo_link",handler:function(a){"function"!==typeof crop?Ca("http://janrain-widgets.s3.amazonaws.com/crop/crop.js",f):setTimeout(f,50);db=!1;Qb(document.getElementById(G));janrain.events.onModalClose.addHandler(function(){db=!0});J(a)},eventType:"click"});t.push({elementName:"remove_photo_link",handler:function(a){var b=H(a),d=c(b);if(!document.getElementById(d+"remove_photo_contain")){var e=k.domHelpers.createDiv({elementId:"remove_photo_contain",
fieldPrefix:d,classes:["capture_popup_container pad"]}),b=k.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementText:V,elementId:"confirm_remove_photo_link"}),g=k.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementId:"cancel_remove_photo_link",elementText:W});e.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';e.appendChild(b);e.appendChild(g);document.getElementById(d+"remove_photo").appendChild(e);var f=function(a){var b=[d+"createFormAndPostSubmit",d+
"confirm_remove_photo_link",d+"remove_photo_link"],c=H(a).getAttribute("id")||"";!x(b,H(a).getAttribute("id"))&&0>c.indexOf(d+"createFormAndPostSubmit_")&&(e.innerHTML="",Lb(e),rc(document,"click",f),J(a))};R(g,"click",f);R(document,"click",f);R(b,"click",function(a){k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:d,captureScreen:o,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});J(a)});J(a)}},
eventType:"click"});return l},slider:function(a){for(var c=k.createDiv({elementName:"slider capture_form_item"}),d=A.prototype.render.htmlElement,e=a.fieldPrefix||I,f=a.value&&a.value.score?a.value.score:0,c=c+("<label>"+a.label+"</label>"),c=c+k.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),c=c+k.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),c=c+k.createDiv({elementName:a.elementName+"_marker",classes:["capture_slider_marker"]}),
c=c+'</div></div><div class="capture_slider_list"><ul>',h=0,i;i=a.legend_items[h];h++)c+="<li>"+i+"</li> ";c=c+"</ul></div></div>"+d.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&a.value.score?a.value.score:""});c+="</div>";t.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(e+a.elementName+
"_marker").style.left=f+"%"}});if(!0===a.enabled){var l=!1;t.push({elementName:a.elementName+"_marker",eventType:"mousedown",handler:function(c){l=!0;var d=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),j=d.getBoundingClientRect().width;(new Ic).setElement(document.getElementById(e+a.elementName+"_marker")).setElementBoundry(document.getElementById(e+a.elementName+"_container")).setCallback(function(a){f.value=Math.round(100*(a.pos_x/j))}).drag(c)}});
t.push({elementName:a.elementName+"_marker",eventType:"mouseup",handler:function(){var c=document.getElementById(e+a.elementName+"_marker"),d=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),j=d.getBoundingClientRect().width,c=parseInt(Pc(c.id,"left")),j=d.getBoundingClientRect().width;f.value=Math.round(100*(c/j))}});t.push({elementName:a.elementName+"_container",eventType:"mouseover",handler:function(){document.getElementById(e+a.elementName+"_container").style.cursor=
"pointer"}});t.push({elementName:a.elementName+"_container",eventType:"click",handler:function(c){if(!0===l)l=!1;else{var d=document.getElementById(e+a.elementName+"_marker"),f=document.getElementById(e+a.elementName+"_base"),j=document.getElementById(e+a.elementName+"_score"),h=f.getBoundingClientRect().width,i=c.clientX-Vc(f).x;_marker_left_style=parseInt(Pc(d.id,"left"));_marker_left=isNaN(_marker_left_style)?0:_marker_left_style;_time=500;(new Ic).setElement(d).setAcceleration("sinusoidal").setDuration(_time).startPosition(_marker_left).endPosition(i).setDirection("horizontal").setCallback(function(){j.value=
Math.round(100*(i/h))}).animate()}}})}return c},collection:{radio:function(a){for(var c=a.fieldPrefix||I,d=k.createDiv({elementName:a.elementName,classes:a.classes||""}),e=0;e<a.collection.length;e++)d+="<div class='capture_radio_toggle",d+=(0===e?" capture_toggled":"")+"'>",d+="<input type='radio' id='"+c+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",d+="<label ",d+="class='capture_radio_label' ",d+="for='"+
c+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",d+="</label></div>",t.push({elementName:"radio_"+a.collection[e].elementName,handler:function(c){S(c,a)},eventType:"click"});return d+"</div>"},accordion:function(){return"<div>"},tab:function(a){for(var c,d=[],e=k.createDiv({elementName:a.elementName,classes:a.classes||""}),f=0;f<a.collection.length;f++)c={},c.listItemId="tab_li_"+a.collection[f].elementName,c.listItemClasses=["capture_tab_toggle"],0===f&&c.listItemClasses.push("capture_toggled"),
c.anchorId="tab_"+a.collection[f].elementName,c.anchorText=a.collection[f].label,c.anchorHref="#",d.push(c),t.push({elementName:"tab_"+a.collection[f].elementName,handler:function(c){S(c,a)},eventType:"click"});e+=k.createListOfLinks(d,["capture_tabs"]);return e+"</div>"}},pluralIterator:function(a){var c="",d="",e=a.format||"",f=a.startHTML||"",h=a.endHTML||"",a=v(a.value)?a.value:[],i=a.length,k;for(k=0;k<i;++k)d+=$(a[k],e);d&&(c+=f+d+h);return c}},widget:{login:function(){t.push({handler:function(){var a=
document.getElementById("janrainEngageEmbed"),b=document.getElementById(I+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=ra();janrain.engage.signin.appendTokenParams({capture_transactionId:c});Bc=c}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());Kc||la()},
eventType:"render"});var a=k.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(a,c){c=c?M.parse(c):{text:"Share"};t.push({elementName:"share_widget",eventType:"click",handler:function(){janrain.engage.share.show()}});var d=k.createDiv({elementName:"share_widget",classes:["share_widget"]});return d+=c.text+" </div>"}}};var Zc,$c,Lc=0,db=!0,za={};Ja.accessDenied='<div class="capture_access">'+(eb.accessDenied||"Sorry. Access denied.")+"</div>";Ja.retrievingUserData=
'<div class="capture_retrieving">'+(eb.retrievingUserData||"Please wait while we retrieve your user data.")+"</div>";var Hc=[],Jc={};return{modal:{close:function(){"object"==typeof u&&u.close()},closeConfirm:function(){"object"==typeof u&&u.closeConfirm()},open:function(a){a=a||Z.flow.defaultScreen;if("object"==typeof u&&(janrain.capture.ui.renderScreen(a),a=document.getElementById(o.screens[a].layout)))u.setShowContentOnLoad(!0),u.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},
setBorder:function(a){"object"===typeof u&&(u.setBorder(a),u.refresh());return!0},setBorderColor:function(a){"object"===typeof u&&(u.setBorderColor(a),u.refresh());return!0},setBorderOpacity:function(a){"object"===typeof u&&(u.setBorderOpacity(a),u.refresh());return!0},setBorderRadius:function(a){"object"==typeof u&&(u.setBorderRadius(a),u.refresh());return!0},setOverlayZIndex:function(a){"object"==typeof u&&(u.setZIndex(a),u.refresh());return!0}},start:function(b,c){a(b,c)},hasActiveSession:function(){return!!Ea},
render:function(a,c){a.i18nStrings&&(eb=a.i18nStrings);if(a.version)ba=a.version;else throw Error("MissingVersionError: Missing version.");Db(a);Ia=a.hasTraditionalAccount;Wa=a.form;if(Ia)for(var d=oa("janrain_traditional_account_only"),e=d.length,f=0;f<e;f++)d[f].style.display="";Ub(a);d=new Ka;e=!1;ic&&gc&&(e=janrain.settings.capture.registerFlow||"socialRegister");e=o.oneTimeRender||e||janrain.settings.capture.screenToRender||o.defaultScreen;d.setScreenData(e,o.screens[e]);if(c)for(var h in c)c[h].id&&
c[h].value&&(d=document.getElementById(c[h].id),d.value=c[h].value,"radio"===c[h].type&&(d.checked=c[h].checked,c[h].checked&&d.click()))},renderScreen:function(a,c){O=!1;c||fc.push(Z);(new Ka).setScreenData(a,o.screens[a])},setHandler:function(a,c,d){this.setFieldAttribute(a,c+"Handler",d)},setFieldAttribute:function(a,c,d){hc.push({field:a,attribute:c,value:d})},setRenderer:function(a,c,d){A.prototype.render[a].helpers=Ra;A.prototype.render[a][c]=d},setValidator:function(a,c){G.prototype[a]=c},
registerFunction:function(a,c){Jc[a]=c},addRenderer:function(a,c,d){this.setRenderer(a,c,d)},trackLoadedCssFiles:function(a){Qa.push(a)},handleCaptureUniqueResponse:function(a){Wb(a)},handleCaptureResponse:function(a,c){Vb(a,c)},handleErrorResponse:function(a,c){janrain.events.onCaptureError.fire("object"===typeof a?a:"{"+a+"}");a.result&&a.result.error&&"access_token_expired"===a.result.error&&(xa(),janrain.events.onCaptureExpiredToken.fire());var d=a.result.error+": "+a.result.errorDescription;
if("linkError"===a.result.error&&o.fields.linkedAccounts&&o.fields.linkedAccounts.messages&&o.fields.linkedAccounts.messages.errors&&o.fields.linkedAccounts.messages.errors.linkError){var d=o.fields.linkedAccounts.messages.errors.linkError,e=N().getCookie("expected_tab");janrain.events.onCaptureLinkAccountError.fire({message:d,provider:e})}else mc&&(e=k.domHelpers.createDiv({classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()}),e.innerHTML=d,mc.insertBefore(e,mc.firstChild),
janrain.events.onCaptureContentChange.fire()),mc||alert(d),ga(a),"function"===typeof c&&c()},createCaptureSession:function(a){aa(a)},endCaptureSession:function(){xa()},addTransactionIds:function(a){da(a)},getFailedLogins:function(){return P},setCustomHtml:function(a,c){x(xc,a)&&(Ja[a]=c)},getEngageCookie:function(a){return Cb(a)},getProfileCookieData:function(a,c){return Rb(a,c)},federateLogoutCallbackFired:function(a,c){x(r,a)||(r.push(a),c())},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);
Fb(a.transactionId);wb();zb=!0},federateSetLoginSuccess:function(a){a&&a.transactionId&&Sa&&Sa[a.transactionId]&&(Sa[a.transactionId].setLoginSuccess=!0,Sa[a.transactionId].eventFiredDueToSlowResponse||ya(a.transactionId))},federateRefreshToken:function(a){a&&"ok"===a.stat&&(aa(a.accessToken,!1,!0),jb())},scriptLoader:function(a,c){return sc(a,c)},noop:function(){},validationHandler:function(a){var c=document.getElementById(a.elementId),d=new k.validation;d.setParentDiv(c);d.setElement(c);d.valid();
a.valid?d.valid():d.notValid(a.reason)}}};return{engage:{signin:janrain&&janrain.engage&&janrain.engage.signin?janrain.engage.signin:pa,share:janrain&&janrain.engage&&janrain.engage.share?janrain.engage.share:X,publish:janrain&&janrain.engage&&janrain.engage.publish?janrain.engage.publish:yb,simpleshare:janrain&&janrain.engage&&janrain.engage.simpleshare?janrain.engage.simpleshare:kb},capture:{ui:id}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;