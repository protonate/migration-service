/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2013.17
 -*- Capture UI Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2013.17
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var Fb,yb,jc,hd,fe,ge,zb,Id,he,ie,je,ke,rb,jb;function id(){var a;a="http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.1.10/":"https://d3hmp0045zy3cs.cloudfront.net/2.1.10/";if(janrain.settings.capture&&janrain.settings.capture.quiltVersion){a=a.split("/");if("cdn.quilt.janrain.com"===a[2]||"d3hmp0045zy3cs.cloudfront.net"===a[2])a[a.length-2]=janrain.settings.capture.quiltVersion;a=a.join("/")}return a}function Jd(a,c,d){var e;if(document.getElementById(a))return!1;
if(g){e="";var s=document.createElement("div");s.innerHTML=e+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+c+'" ')+'style="display: none;"></iframe>';document.body&&document.body.appendChild(s);e=document.getElementById(a)}else e=document.createElement("iframe"),e.setAttribute("name",a),e.id=a,e.setAttribute("src",c),e.style.display="none",document.body&&document.body.appendChild(e);"function"===typeof d&&d();return e}function Ka(a){for(var c="",d=0;d<a;)c+=Ka.possible[Math.floor(Math.random()*
Ka.possible.length)],d++;return c}function Cc(){function a(a,c,d,e){c={action:a,key:c,messageId:d};"set"===a&&(c.value=e);return"janrainCapture:"+K.stringify(c)}function c(a,c){function d(){e++;if(10<e)return!1;if("undefined"!==typeof q[a])return clearTimeout(h),"get"===q[a].action&&"function"===typeof c&&c(q[a].storedValue),!0;var h=setTimeout(d,50)}var e=0;d()}function d(d,e){var h=Ka(40);window.setTimeout(function(){f.contentWindow.postMessage(a("get",d,h),w)});c(h,e)}function e(a,c){if(h)Dc?d(a,
c):setTimeout(function(){e(a,c)},50);else return window.localStorage.getItem(a)}function s(a){if(0!==a.data.indexOf("janrainCapture:")||!B(Ie,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=K.parse(a.data.replace("janrainCapture:",""));q[a.messageId]=a}var h=!1,q={},f,w,Ie=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(d,e){if(h){var s=Ka(40);window.setTimeout(function(){f.contentWindow.postMessage(a("set",
d,s,e),w)});return c(s)}return window.localStorage.setItem(d,e)},removeItem:function(d){if(h){var e=Ka(40);window.setTimeout(function(){f.contentWindow.postMessage(a("remove",d,e),w)});return c(e)}return window.localStorage.removeItem(d)},getItem:e,setMultiDomain:function(a){if(h=a)window.addEventListener?window.addEventListener("message",s,!1):window.attachEvent?window.attachEvent("onmessage",s):document.attachEvent&&document.attachEvent("onmessage",s),f=document.getElementById("xDomainLocalStorageJanrain"),
w=janrain.settings.storageServerDomain}}}function H(){function a(){if(s&&Ec){var a=new Cc;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(e);a.removeItem(e+"_Expires")}else{var a=q?"; domain="+q:"",c=new Date;c.setTime(c.getTime()+-864E6);document.cookie=e+"="+h+";expires="+c.toUTCString()+a+"; path="+f}}function c(c,d,h){var q,f,jd,g,k,h="undefined"===typeof h?!0:h;if(s&&Ec)if(k=new Cc,janrain.settings.multiDomainLocalStorage)k.setMultiDomain(!0),k.getItem(c,function(q){q?
h?k.getItem(c+"_Expires",function(h){h?Math.round((new Date).getTime()/1E3)>Math.round((new Date(h)).getTime()/1E3)?(e=c,a(),"function"===typeof d&&d(!1)):"function"===typeof d&&d(q):(new H).getCookie(c+"_session")?"function"===typeof d&&d(q):(e=c,a())}):"function"===typeof d&&d(q):"function"===typeof d&&d(!1)});else if(g=k.getItem(c),q=k.getItem(c+"_Expires"),g){if(!h||!(q&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(q)).getTime()/1E3))&&(q||(new H).getCookie(c+"_session")))return g;
e=c;a()}else return!1;else{q=document.cookie.split(";");f=q.length;for(var S=0;S<f;S++)if(jd=q.pop(),g=jd.split("="),jd=g[0],g=g[1],jd.trim()===c)return g;return!1}}var d,e,s=!1,h,q,f="/";return{create:function(){if(s&&Ec){var a=new Cc;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(e,h);d?a.setItem(e+"_Expires",d):(new H).setName(e+"_session").setValue("session").create()}else document.cookie=e+"="+h+(d?"; expires="+d:"")+(q?"; domain="+q:"")+"; path="+f},remove:a,setExpirationDirectly:function(a){a&&
(d=a);return this},setExpiration:function(a){if(a){var c=new Date;c.setTime(c.getTime()+864E5*a);d=c.toUTCString()}return this},setName:function(a){a&&(e=a);return this},setValue:function(a){"undefined"!==typeof a&&(h=a);return this},setUseLocalStorage:function(a){s=a;return this},setPath:function(a){a&&(f=a);return this},setDomain:function(a){a&&(q=a);return this},getCookie:function(a,d,e){return c(a,d,e)}}}function kc(a,c){a=a||navigator.appName;c=c||qa;return"Microsoft Internet Explorer"===a&&
null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(c)?parseFloat(RegExp.$1):!1}function kd(a){return!/Chrome\//.test(a||qa)&&/Safari\//.test(a||qa)}function Fc(a){a=a||qa;return-1<a.indexOf("iPod")?"iPod":-1<a.indexOf("iPhone")?"iPhone":-1<a.indexOf("iPad")?"iPad":0}function $(a,c,d,e,s,h){"number"===typeof d&&"number"===typeof e&&"number"===typeof s&&"number"===typeof h?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=d+"px "+e+"px "+s+"px "+h+"px"),"undefined"!==typeof a.style.MozBorderRadius&&
(a.style.MozBorderRadius=d+"px "+e+"px "+s+"px "+h+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=d+"px "+e+"px "+s+"px "+h+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=c+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px"));return a}function lc(a,c){if("undefined"===typeof a||"undefined"===typeof c)return!1;var d=a-c;
0>d&&(d=0);d>a&&(d=a);return d}function Gc(a,c){if(g&&(9>=g||document.documentMode&&9>=document.documentMode))return a.style.backgroundImage="url('"+Hc("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;var d;if(d=kd()){a:{if(qa&&(d=qa.match(/(\d)[\d.]+ Safari/))&&d[1]){d=1*d[1];break a}d=0}d=4>=d}if(d||Ba.getMobileDevice()){var e=d="",s="",h=c.split(","),q={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};h[0]&&q[h[0]]&&
(d=q[h[0]]);h[1]&&(e="from("+h[1]+")");h[h.length-1]&&(s="to("+h[h.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+d+","+e+","+s+")"}a.style.backgroundImage="-moz-linear-gradient("+c+")";a.style.backgroundImage="-webkit-linear-gradient("+c+")";a.style.backgroundImage="-ms-linear-gradient("+c+")";a.style.backgroundImage="-o-linear-gradient("+c+")";a.style.backgroundImage="linear-gradient("+c+")"}function mc(a,c,d,e){var s=Ic(d),h=Ic(d,e);if(d=Kd(d))d.a=e,h="rgba("+d.r+", "+d.g+", "+
d.b+", "+d.a+")";if(0<c){a.style.backgroundColor=s;a.style.padding=c+"px";if(0<g&&8>=g||g&&da)return!1;a.style.backgroundColor=h;a.style.padding=c+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function Kd(a){var c={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;c.r=a[0];c.g=a[1];c.b=a[2];c.a=a[3]?a[3]:1;return c}function Ic(a,c){var d=a.split("");if("#"!==d[0])return a;
4===a.length&&(a=d[0]+d[1]+d[1]+d[2]+d[2]+d[3]+d[3]);var a=a.substring(1,7),d=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,4),16),s=parseInt(a.substring(4,6),16);return isNaN(c)?"rgb("+d+","+e+","+s+")":"rgba("+d+","+e+","+s+","+c+")"}function A(a,c,d){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+c,d):a.addEventListener(c,d,!1)}function Ab(a,c,d){"object"===typeof window.detachEvent?a.detachEvent("on"+c,d):a.removeEventListener(c,d,!1)}function nc(){var a,
c;"undefined"!=typeof window.innerWidth?(a=window.innerWidth,c=window.innerHeight):(a=document.documentElement.offsetWidth,c=document.documentElement.offsetHeight);return{width:a,height:c}}function ld(){var a,c,d,e,s,h,q,f;c=document.documentElement?document.documentElement:{clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,offsetWidth:0,offsetHeight:0};q=c.scrollWidth?c.scrollWidth:0;f=c.scrollHeight?c.scrollHeight:0;s=c.offsetWidth?c.offsetWidth:0;h=c.offsetHeight?c.offsetHeight:0;d=document.body.scrollWidth?
document.body.scrollWidth:0;e=document.body.scrollHeight?document.body.scrollHeight:0;a=document.body.offsetWidth?document.body.offsetWidth:0;c=document.body.offsetHeight?document.body.offsetHeight:0;s=Math.max(d,q,a,s);return{height:Math.max(e,f,c,h),width:s}}function Bb(a){return{width:a.style&&a.style.width?parseInt(a.style.width):a.offsetWidth?parseInt(a.offsetWidth):0,height:a.style&&a.style.height?parseInt(a.style.height):a.offsetHeight?parseInt(a.offsetHeight):0}}function me(a,c){var d=document.getElementById(a);
if(!d)return null;if("object"===typeof d.currentStyle)var e=d.currentStyle[c];else window.getComputedStyle&&(e=document.defaultView.getComputedStyle(d,null).getPropertyValue(c));return e}function Q(a,c,d,e,s){var h=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,q=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!t(e))return s||D.log(e+" is wrong type, must be array, using default value instead"),d;if(c&&t(c))for(var f=0;f<e.length;f++)if(0>c.indexOf(e[f]))return s||
D.log(e+" is not within the valid range, using default value instead"),d;return e}if("url"===a){if("string"!==typeof e)return d;e&&(e=e.trim());if(/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(e))return e;s||D.log(e+" is not the valid format, using default value instead");return d}if("text"===a){if(c){if(0<=c.indexOf(e))return e;s||D.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+d+'" instead');return d}return h.test(e)?e:d}if("usertext"===
a){if("string"!==typeof e&&"number"!==typeof e)return d;if(t(c)){if(1===c.length){if(e.length<=c[0])return e;s||D.log(e+" is too long, using default value instead");return d}if(2===c.length){if(e.length<=c[1]&&e.length>=c[0])return e;s||D.log(e+" is not within the valid range, using default value instead");return d}s||D.log("usertext range is invalid, using default value instead");return d}return e}"string"===typeof e&&0==e.length&&(e=" ");if(!h.test(e))return s||D.log(e+" contains invalid character(s)"),
d;if("boolean"===a){if("boolean"===typeof e)return e;s||D.log(e+" is wrong type, must be boolean, using default value instead");return d}if("text"===a)return e;if("number"===a){if(isNaN(parseInt(e)))return s||D.log(e+" is wrong type, must be a valid number"),d;e=parseFloat(e)}if("color"===a){e&&(e=e.trim());if("transparent"===e||q.test(e))return e;s||D.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+d+'" instead');return d}if(typeof e!=a&&
"color"!=a)return s||D.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+a),d;if("object"===typeof c&&"string"===a){if(0<=c.indexOf(e))return e;s||D.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+d+'" instead');return d}if("object"===typeof c&&"number"===a){2===c.length?(h=c[0],q=c[1]):(h=c.shift(),q=c.pop(),f=c);if(e<h)return s||D.log("Value of "+e+" for "+arguments.callee.caller.name+" is below minimum of "+h+", using minimum value of "+
h+" instead"),h;if(e>q)return s||D.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+q+", using maximum value of "+q+" instead"),q;if(f&&"number"===typeof f.indexOf(e)||e==h||e==q)return e;return f?(s||D.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+d+" instead"),d):e}return 0!=e&&!e?d:e}function Sb(a){for(var c=Sb.options,a=c.parser[c.strictMode?"strict":"loose"].exec(a),d={},e=14;e--;)d[c.key[e]]=a[e]||"";d[c.q.name]=
{};d[c.key[12]].replace(c.q.parser,function(a,e,q){e&&(d[c.q.name][e]=q)});return d}function mb(a){return document.getElementById(N(a).getAttribute("id"))}function N(a){return a.target?a.target:a.srcElement}function md(a,c){function d(a){A=!0;"undefined"!==typeof g&&clearTimeout(g);if("string"===typeof a)return"function"===typeof f&&f(a),!0;if("object"===typeof a||"undefined"===typeof a)return"object"===typeof a&&"error"===a.type?"function"===typeof f&&f(a):"function"===typeof s&&s(),!0}function e(){w++;
if(A)return!0;w<h?g=setTimeout(e,50):d("Load Timeout Error")}var s=c,h=200,q=!1,f,w=0,g,k=document.createElement("script"),t=document.getElementsByTagName("script")[0],A=!1;k.src=a;k.setAttribute("type","text/javascript");k.onload=k.onerror=k.onreadystatechange=function(a){!A&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&d(a)};return{setTimeoutCallback:function(a){q=!0;f=a;return this},setCallback:function(a){s=a;return this},setTimeoutLimit:function(a){h=a;return this},
load:function(){t.parentNode.insertBefore(k,t);q&&e()}}}function Ca(a,c){md(a,c).load()}function ne(a,c){g&&9>g&&oc(a,c)}function oc(a,c,d){function e(d){w=!1;"function"===typeof c&&c();janrain.events.onCssLoad.fire({source:a,noload:d,save:!0})}function s(){if(w){for(k=g.length;0<=--k;)if(g[k].href===q.href){e();break}f+=1;w&&(200>f?setTimeout(s,50):e(!0))}}function h(){var a;try{a=!!q.sheet.cssRules}catch(c){f+=1;200>f?setTimeout(h,50):a&&e(!0);return}e()}if(B(nd,a))d&&"function"===typeof c&&c();
else{nd.push(a);var q,f=0,w=!0,g=document.styleSheets,k;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new sb);Jc?(q=document.createElement("style"),q.innerHTML='@import "'+a+'";'):(q=document.createElement("link"),q.rel="stylesheet",q.href=a,q.type="text/css");od||Jc?(od&&s(),Jc&&h()):(q.onload=function(){e()},q.onerror=function(){e(!0)});document.getElementsByTagName("head")[0].appendChild(q)}}function k(a){var c;c=a&&a.className?a.className.split(" "):[];return{append:function(d){-1===
c.indexOf(d)&&(c.push(d),a&&(a.className=c.join(" ")));return this},remove:function(d){-1!==c.indexOf(d)&&(c.splice([c.indexOf(d)],1),a&&(a.className=c.join(" ").trim()));return this},has:function(a){return-1!==c.indexOf(a)}}}function oe(a,c){Da(a.style,c)}function va(a,c){a.appendChild(document.createTextNode(c))}function tb(a,c){a.innerHTML="";va(a,c)}function Ld(a){for(var c=a.lastChild;c;)a.removeChild(c),c=a.lastChild}function Md(a){var c=typeof a;return("number"===c||"string"===c&&0<a.length)&&
ub(a)?parseFloat(a):null}function Ua(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getMonth())}function t(a){return"[object Array]"===Object.prototype.toString.call(a)}function Kc(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)}function B(a,c){return!t(a)?!1:-1<a.indexOf(c)}function ia(a,c){for(var d in a)wa(a,d)&&c.call(a[d],d,a[d]);return a}function fb(a,c){if("undefined"===typeof c||0===c.length||!Kc(a)&&!t(a))return a;for(var d=c.split("."),e=a,s=0,
h=d.length;s<h&&!(e=e[d[s]],void 0===e||null===e);++s);return e}function Hb(a,c,d){for(var e=0,s=a.length;e<s;e++)c.call(d,a[e],e,a)}function Tb(a){a&&a.parentNode&&a.parentNode.removeChild(a);return a}function pe(a,c){for(var d=c.parentNode;null!=d;){if(d==a)return!0;d=d.parentNode}return!1}function ra(a){var c=t(a)?[]:{},d;for(d in a)wa(a,d)&&(c[d]=ra.isCloneable(a[d])?ra(a[d]):a[d]);return c}function Lc(a,c){var d=[],e=!(c&&!1===c.encode),s=c&&!0===c.allowDupes;ia(a,function(a,c){var f=s&&t(c)?
c:[c];d.push.apply(d,f.map(function(c){return e?encodeURIComponent(a)+"="+encodeURIComponent(c):a+"="+c}))});return(d.length?"?":"")+d.join("&")}function Je(a,c){for(var d,e={},s=a.split(c||"&"),h=0,q=s.length;h<q;h++)d=s[h].split("="),d[0]&&(e[d[0]]=d[1]);return e}function pd(a,c,d){if(!a)return"";if(!c)return a;var e=Sb(a),a=e.protocol+"://"+e.authority+e.path,s=e.anchor?"#"+e.anchor:"",h={};ia(c,function(a,c){var e=d&&t(c)?c:[c];h[encodeURIComponent(a)]=e.map(encodeURIComponent)});c=Lc(Da(e.queryKey,
h),{encode:!1,allowDupes:d});return a+c+s}function Nd(a,c){ia(c,function(c,e){wa(a,c)?t(a[c])?a[c].push(e):a[c]=[a[c],e]:a[c]=e});return a}function P(a){if(!a)return!1;if(a.preventDefault)a.preventDefault();else try{a.returnValue=!1}catch(c){}}function pc(a){if(!a)return!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Ke(a){var c;a&&(c=La(a.getElementsByTagName("input")),c=c.concat(La(a.getElementsByTagName("button"))),c=qe(c,{type:"submit"})[0]);return c}function ub(a){return!isNaN(parseFloat(a))&&
isFinite(a)}function re(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var c=a.split("/"),a=parseInt(c[1],10),d=parseInt(c[0],10),c=parseInt(c[2],10),e=new Date(c,d-1,a);return e.getFullYear()==c&&e.getMonth()==d-1&&e.getDate()==a?!0:!1}return!1}function kb(a,c,d){var e,s=se,h=Le;void 0===a&&(a="{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}");void 0===c&&(c=new Date);d&&(d.monthNames&&t(d.monthNames)&&12===d.monthNames.length&&(s=d.monthNames),d.dayNames&&t(d.dayNames)&&7===d.dayNames.length&&(h=
d.dayNames));d=function(){var a=c.getHours();12<a&&(a-=12);0===a&&(a=12);return a};e=function(a){return 10>a?"0"+a:a};a=a.replace(/{yyyy}/g,c.getFullYear());a=a.replace(/{month}/g,s[c.getMonth()]);a=a.replace(/{mmm}/g,s[c.getMonth()].substring(0,3));a=a.replace(/{day}/g,h[c.getDay()]);a=a.replace(/{0m}/g,e(c.getMonth()+1));a=a.replace(/{m}/g,c.getMonth()+1);a=a.replace(/{0d}/g,e(c.getDate()));a=a.replace(/{d}/g,c.getDate());a=a.replace(/{ord}/g,function(){var a=["th","st","nd","rd"],d=c.getDate()%
100;return a[(d-20)%10]||a[d]||a[0]}());a=a.replace(/{0hour}/g,e(d()));a=a.replace(/{hour}/g,d());a=a.replace(/{0h}/g,e(c.getHours()));a=a.replace(/{h}/g,c.getHours());a=a.replace(/{minute}/g,e(c.getMinutes()));a=a.replace(/{second}/g,e(c.getSeconds()));return a=a.replace(/{ampm}/g,11<c.getHours()?"PM":"AM")}function te(a,c,d){function e(){var a=w.search(k);if(-1===a)return!1;var c=w.substring(a,a+2);isNaN(c)||12<c?(g.setMonth(w.substring(a,a+1)-1),w=w.substring(a+1)):(g.setMonth(c-1),w=w.substring(a+
2));return ma=!0}function s(){var a=w.search(k);if(-1===a)return!1;var c=w.substring(a,a+2);isNaN(c)||31<c?(g.setDate(w.substring(a,a+1)),w=w.substring(a+1)):(g.setDate(c),w=w.substring(a+2));return ua=!0}function h(){var a;a=w.search(k);if(-1===a)return!1;w=w.substring(a);a=w.match(t)[0];g.setFullYear(a);w=w.substring(a.length);return Gb=!0}function f(){var a,c,d=-1,e;for(e=0;12>e;++e)a=w.search(A[e]),-1===d&&-1<a&&(d=a,c=e),-1<a&&a<d&&(d=a,c=e);if(-1===d)return!1;g.setMonth(c);w=w.substring(d);
a=w.search(D);-1===a&&(a=w.length);w=w.substring(a);return ma=!0}var g=new Date,a=a.match(/\{+([a-z0])+\}/g),w=c,k=/[0-9]{1}/,t=/[0-9]+/,A=[/jan/i,/feb/i,/mar/i,/apr/i,/may/i,/jun/i,/jul/i,/aug/i,/sep/i,/oct/i,/nov/i,/dec/i],D=/[^a-zA-Z]/,ma=!1,Gb=!1,ua=!1;"undefined"===typeof d&&(d=!1);g.setMonth(0);g.setFullYear(0);g.setDate(1);g.setMinutes(0);g.setSeconds(0);g.setHours(0);g.setMilliseconds(0);for(var c=0,S=a.length;c<S;++c){var J=!0;switch(a[c]){case "{m}":ma||(J=!1,d||(J=f()),J||(J=e()));break;
case "{0m}":ma||(J=!1,d||(J=f()),J||(J=e()));break;case "{month}":ma||(J=f(),!J&&!d&&(J=e()));break;case "{mmm}":ma||(J=f(),!J&&!d&&(J=e()));break;case "{d}":ua||(J=s());break;case "{0d}":ua||(J=s());break;case "{yyyy}":Gb||(J=h())}if(!J){g=new Date("Invalid Date");break}if(ma&&Gb&&ua)break}return g}function Da(a,c){for(var d in c)wa(c,d)&&(a[d]=c[d]);return a}function ue(a,c){if(!ra.isCloneable(a)||!ra.isCloneable(c))return a;for(var d in c)wa(c,d)&&(a[d]="undefined"===typeof a[d]||!ra.isCloneable(a[d])?
ra.isCloneable(c[d])?ra(c[d]):c[d]:ra.isCloneable(c[d])?ue(a[d],c[d]):c[d]);return a}function T(a,c){for(var d=c,e=/\{\|(.*?)\|\}/,f;f=e.exec(d);)try{var h=f[1].trim(),d=d.replace(f[0],"undefined"!==typeof a[h]?a[h]:"")}catch(q){return window.console&&window.console.log&&console.log(q.name+": "+q.message,"error"),!1}return d}function Mc(a,c){if(a){if(a.nodeName.toLowerCase()===c.toLowerCase())return a;if(!a.parentNode)return!1;var d=a.parentNode.nodeName.toLowerCase();return"body"===d?!1:d===c.toLowerCase()?
a.parentNode:Mc(a.parentNode,c)}}function qd(a,c){return!a?!1:"body"===a.nodeName.toLowerCase()?!1:k(a).has(c)?a:qd(a.parentNode,c)}function rd(a){var c=[],d;for(d in a)wa(a,d)&&c.push(d+'="'+a[d]+'"');return c.join(" ")}function La(a){return"string"===typeof a?a.split(""):Array.prototype.map.call(a,function(a){return a})}function ve(a){if(a&&0<a.length)for(var a=a[0].children,c=a.length,d=0;d<c;++d)a[d].blur&&a[d].blur()}function Me(a,c){for(var d=[],e=0,f=a.length;e<f;e++)c(a[e])&&d.push(a[e]);
return d}function qe(a,c){return Me(a,function(a){for(var e in c)if(wa(c,e)&&a[e]!==c[e])return!1;return!0})}function we(a){var c,d;if(a&&(a.blur&&a.blur(),a.children)){d=a.children;a=0;for(c=d.length;a<c;a++)we(d[a])}}function wa(a,c){return Object.prototype.hasOwnProperty.call(a,c)}function sd(){function a(a){var a=a||"img",d=document.createElement(a);d.style.position="absolute";d.style.cursor="pointer";d.style.zIndex=1E3;"a"===a?(d.setAttribute("href","#"),d.className="janrain_modal_closebutton",
ia&&(d.innerHTML=ia)):(d.src=Da,ra||(d.style.right="-6px",d.style.top="-7px",d.style.height="31px",d.style.width="28px"));d.onclick=Ca?e:c;return d}function c(a){Ma||(E.style.display="none",K.style.display="none",V.style.display="none");na&&Ba.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&cb.fire();"object"===typeof a&&P(a)}function d(){var a=document.createElement("div"),d=document.createElement("div"),e=document.createElement("a"),h=document.createElement("a"),
f=document.createElement("h3");e.innerHTML=wa;h.innerHTML=Ha;f.innerHTML=va;e.setAttribute("href","#");h.setAttribute("href","#");a.className="janrain_close_confirm_container";d.className="janrain_close_confirm";e.className="janrain_modal_confirm";h.className="janrain_modal_cancel";A(e,"click",function(a){c();E.removeChild(Fa);Fa=null;P(a)});A(h,"click",function(a){E.removeChild(Fa);Fa=null;P(a)});d.appendChild(f);d.appendChild(h);d.appendChild(e);a.appendChild(d);return a}function e(a){Fa||(Fa=d(),
E.appendChild(Fa));P(a)}function f(a){var c=document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,d=document.documentElement.scrollLeft>=document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,e=nc(),h=Bb(a),s=e.height-h.height,e=e.width-h.width,c=c+s/2,d=d+e/2;J()&&(0>s&&(document.documentElement.scrollTop=0,document.body.scrollTop=0,c=10),0>e&&(document.documentElement.scrollLeft=0,d=document.body.scrollLeft=
0),a.style.top=c+"px",a.style.left=d+"px");"absolute"!==a.style.position&&(a.style.position="absolute")}function h(){if(Ma){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(E)}else f(E);Ma||D.show()}function q(a){Ea||(ja=Q("number",[0,20],10,a),x.fire({radius:lc(ya,ja)}))}function k(a){Ea||($a=Q("color",null,"#000000",a))}function w(a){Ea||(ya=Q("number",[0,20],10,a),Oa.fire({radius:lc(ya,ja),refresh:!0}))}function t(a){Ea||(Ga=Q("number",[0,1],0.5,a),"object"==
typeof E&&mc(E,ja,$a,Ga))}function B(){if("undefined"===typeof ta)return!0;var a=nc();return!!Math.floor(ta)!==!!Math.floor(a.width/a.height)}function le(){var a=nc();ta=a.width/a.height}function Aa(a){if("portrait"===a){lb="portrait";var c="one column"}"landscape"===a&&(lb="landscape",c="two column");ab.fire({orientation:lb,format:c,width:ha,height:N});setTimeout(S,100);B()&&h();le()}function ma(a){a&&(W=a);g&&da&&(W+=ja-2);"object"==typeof E&&(E.style.width=W+"px");return this}function Gb(a){a&&
(Z=a);g&&da&&(Z=Z+2*ja-4);a&&"object"==typeof E&&(E.style.height=Z+"px");return this}function ua(){var a=nc(),a=a.width>=a.height,c="undefined"===typeof window.orientation,a=90===window.orientation||-90===window.orientation||c&&a?"landscape":"portrait";lb!==a&&Aa(a);h()}function S(){var a=ld();V.style.height=a.height+"px";V.style.width=a.width+"px"}function J(){return"object"===typeof E&&"none"!==E.style.display}var ha=380,N=131,E,H="janrainModal",K,V,T,W=ha,Z=N,ja=10,$a="#000000",ya=10,Ga=0.5,Ca=
!1,Da=Hc("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),ia="",Ea=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,ra=!1,va="Are you sure you want to quit?",wa="Yes, quit",Ha="No, stay",Fa,lb="landscape",U=!0,na="boolean"===typeof na?na:"number"===typeof window.orientation?!0:!1,Va="boolean"===typeof Va?Va:janrain.settings.previewMode,Ma=Va,qa=qa||!1,ta,Na=!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(Da=janrain.settings.capture.modalCloseImage,
ra=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(ia=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=Y());window.janrain.events.onModalOpen||(window.janrain.events.onModalOpen=Y());var cb=Y(),hb=Y(),Oa=Y(),x=Y(),ab=Y();Ba&&Ba.onOrientationChange&&Ba.onViewportChange&&(Ba.onOrientationChange.addHandler(function(a){Aa(a.orientation)}),Ba.onViewportChange.addHandler(function(){B()&&f(E);le()}));
"undefined"!==typeof janrain.events.onCaptureRenderComplete&&(janrain.events.onCaptureRenderComplete.addHandler(function(){J()&&(Na=!0)}),janrain.events.onCaptureContentChange.addHandler(function(){J()&&Na&&(h(),setTimeout(S,500),Na=!1)}));return{isOpen:function(){return J()},setWidth:function(a){ma(a);return this},setHeight:function(a){Gb(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&q(a);Ea||"object"==typeof E&&mc(E,ja,$a,Ga);return this},setBorderColor:function(a){a&&
k(a);Ea||"object"==typeof E&&mc(E,ja,$a,Ga);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&w(a);Ea||"object"==typeof E&&$(E,ya);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&t(a);return this},setZIndex:function(a){V.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(Ma=a);return this},setId:function(a){H=a;E&&(E.id=a);return this},show:function(){na||(E.style.display="block");"object"==typeof K&&U&&(K.style.display=
"block");Ma?na&&(E.style.display="block"):(V.style.display="block",na?(Ba.setElement(E).activate(),E.style.display="block"):(A(window,"resize",ua),A(window,"resize",S),ua(),S()));Ea||Oa.fire({radius:lc(ya,ja),refresh:!1});hb.fire();janrain.events.onModalOpen.fire();Fb.fire();E.focus()},close:function(a){c(a)},closeConfirm:function(){e()},refresh:function(a){qa||E.appendChild(T);a&&a.center&&h()},remove:function(){if(Ma){var a=document.getElementById("previewMode");"object"===typeof T&&E.removeChild(T);
"object"===typeof E&&a.removeChild(E);"object"===typeof V&&document.body.removeChild(V);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";V=E=""}else"object"===typeof T&&E.removeChild(T),"object"===typeof V&&document.body.removeChild(V),"object"===typeof E&&document.body.removeChild(E)},addContent:function(c){var d=janrain.events.onAuthWidgetContentPlaced;d&&d.fire();K=c;if(!E){E=document.createElement("div");E.id=H;if("number"===typeof W||"string"===typeof W)E.style.width=
W+"px";E.style.height=Z+"px";E.style.position="absolute";Ea||(E.style.padding=ja+"px",$(E,ya),mc(E,ja,$a,Ga));E.style.zIndex=1E3;E.style.display="none";c=ld();V=document.createElement("div");janrain.settings&&janrain.settings.capture&&janrain.settings.capture.captureServer&&(V.id="janrainModalOverlay");V.style.width=c.width+"px";V.style.height=c.height+"px";V.style.left=0;V.style.top=0;V.style.backgroundColor="#000000";V.style.position="absolute";c=V;"undefined"!==typeof c.style.filter&&(c.style.filter=
"alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");V.style.display="none";V.style.zIndex=1E3;T=ia?a("a"):a();E.appendChild(T);document.body.appendChild(V);document.body.appendChild(E)}E.appendChild(K);setTimeout(S,500);Ma&&h();return this},getContent:function(){return K},getBorderWidth:function(){return ja},getState:function(){return{width:W,
borderWidth:ja,borderColor:$a,borderRadius:ya,borderOpacity:Ga,orientation:lb}},setState:function(a){G("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&q(a.borderWidth),"undefined"!==typeof a.borderColor&&k(a.borderColor),"undefined"!==typeof a.borderOpacity&&t(a.borderOpacity),"undefined"!==typeof a.orientation&&Aa(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&w(a.borderRadius),"object"==typeof E&&
$(E,ya)))},setConfirmClose:function(a){Ca=a;return this},setShowContentOnLoad:function(a){U=a;return this},setConfirmMessageText:function(a){va=a},setConfirmLinkText:function(a){wa=a},setCancelLinkText:function(a){Ha=a},onClose:cb,onShow:hb,onOrientationChange:ab,onBorderRadiusChange:Oa,onBorderWidthChange:x}}function Ne(a){function c(a){"janrainReadyToClose:True"===a.data&&(top.focus(),q=!0,Ab(window,"message",c))}function d(){var a=window.open(e,"","width="+f+", height="+h+", status=1, location=1, resizable=yes, scrollbars=1");
("iPod"===td||"iPhone"===td)&&6<=Oe&&A(window,"message",c);var d=window.setInterval(function(){q&&a&&(a.close(),q=!1);if(a&&a.closed||a&&"undefined"===typeof a.closed||"undefined"===typeof a)window.clearInterval(d),"function"===typeof g&&g()},500)}var e=a,f=400,h=400,q=!1,g;return{show:function(){d()},setWidth:function(a){a&&(f=a);return this},setHeight:function(a){a&&(h=a);return this},setCallback:function(a){a&&(g=a);return this}}}function Pe(){function a(a){"function"===typeof a&&(B=a);return this}
function c(){q=[];D.innerHTML="";Hb(arguments,function(a,c){var d=document.createElement("button");d.className="capture_btn capture_secondary";tb(d,a);d.setAttribute("data-index",c.toString());A(d,"click",function(a){a.index=parseInt(N(a).getAttribute("data-index"));B(a)});q.push(d);D.appendChild(d)});d(q.length-1);return this}function d(a){var c=q[Aa];c&&k(c).remove("capture_primary").append("capture_secondary");Aa=a;(c=q[Aa])&&k(c).remove("capture_secondary").append("capture_primary");return this}
function e(){janrain.capture.ui.modal.close();return this}var f,h,q,g,w,t,D,B,Aa;f="Notice";h="This is a notice.";Aa=0;(function(){g=document.createElement("div");var a=document.createElement("div"),c=document.createElement("h1"),d=document.createElement("h2"),e=document.createElement("div");a.className="capture_header";c.className="capture_dialog_title";d.className="capture_dialog_message";e.className="capture_footer";tb(c,f);tb(d,h);a.appendChild(c);g.appendChild(a);g.appendChild(d);g.appendChild(e);
w=c;t=d;D=e;return this})();c("OK");a(e);return{open:function(){janrain.capture.ui.renderScreen("janrainDialog");var a=document.getElementById("captureDialogBuiltIn");a.innerHTML="";a.appendChild(g);return this},close:e,setTitle:function(a){f=a;tb(w,f);return this},setMessage:function(a){h=a;tb(t,h);return this},setPrimaryIndex:d,setButtons:c,setCallback:a}}function Od(){function a(){Aa=(new Date).getTime()-f;if(Aa<e){var a=Math.round(c()*D+g);h.style[t]=a+"px"}else clearInterval(B),h.style[t]=k+
"px",N()}function c(){if("flat"==K)return Aa*(1/e);if("sinusoidal"==K)return Math.abs(Math.sin(Aa*(Math.PI/(2*e))))}function d(a){return{x:function(){var c=a.event.clientX-xe(a.boundary).x,c=c<this.boundary_x()?c:this.boundary_x();return 0<c?c:0},boundary_x:function(){var c=a.boundary.getBoundingClientRect();return c.width||c.right-c.left}}}var e="1000",f,h,q=document,g,k,t="left",D,B,Aa,K="flat",N,H;return{setAcceleration:function(a){K=a;return this},setCallback:function(a){N=a;return this},setDuration:function(a){e=
a;return this},setDirection:function(a){"horizontal"===a&&(t="left");"vertical"===a&&(t="top");return this},setElement:function(a){h=a;return this},setElementBoundary:function(a){q=a;return this},startPosition:function(a){g=a;return this},endPosition:function(a){k=a;return this},animate:function(){D=k-g;f=(new Date).getTime();B=setInterval(a,10);return this},drag:function(a){var c=this;this.moveHandler=function(a){var c=d({event:a.targetTouches&&a.targetTouches.length?a.targetTouches[0]:a,boundary:q}).x();
h.style.left=c+"px";pc(a);P(a);H&&clearTimeout(H);H=setTimeout(function(){N({pos_x:c})},500)};this.upHandler=function(a){c.unbindDragHandlers();pc(a);P(a)};A(document,jc,this.moveHandler);A(document,hd,this.upHandler);pc(a);P(a)},unbindDragHandlers:function(){Ab(document,hd,this.upHandler);Ab(document,jc,this.moveHandler);return this}}}function xe(a){var c=curtop=0;if(a.offsetParent){do c+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:curtop}}}function Y(){return new sb}function sb(){this.eventHandlers=
[];this.firedEvents=[]}function ud(){if(function(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onAuthWidgetContentPlaced,onCustomizationChange,onProviderLoginComplete,onProviderLoginCancel,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),d=0;d<a.length;d++)if("object"!==
typeof janrain.events[a[d]])return!1;return!0}())clearTimeout(a),janrain.events.onAuthWidgetLoad.fire();else var a=setTimeout(ud,5)}function Nc(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,c=janrain.events.captureEvents.length;a<c;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;return janrain.settings.capture.federate&&!janrain.federateJSLoaded||!janrain.ready?
!1:!0}if("function"===typeof janrainCaptureWidgetOnLoad)if(a())clearTimeout(c),janrainCaptureWidgetOnLoad();else var c=setTimeout(Nc,5);else Ha.error("No such function 'janrainCaptureWidgetOnLoad'")}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var c=Object(this),d=c.length>>>0;if(0===d)return-1;var e=0;0<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&Infinity!=e&&-Infinity!=e&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=d)return-1;for(e=
0<=e?e:Math.max(d-Math.abs(e),0);e<d;e++)if(e in c&&c[e]===a)return e;return-1});Array.prototype.map||(Array.prototype.map=function(a,c){if(null===this)throw new TypeError;var d=Object(this),e=d.length>>>0;if("function"!==typeof a)throw new TypeError;for(var f=Array(e),h=0;h<e;h++)h in d&&(f[h]=a.call(c,d[h],h,d));return f});Array.prototype.filter||(Array.prototype.filter=function(a,c){if(null==this)throw new TypeError;var d=Object(this),e=d.length>>>0;if("function"!=typeof a)throw new TypeError;
for(var f=[],h=0;h<e;h++)if(h in d){var q=d[h];a.call(c,q,h,d)&&f.push(q)}return f});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});janrain.settings.debug=janrain.settings.debug||{};var Oc={enabled:!1,logLevel:"log"};window.localStorage&&("true"===localStorage.janrainDebugEnabled&&(janrain.settings.debug.enabled=!0),localStorage.janrainDebugLogLevel&&(janrain.settings.debug.logLevel=localStorage.janrainDebugLogLevel));Da(Oc,janrain.settings.debug);
janrain.settings.debug=Oc;var Qe=function(){function a(c,d){var e;if(c.caller){e=a;var f=c.caller,h=c.caller.toString(),q=h.indexOf(")")+1,h=h.substring(0,q).split(/\s+/).slice(1).join(" ");"("===h.charAt(0)&&(h="(anonymous)"+h);e=e(f,d+h+"\n")}else e=d;return e}return function(c){var c=c&&0<c.length?"Error: "+c+" at:\n":"",d=Error(c);return"string"===typeof d.stack?0===d.stack.indexOf("Error:")?d.stack:c+d.stack:a(arguments.callee,c)}}(),Ha=function(){function a(a){var c=a.level>=f[janrain.settings.debug.logLevel];
if(window.console&&c){c=La(a.messages);c.unshift("#"+a.id);try{console[a.type].apply(console,c)}catch(d){console[a.type](c.join(" "))}}}function c(c){return function(){if(janrain.settings.debug.enabled){var g=arguments;e++;g={stack:Qe(La(g).join(" ")),level:f[c],id:e,type:c,date:new Date,messages:g};d.push(g);a(g)}}}var d=[],e=0,f={};Hb(["log","info","warn","error"],function(a,c){f[a]=c});return{log:c("log"),info:c("info"),warn:c("warn"),error:c("error"),trace:function(a){var c=d[a-1];c?console.log(c.stack):
console.error("No such log entry #"+a)},dump:function(){Hb(d,a)}}}();janrain.debug={dump:Ha.dump,trace:Ha.trace,$__UNSUPPORTED_MODULE__$:"This module is not provided for customer use, but is intended only for debugging purposes."};var Re=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;rb=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?
document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;jb=Re;var Ec=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,nd=[],Dc=!1,da="CSS1Compat"!==document.compatMode,vb=!1,W=!1,f=[],Pc="ade9dc9",ye=!1;document.createElement("input");var Qc=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
rc=null!==Qc?Qc[0]:!1,Vb="number"===typeof window.orientation||null!==Qc,Le="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),se="January,February,March,April,May,June,July,August,September,October,November,December".split(","),Se=[16,20,30,32,48,50,64],ze=[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},
{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},
{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"}],Te=[{text:"AB",value:"AB"},{text:"BC",value:"BC"},
{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];zb=13;ie=38;ke=40;he=37;je=39;ge=9;Id=27;var sc="ontouchstart"in window;fe=sc?"touchstart":"mousedown";hd=sc?"touchend":"mouseup";jc=sc?"touchmove":"mousemove";janrain.settings&&janrain.settings.storageServer&&Jd("xDomainLocalStorageJanrain",janrain.settings.storageServer,
function(){A(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){Dc=!0})});Ka.possible="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,0,1,2,3,4,5,6,7,8,9".split(",");var qa=navigator.userAgent,g=kc(),Rc=document.documentMode,Jc=/Gecko\//.test(qa),od=/AppleWebKit\//.test(qa);/Chrome\//.test(qa);var Ue=kd(),td=Fc(),Oe=function(a){var a=a||qa,c=a.indexOf("OS "),d=0;Fc(a)&&-1<c&&(d=Number(a.substr(c+3).split(" ")[0].split("_")[0]));return d}(),G=function(){var a=function(a){for(var c=
[],f=0;f<a.length;f++)c.push(a[f]);return c},c={};janrain.settings&&janrain.settings.permissions&&(c.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(c.share=a(janrain.settings.share.permissions));return function(a,e){e=e||"login";return!c[e]?!1:0<=c[e].indexOf(a)}}();Sb.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",
parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};ra.isCloneable=function(a){return a&&(Kc(a)||t(a))};var Z=function(a,c,d){Z=document.getElementsByClassName?function(a,
c,d){for(var a=(c||document).getElementsByClassName(a),d=d?RegExp("\\b"+d+"\\b","i"):null,c=[],f,g=0,k=a.length;g<k;g+=1)f=a[g],(!d||d.test(f.nodeName))&&c.push(f);return c}:function(a,c,d){var d=d||"*",c=c||document,f=a.split(" "),a=[],c="*"===d&&c.all?c.all:c.getElementsByTagName(d),d=[],g;g=0;for(var k=f.length;g<k;g+=1)a.push(RegExp("(^|\\s)"+f[g]+"(\\s|$)"));for(var k=0,t=c.length;k<t;k+=1){f=c[k];g=!1;for(var A=0,D=a.length;A<D&&!(g=a[A].test(f.className),!g);A+=1);g&&d.push(f)}return d};return Z(a,
c,d)},Ae=function(){return!1};g&&(Ha.info("[ Internet Explorer ]\nVersion       : "+g+"\nDocument Mode : "+Rc),g!==Rc&&Ha.warn("IE version and document mode do not match! This could cause issues."));30<function(){var a=document.getElementsByTagName("style"),c=document.getElementsByTagName("link"),d=a.length;Hb(c,function(a){"stylesheet"===a.rel&&d++});return d}()&&Ha.warn("The page has more than 30 stylsheets. IE 8 and 9 cannot load more than 32 stylesheets.");window.top!==window.self&&Ha.warn("The widget might be running inside a frame. Watch out for cross origin issues.");
setTimeout(function(){janrain.ready||Ha.warn("janrain.ready is still not true after waiting for 10 seconds. The widget will not load until this is true. Check your widget loading code block.")},1E4);for(var Ba=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;e(document.body,B);D=g().content;k();t();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");
a&&(window.addEventListener(a,function(){S(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});h()},!1),setTimeout(h,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,h,!1)},!1));H.addHandler(function(){c({height:window.innerHeight,width:window.innerWidth},0)});P.addHandler(function(a){rb=a.height;jb=a.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,
h,!1)},!1)}function c(a,d){var e=window.innerHeight,f=window.innerWidth,h=!0,g=!0;e!=a.height&&(h=!1);f!=a.width&&(g=!1);h&&g?20>d?setTimeout(function(){c({height:e,width:f},++d)},100):P.fire({height:e,width:f}):setTimeout(function(){c({height:e,width:f},0)},100)}function d(){setTimeout(function(){A(D)},20);e(B,document.body)}function e(a,c){for(var d=0;d<a.style.length;d++){var e=a.style[d];c.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}function f(){var a;a=(0===
window.orientation||180===window.orientation)&&jb>rb||(90===window.orientation||-90===window.orientation)&&rb>jb?!1:!0;var c="landscape";if(a&&(0===window.orientation||180===window.orientation))c="portrait";if(!a&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function h(){var a=f();A("width=device-width, initial-scale=1, maximum-scale=1");H.fire({orientation:a})}function g(){var a=document.getElementsByTagName("meta"),c;for(c in a)if("viewport"===a[c].name)return a[c];
return!1}function k(){if("undefined"===typeof document.getElementsByTagName||g())return!1;var a=document.getElementsByTagName("head")[0],c=document.createElement("meta");c.setAttribute("name","viewport");a.appendChild(c);return!0}function t(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function A(a){var c=g();if(!c||c.content==a)return!1;if("undefined"===
typeof a){var d=g();document.getElementsByTagName("head")[0].removeChild(d)}c.content=a;return!0}var D,B=document.createElement("div"),K=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),N=null!==K?K[0]:!1,H=Y(),P=Y();N&&N[0].match(/android|\Wsilk\W/);
var S=function(){var a=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},d={height:window.innerHeight,width:window.innerWidth},e=!1;return function(f,h,g){var k=!1,q=function(a,c){return a.height>=a.width&&c.height>=c.width||a.width>a.height&&c.width>c.height?!0:!1},s=a===f,t=q(h,c),w=q(g,d);if(!s&&(!t||!w))k=!0;!s&&!t&&(e=!0);k&&(e&&!q(h,g)&&(k=g.height,g.height=g.width,g.width=k),rb=g.height,jb=g.width);a=f;c={height:h.height,width:h.width};d={height:g.height,width:g.width}}}();
return{setElement:function(){return this},onOrientationChange:H,onViewportChange:P,getMobileDevice:function(){return N},getOrientation:function(){return f()},activate:function(){a()},deactivate:function(){d()}}}(),Hc=function(a){var c;c="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";c=c.replace(/\/$/,"");return c+"/"+a},Sc={openId:{blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600",friendlyName:"Blogger"},livejournal:{identifier:"livejournal",
flow:"openid1",width:800,height:600,color:"##213368",friendlyName:"LiveJournal"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000",friendlyName:"Netlog"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b",friendlyName:"WordPress"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311",friendlyName:"OpenID"}},openId2:{aol:{identifier:"http://aol.com",flow:"openid",width:514,height:550,color:"#0FD6FF",friendlyName:"AOL"},
flickr:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#FF0084",friendlyName:"Flickr"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5",friendlyName:"Google"},hyves:{identifier:"http://hyves.nl/",flow:"openid",width:800,height:600,color:"#659BC8",friendlyName:"Hyves"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f",friendlyName:"MyOpenID"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",
flow:"openid",width:800,height:600,color:"#1A3665",friendlyName:"PayPal"},verisign:{identifier:"http://pip.verisignlabs.com/",flow:"openid",width:945,height:600,color:"#B8004D",friendlyName:"VeriSign"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",friendlyName:"Yahoo!",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",
width:640,height:480,color:"#3B5998",friendlyName:"Facebook",publishSettings:{},shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",friendlyName:"Myspace",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,
color:"#35CCFF",friendlyName:"Twitter",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,
image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,
actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",friendlyName:"LinkedIn",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,color:"#666666",friendlyName:"Windows Live ID"},salesforce:{flow:"salesforce",
width:800,height:500,color:"#333333",friendlyName:"Salesforce"},orkut:{flow:"orkut",width:800,height:600,color:"#333",friendlyName:"Orkut"},vzn:{flow:"vzn",width:600,height:450,color:"#333",friendlyName:"VZnet"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333",friendlyName:"Foursquare"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333",friendlyName:"Sina Weibo"},tumblr:{flow:"tumblr",width:950,height:550,color:"#333",friendlyName:"Tumblr"},microsoft_live_connect:{flow:"microsoft_live_connect",
width:950,height:550,color:"#333",friendlyName:"Microsoft Live Connect"},renren:{flow:"renren",width:950,height:550,color:"#333",friendlyName:"Renren"},disqus:{flow:"disqus",width:950,height:550,color:"#333",friendlyName:"Disqus"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333",friendlyName:"SoundCloud"},vk:{flow:"vk",width:950,height:550,color:"#333",friendlyName:"VK"},amazon:{flow:"amazon",width:950,height:550,color:"#FF9900",friendlyName:"Amazon"},microsoftaccount:{flow:"microsoftaccount",
width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},instagram:{flow:"instagram",width:950,height:550,color:"#FFFFFF",friendlyName:"Instagram"},googleplus:{flow:"googleplus",width:445,height:665,color:"#D34836",friendlyName:"Google"},mixi:{flow:"mixi",width:950,height:550,color:"#333",friendlyName:"Mixi",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,googleplus:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},Oa={},Tc=["openId","openId2","oauth"];0<Tc.length;){var Uc=Tc.pop(),Wb;for(Wb in Sc[Uc])Oa[Wb]=Sc[Uc][Wb]}var Pd=[],D=function(){var a=[];return{log:function(c){var d=
{};d.id=a.length+1;d.message=c;a.push(d);return this},show:function(){if(0!=a.length){for(var c in a)if("undefined"!==typeof a[c].id){var d=a[c];"object"===typeof console&&("function"===typeof console.error?console.error("WARNING ID:"+d.id+" MESSAGE: "+d.message):"function"===typeof console.log&&console.log("WARNING ID:"+d.id+" MESSAGE: "+d.message))}a=[]}}}}();_debugAllFiredEvents=!1;sb.prototype.addHandler=function(a){this.eventHandlers.push(a);return this.eventHandlers.length-1};sb.prototype.removeHandler=
function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};sb.prototype.fire=function(a){for(var c=this.eventHandlers.length,d=0;d<c;d++)try{if("function"===typeof this.eventHandlers[d])this.eventHandlers[d](a)}catch(e){D.log(e),D.show()}if(a&&(_debugAllFiredEvents||Kc(a)&&"save"in a&&!0===a.save))delete a.save,this.firedEvents.push({event:this,args:a})};"undefined"===typeof janrain.events&&(janrain.events={});var K;K||(K={});(function(){function a(a){return 10>a?"0"+a:a}function c(a){f.lastIndex=
0;return f.test(a)?'"'+a.replace(f,function(a){var c=k[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,e){var f,k,s,A,D=h,B,J=e[a];J&&"object"===typeof J&&"function"===typeof J.toJSON&&(J=J.toJSON(a));"function"===typeof t&&(J=t.call(e,a,J));switch(typeof J){case "string":return c(J);case "number":return isFinite(J)?""+J:"null";case "boolean":case "null":return""+J;case "object":if(!J)return"null";h+=g;B=[];if("[object Array]"===Object.prototype.toString.apply(J)){A=
J.length;for(f=0;f<A;f+=1)B[f]=d(f,J)||"null";s=0===B.length?"[]":h?"[\n"+h+B.join(",\n"+h)+"\n"+D+"]":"["+B.join(",")+"]";h=D;return s}if(t&&"object"===typeof t){A=t.length;for(f=0;f<A;f+=1)"string"===typeof t[f]&&(k=t[f],(s=d(k,J))&&B.push(c(k)+(h?": ":":")+s))}else for(k in J)Object.prototype.hasOwnProperty.call(J,k)&&(s=d(k,J))&&B.push(c(k)+(h?": ":":")+s);s=0===B.length?"{}":h?"{\n"+h+B.join(",\n"+h)+"\n"+D+"}":"{"+B.join(",")+"}";h=D;return s}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=
function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h,g,k={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;"function"!==typeof K.stringify&&(K.stringify=function(a,c,e){var f;g=h="";if("number"===typeof e)for(f=0;f<e;f+=1)g+=" ";else"string"===typeof e&&(g=e);if((t=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return d("",{"":a})});"function"!==typeof K.parse&&(K.parse=function(a,c){function d(a,e){var f,h,g=a[e];if(g&&"object"===typeof g)for(f in g)Object.prototype.hasOwnProperty.call(g,
f)&&(h=d(g,f),void 0!==h?g[f]=h:delete g[f]);return c.call(a,e,g)}var f,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),"function"===typeof c?d({"":f},""):f;throw new SyntaxError("JSON.parse");})})();Fb=void 0;
yb=void 0;false||(yb=Y());Fb||(Fb=Y());janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=Y());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=Y());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=Y());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=Y());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=Y());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=
Y());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=Y());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=Y());ud();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureRegistrationStart,onCaptureLoginStart,onCaptureLoginSuccess,onCaptureProfileSaveSuccess,onCaptureProfileSaveFailed,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureLoginFailed,onCaptureRegistrationSuccess,onCaptureRegistrationFailed,onCaptureEmailVerificationSuccess,onCaptureEmailVerificationFailed,onCaptureForgotPasswordCodeSuccess,onCaptureForgotPasswordCodeFailed,onCaptureSaveSuccess,onCaptureSaveFailed,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureServerValidationFailed,onCaptureFormError,onCaptureProfileCookieSet,onCaptureExpiredToken,onCaptureInvalidToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCapturePhotoUploadSuccess,onCaptureBackplaneReady,onCaptureBackplaneInitFailed,onCaptureAutoSaveUpdate,onCaptureControlSuccesss,onCaptureControlFailed,onModalClose,onModalOpen,onCaptureAccountReactivateSuccess,onCaptureAccountReactivateFailed,onCaptureAccountDeactivateSuccess,onCaptureAccountDeactivateFailed,onCaptureLinkAccountError,onCaptureError,onCaptureSubscriptionUpdate,onCaptureRegistrationSuccessNoLogin,onCapturePostLoginScreen".split(",");
for(var tc=0,Ve=janrain.events.captureEvents.length;tc<Ve;tc++)"undefined"===typeof janrain.events[janrain.events.captureEvents[tc]]&&(janrain.events[janrain.events.captureEvents[tc]]=new sb);janrain.events.onCaptureEmailVerficationSuccess=janrain.events.onCaptureEmailVerificationSuccess;janrain.federateJSLoaded=!1;janrain.settings.capture.federate&&md("https://d1v9u0bgi1uimx.cloudfront.net/sso.js",function(){janrain.federateJSLoaded=!0}).setTimeoutLimit(1E4).setTimeoutCallback(function(){janrain.settings.capture.federate=
!1}).load();Nc();var Xe=new function(){function a(){function a(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){var a;Wa&&(gb=w());L=h();fb=r();F=document.createElement("div");F.className="janrainContent";F.style.width=O+"px";F.style.height=k()+"px";F.style.paddingLeft=o+"px";F.style.paddingRight=o+"px";F.style.boxSizing="content-box";
40===Pa&&(F.style.paddingTop=o-1+"px");W||(F.style.backgroundColor=la);W||(F.style.border=Na?"1px solid "+n:"1px solid "+la);F=$(F,R);W||(F.style.overflow="hidden");F.style.position=Na?"relative":"absolute";Xa=E();2==L||0==L?(db=(new j).setSide("right").create(),bb=(new j).setSide("left").create()):(db=(new j).setSide("top").create(),bb=(new j).setSide("bottom").create());a=B();" "!==e()&&a.appendChild(fb);if(W){var m=H("blank");m.style.display="none";a.appendChild(m)}a.appendChild(Xa);!W&&db&&bb&&
(a.appendChild(db),a.appendChild(bb));0<L&&Wa&&a.appendChild(gb);F.appendChild(a);G("customizable_auth_widget_styling")||d(F);vb||D.show();setTimeout(function(){yb.fire()},0)}function d(a){function c(a){var d="string"===typeof a.getAttribute("style")?a.getAttribute("style"):null;d&&(d.cssText&&(d=d.cssText),a.style.setAttribute?a.style.setAttribute("cssText",d.replace(/(((?!!important).)+?);/g,"$1 !important;")):a.setAttribute("style",d.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var e=
a.getElementsByTagName("*"),m=0,f=e.length;m<f;m++)"janrainProviderPages"===e[m].id||"janrainSlideControl"===e[m].className||"janrainSlideControl"===e[m].parentNode.className||c(e[m]);c(a)}function e(){if(aa&&(aa==a().twoColumn.actionText||aa==a().oneColumn.actionText||aa==a().oneRow.actionText))Ea=!1;return Ea&&aa?aa:f.translate.HEADER?f.translate.HEADER:"two column"===u?a().twoColumn.actionText:"one column"===u?a().oneColumn.actionText:"one row"===u?a().oneRow.actionText:aa}function h(){var a=u;
if("default"==a||"two column"==a)return 2;if("one column"==a)return 1;if("one row"==a)return 0}function k(){var a=" "===aa?0:Qa+o,c=Wa&&"one row"!==u?ab+o:0;return t()+a+c}function s(){var a=parseInt(Xa.style.left),c=parseInt(Xa.style.top),d;1==L?parseInt(Xa.style.height):parseInt(Xa.style.width);2==L&&(d=(O-3*o-(2==L?10:0))/L);if("one column"===u){if(" "===aa&&(c+=11,0<c||-9<=c))return 0;if(9>c)return 1;if(0<c||c>=-(Qa-(o+1)))return 0}0==L&&(d=O-100);if(0>a&&a<-d)return 1;if(0<a||a>=-o)return 0}
function t(){if("two column"===u)var a=ka/2;"one column"===u&&(a=ka);"one row"===u&&(a=1);var c="one row"===u?0:2*a,d="one column"===u?3*o:0;if(7===g||6===g||g&&da){if("two column"===u&&(d=o,7===g||6===g))d=2*o;if("one column"===u&&(d=3*o,(7===g||6===g)&&!da))d+=o;if("one row"===u&&(7===g||6===g))d=o}"one column"===u&&ma<=ka&&(d=g&&da?d+2*o:d-2*o);return C*a+o*(a+1)+c+d}function j(){function a(){var c;k="over";var ob=s();if(0==ob&&"left"===m||0==ob&&"top"===m||1==ob&&"right"===m||1==ob&&"bottom"===
m)return this.style.cursor="default",r.onclick="",!1;var f=this;setTimeout(function(){if(1===n){if("over"!==k)return!1;g&&(e.style.display="block");h.style.display="block";r.onclick=d;f.style.cursor="pointer";var a=document.getElementById("janrainProviderPages");c="top"==m||"bottom"==m?parseInt(a.style.top):parseInt(a.style.left);var ob="right"===m||"bottom"===m?c-Va:c+Va;"top"===m||"bottom"===m?a.style.top=ob+"px":a.style.left=ob+"px";n=2}},g?50:100)}function c(){var a;k="out";var d=s();if(1==d&&
"right"===m||0==d&&"left"===m||0==d&&"top"===m||1==d&&"bottom"===m)return!1;setTimeout(function(){if(2===n){if("out"!==k)return!1;g&&(e.style.display="none");h.style.display="none";var c=document.getElementById("janrainProviderPages");a="top"==m||"bottom"==m?parseInt(c.style.top):parseInt(c.style.left);var d="right"===m||"bottom"===m?a+Va:a-Va;"top"===m||"bottom"===m?c.style.top=d+"px":c.style.left=d+"px";n=1}},g?200:400)}function d(){h.style.display="none";r.style.cursor="default";q(m,function(a){J(a);
n=1})}var e,m,f,h,y={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},k="",n=1,r;return{setSide:function(a){m=a;return this},create:function(){var g;if(ma<=ka)g=!1;else{g=document.createElement("div");g.setAttribute("id","janrainShim_"+m);g.style.background="black";"top"===m||"bottom"===m?(g.style.height="19px",g.style.width="100%"):(g.style.height="100%",g.style.width="17px");Ia?(g.style.filter="alpha(opacity=100)",g.style.opacity=100):(g.style.filter="alpha(opacity=0)",
g.style.opacity=0);g.style.position="absolute";g.style.zindex="99";if("top"===m||"bottom"===m)g.style.left="0";g.style[m]=o+"px";g.style.top="one column"!==u?o+1+"px":"top"===m?"10px":"0px";g.style.display="none";e=g;g=document.createElement("div");g.style.backgroundColor=Ia?"green":la;g.className="janrainSlideControllerMask";g.style.position="absolute";"one column"!==u&&(g.style.width=o+"px",g.style.height="100%",g.style.top="0px",g.style[m]="0px",g.style.borderWidth="1px","right"===m&&(!Wa||"one row"===
u)&&$(g,null,0,0,R,0),"left"===m&&(!Wa||"one row"===u)&&$(g,null,0,0,0,R),"right"===m&&" "===aa&&$(g,null,0,R,R,0),"left"===m&&" "===aa&&$(g,null,R,0,0,R));"one column"===u&&(g.style.height=o+"px",g.style.fontSize="0px",g.style.width="100%",g.style.padding="0px",g.style[m]="0px","top"===m&&" "===aa?$(g,null,R,R,0,0):"bottom"===m&&!Wa&&$(g,null,0,0,R,R));"one row"===u&&(g.style.height="105.5%");f=g;g=document.createElement("div");g.setAttribute("id","janrainArrow_"+m);g.style.background="url("+Hc("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+
") no-repeat scroll "+y[m]+" transparent";g.style.height="19px";g.style.width="17px";g.style.position="absolute";if("top"===m||"bottom"===m)g.style.left=O/2+"px";g.style[m]=o+"px";g.style.top="one column"!==u?t()/2-2*o+1+"px":"top"===m?"10px":"0px";g.style.display="none";h=g;g=document.createElement("div");g.className="janrainSlideControl";g.style.backgroundColor=Ia?"purple":"transparent";"one column"===u?(g.style.width=O+4+"px",g.style.left="3px","top"==m?(g.style.height=o+"px",g.style.top=Qa+o+
"px"," "===aa&&(g.style.left="0px",g.style.width=O+10+"px")):(g.style.height="20px",g.style.bottom=(Wa?ab+o:0)+"px",$(g,null,0,0,R,R))):(g.style.width="right"===m?"20px":"0px",g.style[m]="0px",g.style.height=t()-(o*(" "===aa)?1:2)+"px",40===Pa&&"one row"===u&&"left"===m&&(g.style.left=Ua+"px"),"right"===m&&!Wa&&$(g,null,0,0,R,0),"left"===m&&!Wa&&$(g,null,0,0,0,R));g.style.position="absolute";g.style.zIndex="100";g.style.cursor="pointer";g.onmouseover=a;g.onmouseout=c;g.onclick=d;r=g;r.appendChild(f);
r.appendChild(e);r.appendChild(h);g=r}return g}}}function q(a,c){var d=document.getElementById("janrainProviderPages"),e=new Od;if("top"===a||"bottom"===a){if(" "===aa)var m=-(t()-C),f=0;else m=-(t()-C-Qa-o),f=Qa+o;50===C&&(m-=20);g&&da&&(m+=o," "!==aa&&(f+=o));e.setElement(d).setAcceleration("sinusoidal").setDuration(100*ka).startPosition(parseInt(d.style.top)).endPosition("bottom"===a?m:f).setDirection("vertical").setCallback(function(){c(a)}).animate()}else g&&da?(m=-(O-2*o-39),"one row"===u&&
(m=-(Ua-1*o))):(m=-(O-32),"one row"===u&&(m=-(O-24))),e.setElement(d).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(d.style.left)).endPosition("right"==a?m:o).setDirection("horizontal").setCallback(function(){c(a)}).animate()}function w(){var a=document.createElement("div");a.style.backgroundColor=Ia?"aqua":la;a.style.width=O+"px";a.style.height=ab+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=o+"px";a.style.paddingRight=o+"px";a.style.paddingBottom=
o+"px";a.style.bottom="0px";a.style.fontSize="10px";a.style.textAlign="left";a.style.color=sa;a.style.fontFamily=X;$(a,null,0,0,R,R);var c=document.createElement("div"),d=janrain.settings.translate.POWERED_BY_PREFIX||"Social Login",e=janrain.settings.translate.POWERED_BY_SUFFIX||" by Janrain";c.style.paddingLeft="1px";var m=document.createElement("a");m.setAttribute("href","http://janrain.com/products/engage/social-login?utm_source="+Sb(janrain.settings.appUrl).host+"&utm_medium=Partner&utm_campaign=attribution");
m.setAttribute("target","_blank");m.appendChild(document.createTextNode(d));c.appendChild(m);c.appendChild(document.createTextNode(e));a.appendChild(c);return a}function r(){var a=document.createElement("div");a.style.backgroundColor=Ia?"orange":la;a.className="janrainHeader";a.style.fontSize=Ra+"px";a.style.color=sa;a.style.position="relative";a.style.height=Qa+"px";40===Pa&&(a.style.cssFloat="left");a.style.left=40===Pa?"-6px":"-5px";a.style.paddingLeft=o+"px";a.style.paddingRight=o+"px";a.style.paddingTop=
o+"px";a.style.paddingBottom="0px";a.style.whiteSpace="nowrap";a.style.width=40===Pa?"81px":O+"px";a.style.zIndex="100";40===Pa?$(a,null,R,0,0,R):$(a,null,R,R,0,0);40===Pa&&(a.style.marginTop="-3px");a.style.textAlign="one column"===u?"center":"left";var c=e();Ba=document.createElement("div");Ba.style.paddingLeft="1px";Ba.style.fontFamily=X;" "!==c&&Ba.appendChild(document.createTextNode(c));a.appendChild(Ba);return a}function B(){var a=document.createElement("div");a.id="janrainView";return a}function E(){var a,
c;function d(e){e=e.touches[0];"one column"===u?a=e.pageY:c=e.pageX}function e(d){d.preventDefault();d=d.touches[0];d="one column"===u?a-d.pageY:c-d.pageX;if(35<d||-35>d){var m;m="one column"===u?0<d?"bottom":"top":0<d?"right":"left";var g=s(),f=!0;"bottom"===m&&g+1==n&&(f=!1);"top"===m&&0==g&&(f=!1);"left"===m&&0==g&&(f=!1);"right"===m&&g+1==n&&(f=!1);f&&("one column"===u?h.style.top=parseInt(h.style.top)-d+"px":h.style.left=parseInt(h.style.left)-d+"px",q(m,function(){J()}),h.ontouchmove="")}}function m(){h.ontouchmove=
e}var f,h,y,k,n,t=L,r=[];k=N();n=W?1:Math.ceil(ma/ka);2<n&&D.log("Either reduce the number of providers, or increase the setting for providersPerPage.");h=document.createElement("div");h.setAttribute("id","janrainProviderPages");W&&(h.className="janrainConfigureMode");h.style.paddingTop=(6===g||7===g)&&g&&da?2*o:o+"px";if((6===g||7===g)&&!da)h.style.paddingTop=o+4+"px";1<n&&(h.ontouchstart=d,h.ontouchmove=e,h.ontouchend=m);40===Pa&&"one row"===u?h.style.left=Ua+o+"px":g&&da?"one column"!==u&&(h.style.left=
o+"px"):h.style.left=o+"px";40===Pa&&"one row"===u&&(h.style.cssFloat="left");40===Pa&&"one row"===u&&(h.style.marginTop="1px");"one column"===u&&(h.style.top=(g&&da?1:0)+Qa+o+"px");"one row"!==u&&" "===aa&&(h.style.top="0px");"one column"===u&&" "===aa&&(h.style.top="0px");f=O*n;h.style.position=g&&da&&"one column"===u?"relative":"absolute";"two column"===u&&!(ma<=ka)&&(h.style.width=f+"px");"one row"===u&&(h.style.width=(!0===W?O+o:2*O)+"px");W&&(t=0);c=0;a=0;for(var j=0;j<n;j++){for(y=0;y<=t;y++)r[y]=
document.createElement("ul"),r[y].className="providers",r[y].id="janrainProviders_"+y,1<t&&(r[y].style.cssFloat="left"),1<t&&(r[y].style.styleFloat="left"),r[y].style.listStyleType="none",r[y].style.marginTop="0px",r[y].style.marginLeft="0px",r[y].style.marginRight="0px",r[y].style.marginBottom="0px",r[y].style.padding="0px";f=document.createElement("div");f.className="janrainPage";f.setAttribute("pageIndex",j);g&&da&&1===n&&(f.style.width="110%");for(y=0;y<t;y++)f.appendChild(r[y]);if(W||1>L)for(y=
0;y<=t;y++)f.appendChild(r[y]);for(var A=k.length%2,We=W?ma:ka,w=0;w<We&&!(0==k.length);w++){if(2==t)var B=1==A?r[k.length%2?0:1]:r[k.length%2];if(1==t||0==t)B=r[0];y=k.shift();B.appendChild(y)}h.appendChild(f)}return h}function J(a){0==s()?("left"===a&&(bb.style.width=o+"px",db.style.display="block",db.style.width="20px"),"top"===a&&(db.style.height=o+"px",bb.style.display="block",bb.style.height="20px")):("right"===a&&(db.style.width=o+"px",bb.style.display="block",bb.style.width="20px"),"bottom"===
a&&(bb.style.height=o+"px",db.style.display="block",db.style.height="20px"))}function N(){for(var a=[],c=0;c<ma;c++){var d=H(Ka[c],c+1);a.push(d)}if("one column"==u){var e=a.slice(0),c=function(){var a=-Infinity,c,d,m=function(){c=e[d].children[0].children[1];return void 0!==c};for(d=0;d<e.length;d++)m()&&(a=Math.max(a,c.offsetWidth));for(d=0;d<e.length;d++)m()&&(c.style.width=a+"px")};janrain.events.onModalOpen?janrain.events.onModalOpen.addHandler(c):janrain.events.onAuthWidgetContentPlaced.addHandler(c);
janrain.events.onCustomizationChange.addHandler(c)}return a}function K(a,c){c.style.cursor="pointer";c.setAttribute("id","janrain-"+a);c.setAttribute("role","button");"one row"===u?c.style.background="transparent":("gradient"===ua&&Gc(c,"bottom, #eeeeee, #ffffff"),"gray"===ua&&(c.style.backgroundColor="#eeeeee"),"white"===ua&&(c.style.backgroundColor="#ffffff"));A(c,"mouseover",function(){kc();"one row"===u?c.style.background="transparent":(c.style.backgroundColor="#E3E3E3",c.style.backgroundImage=
"")});A(c,"mouseout",function(){kc();"one row"===u?c.style.background="transparent":("gradient"===ua&&Gc(c,"bottom, #eeeeee, #ffffff"),"gray"===ua&&(c.style.backgroundColor="#eeeeee"),"white"===ua&&(c.style.backgroundColor="#ffffff"))});vb||M(c,a);return c}function H(a,c){function d(c){if(Oa&&Oa[a])return Oa[a][c]}var e=document.createElement("li");e.style.listStyle="none";0==L&&!1===W&&(e.style.cssFloat="left");0==L&&!1===W&&(e.style.styleFloat="left");e.style.height=g&&da?C+2:C+"px";if("two column"==
u){var m=W?3*o:ma<=ka?0:3*o;e.style.width=6===g||kc&&da?(O-m-4*o)/L+"px":(O-m-(2==L?10:0))/L+"px"}e.style.marginTop="0px";if("one column"==u){if(7==g||6==g)e.style.marginTop="-1px";g&&da?e.style.marginRight="0px":e.style.width=O-o/2+"px";e.style.marginLeft="0px"}else e.style.marginRight=o+"px";0==L&&(e.style.width=C+"px");e.style.marginBottom=(7===g||6===g||g&&da?3:o)+"px";e.style.position="relative";0!=L&&(e.style.border="1px solid "+La);0!=L&&$(e,Ga);var m=document.createElement("a"),f=document.createElement("span"),
h=document.createElement("span");"undefined"!==typeof c&&(m.tabIndex=c);m.style.fontFamily="Helvetica, lucida grande, Verdana, sans-serif";m.style.fontSize="12px";m.style.lineHeight="14px";m.style.marginLeft="auto";m.style.marginRight="auto";m.href="javascript:void(0);";m.style.textDecoration="none";m.style.display="block";m.style.paddingLeft="5px";m.style.paddingRight="5px";m.style.textAlign="left";h.className="janrain-provider-text-color-"+a;h.style.fontFamily=X;h.style.cursor="pointer";h.style.marginLeft=
"7px";h.style.textAlign="left";30==C&&(f.className="janrain-provider-icon-24 janrain-provider-icon-"+a,f.style.marginTop="3px",h.style.marginTop="9px",h.style.verticalAlign="top",h.style.display="inline-block");50==C&&(f.className="janrain-provider-icon-32 janrain-provider-icon-"+a,f.style.marginTop="9px",f.style.backgroundColor="transparent",h.style.marginTop="16px",h.style.fontSize="16px",h.style.lineHeight="20px",h.style.verticalAlign="top",h.style.display="inline-block");"one column"==u&&(m.style.textAlign=
"center");"two column"==u&&275>O&&(h.style.textIndent="-9999px",h.style.fontSize="0",h.style.marginLeft=0,m.style.textAlign="center");2==L&&(30==C&&(m.style.width="auto"),50==C&&(f.style.marginLeft="5px"));if(0==L&&(30==C||50==C)){var f=document.createElement("a"),y=document.createElement("span"),k=document.createTextNode(a);"undefined"!==typeof c&&(f.tabIndex=c);f.className="janrain-provider-icon-32 janrain-provider-icon-bg janrain-provider-icon-"+a;f.style.marginTop="0px";f.href="javascript:void(0);";
f.style.textDecoration="none";f.style.display="block";y.style.display="inline-block";y.style.textIndent="-9999px"}if(d("customSAML")||d("customOpenid")){var n=d("friendlyName")||"Sign In",r=document.createTextNode(n);if(1==L||2==L){if(30==C||50==C)f.style.backgroundImage="url("+d("largeIcon")+")",h.appendChild(r),h.style.color=d("color")||"#000000";15<=r.length&&(r.textContent=r.textContent.substr(0,15))}if(0==L&&(30==C||50==C))k=document.createTextNode(n),f.style.backgroundImage="url("+d("largeIcon")+
")";g&&10>g&&(f.style.backgroundImage="none",f.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+d("largeIcon")+"')")}else if("blank"!==a&&(1==L||2==L))30==C&&(f.style.backgroundColor="transparent",h.innerHTML=Oa[a].friendlyName),50==C&&(f.style.backgroundColor="transparent",h.innerHTML=Oa[a].friendlyName);6===g&&"one row"!==u&&(n=document.createElement("div"),n.style.height=f.style.height,n.style.width="90px",n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+
f.src+"')",f.style.filter="alpha(opacity=0)",n.appendChild(f),e.appendChild(n));0==L?(e.appendChild(f),f.appendChild(y),y.appendChild(k)):(e.appendChild(m),m.appendChild(f),m.appendChild(h));return K(a,e)}function P(a,c){var d=document.createElement("a"),e=f.translate.SIGN_IN_AS||"Sign in as {name}",e=e.replace("{name}",c),m=document.createElement("span"),e=document.createTextNode(e),h=document.createElement("span");m.className="janrain-provider-text-color-"+a;d.href="javascript:void(0);";d.style.textDecoration=
"none";d.style.display="block";if("customopenid"===a){var y=document.createElement("span");document.createElement("span");y.className="janrain-provider-icon-32 janrain-provider-icon-"+a;y.style.backgroundImage="url("+cb.largeIcon+")";m.style.color=cb.customOpenIdProviderColor||"#000000";10>g&&(y.style.backgroundImage="none",y.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+cb.largeIcon+"')")}else"customsaml"===a?(y=document.createElement("span"),
document.createElement("span"),y.className="janrain-provider-icon-32 janrain-provider-icon-"+a,y.style.backgroundImage="url("+hb.largeIcon+")",m.style.color=hb.customSAMLProviderColor||"#000000",10>g&&(y.style.backgroundImage="none",y.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+hb.largeIcon+"')")):(y=document.createElement("span"),y.className="janrain-provider-icon-24 janrain-provider-icon-"+a);h.style.display="inline-block";h.style.verticalAlign=
"top";h.style.fontFamily=X;var n=document.createElement("div"),r=7.5*e.length+30,t=k();n.style.fontSize="16px";n.style.height="100%";n.style.position="relative";if(0==L||120>t)15<=e.length&&(n.style.fontSize="14px",r=7*e.length+30),20<=e.length&&(n.style.fontSize="12px",r=6*e.length+30),24<=e.length&&(n.style.fontSize="10px",r=5*e.length+50),30<=e.length&&(e.textContent=e.textContent.substr(0,26)+"...",r=162);n.style.width=r+"px";if(0==L||116>t)"customopenid"===a?(y=document.createElement("span"),
document.createElement("span"),y.className="janrain-provider-icon-24 janrain-provider-icon-"+a,y.style.backgroundImage="url("+cb.largeIcon+")",m.style.color=cb.customOpenIdProviderColor||"#000000",g&&10>g&&(y.style.backgroundImage="none",y.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+cb.largeIcon+"')")):"SAML"===a?(y=document.createElement("span"),document.createElement("span"),y.className="janrain-provider-icon-24 janrain-provider-icon-"+
a,y.style.backgroundImage="url("+hb.largeIcon+")",m.style.color=hb.customSAMLProviderColor||"#000000",g&&10>g&&(y.style.backgroundImage="none",y.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+hb.largeIcon+"')")):(y=document.createElement("span"),y.className="janrain-provider-icon-24 janrain-provider-icon-"+a);30===C&&(h.style.marginTop="9px",h.style.fontSize="12px",y.style.marginTop="3px");50===C&&(h.style.marginTop="16px",y.className="janrain-provider-icon-32 janrain-provider-icon-"+
a,y.style.marginTop="9px");"one row"===u&&30===C&&(y.style.marginTop="-1px");h.appendChild(m);m.appendChild(e);y.style.marginRight="10px";y.style.verticalAlign="top";d.style.overflow="hidden";d.style.position="relative";d.style.height=("one row"!==u?C:25)+"px";d.style.marginBottom="one row"===u?"-4px":"4px";"one row"===u&&(d.style.top="-4px");d.style.left="0px";g&&da&&(d.style.marginRight="5px");g&&da&&(d.style.marginLeft="3px");d.style.border="1px solid "+La;$(d,Ga);"customopenid"===a&&(d.style.color=
Oa[a].color);6===g||7===g||g&&da?n.style.left="10px":n.style.margin="0 auto";n.appendChild(y);n.appendChild(h);0==L&&(n.style.paddingTop="2px",h.style.marginTop="6px");0==L||116>t?(d.appendChild(n),n.style.width="auto"):(50===C&&parseInt(d.style.height),h.style.cssFloat="none",h.style.styleFloat="none",d.appendChild(y),d.appendChild(h));return K(a,d)}function M(a,c){A(a,"click",function(){S(c)})}function S(a){var c=Oa[a],d={appUrl:f.appUrl,mobileDevice:rc,language:f.language,popup:Ub,tokenUrl:Ae(lb.linkAccounts)||
pd(f.tokenUrl||location.href,lb)||location.href,facebookPermissions:kb,forceReauth:Jb,widgetType:"auth",tokenAction:Fa,bpChannel:Kb,customOpenid:Ab,customOpenidOpxblob:f.customOpenidOpxblob,extParams:f.extParams,scopes:mb};c.name=a;new ub(c,d,function(){ta||(Lb=setTimeout(function(){qa(c)},300))})}function T(){var a=document.createElement("div");a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width=O+"px";a.style.zIndex="102";a.style.textAlign="center";a.style.padding=o+"px";
a.style.backgroundColor="transparent"===la?"#ffffff":la;a.style.height=k()-(g&&da?0:2*o)+"px";$(a,R);return a}function ca(a){var c=document.createElement("a"),d=document.createTextNode(f.translate.USE_ANOTHER_ACCOUNT||"switch accounts");c.setAttribute("class","janrainSwitchAccountLink");c.setAttribute("href","");c.style.fontSize="12px";c.style.fontFamily=X;c.style.color=sa;c.onclick=a;c.appendChild(d);return c}function Y(){return"modal"===U?document.getElementById("janrainModal"):"embed"===U?document.getElementById("janrainEngageEmbed"):
!1}function Z(){var a=parseInt(F.style.width);return a=a+2*o+2}function ba(){var a=Y();null!==a&&"object"===typeof F&&F.parentNode===a&&a.removeChild(F);janrain.events.onProviderLoginStart.removeHandler(ib)}function ha(){var a="";"object"===typeof x&&(a=x.getState());return{type:U,width:Z(),fontFamily:X,fontSize:Ra,fontColor:sa,backgroundColor:la,borderColor:n,borderRadius:R,format:u,providersPerPage:ka,providers:Ka,buttonBackgroundStyle:ua,buttonBorderColor:La,buttonBorderRadius:Ga,actionText:e(),
showAttribution:Wa,modalState:a}}function ja(a){u=Q("string",["default","two column","one column","one row"],"two column",a);"default"===u&&(u="two column");"one row"==a&&(R=Q("number",[0,10],5,R));a=parseInt(janrain.settings.fontSize,10);0===Ra?"two column"===u?Aa(a||Ha):Aa(a||Ma):Aa(Ra)}function ia(a){"two column"===u&&(O=Q("number",[225,600],380,a));"one column"===u&&(O=Q("number",[160,600],200,a));"one row"===u&&(C=30,a=ma<=ka?o*(parseInt(ka)-1):o*(parseInt(ka)+2),40===Pa&&(a+=Ua-o),O=C*ka+a);
if(("two column"===u||"one column"===u)&&!W)O=O-2*o-2;g&&da&&(O=O+2*o+2);"one row"!==u&&(C=380<O?50:30)}function na(c){"string"===typeof c&&(Ea=!0,aa=Q("text",null,aa,c)," "===aa?R=Q("number",[0,5],5,R,!0):Qa="two column"!==u?a().headerHeight-5:a().headerHeight)}function ra(a){ua=Q("string",["gray","white","gradient"],"gradient",a)}function va(a){La=Q("color",null,"#CCCCCC",a)}function wa(a){la=Q("color",null,"#ffffff",a)}function xa(a){"undefined"===typeof a&&(a=5);R=" "===aa||!Wa||"one row"===u?
Q("number",[0,5],5,a,!0):Q("number",[0,10],10,a)}function ya(a){Wa=Q("boolean",null,!0,a);k();R=a?Q("number",[0,10],5,R,!0):Q("number",[0,5],5,R,!0)}function za(a){n=Q("color",null,"#C0C0C0",a)}function Aa(a){if("two column"===u)Ra=Q("number",[8,30],Ha,a);else if("one column"===u||"one row"===u)Ra=Q("number",[8,20],Ma,a)}function Ca(a){sa=Q("color",null,"#333333",a)}function Da(a){if("object"==typeof a){L=h();for(var c=0,d=a.length;c<d;c++)Oa[a[c]]||(D.log(a[c]+" is not a valid provider: removing."),
a.splice(c,1),--c,--d);Ka=a;ma=a.length;"object"===typeof x&&x.setHeight(k()-2*o).refresh()}}function Ja(a){"two column"===u&&(ka=Q("number",[4,6,8],6,a));"one column"===u&&(ka=Q("number",[1,6],6,a));"one row"===u&&(ka=Bb?ma:Q("number",[4,8],6,a),ia(O))}function qa(a){var c=document.createTextNode(f.translate&&f.translate.SIGNING_IN?f.translate.SIGNING_IN:"Signing in ..."),d=document.createElement("div");Sa=T(a.name);d.appendChild(c);d.style.position="absolute";d.style.marginTop="-8px";d.style.top=
"50%";d.style.textAlign="center";d.style.width="100%";Sa.appendChild(d);F&&F.appendChild(Sa)}var Ia=!1,O=380,Ea=!1,X="Helvetica, lucida grande, Verdana, sans-serif",Ra=0,Ha=18,Ma=14,sa="#666666",la="#ffffff",n="#C0C0C0",R=10,F,Ba,u="two column",L,Na,ka=6,Ka=["aol","google","yahoo","openid"],ma=4,La="#CCCCCC",Ga=5,ua="gradient",C=30,Qa=a().headerHeight,Pa=60,Ua=89,ab=a().footerHeight,o=5,Va=10,aa="Sign in using your account with",Sa,Xa,db,bb,Wa=!0,v=!1,Gb=!1,fb,gb,ib;ib=janrain.events.onProviderLoginStart.addHandler(function(a){V("login_tab",
a.provider,1)});return{build:c,setFormat:function(c){c&&ja(c);"two column"!==u&&(Qa=a().headerHeight-5);"two column"===u&&(ka=a().twoColumn.providersPerPage,Qa=a().headerHeight);return this},setActionText:function(a){"string"===typeof a&&na(a);return this},setFontSize:function(a){a&&Aa(a);return this},setFontFamily:function(a){a&&a&&(X=a);return this},setFontColor:function(a){a&&Ca(a);return this},setButtonBorderColor:function(a){a&&va(a);return this},setButtonBorderRadius:function(a){if("string"==
typeof a||"number"==typeof a)Ga=Q("number",[0,20],5,a);return this},setButtonBackgroundStyle:function(a){a&&ra(a);return this},setWidth:function(a){("string"==typeof a||"number"==typeof a)&&ia(a);return this},refresh:function(){ba();var a=Y();c();var d=nb("expected_tab");d&&!xc?$a("expected_tab",d):(null!==a&&"object"===typeof F&&a.appendChild(F),"object"===typeof x&&x.setHeight(parseInt(F.style.height)+2).refresh());vb&&"object"===typeof x&&x.setHeight(parseInt(F.style.height)+2).refresh();janrain.events.onCustomizationChange.fire(ha());
return this},remove:function(){ba();return this},setRowHeight:function(a){if(0!==h())return this;a||(a=60);oneRowHeaderHeight=Q("number",[40,60,90],60,a);40===oneRowHeaderHeight&&(C=30,Pa=40);60===oneRowHeaderHeight&&(C=30);90===oneRowHeaderHeight&&(C=50);return this},setHeight:function(a){"object"==typeof F&&(F.style.height=a+"px");return this},setBackgroundColor:function(a){a&&wa(a);return this},setBorderColor:function(a){a&&za(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==
typeof a)&&xa(a);return this},setProviders:function(a){"object"==typeof a&&Da(a);return this},setProvidersPerPage:function(a){if("string"==typeof a||"number"==typeof a)Ja(a),"object"===typeof x&&x.setHeight(k()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===typeof a&&ya(a);return this},setPreviewMode:function(a){"boolean"===typeof a&&(vb=a);return this},setProviderFlow:function(a,c){return M(a,c)},triggerFlow:function(a){return S(a)},setNoReturnExperience:function(a){"boolean"===
typeof a&&(v=a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(Gb=a);return this},setConfigureMode:function(a){"boolean"===typeof a&&(W=a,L=h());return this},embed:function(a){if((Na=a)&&"object"==typeof F)F.style.position="relative";return this},getContentsDiv:function(){return F},getErrorPage:function(a,c){var d=document.createTextNode(c.msg),e=document.createElement("div");e.appendChild(d);e.style.color=sa;e.style.fontSize=Ra+"px";e.style.width="100%";var m=
T(a);m.appendChild(e);m.appendChild(ca(function(){F.removeChild(m);F.removeChild(Sa);Jb=!0;return!1},a));F.appendChild(m);return F},getReturnExperience:function(a,c){if(vb||v||-1===Ka.indexOf(a))return F;var d=P(a,c),e=T(a),m=document.createElement("div"),f=function(){Jb=xc=!0;F.removeChild(e);return!1};m.style.position="relative";m.style.top="50%";30===C&&(m.style.marginTop="-25px");50===C&&(m.style.marginTop="-35px");0==L&&(m.style.top="0",m.style.marginTop="0");e.id="janrainAuthReturnExperience";
e.appendChild(m);m.appendChild(d);Gb||m.appendChild(ca(f,a));F.appendChild(e);return F},getWidth:function(){return Z()},getActualHeight:function(){return parseInt(F.style.height)+2},getHeight:function(){return k()-2*o},getState:function(){return ha()},setState:function(c){if(G("customizable_auth_widget_styling")){var d=c.fontFamily;d&&(X=d);Aa(c.fontSize);Ca(c.fontColor);wa(c.backgroundColor);za(c.borderColor);"embed"===U&&c.format&&(c.format&&ja(c.format),"two column"!==u&&(Qa=a().headerHeight-5),
"two column"===u&&(ka=a().twoColumn.providersPerPage,Qa=a().headerHeight));if("string"==typeof c.providersPerPage||"number"==typeof c.providersPerPage)Ja(c.providersPerPage),"object"===typeof x&&x.setHeight(k()).refresh("janrainModal");ra(c.buttonBackgroundStyle);va(c.buttonBorderColor);Ga=Q("number",[0,20],5,c.buttonBorderRadius);na(c.actionText);ya(c.showAttribution);xa(c.borderRadius);"embed"===U&&("string"==typeof width||"number"==typeof width)&&ia(c.width)}Da(c.providers)},showNotice:function(){qa()},
removeNotice:function(){Tb(Sa)},removeReturnExperience:function(){var a=document.getElementById("janrainAuthReturnExperience");Tb(a)}}}function c(){var a=document.createElement("div");a.id="fb-root";document.body.insertBefore(a,document.body.firstChild);window.fbAsyncInit=function(){FB.init({appId:janrain.settings.facebookAppId,status:!0,cookie:!1,xfbml:!1,channelUrl:"/channel.html"});FB.getLoginStatus(function(a){var c=(new H).setName(fb);a.authResponse&&window.janrain&&window.janrain.engage&&window.janrain.engage.signin&&
(janrain.engage.signin.facebookAutoLoginCallback=function(a){"ok"===a.stat&&(janrain.events.onProviderLoginToken.fire({engageToken:a.token}),c.setValue("true").create())},Ca(f.appUrl+"/signin/oauth_token?provider=facebook&callback=janrain.engage.signin.facebookAutoLoginCallback&token="+a.authResponse.accessToken+"&origin_domain="+window.location.hostname))})};Ca("//connect.facebook.net/en_US/all.js")}function d(){if("object"===typeof j)if("object"===typeof xa){var a=j.getState();a.width=xa.width;
xa=a}else xa=j.getState();"object"===typeof j&&j.remove();"object"===typeof x&&x.remove();U="modal";B();"object"===typeof j&&xa&&G("customizable_auth_widget_styling")&&j.setState(xa);"object"===typeof x&&Ua&&G("customizable_auth_widget_styling")&&x.setState(Ua);"object"===typeof x&&x.show();"object"===typeof j&&j.refresh()}function e(){if("object"===typeof j){if("object"===typeof xa){var a=j.getState();a.borderRadius=xa.borderRadius;a.format=xa.format;a.width=xa.width;xa=a}else xa=j.getState();Ua=
xa.modalState;delete Ua.orientation}"object"===typeof j&&j.remove();"object"===typeof x&&x.remove();"object"===typeof x&&(x="");U="embed";h();"object"===typeof j&&xa&&G("customizable_auth_widget_styling")&&j.setState(xa);"object"===typeof j&&j.refresh()}function k(){var a,c;B();c=document.getElementsByTagName("a");var d=RegExp("(\\s|^)"+f.linkClass+"(\\s|$)");for(a in c)d.test(c[a].className)&&(c[a].onclick=t)}function h(){var c=nb("expected_tab");j=new a;j.setBackgroundColor(sa).embed(!0).setPreviewMode(yc).setShowAttribution(zc).setNoReturnExperience(bc).setNoReturnExperienceSwitchAccountLink(cc).setFormat(rb).setRowHeight(Nb).setFontSize(dc).setFontFamily(ec).setFontColor(Ob).setActionText(Eb).setProviders(jb).setProvidersPerPage(fc).setWidth(Ac).setBorderColor(Pb).setBorderRadius(ib).setButtonBorderColor(za).setButtonBorderRadius(la).setButtonBackgroundStyle(Qb).build();
var d=document.getElementById("janrainEngageEmbed");null===d&&(d=document.getElementById("janrainModal"));Va||(c?(ja("welcome_info_name",unescape(nb("welcome_info_name"))),$a("expected_tab",c)):ya(d,j.getContentsDiv()))}function t(){"object"===typeof x&&x.show();return!1}function B(){var c=lc(Ib,ab),d=nb("expected_tab");if("undefined"===typeof c||0>c)c=5;j=new a;j.setBackgroundColor(sa).setPreviewMode(yc).setShowAttribution(zc).setNoReturnExperience(bc).setNoReturnExperienceSwitchAccountLink(cc).setFontSize(dc).setFontFamily(ec).setFontColor(Ob).setActionText(Eb).setProviders(jb).setProvidersPerPage(fc).setBorderRadius(c).setButtonBorderColor(za).setButtonBorderRadius(la).setButtonBackgroundStyle(Qb).build();
if("object"!==typeof x){x=new sd;x.ready=!1;var e=x.addContent;x.addContent=function(a){x.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}x.setHeight(j.getActualHeight()).setWidth(j.getWidth()).setPreviewMode(yc).setBorderColor(qc).setBorder(ab).setBorderOpacity(zb).setBorderRadius(Ib);Va||(d?(ja("welcome_info_name",unescape(nb("welcome_info_name"))),$a("expected_tab",d)):x.addContent(j.getContentsDiv()));x.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&j.setFormat(a.format).setWidth(200).refresh({center:!0});
"landscape"===a.orientation&&j.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh({center:!0});x.setHeight(j.getActualHeight());x.setWidth(j.getWidth())});x.onShow.addHandler(function(){"object"==typeof j&&x.setWidth(j.getWidth())});x.onBorderWidthChange.addHandler(function(a){"object"===typeof x&&"object"===typeof j&&(j.setBorderRadius(a.radius).refresh(),a=j.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&x.setBorderRadius(a.borderRadius+a.modalState.borderWidth))});
x.onBorderRadiusChange.addHandler(function(a){"object"===typeof j&&(j.setBorderRadius(a.radius).refresh(),a=j.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&x.setBorderRadius(a.borderRadius+a.modalState.borderWidth))})}function w(a,c){if(!G("customizable_auth_widget_styling"))return!1;if("object"===typeof j)return c(a),!0}function N(a){return w(a,function(a){j.setBackgroundColor(a).refresh()})}function P(a){return w(a,function(a){j.setBorderRadius(a).refresh()})}function Z(a){return w(a,
function(a){j.setBorderColor(a).refresh()})}function ia(a){return"modal"===U?!1:w(a,function(a){j.setWidth(a).refresh({center:!0})})}function ra(a){return w(a,function(a){j.setActionText(a).refresh()})}function va(a){return w(a,function(a){j.setButtonBorderColor(a).refresh()})}function wa(a){return w(a,function(a){j.setButtonBorderRadius(a).refresh()})}function S(a){return w(a,function(a){j.setButtonBackgroundStyle(a).refresh()})}function J(a){return"modal"==U?!1:w(a,function(a){j.setFormat(a).refresh()})}
function ha(a){return w(a,function(a){j.setProvidersPerPage(a).refresh()})}function qa(a){return w(a,function(a){j.setFontFamily(a).refresh()})}function E(a){return w(a,function(a){j.setFontSize(a).refresh()})}function Ba(a){return w(a,function(a){j.setFontColor(a).refresh()})}function nb(a){var c;if("single cookie"===Na){c=H().getCookie("janrain_engage_login_data");if(!c)return;c=K.parse(c);return!c[a]?void 0:a=c[a]}if("default"===Na)return a=H().getCookie(a),!a?void 0:a}function V(a,c,d){var e;
if(!a||!c)return!1;d||(d=1);if("single cookie"===Na)return(oldCookieJSON=H().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),d=K.parse(oldCookieJSON),d[a]=c,e=new H,e.setName("janrain_engage_login_data").setValue(K.stringify(d)).setExpiration(1826).create(),!0;return"default"===Na?(e=new H,e.setName(a).setValue(c).setExpiration(d).create(),!0):!1}function Ka(a,c){if(bc)return!1;if("expected_tab"===a&&!c){var d=nb("login_tab");d&&Ka("expected_tab",d);return!1}if(!c||"undefined"===c||
"expected_tab"!==a&&"expected_user_input"!==a&&"welcome_info_name"!==a)return!1;c="welcome_info_name"===a?escape(c):c;V(a,c,1826)}function La(a,c){var d={};a||(a=Sa);c||(c=Sa.appUrl);if(g&&3>ca)return d.widget_type=a.widget_type,d.provider=a.provider,d.time=(new Date).getTime(),d=Lc(d),Ca(c+"/signin/get_login_info"+d),ca++,!0;"object"===typeof janrain.events.onProviderLoginCancel&&janrain.events.onProviderLoginCancel.fire(a);"undefined"!==typeof Lb&&clearTimeout(Lb);return!1}function ub(a,c,d){var e=
c.appUrl,f=janrain.settings.customSAML&&a.customSAML,g=janrain.settings.customOpenid&&a.customOpenid,e=f?e+"/saml2/sso/start":e+("/"+a.flow+"/start"),h=window.location.href;c.mobileDevice&&(h="mobile");var k=c.language||"en",t=c.popup?"xdr":"xdrsw",s=c.tokenUrl||window.location.href,j={};Sa={appUrl:c.appUrl,provider:a.name,widget_type:c.widgetType};j.language_preference=k;j.token_url=s;j.display="popup";j.widget=!0;"object"===typeof c.facebookPermissions&&(j.ext_perm=c.facebookPermissions.toString());
f?j.saml_provider=a.identifier:j.openid_identifier=a.identifier;j.origin_url=h;j.provider_name=a.name;j.force_reauth=c.forceReauth;j.xdReceiver=c.appUrl+"/"+t;j.callback="none";j.widget_type=c.widgetType;j.token_action="url";if("event"===c.tokenAction||"hybrid"===c.tokenAction)j.token_action="event";c.mobileDevice&&"hybrid"===c.tokenAction&&(j.token_action="url");c.bpChannel&&(j.bp_channel=c.bpChannel);c.extParams&&c.extParams[a.name]&&(j.ext_params=c.extParams[a.name]);c.scopes&&"object"===typeof c.scopes[a.name]&&
(j.override_scopes=c.scopes[a.name].toString());h=function(c){var d=janrain.settings[c],c=a[c],d="object"===typeof d?d[a.name]:d;return d!==c?d:c}("customOpenidOpxblob");c.customOpenid&&"string"===typeof h&&(j.opx_blob=h);e+=Lc(j);(function(){janrain.events.onProviderLoginStart.fire({provider:a.name,width:a.width,height:a.height});var h;c.mobileDevice&&"event"!==c.tokenAction||!c.popup?Ca(c.appUrl+"/signin/set_login_tab?login_tab="+a.name+"&origin_url="+encodeURIComponent(window.location.href),function(){janrain.settings.customProviderInIFrame&&
(g||f)?window.location.href=e:window.top.location.href=e}):(h=new Ne(e),h.setWidth(a.width).setHeight(a.height).setCallback(function(){var e={},f="";e.widget_type=c.widgetType;e.provider=a.name||"";e.time=(new Date).getTime();f=Lc(e);"function"===typeof d&&d();Ca(c.appUrl+"/signin/get_login_info"+f);janrain.events.onProviderLoginComplete.fire({provider:a.name})}).show())})()}function ja(a,c){if(!c||"undefined"===c||"welcome_info_name"!==a)return!1;c&&(na=c)}function $a(a,c){function d(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,
welcomeName:na})}var e=function(a){var d=function(){600>a&&setTimeout(function(){e(++a)},50)};if("object"!==typeof j)return d(),!1;"modal"===U?x.addContent(j.getReturnExperience(c,na)):"embed"===U&&ya(document.getElementById("janrainEngageEmbed"),j.getReturnExperience(c,na));"modal"===U&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!c)return!1;"object"===typeof j&&j.removeReturnExperience();tb?d():janrain.events.onAuthWidgetLoad.addHandler(d);e(0)}function ya(a,c){a&&(a.innerHTML=
"");janrain.settings.capture&&(a?(a.innerHTML="",a.appendChild(c)):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?(a.appendChild(c),janrain.events.onAuthWidgetContentPlaced.fire()):(D.log('Missing container div, please place this div where you wantthe embedded widget to be displayed on your page- <div id="janrainEngageEmbed"></div>.'),D.show());return a}function Ga(a,c,d){d=d?Nd:Da;return lb=c?d(lb,a):a}function gb(){function a(c){if(!("customsaml"===
c&&!f.customSAML||"customopenid"===c&&!f.customOpenid)){var d,e;if("customsaml"===c)d="customSAMLProviderId",e=["customSAMLProviderName","customSAMLProviderColor","customSAMLLargeIcon"];else if("customopenid"===c)d="customOpenidProviderId",e="customOpenIdProviderName,customOpenIdProviderColor,customOpenidLargeIcon,customOpenidIdentifier,customOpenidFlow,customOpenidOpxblob".split(",");else{D.log("Bad provider: "+c);D.show();return}var h=typeof f[d];if("undefined"===h||"string"===h){var g=f[d]||c;
f[d]=[g];Hb(e,function(a){if("object"!==typeof f[a]){var c=f[a];f[a]={};f[a][g]=c}})}}}function c(a,d){var e=T,h={customopenid:["customOpenidFlow","customOpenidIdentifier"],customsaml:["customSAMLProviderId"]};if(f[{customopenid:"customOpenid",customsaml:"customSAML"}[a]]&&G("customizable_auth_widget_styling")){"customopenid"===a&&(Ab=!0);for(var h=h[a],g=0,m=h.length;g<m;g++)if(!f[h[g]])return D.log(e({provider:a,setting:h[g]},"Missing {| setting |}. {| setting |} is required when adding a {| provider |} provider")),
D.show(),!1;var k={customsaml:{providerColor:"customSAMLProviderColor",friendlyName:"customSAMLProviderName",modalHeight:"customSAMLModalHeight",modalWidth:"customSAMLModalWidth",largeIcon:"customSAMLLargeIcon"},customopenid:{providerColor:"customOpenIdProviderColor",friendlyName:"customOpenIdProviderName",modalHeight:"customOpenidModalHeight",modalWidth:"customOpenidModalWidth",customOpenidOpxblob:"customOpenidOpxblob",largeIcon:"customOpenidLargeIcon",flow:"customOpenidFlow",identifier:"customOpenidIdentifier"}},
e=function(c){c=f[k[a][c]];return"object"===typeof c?c[d]:c},h={width:e("modalWidth")||800,height:e("modalHeight")||600,friendlyName:e("friendlyName"),color:e("providerColor"),largeIcon:e("largeIcon"),identifier:e("identifier")};"customopenid"===a?(h.flow=e("flow"),h.customOpenid=!0,h.customOpenidOpxblob=e("customOpenidOpxblob")):"customsaml"===a&&(h.customSAML=!0,h.identifier=d);Oa[d]=h}}f=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout(gb,
5),!1;!0===f.noProvidersCss&&!0===f.custom||(oc(id()+"providers.css"),g&&9>=g&&oc(id()+"providers-ie.css"));if(f.stop)return!0;Vb&&Ca(f.appUrl+"/signin/establish_session");Fa=f.tokenAction?f.tokenAction:Fa;if(!f.tokenUrl&&"event"!=Fa)return D.log("Missing tokenUrl.  tokenUrl is required."),D.show(),!1;U=Q("string",["modal","embed"],"embed",f.type?f.type:U);Va=f.multi?f.multi:rc?!0:Va;ta=f.custom?f.custom:ta;Jb=f.forceReauth?f.forceReauth:Jb;Kb=f.bpChannel?f.bpChannel:Kb;kb=f.facebookPermissions?f.facebookPermissions:
kb;mb=f.scopes?f.scopes:mb;Ea=!!f.facebookAutoLogin;Na=f.storageType?Q("string",["default","single cookie"],"default",f.storageType):Na;Ub="boolean"===typeof f.popup?f.popup:Ub;rc&&"event"!==Fa&&(Ub=!1);Ma=f.returnExperienceTimeout?f.returnExperienceTimeout:Ma;Va&&(setTimeout(function(){var a=nb("expected_tab");if(a)ja("welcome_info_name",unescape(nb("welcome_info_name"))),$a("expected_tab",a);else if(a=function(){if("modal"===U)x.addContent(j.getContentsDiv());else if("embed"===U){var a=document.getElementById("janrainEngageEmbed");
ya(a,j.getContentsDiv())}"undefined"!==typeof c&&yb.removeHandler(c)},j)a();else var c=yb.addHandler(a)},Ma),Ca(f.appUrl+"/signin/get_cookies"));a("customopenid");a("customsaml");f.customOpenid&&Hb(f.customOpenidProviderId,function(a){c("customopenid",a)});f.customSAML&&Hb(f.customSAMLProviderId,function(a){c("customsaml",a)});if(ta)return!0;Fa=f.tokenAction?f.tokenAction:Fa;ab=G("customizable_auth_widget_styling")?f.modalBorderWidth:ab;qc=G("customizable_auth_widget_styling")?f.modalBorderColor:
qc;Ib=G("customizable_auth_widget_styling")?f.modalBorderRadius:Ib;zb=G("customizable_auth_widget_styling")?f.modalBorderOpacity:zb;sa=G("customizable_auth_widget_styling")?f.backgroundColor:sa;ib=G("customizable_auth_widget_styling")?f.borderRadius:ib;Pb=G("customizable_auth_widget_styling")?f.borderColor:Pb;rb=f.format;Ob=G("customizable_auth_widget_styling")?f.fontColor:Ob;dc=G("customizable_auth_widget_styling")?f.fontSize:dc;ec=G("customizable_auth_widget_styling")?f.fontFamily:ec;Ac=G("customizable_auth_widget_styling")?
f.width:Ac;Nb=G("customizable_auth_widget_styling")?f.rowHeight:Nb;fc=f.providersPerPage;Bb=G("customizable_auth_widget_styling")?f.providersNotPaged:Bb;Eb=G("customizable_auth_widget_styling")?f.actionText:Eb;za=G("customizable_auth_widget_styling")?f.buttonBorderColor:za;la=G("customizable_auth_widget_styling")?f.buttonBorderRadius:la;Qb=G("customizable_auth_widget_styling")?f.buttonBackgroundStyle:Qb;zc=G("customizable_auth_widget_hide_attribution")?f.showAttribution:zc;yc=f.previewMode;bc=f.noReturnExperience;
cc=f.noReturnExperienceSwitchAccountLink;jb=f.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate=f.translate={});if(f.customOpenid&&G("customizable_auth_widget_styling")){if(!f.customOpenidLargeIcon)return D.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),D.show(),!1;cb={largeIcon:f.customOpenidLargeIcon,customOpenIdProviderName:f.customOpenIdProviderName||janrain.settings.translate.SIGN_IN||
"Sign in",customOpenIdProviderColor:f.customOpenIdProviderColor}}if(f.customSAML&&G("customizable_auth_widget_styling")){if(!f.customSAMLLargeIcon)return D.log("Missing customSAMLLargeIcon.  customSAMLLargeIcon is required and should be the full path to an image that is 50px x 50px."),D.show(),!1;hb={largeIcon:f.customSAMLLargeIcon,customSAMLProviderName:f.customSAMLProviderName||janrain.settings.translate.SIGN_IN||"Sign in",customSAMLProviderColor:f.customSAMLProviderColor}}f.previewMode?("modal"===
U&&(janrain.ready?d():A(window,"load",d)),"embed"===U&&(janrain.ready?e():A(window,"load",e))):("modal"===U&&(janrain.ready?k():A(window,"load",k)),"embed"===U&&(janrain.ready?h():A(window,"load",h)))}var kb,mb,Ea=!1,fb="janrain_engage_facebook_auto_login",Kb,Ab=!1,Jb=!1,Fa="url",lb={},U="embed",na="unknown",Va=!1,Ma=300,Jb=!1,Ub=!0,ta=!1,Na="default",cb,hb,Ua,x,ab,qc,Ib,zb,j,xa,sa,ib,Pb,Ac,Nb,rb,jb=[],Bb=!1,fc,Eb,dc,ec,Ob,za,la,Qb,yc,bc,cc,zc,xc=!1,tb=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=
Y());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=Y());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=Y());janrain.events.onAuthWidgetLoad.addHandler(function(){tb=!0;var a=(new H).getCookie(fb);Ea&&!a&&c()});janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===typeof janrainWidgetOnload?ta?janrainWidgetOnload():j?janrainWidgetOnload(j.getState()):janrainWidgetOnload():Ha.error("No such function 'janrainWidgetOnload'")});for(var Lb,
ca=0,Sa,gc="onAuthWidgetContentPlaced,onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginCancel,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),Bc=0;Bc<gc.length;Bc++)"undefined"===typeof janrain.events[gc[Bc]]&&(janrain.events[gc[Bc]]=new sb);janrain.events.onProviderLoginError.addHandler(function(a){if(ta)return!0;var c=nb("login_tab");if("modal"===U){var d=document.getElementById("janrainModal");d&&d.appendChild(j.getErrorPage(c,
a.err))}"embed"===U&&(d=document.getElementById("janrainEngageEmbed"))&&ya(d,j.getErrorPage(c,a.err))});gb();return{status:"loaded",appendTokenParams:function(a,c,d){Ga(a,c,d)},appendTokenParamsCumulative:function(a,c){Ga(a,!0,c)},setBackplaneChannel:function(a){Kb=a},setLoginCookie:function(a,c){Ka(a,c)},loginHandler:function(a){var c=Fa;a?("ok"===a.stat&&("event"===c||"hybrid"===c?Ca(a.redirectUrl):(c=document.createElement("form"),c.action=a.redirectUrl,c.method="POST",janrain.settings.targetTop&&
(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===a.stat&&(a.err&&160===a.err.code?janrain.events.onProviderLoginCancel.fire(a):janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof Lb&&clearTimeout(Lb))):La()},cancelLogin:function(a){La(a,f.appUrl);!ta&&j&&j.removeNotice()},removeNotice:function(){j&&j.removeNotice()},setWelcomeInfoName:function(a,c){ja(a,c)},setReturnExperience:function(a,c){$a(a,c)},setNoReturnExperience:function(a,c){var d;"boolean"===typeof a&&j?
(j.setNoReturnExperience(a),c||j.refresh(),d=!0):d=!1;return d},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&j?(j.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&j?(j.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&j?(j.setConfigureMode(a).refresh(),a=!0):a=!1;return a},setCustom:function(a){ta=a},getState:function(){return"object"===typeof j?j.getState():
!1},setProviderFlow:function(c,d){return!G("customizable_auth_widget_styling")?!1:a().setProviderFlow(c,d)},triggerFlow:function(c){return!G("customizable_auth_widget_styling")?!1:a().triggerFlow(c)},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");
console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+a+": "+janrain.settings[a]),
"object"===typeof janrain.settings[a])for(var c in janrain.settings[a])"function"!==typeof janrain.settings[a][c]&&console.log(" --- --- "+c+": "+janrain.settings[a][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){e()},setBackgroundColor:function(a){return N(a)},setBorderColor:function(a){return Z(a)},setBorderRadius:function(a){return P(a)},setWidth:function(a){return ia(a)},setActionText:function(a){return ra(a)},setFontFamily:function(a){return qa(a)},
setFontSize:function(a){return E(a)},setFontColor:function(a){return Ba(a)},setFormat:function(a){return J(a)},setButtonBorderColor:function(a){return va(a)},setButtonBorderRadius:function(a){return wa(a)},setButtonBackgroundStyle:function(a){return S(a)},setProviders:function(a){var c;"object"===typeof j&&(W?j.setProviders(a):j.setProviders(a).refresh(),c=!0);return c},setProvidersPerPage:function(a){return ha(a)},setShowAttribution:function(a){var c;G("customizable_auth_widget_hide_attribution")?
"object"===typeof j&&j.setShowAttribution(a).refresh():c=!1;return c},refresh:function(){return j.refresh()},getWidth:function(){return j.getWidth()}},modal:{init:function(){d()},close:function(){"object"==typeof x&&x.close()},create:function(){return new sd},setBorder:function(a){G("customizable_auth_widget_styling")?("object"===typeof x&&(x.setBorder(a),x.refresh({center:!0})),a=!0):a=!1;return a},setBorderColor:function(a){G("customizable_auth_widget_styling")?("object"===typeof x&&(x.setBorderColor(a),
x.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){G("customizable_auth_widget_styling")?("object"===typeof x&&(x.setBorderOpacity(a),x.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){G("customizable_auth_widget_styling")?("object"==typeof x&&(x.setBorderRadius(a),x.refresh()),a=!0):a=!1;return a}}}},Ye=new function(){return{status:"not loaded"}},Ze=new function(){return{status:"not loaded"}},$e=new function(){return{status:"not loaded"}},af=new function(){function a(b){function a(b,
p){var i=b instanceof sc?b:new sc(b),c=p&&wa(p,"merge")&&!0===p.merge,I,d;b&&(I=i.get("id")||"auto_id_"+Ka(7),i.get("id")!==I&&i.set("id",I),(d=h[I])&&c&&d.set(i.attributes),!d&&-1==f.indexOf(i)&&(f.push(i),h[I]=i,g.length=f.length));return i}function i(b){var a;b&&(a=f.indexOf(b),0<=a&&(f.splice(a,1),delete h[b.get("id")],g.length=f.length));return b}function c(b,i){for(var b=t(b)?b:[b],I=0,d=b.length;I<d;)a(b[I],i),I+=1;return g}function d(b){for(var b=t(b)?b:[b],a=0,p=b.length;a<p;)i(b[a]),a+=
1;return g}function e(b){return f.filter(function(a){for(var p in b)return wa(b,p)&&a.get(p)===b[p]})}var f=[],h={},g={length:0,_models:f,_fieldsById:h};b&&c(b);return Da(g,{get:function(b){return h[b]},getById:function(b){return h[b]},getByName:function(b){for(var b=e({name:b}),a=0,p=1,i=b.length-1;p<=i;)b[a].time<=b[p].time&&(a=p),p+=1;return b[a]},getFieldsByName:function(b){return e({name:b})},add:function(b,a){return c(b,a)},remove:function(b){return d(b)},indexOf:function(b){return f.indexOf(b)},
at:function(b){return f[b]},reset:function(){return d(f)},each:function(b,a){Hb(f,b,a);return g},map:function(b){return f.map(b)},where:function(b){return e(b)},addField:function(b){a(b);return g},addFields:function(b){return c(b)},removeField:function(b){i(b);return g},removeFields:function(b){return d(b)},updateField:function(b){a(b,{merge:!0});return g},update:function(b){return c(b,{merge:!0})},updateFields:function(b){return c(b,{merge:!0})}})}function c(b){var a=janrain.settings.capture.modalBorderWidth||
10,i=janrain.settings.capture.modalBorderColor||"#000",c=janrain.settings.capture.modalBorderRadius||10,d=janrain.settings.capture.modalBorderOpacity||0.5;b.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(i).setBorder(a).setBorderOpacity(d).setBorderRadius(c);return b}function d(b){if("object"!==typeof v)v=new sd,bc();else{var a=v.getContent();a.style.display="none";a&&document.body.appendChild(a)}ba&&ba.modal&&wc.push(ba);v=c(v);v.addContent(b).show();v.setHeight(Bb(b).height);
v.setWidth(Bb(b).width).refresh({center:!0})}function e(b){function a(){aa=!0;var p=b||G(),i=Sb(b),c=Sb(janrain.settings.capture.captureServer);b&&!ye&&(D.log("This environment does not allow specifying a flow path through janrain.capture.ui.start"),D.show(),p=null);"http"===c.protocol||"https"===c.protocol||(D.log("The capture server url does not have a valid protocol. Check your settings."),D.show());if(!c.host||"undefined"===c.host)D.log("The capture server url does not have a valid host. Check your settings."),
D.show();b&&(Db=i.queryKey.flow_path);Ca(p,nc);V();kc();janrain.events.onCaptureLoginFailed.addHandler(function(){uc++;hb()});janrain.events.onCaptureLoginSuccess.addHandler(function(){uc=0;hb()});janrain.events.onCaptureLoginSuccess.addHandler(function(){xc(Ed)});janrain.events.onCaptureRegistrationSuccess.addHandler(function(){xc(Ed)});janrain.events.onCaptureValidationComplete.addHandler(function(){a:{var b=!1,a;for(a in oa)if("invalid"===oa[a].status){var p=oa[a].postValidationActions;if(p)for(var i in p){if(!oa[a].validation||
"undefined"===typeof oa[a].validation[i])break a;for(var c in p[i])if(p[i].hasOwnProperty(c))switch(c){case "render":p[i].render.screen&&!b&&(b=!0,(new Sa).setScreenData(p[i].render.screen,n.screens[p[i].render.screen]));break;case "setCookie":var I=p[i].setCookie.name,d=p[i].setCookie.value,e=p[i].setCookie.days;(new H).setExpiration(e).setUseLocalStorage(!0).setName(I).setValue(d).create()}}}}});janrain.events.onCaptureRenderComplete.addHandler(function(){if(Wd){var b=F.savedProfileMessage||"Your profile has been saved",
a=Z("capture_profileSavedMessage_container",ba.div),p=a.length;if(p)for(var i=0,p=a.length;i<p;i++)a[i].innerHTML=b,a[i].style.display="",dc(a[i]);else if(Wa&&(a=document.getElementById(M+Wa+"_defaultSavedProfileMessage")))a.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+b+"</div>",dc(a);Wd=!1;if(janrain.settings.capture.autoSave){for(;Pd.length;)Pd.pop().unbindDragHandlers();Mb.each(lb)}}nb()});janrain.events.onCaptureContentChange.addHandler(function(){if("object"===
typeof v&&v.isOpen()){v.setHeight(Bb(v.getContent()).height);var b=v.getState().width,a=Bb(v.getContent()).width;(b=b!==a)&&v.setWidth(a);v.refresh({center:b})}});janrain.settings.custom&&!db&&jb()}function i(){Ue&&!janrain.settings.capture.federateEnableSafari&&(janrain.settings.capture.federate=!1);janrain.settings.capture.federate&&!janrain.federateJSLoaded&&(janrain.settings.capture.federate=!1,zd=!0);a()}function c(){u=Backplane.getChannelID();if(!L){L=!0;var b=function(){Backplane.expectMessages("identity/login")};
janrain.events.onCaptureLoginSuccess.addHandler(b);janrain.events.onCaptureRegistrationSuccess.addHandler(b);janrain.events.onCaptureBackplaneReady.fire();i()}}Ob(ec());janrain.settings.capture.noStyling||(oc(id()+"widgets.css"),ne(id()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&t(janrain.settings.capture.stylesheets))for(var d=janrain.settings.capture.stylesheets,e=d.length,f=0;f<e;f++)oc(d[f]),Q(d[f]);if(g&&9>g&&janrain.settings.capture.conditionalIEStylesheets&&t(janrain.settings.capture.conditionalIEStylesheets)){d=
janrain.settings.capture.conditionalIEStylesheets;e=d.length;for(f=0;f<e;f++)ne(d[f]),Q(d[f])}if(Vb&&janrain.settings.capture.mobileStylesheets&&t(janrain.settings.capture.mobileStylesheets)){d=janrain.settings.capture.mobileStylesheets;e=d.length;for(f=0;f<e;f++)oc(d[f]),Q(d[f])}janrain.settings.capture.backplane?Ca(nd,function(){function b(){p++;if(20<p)return ca("backplanecallback not successful"),janrain.events.onCaptureBackplaneInitFailed.fire(),L=!0,janrain.settings.capture.backplane=!1,i(),
!1;if(L)return clearTimeout(a),!1;var a=setTimeout(b,500)}"function"===typeof Backplane?Backplane(c):Ic=!0;var a={serverBaseURL:od,busName:janrain.settings.capture.backplaneBusName,replayOnPageLoad:ud};2<=parseInt(ka,10)&&(a.block=td);"undefined"!==typeof janrain.settings.capture.backplaneChannelExpires&&(a.channelExpires=janrain.settings.capture.backplaneChannelExpires);Backplane.init(a);Ic&&"undefined"!==typeof Backplane&&c();var p=0;b()}):i()}function f(b,a,i,c){var d=[];c&&d.push({value:"",text:c,
disabled:!0});if("desc"===i)for(i=a;i>b-1;i--)d.push({value:i,text:i});else for(i=b;i<a+1;i++)d.push({value:i,text:i});return d}function h(b){b||(b=ga);return"string"===typeof b?"capture_"+b+"_":"capture_"+q(b)+"_"}function q(b){if(b!==window){var a=b.getAttribute("data-capturescreenname");if(a&&n.screens[a])return a;for(var a=Z("capture_screen_container"),i=0,c=a.length;i<c;i++)if(pe(a[i],b))return a=a[i].getAttribute("data-capturescreenname"),b.setAttribute("data-capturescreenname",a),a}}function G(){var b=
vc,a=janrain.settings.capture.flowVersion||"HEAD",i=janrain.settings.capture.flowName||"default",c=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=c?w()+"/widget_data/flow.js:"+c+":"+b+":"+a+":"+i:w()+"/widget_data/flow.js:"+b+":"+a+":"+i}function w(){return"https://d1lqe9temigv1p.cloudfront.net"}function Q(b){B(Dd,b)||Dd.push(b);ob=Dd.length}function W(b){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+b+"' is missing."}}function Y(b){b=
N(b);ma(b)}function da(b){var a=0,i=0,c=0,d=0;ia(oa,function(e,f){"pending"==f.status&&b===f.formId&&a++;"invalid"==f.status&&b===f.formId&&i++;"undefined"!==typeof f.unique&&!1===f.unique&&b===f.formId&&c++;"valid"==f.status&&b===f.formId&&d++});return{pending:a,invalid:i,notUnique:c,valid:d}}function ma(b,a){var i=b.getAttribute("data-capturefield"),i=Wc.check(b,n.fields[i]),c=document.getElementById(b.id+"_errors");!i.valid&&i.reason?c&&(c.innerHTML=i.reason):c&&(c.innerHTML="");if(a)return"object"!==
typeof i&&(i={valid:!0}),i}function $(b,a){var i=h(b),c=document.getElementById(i+a.name+"_dateselectmonth"),c=c.options[c.selectedIndex].value,d=document.getElementById(i+a.name+"_dateselectday"),d=d.options[d.selectedIndex].value,i=document.getElementById(i+a.name+"_dateselectyear"),i=i.options[i.selectedIndex].value;return!c||!d||!i?!1:c+"/"+d+"/"+i}function ua(b,a){if(!b)return!1;for(var i=La(b.getElementsByTagName("input")),i=i.concat(La(b.getElementsByTagName("select"))),i=i.concat(La(b.getElementsByTagName("textarea"))),
c=[],a=a||!1,d={},e=!1,f,h=0,g=i.length;h<g;h++)f=i[h],(e="file"===f.type?ma(f,!0).valid:Kb(f,!0,a))||c.push(f),"true"===f.getAttribute("data-capturecollection")&&!d[f.name]&&(d[f.name]=!0);janrain.events.onCaptureValidationComplete.fire({fieldsWithError:c});return 0===c.length}function S(){}function J(b){function a(b){P(b);(y?i:c)(b)}function i(b){P(b);s.style.display="none";y=!1}function c(){if(!y){var b=fa||eb;if(pa.getMonth()!==b.getMonth()||pa.getFullYear()!==b.getFullYear())pa=new Date(b),r(pa)}y=
!0;s.style.display="block"}function d(b){Ld(wb);for(var b=parseInt(b),a=G.getFullYear();a>=C.getFullYear();--a){var p=document.createElement("option");p.setAttribute("value",a);va(p,a);wb.appendChild(p)}wb.value=b}function e(){pa.setMonth(O.value);pa.setFullYear(wb.value);r(pa)}function f(b){O.value=b.getMonth();b=b.getFullYear();wb.value=b}function h(b){return function(a){P(a);pa.setMonth(pa.getMonth()+b);a=pa.getFullYear();(a<C.getFullYear()||a>G.getFullYear())&&pa.setMonth(pa.getMonth()-b);r(pa)}}
function l(b){b=b.getDay();return B?(b-1+7)%7:b}function n(b){fa=new Date(pa);fa.setDate(b);"object"===typeof v&&"INPUT"===v.nodeName&&(v.value=kb(U,fa));i();D(fa)}function m(b,a){return b.getDate()===a.getDate()&&b.getMonth()===a.getMonth()&&b.getFullYear()===a.getFullYear()}function j(b){return(m(b,C)||b>C)&&(m(b,G)||b<G)}function r(b){function a(b){P(b);var b=N(b),p=b.getAttribute("data-date");T&&k(T.parentNode).remove("capture_datePicker_selectedDate");k(b.parentNode).append("capture_datePicker_selectedDate");
T=b;n(p)}Ld(o);if(S)f(pa);else{var p=kb(W,b);Ld(q);va(q,p)}p=document.createElement("tr");p.className="capture_datePicker_daysOfTheWeekHeader";for(var i=0,c=w.length;i<c;i++){var I=document.createElement("th");va(I,w[i]);p.appendChild(I)}o.appendChild(p);var d=b.getMonth(),p=new Date(b),e,b=1;p.setDate(1);e=l(p);var i=document.createElement("tr"),ea=new Date(p),h=1-e;ea.setDate(h);for(c=0;c<e;++c){var I=document.createElement("td"),g=document.createElement("a");va(g,ea.getDate());I.appendChild(g);
I.style.textAlign="right";g.setAttribute("data-date",h);g.href="#";I.className="capture_datePicker_prevMonthDay";i.appendChild(I);j(ea)?(k(I).append("capture_datePicker_day"),A(g,"click",a)):k(I).append("capture_datePicker_day_disabled");fa&&m(ea,fa)&&(k(I).append("capture_datePicker_selectedDate"),T=g);m(ea,L)&&k(I).append("capture_datePicker_today");ea.setDate(ea.getDate()+1);h++}for(;p.getMonth()===d;)I=document.createElement("td"),g=document.createElement("a"),g.setAttribute("data-date",b),g.href=
"#",va(g,b),j(p)?(I.className="capture_datePicker_day",A(g,"click",a)):I.className="capture_datePicker_day_disabled",fa&&m(p,fa)&&(k(I).append("capture_datePicker_selectedDate"),T=g),m(p,L)&&k(I).append("capture_datePicker_today"),I.appendChild(g),i.appendChild(I),++e,6<e&&(e=0,o.appendChild(i),i=document.createElement("tr")),++b,p.setDate(b);c=l(p);b=new Date(p);b.setDate(b.getDate()-1);b=b.getDate()+1;if(0<c){for(c=l(p);7>c;++c)I=document.createElement("td"),g=document.createElement("a"),I.style.textAlign=
"right",g.href="#",g.setAttribute("data-date",b),va(g,p.getDate()),I.appendChild(g),I.className="capture_datePicker_nextMonthDay",i.appendChild(I),j(p)?(k(I).append("capture_datePicker_day"),A(g,"click",a)):k(I).append("capture_datePicker_day_disabled"),fa&&m(p,fa)&&(k(I).append("capture_datePicker_selectedDate"),T=g),m(p,L)&&k(I).append("capture_datePicker_today"),p.setDate(p.getDate()+1),b++;o.appendChild(i)}}var z=b||{},s,q,qb,hc,u,o,w="Su,Mo,Tu,We,Th,Fr,Sa".split(","),B=!1,y=qb=!1,x,D=z.callback||
function(){};u=z.monthPreviousText;var E=z.monthNextText,v=z.targetElement,F=z.extraTargetElements||[],b=z.elementAttachedTo,J=z.openOnTargetElementFocus,K=z.provideOpenButton,H,M=!!z.hasCloseButton,L=new Date,C=void 0!==z.minimumSelectableDate?z.minimumSelectableDate:"1/1/"+(L.getFullYear()-100),G=void 0!==z.maximumSelectableDate?z.maximumSelectableDate:"12/31/"+(L.getFullYear()+30),S=z.monthAndYearSelectable,Q=z.arrowKeyNavigation,O,wb,R=void 0!==z.defaultDate?z.defaultDate:new Date,eb=R,pa,fa=
z.preSelectedDate,T,U=z.format||"{m}/{d}/{yyyy}",W=z.calendarTitleFormat||"{month} {yyyy}";pa=new Date(eb);ub(eb)?(x=Md(eb),eb=new Date,eb.setDate(eb.getDate()+x)):"string"===typeof eb&&(eb=new Date(eb));ub(C)?(x=Md(C),C=new Date,C.setDate(C.getDate()+x)):"string"===typeof C&&(C=new Date(C));ub(G)?(x=Md(G),G=new Date,G.setDate(G.getDate()+x)):"string"===typeof G&&(G=new Date(G));Ua(eb)||(eb=new Date);R=new Date(eb);Ua(C)||(C=new Date("1/1/"+(L.getFullYear()-100)));Ua(G)||(G=new Date("12/31/"+(L.getFullYear()+
30)));"undefined"===typeof Q&&(Q=!0);x="January,February,March,April,May,June,July,August,September,October,November,December".split(",");z.monthNames&&12===z.monthNames.length&&(x=z.monthNames);z.weekStartsOnMonday&&(B=z.weekStartsOnMonday,qb=!0);z.daysOfWeek&&7===z.daysOfWeek.length&&(w=z.daysOfWeek,qb=!1);qb&&w.push.apply(w,w.splice(0,1));s=document.createElement("div");s.className="capture_datePicker_wrapper";z.additionalClasses&&(t(z.additionalClasses)&&(z.additionalClasses=z.additionalClasses.join(" ")),
s.className+=" "+z.additionalClasses);"object"===typeof v&&(k(v).append("capture_datePicker_targetElement"),fa&&Ua(fa)&&"INPUT"===v.nodeName&&(v.value=kb(U,fa)),"undefined"===typeof b&&(b=v.parentNode));z=0;"object"===typeof b&&(k(b).append("capture_datePicker_mainTarget"),z=b.offsetHeight);oe(s,{display:"none",position:"absolute",top:z+"px",right:"0",zIndex:"100"});z=document.createElement("div");z.className="capture_datePicker_header";q=document.createElement("div");q.className="capture_datePicker_monthAndYearDisplayDiv";
qb=document.createElement("a");qb.setAttribute("href","#");qb.className="capture_datePicker_previousMonthButton capture_datePicker_monthButtons";hc=document.createElement("a");hc.setAttribute("href","#");hc.className="capture_datePicker_nextMonthButton capture_datePicker_monthButtons";z.appendChild(q);s.appendChild(z);if(S){O=document.createElement("select");wb=document.createElement("select");O.className="capture_datePicker_monthSelect";wb.className="capture_datePicker_yearSelect";for(var X=pa.getMonth(),
V=0;12>V;++V){var Y=document.createElement("option");Y.setAttribute("value",V);va(Y,x[V]);O.appendChild(Y)}x=pa.getFullYear();d(x);O.value=X;wb.value=x;A(O,"change",e);A(wb,"change",e);q.appendChild(O);q.appendChild(wb)}u?va(qb,u):k(qb).append("janrain-icon-16").append("janrain-icon-back");E?va(hc,E):k(hc).append("janrain-icon-16").append("janrain-icon-forward");A(qb,"click",h(-1));A(hc,"click",h(1));z.appendChild(qb);z.appendChild(hc);u=document.createElement("table");u.className="capture_datePicker_monthTable";
u.style.width="100%";u.cellSpacing=0;u.cellPadding=0;o=document.createElement("tbody");u.appendChild(o);s.appendChild(u);M&&(M=document.createElement("div"),M.className="capture_datePicker_closeButton",M.style.textAlign="center",u=document.createElement("a"),u.href="#",va(u,"Close"),A(u,"click",i),M.appendChild(u),s.appendChild(M));K&&"object"===typeof b&&(H=document.createElement("span"),H.className="capture_datePicker_openButton janrain-icon-calendar janrain-icon-16",A(H,"click",a),b.appendChild(H));
r(eb);J&&"object"===typeof v&&A(v,"focus",c);"object"===typeof v&&(A(v,"keydown",function(b){switch(b.keyCode){case ge:case zb:case Id:i()}}),A(v,"keyup",function(){if("INPUT"===v.nodeName){var b=te(U,v.value);Ua(b)&&j(b)&&(pa=b,fa=new Date(b),r(b))}}),A(v,"blur",function(){if("INPUT"===v.nodeName){var b=te(U,v.value);Ua(b)||!j(b)?fa?(pa=new Date(fa),n(fa.getDate())):v.value="":(b=kb(U,fa),b!==v.value&&(v.value=b))}}));A(document,"click",function(b){if(y){for(b=N(b);b;){if(b===s||b===v||b===H)return;
for(var a=0,p=F.length;a<p;++a)if(b===F[a])return;b=b.parentNode}i()}});A(document,"keydown",function(b){if(y)if(b.keyCode===zb||b.keyCode===Id)i();else if(Q){var a={};a[he]=-1;a[ie]=-7;a[je]=1;a[ke]=7;b=a[b.keyCode]||0;0!==b&&(a=fa?new Date(fa):new Date(R),a.setDate(a.getDate()+b),j(a)&&(fa=new Date(a),pa=new Date(fa),r(pa),"object"===typeof v&&"INPUT"===v.nodeName&&(v.value=kb(U,fa)),D(fa)))}});"object"===typeof b&&b.appendChild(s);g&&7>=g&&"object"===typeof b&&oe(b,{position:"relative",zIndex:1});
return{show:c,hide:i,setSelectedDate:function(b){"object"===typeof b&&"function"===typeof b.getMonth&&(fa=new Date(b),pa=new Date(b),r(b));return this},getSelectedDate:function(){return fa}}}function ha(){}function qa(b){var a=za(),b=ta({flow_control:b,token:X,capture_transactionId:a});m("/widget/control.jsonp",b);la(a)}function E(b){var a=document.getElementById("captureIFrame_"+b);"yes"!==a.getAttribute("data-captureiframeloadeventbound")&&(a.setAttribute("data-captureiframeloadeventbound","yes"),
A(document.getElementById("captureIFrame_"+b),"load",tb))}function Oa(b,a,i){if(!t(b)&&!a)return!1;t(b)||(b=[]);var c=b.length,d,e=new Sa,f="",g=[],h=document.getElementById(i+a);if(!h)return!1;for(a=0;a<c;a++)if(d=n.fields[b[a]])d.fieldPrefix=i,d.name=d.elementName=b[a],f+=e.renderField(d),g.push(d.name);if(!f.length&&h)return h.innerHTML="",!1;h.innerHTML=f;a=0;for(c=g.length;a<c;a++)(b=document.getElementById(i+g[a]))&&A(b,"blur",vb)}function nb(){for(var b=ba.div.getElementsByTagName("select"),
a=b.length,i=0;i<a;i++)b[i].getElementsByTagName("option")[b[i].selectedIndex].disabled&&(k(b[i]).append("capture_disabled"),A(b[i],"change",function(){k(this).remove("capture_disabled")}))}function V(){A(document.body,"click",function(b){var a=janrain.settings.capture.logoutLinksClass||"capture_end_session",i=Mc(N(b),"A");i&&i.nodeName&&"A"===i.nodeName&&(k(i).has(a)&&(ib(),P(b)),a=i.getAttribute("data-capturescreen"),i=i.getAttribute("data-captureuseruuid"),a&&i?(rc(a,i),P(b)):a&&!i&&(ac=!0,janrain.capture.ui.renderScreen(a),
P(b)))})}function jb(){janrain.events.onProviderLoginToken.addHandler(function(b){if(b.janrainWidgetParameters&&b.janrainWidgetParameters.widget_type&&"share"===b.janrainWidgetParameters.widget_type)return!1;if(b.linkAccounts)rb(Da({provider:b.janrainWidgetParameters.provider},b));else{janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience,!0);bb&&(O=Ia);Ia=b.token;ba.values=gc(ba.div.id);wc.push(ba);var b=Na(b.keepMeLoggedIn),a=b.capture_transactionId;
m("/widget/token_url.jsonp",b);la(a);bb&&(bb=!1)}});db=!0}function rb(b){l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:b.currentScreen,needsResponse:!0,callback:function(){b.callback&&b.callback();janrain.events.onCaptureProfileLink.fire({provider:b.provider,authProfile:Be})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",
elementValue:b.token}]})}function tb(b){var b=N(b),a=b.getAttribute("data-transactionId"),i=K.parse(b.getAttribute("next"));if("formClicked"===b.className){if(janrain.settings.capture.transactionTimeout&&B(Vd,a))return!1;ja(a,i)}}function ja(b,a){m("/widget/get_result.jsonp",{transactionId:b,cache:(new Date).getTime()},function(){function i(){c++;if(10<c)return ca("could not find transaction status"),!1;if(Qa[b])Qb(b),clearTimeout(d),d=Qa[b],"success"===d.status?a&&Fb(a):ca("there was a problem with the response",
d);else var d=setTimeout(i,50)}var c=0;i()})}function $a(b,a){for(var i=N(b).getAttribute("id").split("_")[3],c=N(b),d=h(c),c=c.parentNode,e=k(c).has("capture_tab_toggle"),f=e?"capture_tab_toggle":"capture_radio_toggle",g=0;g<a.collection.length;g++)a.collection[g].elementName!==i&&(document.getElementById(d+a.collection[g].elementName).style.display="none");for(var f=Z(f,document.getElementById(d+a.elementName)),l=f.length,g=0;g<l;g++)k(f[g]).remove("capture_toggled");k(c).append("capture_toggled");
document.getElementById(d+i).style.display="block";janrain.events.onCaptureContentChange.fire();e&&P(b)}function ya(b,a,i,c){i=c?K.stringify(c):i;la(a);b.className="formClicked";b.setAttribute("next",i);janrain.settings.capture.transactionTimeout&&setTimeout(function(){-1===o.indexOf(a)&&(-1===Vd.indexOf(a)&&Vd.push(a),janrain.events.onCaptureTransactionTimeout.fire({transactionId:a}))},janrain.settings.capture.transactionTimeout)}function Ga(){var b,a,i,c,d,e,f=!1;return{setIframe:function(a){b=
a;return this},setTransactionId:function(b){a=b;return this},setNext:function(b){i=b;c=K.parse(i);return this},setForm:function(b){d=b;return this},setEvent:function(b){e=b;return this},dontSubmit:function(){return c?c.dontSubmit:!1},process:function(){a:if(c.conditional){for(var g=c.conditional,l=g.length,k=0;k<l;k++){var m;b:{m=g[k];var j=n.fields[m.field],j=h(d)+(j.elementId||j.elementName),j=document.getElementById(j);switch(m.compare){case "=":if(j.value===m.value){m=!0;break b}}m=void 0}if(m){f=
g[k];break}}f?f.nosubmit?(P(e),Fb(f.next)):ya(b,a,i,f.next):ya(b,a,i)}else if(c.dontSubmit){P(e);if(c.storeValues){g=Z("capture_focused");ve(g);if(!ua(d))break a;g=da(d.id);if(0<g.notUnique||0<g.pending||0<g.invalid)break a;gc(d.id,!0)}Fb(c)}else ya(b,a,i)}}}function gb(b){var a=N(b),i=a&&a.id?a.id:"",c=N(b).getAttribute("data-transactionId"),d=document.getElementById("captureIFrame_"+c),e=Z("capture_focused"),f=!1;a.getAttribute("next")||a.setAttribute("next",'{"noop":""}');var h=a.getAttribute("next"),
l=new Ga;l.setNext(h);l.dontSubmit()&&(f=!0);if(0<e.length&&g&&f&&ae){var m={},k;for(k in b)m[k]=b[k];setTimeout(function(){we(a);gb(m)},0)}else{ae=!0;if(!f&&("true"!==a.getAttribute("data-capturedomelement")||"true"===a.getAttribute("data-capturedomelementvalidate"))){Xa||sb(a);ba.values=gc(ba.div.id);if(ua(a)){ve(e);var n=!1,j=function(){var c=da(i);r++;400<r&&(clearTimeout(validationTimeout),P(b));0<c.invalid?(P(b),Xa||Ea(a)):0===c.pending?("function"===typeof validationTimeout&&clearTimeout(validationTimeout),
n&&a.submit()):(P(b),n=!0,validationTimeout=setTimeout(j,50))},r=0;j()}else return Xa||Ea(a),P(b),!1;n||(e=Ke(a),h=Qc(),e.parentNode.insertBefore(h,e),e.style.display="none")}f&&P(b);l.setIframe(d).setTransactionId(c).setForm(a).setEvent(b).process()}}function sb(b){for(var b=yb(b),a=0,i=b.length;a<i;a++)be.clearPlaceHolder(b[a])}function yb(b){for(var a=[],i=La(b.getElementsByTagName("input")),i=i.concat(La(b.getElementsByTagName("textarea"))),b=0,c=i.length;b<c;b++)i[b].getAttribute("placeholder")&&
i[b].getAttribute("placeholder").length&&a.push(i[b]);return a}function Ea(b){for(var b=yb(b),a=0,i=b.length;a<i;a++)be.restorePlaceHolder(b[a])}function vb(b){ae=!1;b=mb(b);Kb(b,!1)}function Kb(b,a,i){if(b.type&&("hidden"===b.type||"submit"===b.type||"file"===b.type)||!b.getAttribute("data-capturefield"))return!0;var c=b.getAttribute("data-capturerendererfield")?n.fields[b.getAttribute("data-capturerendererfield")]:n.fields[b.getAttribute("data-capturefield")],d=b.getAttribute("data-capturerendererchildfieldname"),
e=d?c.elementName+"["+d+"]":c.elementName,f=h(b),g,Ta;g=!1;if(c.validation)g=(g=c.validation[d])&&g.required?g.required:!1,Ta=c.validation.required||g;else return!0;g=b.id||b.name;if(!b.value&&!Ta)return delete oa[g],!0;if(oa[g]&&oa[g].status&&"pending"===oa[g].status||c.validation.type&&"server"===c.validation.type||d&&!c.validation[d]&&"dateselect"!==c.type)return!0;oa[g]=oa[g]||{};oa[g].element=b;oa[g].formId=b.form&&b.form.id?b.form.id:"";oa[g].status="pending";oa[g].postValidationActions=c.validation.actions||
null;d="multiCheckbox"===c.element||"multiRadio"===c.element?document.getElementById(f+"form_collection_"+c.elementName):"dateselect"===c.type?document.getElementById(f+"form_item_"+c.name):document.getElementById(f+"form_item_"+e);i||k(d).append("capture_validating");e=new l.validation;e.setParentDiv(d);e.setElement(b);b=Wc.check(b,c,a);b.validation&&(e.setValidation(b.validation),oa[g].validation=b.validation);b.valid?(g=!0,i||(e.valid(c.validation.hideValidated),k(d).remove("capture_validating"))):
b.pending?(i||e.pending(),g=!0):(g=!1,i||(e.notValid(b.reason,b.type),k(d).remove("capture_validating")));return g}function Fb(b){wc.push(ba);if(b.noop)return!1;b.url&&(window.location.href=b.url);b.screen&&(new Sa).setScreenData(b.screen,n.screens[b.screen]);if(b.action&&ba)janrain.capture.ui[b.action]();if(b["function"]&&"function"===typeof $d[b["function"]])$d[b["function"]]()}function Jb(){if(0===ce)return!1;var b=(new Date).getTime()-ce,b=Math.floor(b/1E3);if(60>b)return b+" seconds ago";b=Math.floor(b/
60);if(1==b)return b+" minute ago";if(59>b)return b+" minutes ago"}function Fa(b){ic=!0;b=document.getElementById(b);A(b,"submit",function(){De=(new Date).getTime()});clearInterval(Ee);Ee=setInterval(function(){if(!ic)return!1;janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:Jb()})},Jd)}function lb(b){if(b){var a=document.getElementById(b.get("id")),i=b.attributes;if(a&&("value"in i&&wa(i,"value")&&De<b.time&&("radio"===a.type||"checkbox"===a.type?(b=Mc(a,"form").id,b=document.forms[b][a.name],
b.length&&(b=qe(b,{value:i.value})[0]),b.checked=i.checked):a.value!==i.value&&(a.value=i.value)),i.valid&&(b=qd(a,"capture_form_item"))&&k(b).append("capture_validated"),i.focused)){var c=function(){if(this.setSelectionRange){var b=this.value.length+1;this.setSelectionRange(b,b)}else this.value=this.value;setTimeout(function(){Ab(a,"focus",c)},10)};A(a,"focus",c);a.focus()}}}function U(b){b=N(b);""!==b.name&&na(b)}function na(b){setTimeout(function(){var a={id:b.id,name:b.name,value:b.value};if("radio"===
b.type||"checkbox"==b.type)a.checked=b.checked;Mb.update(a);janrain.settings.capture.autoSave&&Va(b)},0)}function Va(b){clearTimeout(gd);return gd=setTimeout(function(){if(pe(document.body,b)){var a=Mc(b,"form").id,a=document.getElementById(a);if(ic&&ua(a,!0)){Xa||sb(a);a.submit();a.getAttribute("next");var i=a.getAttribute("data-transactionId"),c=document.getElementById("captureIFrame_"+i);(new Ga).setIframe(c).setTransactionId(i).setNext('{"noop": ""}').setForm(a).setEvent(null).process()}}},Kd)}
function Ma(b){b=N(b);b.tagName.match(/select/i)&&clearTimeout(gd);Mb.update({id:b.id,focused:!0})}function Ub(b){var a=N(b).id;setTimeout(function(){var b=Mb.get(a);b&&b.get("focused")&&b.set("focused",!1)},0)}function ta(b,a){var i=Da({js_version:Pc,capture_screen:ga,flow:n.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:xd,locale:vc},b||{});u&&(i.bp_channel=u);Db&&(i.flow_path=Db);
if(t(a))for(var c=0,d=a.length;c<d;c++)i.hasOwnProperty(a[c])&&delete i[a[c]];return i}function Na(b){var a=ta({capture_screen:janrain.settings.capture.registerFlow||"socialRegister",capture_transactionId:za()});Ia&&(a.token=Ia);O&&(a.merge_token=O,O=null);b&&"true"===b&&(a.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(a.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var b=janrain.settings.capture.dataDefaults,
i;for(i in b)b.hasOwnProperty(i)&&"undefined"===typeof a[i]&&(a[i]=b[i])}return a}function cb(b){(new H).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(b).create()}function hb(){(new H).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(uc).create()}function kc(){var b=new H;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainFailedLogins",function(b){ub(b)&&(uc=parseInt(b,10))}):(b=b.getCookie("janrainFailedLogins"),
ub(b)&&(uc=parseInt(b,10)))}function x(){var b=36E5*Nc+(new Date).getTime();return(new Date((new Date).setTime(b))).toUTCString()}function ab(){clearTimeout(Ud);Ud=setTimeout(Ib,1E4)}function qc(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b,a;cookie=new H;cookie.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)cookie.getCookie("janrainCaptureTokenRefresh",function(i){i&&
(a=new Date,b=new Date(i),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):ab())},!1);else{var i=cookie.getCookie("janrainCaptureTokenRefresh",null,!1);i&&(a=new Date,b=new Date(i),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):ab())}}}function Ib(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b=
new H;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureToken",function(b){b?qc():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}):b.getCookie("janrainCaptureToken")?qc():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}}function lc(b){var a=new H;a.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken").setValue(b);janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);
a.create()}function j(){var b=new H;b.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove()}function xa(){var b=new H;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureTemporaryToken",function(b){b&&(sa(b),j())}):b.getCookie("janrainCaptureTemporaryToken")&&(sa(b.getCookie("janrainCaptureTemporaryToken")),j())}function sa(b,a,i){var c=x();X=b;a?(janrain.settings.capture.federate&&
"token"===janrain.settings.capture.responseType&&Ib(),janrain.events.onCaptureSessionCreated.fire({accessToken:b}),janrain.events.onCaptureSessionFound.fire({accessToken:b})):(a=new H,a.setExpirationDirectly(c).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(X),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.create(),janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&(c=new H,a=36E5*Nc-6E5+(new Date).getTime(),
a=(new Date((new Date).setTime(a))).toUTCString(),c.setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(a),janrain.settings.capture.cookieDomain&&c.setDomain(janrain.settings.capture.cookieDomain),c.create(),Ib()),Sd&&(janrain.events.onCaptureLoginSuccess.fire({accessToken:b}),Sd=!1),i?janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:b}):janrain.events.onCaptureSessionCreated.fire({accessToken:b}))}function ib(b){var a=new H,i=za(),c="function"===typeof janrain.settings.capture.federateLogoutCallback?
janrain.settings.capture.federateLogoutCallback:function(){},d=function(){janrain.capture.ui.federateLogoutCallbackFired(i,c)};a.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();b||(X="");janrain.settings.capture.keepProfileCookieAfterLogout||(a.setName("janrainCaptureProfileData"),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.remove());janrain.settings.capture.backplane&&
"function"===typeof Backplane&&Backplane.resetCookieChannel();n&&Lb(n,!0);if(janrain.settings.capture.federate){clearTimeout(Ud);JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},d);var e=0,f=function(){e++;if(20<e)return ca("federatecallback not successful"),Ad.push(i),c(),janrain.settings.capture.federate=!1;if(B(Ad,i))return clearTimeout(b),!1;var b=setTimeout(f,500)};f()}else zd&&c();janrain.events.onCaptureSessionEnded.fire()}
function Pb(){var b=new H;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureToken",function(b){b?sa(b,!0):janrain.events.onCaptureSessionNotFound.fire();Ra=!0});else{if(b.getCookie("janrainCaptureToken"))return sa(b.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function Ac(b){var a=Qa[b];if(b=a.fireEvent)t(b)||(b=[b]),ia(b,function(b,c){janrain.events[c]&&("onCaptureLoginSuccess"===c&&Fd||janrain.events[c].fire(a))})}
function Nb(b,a){function i(){c++;if(10<c)return ca("set login not successful"),pb[a].eventFiredDueToSlowResponse=!0,Ac(a),janrain.settings.capture.federate=!1,zd=!0,!1;if(pb[a]&&pb[a].setLoginSuccess)return clearTimeout(b),!1;var b=setTimeout(i,500)}JANRAIN.SSO.CAPTURE.set_login({code:b,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});var c=0;i()}function mc(b){function a(){d++;if(10<d)return ca("check login not successful"),janrain.settings.capture.federate=
!1,zd=!0,Pb(),Ra=!0,!1;if(-1<o.indexOf(i))return clearTimeout(b),!1;var b=setTimeout(a,500)}b||(b={});var i=za(),c={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:b.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:K.stringify(ta({capture_transactionId:i},["client_id"])),transaction_id:i,logout_uri:janrain.settings.capture.federateLogoutUri,
nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver,refresh:!1};u&&(c.bp_channel=u);b=new H;b.setUseLocalStorage(!0);"token"===janrain.settings.capture.responseType&&(janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureTokenRefresh",function(b){b?(currentTime=new Date,expireTime=new Date(b),currentTime.getTime()>expireTime.getTime()?janrain.settings.capture.federateNoRefresh||(c.refresh=!0):c.refresh=!1):c.refresh=!0},!1):(b=b.getCookie("janrainCaptureTokenRefresh",
null,!1))?(currentTime=new Date,expireTime=new Date(b),currentTime.getTime()>expireTime.getTime()?janrain.settings.capture.federateNoRefresh||(c.refresh=!0):c.refresh=!1):c.refresh=!0);JANRAIN.SSO.CAPTURE.check_login(c);la(i);var d=0;a()}function nc(){if(janrain.settings.capture.redirectFlow&&"transactionId"in Yb)location.hash=location.hash.replace(RegExp("[&,]*transactionId="+Yb.transactionId),""),Pb(),Ra=!0,ja(Yb.transactionId);else if(Ya.capture_complete_social_registration)Ra=!0,sa(Ya.capture_complete_social_registration);
else if(janrain.settings.capture.federate)mc();else{var b;Yb.access_token?(Sd=!0,sa(Yb.access_token),b=!0):b=!1;if(b||Pb())return Ra=!0,!1;janrain.settings.multiDomainLocalStorage||(Ra=!0)}}function tc(b,a){var i=b["if"].compare;if(!i||0>i.indexOf(":"))return!1;switch(i.split(":")[0]){case "cookie":var c=i.split(":")[1],i=new H;i.setUseLocalStorage(!0);"janrainLastAuthMethod"===c&&!$c&&($c=ga);if(janrain.settings.multiDomainLocalStorage)i.getCookie(c,function(i){d&&"janrainLastAuthMethod"===c&&(Cd=
!0);Eb(fc(b["if"],i)?b.then:b["else"],a)});else{var d=i.getCookie(c);d&&"janrainLastAuthMethod"===c&&(Cd=!0);Eb(fc(b["if"],d)?b.then:b["else"],a)}break;case "session":i=i.split(":")[1],"boolean"===typeof b["if"].to&&(b["if"].to+=""),"exists"===i&&Eb(fc(b["if"],!!X+"")?b.then:b["else"],a)}}function fc(b,a){var i=ub(a)?parseInt(a,10):a,c,d=ub(b.to)?parseInt(b.to,10):b.to;switch(b.withOperator){case "===":c=d===i;break;case "!==":c=d!==i;break;case "==":c=d==i;break;case "!=":c=d!==i;break;case ">":c=
i>d;break;case "<":c=i<d}return c}function Eb(b,a){!b&&"function"===typeof a&&a();if(!b)return!1;if("undefined"===typeof b["if"]){if(b.render){var i=b.render.screen,c=n.screens[i];(new Sa).setScreenData(i,c)}}else tc(b,a)}function dc(b){if(!b)return!1;"undefined"!==typeof janrain.settings.capture.hideSavedProfileMessageDelay&&setTimeout(function(){b&&(b.style.display="none")},janrain.settings.capture.hideSavedProfileMessageDelay)}function ec(){for(var b="",a=[],i=0;10>i;i++)b=Ka(40),a.push(b);return a}
function Ob(b){if(!t(b))return!1;for(var a=b.length,i=0;i<a;i++){var c=b[i];-1===Pa.indexOf(c)&&Pa.push(c)}}function za(){var b=Pa.pop();0===Pa.length&&Ob(ec());-1===Bd.indexOf(b)&&Bd.push(b);return b}function la(b){var a=Bd.indexOf(b);-1<a&&Bd.splice(a,1);-1===yd.indexOf(b)&&yd.push(b)}function Qb(b){var a=yd.indexOf(b);-1<a&&yd.splice(a,1);-1===o.indexOf(b)&&o.push(b)}function yc(b){if(b.status){Qa[b.transactionId]=b;"success"===b.status?(janrain.events.onCaptureSaveSuccess.fire(b),$b&&!Zd?$b="":
Zd=!1):janrain.events.onCaptureSaveFailed.fire(b);if("reactivateAccount"===b.action&&b.statusMessage&&("accountReactivated"===b.statusMessage||"invalidReactivationCode"===b.statusMessage))"success"===b.status?janrain.events.onCaptureAccountReactivateSuccess.fire(b):janrain.events.onCaptureAccountReactivateFailed.fire(b);"deactivateAccount"===b.action&&b.statusMessage&&("success"===b.status&&"accountDeactivated"===b.statusMessage?janrain.events.onCaptureAccountDeactivateSuccess.fire(b):janrain.events.onCaptureAccountDeactivateFailed.fire(b));
if("emailCode"===b.action&&b.statusMessage&&("verified"===b.statusMessage||"invalidVerificationCode"===b.statusMessage))if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureEmailVerificationSuccess.fire(b),(b.accessToken||b.authorizationCode)&&janrain.settings.capture.federate&&b.sso&&b.ssoCode)b.fireEvent="onCaptureEmailVerificationSuccess",pb[b.transactionId]=b,Nb(b.ssoCode,b.transactionId)}else janrain.events.onCaptureEmailVerificationFailed.fire(b);
if("emailCode"===b.action&&b.statusMessage&&("forgotPasswordCodeRedeemed"===b.statusMessage||"invalidForgotPasswordCode"===b.statusMessage))if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureForgotPasswordCodeSuccess.fire(b),(b.accessToken||b.authorizationCode)&&janrain.settings.capture.federate&&b.sso&&b.ssoCode)b.fireEvent="onCaptureForgotPasswordCodeSuccess",pb[b.transactionId]=b,Nb(b.ssoCode,b.transactionId)}else janrain.events.onCaptureForgotPasswordCodeFailed.fire(b);
"profile"===b.action&&b.statusMessage&&"profileFound"!==b.statusMessage&&("success"===b.status?(Wd=!0,ce=(new Date).getTime(),janrain.events.onCaptureProfileSaveSuccess.fire(b)):janrain.events.onCaptureProfileSaveFailed.fire(b));if("traditionalSignin"===b.action||"socialSignin"===b.action||"ssoSignin"===b.action)if(dd=!1,"success"===b.status){if(b.authorizationCode){var a=pd(janrain.settings.capture.redirectUri,{code:b.authorizationCode});b.redirectUri=a}if(b.accessToken||b.authorizationCode){if(!janrain.settings.capture.federate||
!b.sso||!b.ssoCode)if(Fd)Fd=!1;else if(b.oneTime){dd=!0;var i=ra(b);delete i.accessToken;janrain.events.onCapturePostLoginScreen.fire(i)}else janrain.events.onCaptureLoginSuccess.fire(b);("traditionalSignin"===b.action||"socialSignin"===b.action)&&cb(b.action);janrain.settings.capture.federate&&b.sso&&b.ssoCode&&(b.oneTime?(dd=!0,b.fireEvent="onCapturePostLoginScreen"):(b.fireEvent="onCaptureLoginSuccess",pb[b.transactionId]=b,Nb(b.ssoCode,b.transactionId)));janrain.settings.capture.federate&&b.ssoImplicitLogin&&
(janrain.events.onCaptureFederateLogin.fire(b),Qb(b.transactionId),Ra=!0)}b.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=a)}else janrain.events.onCaptureLoginFailed.fire(b);"postLoginConfirmation"===b.action&&"success"===b.status&&(b.oneTime?janrain.events.onCapturePostLoginScreen.fire(b):ed&&!dd?janrain.events.onCaptureRegistrationSuccess.fire(b):!ed&&dd&&janrain.events.onCaptureLoginSuccess.fire(b));"postLoginConfirmation"===b.action&&"error"===b.status&&janrain.events.onCaptureLoginFailed.fire(b);
if("traditionalRegister"===b.action||"socialRegister"===b.action)if(ed=!1,"success"===b.status){if(!janrain.settings.capture.federate||!b.sso||!b.ssoCode)b.oneTime?(ed=!0,i=ra(b),delete i.accessToken,janrain.events.onCaptureRegistrationSuccessNoLogin.fire(i),janrain.events.onCapturePostLoginScreen.fire(i)):janrain.events.onCaptureRegistrationSuccess.fire(b);fd&&(fd=!1);if(b.accessToken||b.authorizationCode)"socialRegister"===b.action?cb("socialSignin"):cb("traditionalSignin"),janrain.settings.capture.federate&&
b.sso&&b.ssoCode&&(b.oneTime?(ed=!0,b.fireEvent=["onCapturePostLoginScreen","onCaptureRegistrationSuccessNoLogin"]):(b.fireEvent="onCaptureRegistrationSuccess",pb[b.transactionId]=b,Nb(b.ssoCode,b.transactionId)))}else janrain.events.onCaptureRegistrationFailed.fire(b);"control"===b.action&&("success"===b.status?janrain.events.onCaptureControlSuccesss.fire(b):janrain.events.onCaptureControlFailed.fire(b));"photoUploaded"===b.statusMessage&&janrain.events.onCapturePhotoUploadSuccess.fire();if(b.userData&&
(janrain.settings.capture.setProfileCookie&&(a=b.userData,i=x(),(new H).setExpirationDirectly(i).setUseLocalStorage(!0).setName("janrainCaptureProfileData").setValue(K.stringify(a)).create(),janrain.events.onCaptureProfileCookieSet.fire(a)),janrain.settings.capture.returnExperienceUserData&&(a=janrain.settings.capture.returnExperienceUserData,b=b.userData,t(a)))){for(var i=a.length,c={},d=0;d<i;++d)c[a[d]]=fb(b,a[d]);(new H).setExpiration(1826).setUseLocalStorage(!0).setName("janrainCaptureReturnExperienceData").setValue(K.stringify(c)).create()}}}
function bc(){if("object"!==typeof v)return!1;F.modalConfirmText&&v.setConfirmMessageText(F.modalConfirmText);F.modalConfirmLinkText&&v.setConfirmLinkText(F.modalConfirmLinkText);F.modalCancelLinkText&&v.setCancelLinkText(F.modalCancelLinkText)}function cc(b,a,i,c){Cb[b]={};Cb[b].html='<div class="'+a+'">'+(F[b]||i)+"</div>";Cb[b].screen=c}function zc(b,a){var i=[];ia(Cb,function(b){i.push(b)});B(i,b)&&(Cb[b].html=a)}function xc(b){n=b;n.flow=janrain.settings.capture.flowName;"undefined"===typeof Ed&&
(Ed=b);"object"!==typeof n.layouts&&(n.layouts={});"object"!==typeof n.layouts.captureAccessDeniedBuiltIn&&(n.layouts.captureAccessDeniedBuiltIn={});n.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:Cb.accessDenied.html;"object"!==typeof n.layouts.captureRetrievingUserDataBuiltIn&&(n.layouts.captureRetrievingUserDataBuiltIn={});n.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?
document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:Cb.retrievingUserData.html;"object"!==typeof n.layouts.captureDialogBuiltIn&&(n.layouts.captureDialogBuiltIn={});n.layouts.captureDialogBuiltIn.html=Cb.dialog.html;n.screens.janrainDialog=Cb.dialog.screen;for(b=0;b<ad.length;b++)n.fields[ad[b].field][ad[b].attribute]=ad[b].value}function jc(b){if(ra.isCloneable(b))for(var a in b)if(wa(b,a)){var i=b[a];ra.isCloneable(i)&&jc(i);if(Kc(i)&&"settings"===i.valueSource&&"undefined"!==
typeof i.key&&"undefined"!==typeof i["default"]){var c=R[i.key];"undefined"===typeof c&&(c=i["default"]);b[a]=c}}}function Lb(b,a){ia(b.fields,function(i,c){if((!b.form||a)&&c.doNotPrePopulate)c.value=""})}function ca(){Nd.push(arguments);if(window.console){var b=arguments;b.callee=b.callee.caller;b=[].slice.call(b);g?console.log(b):console.log.apply(console,b)}}function Sa(){function b(b,a,p){a&&a.screenConditionals?Eb(a.screenConditionals,p):"function"===typeof p&&p()}function a(b){janrain.events.onCaptureAccessDenied.fire();
Zb=!0;Rd="accessDenied";f({layout:"captureAccessDeniedBuiltIn",modal:b.modal,source:"server"})}function i(b){var a,p=za();switch(b){case "email":(b=Ya&&Ya.verification_code?Ya.verification_code:"")?(a=ta({capture_transactionId:p,verification_code:b}),m("/widget/email_code.jsonp",a),la(p),ca("need to verify "+b)):ca("no code supplied");break;case "password":(b=Ya&&Ya.code?Ya.code:"")?(ca("need to verify "+b),a=ta({capture_transactionId:p,code:b}),m("/widget/email_code.jsonp",a),la(p)):ca("no code supplied");
break;case "reactivate":(b=Ya&&Ya.reactivation_code?Ya.reactivation_code:"")?(ca("need to verify "+b),a=ta({capture_transactionId:p,reactivation_code:b}),m("/widget/reactivate_account.jsonp",a),la(p)):ca("no code supplied")}}function d(b){b&&(Dc=b.validateOnRender);if(b&&"changePasswordLink"===b.dataType&&!b.errors)return i("password"),!1;if(b&&"verifyEmail"===b.dataType&&!b.errors)return i("email"),!1;if(b&&"reactivateAccount"===b.dataType&&!b.errors)return i("reactivate"),!1;var c=b.dataType&&"public"===
b.dataType;if(b&&b.hasUserData&&!n.fused||b&&b.hasUserData&&c&&!n.privacyFiltered)return c=b.dataType&&"public"===b.dataType,!X&&!c?a(b):(Zb=!0,Rd="retrievingUserData",f({layout:"captureRetrievingUserDataBuiltIn",modal:b.modal,source:"server"}),Bc(c)),h(),!1;if(!X&&b&&b.requireAccessToken)return a(b),h(),!1;Zb=!1;f(b);h();Cd&&(Cd=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function e(a,p){if(Wb)setTimeout(function(){e(a,p)},50);else{p&&
p.type&&"completeSocialRegistration"===p.type&&(Fd=!0);if(Vb&&p&&(n.noModalForMobile||p.noModalForMobile))p.modal=!1;if(Vb&&p&&(n.modalForMobile||p.modalForMobile))p.modal=!0;Ra?(ga=a,M="capture_"+ga+"_",b(a,p,function(){d(p)})):setTimeout(function(){e(a,p)},50)}}function f(b){if(ba&&ba.div&&(!b.modal||ba.modal&&b.modal)&&!b.keepPreviousScreen)ba.div.style.display="none";var a=b.layout,p=b.source,i=b.modal,b=!!b.modalLoadOnLoad;if("server"===p){var c=document.getElementById(a);c||(c=document.createElement("div"),
c.setAttribute("id",a));try{C[a]?z.html=C[a]:(z.html=n.layouts[a].html,C[a]=z.html)}catch(d){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===p)try{if(c=document.getElementById(a))C[a]&&!1!==janrain.settings.capture.saveLayouts?z.html=C[a]:(z.html=c.innerHTML,C[a]=z.html);else throw z.html="",W(a);}catch(I){throw ca(I.name+": "+I.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}k(c).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");
Vb&&(k(c).append("janrain-capture-ui-mobile"),Ba.onOrientationChange.addHandler(function(b){k(c).append("janrain-capture-ui-mobile-"+b.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[b.orientation]);janrain.events.onCaptureContentChange.fire()}),Ba.onOrientationChange.fire({orientation:Ba.getOrientation()}));z.div=c;Zb||z.div.setAttribute("data-capturescreenname",ga);Xc=z.div;z.modalLoadOnLoad=b;z.source=p;z.modal=i;ba=z;"undefined"===typeof Yd[ga]&&(Yd[ga]=
{});Yd[ga].layout=z}function g(b,a){if("object"===typeof b.displayCondition&&"undefined"!==typeof b.displayConditionPassed&&!1===b.displayConditionPassed)return!1;if(b.close)return o.render.html.close(b);if("data"==b.element){if("string"===b.type)return o.render.data.stringData(b);if("image"===b.type)return o.render.data.imageData(b);if("engageCookie"===b.type)return o.render.data.engageCookieData(b);if("localStorage"===b.type)return o.render.data.localStorageData(b)}if("multiRadio"==b.element)return o.render.html.multiRadio(b);
if("multiCheckbox"==b.element)return o.render.html.multiCheckbox(b);if("textarea"==b.element)return o.render.html.textarea(b);if("select"==b.element)return o.render.html.select(b);if("input"==b.element)return o.render.html.input(b);if("form"==b.element)return o.render.html.form(b);if("div"==b.element)return o.render.html.div(b);if("anchor"==b.element)return o.render.html.anchor(b);if("button"==b.element)return o.render.html.button(b);if("capture"==b.element){if("datePicker"==b.type)return o.render.capture.datePicker(b);
if("keepMeLoggedIn"==b.type)return o.render.capture.keepMeLoggedIn(b);if("countrySelect"==b.type)return o.render.capture.countrySelect(b);if("stateSelect"==b.type)return o.render.capture.stateSelect(b);if("publicProfileLink"==b.type)return o.render.capture.publicProfileLink(b,a);if("errorMessages"==b.type)return o.render.capture.errorMessages(b);if("savedProfileMessage"==b.type)return o.render.capture.savedProfileMessage(b);if("captcha"==b.type)return o.render.capture.captcha(b);if("linkAccounts"==
b.type)return o.render.capture.linkAccounts(b);if("mergeAccounts"==b.type)return o.render.capture.mergeAccounts(b,a);if("radioCollection"==b.type)return o.render.capture.radioCollection(b);if("tabCollection"==b.type)return o.render.capture.tabCollection(b);if("photoManager"==b.type)return o.render.capture.photoManager(b,a);if("dateselect_public"==b.type)return o.render.capture.dateselect_public(b);if("dateselect"==b.type)return o.render.capture.dateselect(b);if("addressFull"==b.type)return o.render.capture.addressFull(b);
if("addressFull_public"==b.type)return o.render.capture.addressFull_public(b);if("multipurposeAuth"==b.type)return o.render.capture.multipurposeAuth(b);if("nameFull"==b.type)return o.render.capture.nameFull(b);if("nameFull_public"==b.type)return o.render.capture.nameFull_public(b);if("backButton"==b.type)return o.render.capture.backButton(b);if("partial"==b.type)return o.render.capture.partial(b,a);if("slider"==b.type)return o.render.capture.slider(b,a);if("table"==b.type)return o.render.capture.table(b,
a);if("pluralIterator"==b.type)return o.render.capture.pluralIterator(b);if("datetime_public"==b.type)return o.render.capture.datetime_public(b);if("newsletterSubscriptions"==b.type)return o.render.capture.newsletterSubscriptions(b)}return"widget"==b.element?o.render.widget[b.type](b,a):!1}function h(){Wb=!0;janrain.events.onCaptureRenderStart.fire(n);Za=[];n.fields.submitButton||(n.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",
value:"Submit"});n.fields.loginWidget||(n.fields.loginWidget={element:"widget",type:"login"});n.fields.shareWidget||(n.fields.shareWidget={element:"widget",type:"share"});n.fields.backButton||(n.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});n.fields.captcha||(n.fields.captcha={element:"capture",type:"captcha"});n.fields.keepMeLoggedIn||(n.fields.keepMeLoggedIn={element:"capture",type:"keepMeLoggedIn"});n.fields.errorMessages||(n.fields.errorMessages={element:"capture",
type:"errorMessages"});n.fields.savedProfileMessage||(n.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});z.originalHtml=z.html;z.flow=n;z.html=l(z.html);z.div.innerHTML=z.html;if("server"==z.source){if(!document.getElementById("janrainCaptureWidget")){var b=document.createElement("div");b.id="janrainCaptureWidget";document.body.appendChild(b)}document.getElementById("janrainCaptureWidget").appendChild(z.div)}if(!Zb){for(var b=0,a=vd.length;b<a;b++)Kb(document.getElementById(vd[b]),
!1);vd=[]}s();j();if(0<janrain.events.onCssLoad.firedEvents.length)for(var b=janrain.events.onCssLoad.firedEvents,a=0,p=b.length;a<p;a++)"object"==typeof b&&b[a].args&&b[a].args.source&&-1==Hd.indexOf(b[a].args.source)&&b[a].event.fire(b[a].args);for(b=0;b<Za.length;b++)a=document.getElementById(M+Za[b].elementName),Za[b].next&&Za[b].next.type&&"server"===Za[b].next.type?a.setAttribute("next",'{"noop":""}'):Za[b].next?(Za[b].next.conditional&&a.setAttribute("next",K.stringify(Za[b].next)),Za[b].next.screen&&
a.setAttribute("next",K.stringify(Za[b].next)),Za[b].next.url&&a.setAttribute("next",K.stringify(Za[b].next)),Za[b].next.action&&a.setAttribute("next",K.stringify(Za[b].next))):a.setAttribute("next",'{"noop":""}');q();ba=z;janrain.events.onCaptureContentChange.fire()}function l(b){for(var a=/\{\*(.*?)\*\}/,p=/^\s*\/\s*/,c=/^\s*#\s*/,i=/\{(.*?)*\}\s*/,d=!1,I,e=[],f=[];I=a.exec(b);)try{var ea=I[1].trim();if(i.test(ea))var h=ea.match(i),ea=ea.replace(h[0],"").trim(),Gd=h[0].match(/\{(.*?)*\}\s*/)[0];
else Gd=null;d=!1;c.test(ea)&&(ea=ea.replace("#","").trim(),d=!0);if(p.test(ea)){var Ta=ea.replace("/",""),k={};if("undefined"==typeof n.fields[Ta])return ca("No field definition for"+Ta,"error"),Ha.error("No field definition for"+Ta,"error"),w;k.element=n.fields[Ta].element;k.type=n.fields[Ta].type;k.close=!0}else{if("undefined"==typeof n.fields[ea])return ca("No field definition named "+ea+" for tag "+I[0],"error"),Ha.error("No field definition named "+ea+" for tag "+I[0],"error"),w;k=n.fields[ea];
k.name=ea;d&&(k.start=!0);if("form"===k.element&&!k.transactionId){var m=za();k.transactionId=m}k.elementName=k.elementName||ea}var Gd=Gd||null,j=g(k,Gd);j||(j=" ");b=b.replace(I[0],j);(k.next||"form"===k.element&&!k.close)&&Za.push({elementName:k.elementName,next:k.next});k.onclickHandler&&r.push({elementName:k.elementName,handler:k.onclickHandler,eventType:"click"});k.onchangeHandler&&r.push({elementName:k.elementName,handler:k.onchangeHandler,eventType:"change"});"string"===typeof k.element&&"form"===
k.element&&!k.close&&(r.push({elementName:k.elementName,handler:gb,eventType:"submit"}),janrain.settings.capture.autoSave&&!Vb&&r.push({elementName:k.elementName,handler:Fa,eventType:"render"}));if("form"===k.element&&("widget/traditional_register.jsonp"===k.action||"widget/social_register.jsonp"===k.action))f.push("widget/traditional_register.jsonp"===k.action?"traditionalRegister":"socialRegister");if("form"===k.element&&"widget/traditional_signin.jsonp"===k.action||"widget"===k.element&&"login"===
k.type)e.push("widget/traditional_signin.jsonp"===k.action?"traditionalSignin":"socialSignin")}catch(Ce){return ca(Ce.name+": "+Ce.message,"error"),!1}e.length&&janrain.events.onCaptureLoginStart.fire({action:e.join(","),screen:ga});f.length&&janrain.events.onCaptureRegistrationStart.fire({action:f.join(","),screen:ga});return b}function j(){z.div.getAttribute("data-captureventadded")||(A(z.div,"click",function(b){var a=N(b);if(a&&a.nodeName&&"A"===a.nodeName){var p=a.getAttribute("data-capturecontrol");
p&&(qa(p),P(b));a.getAttribute("data-cancelcapturereturnexperience")&&$c&&(janrain.capture.ui.setNoReturnExperience(),P(b));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof v)"close"===a&&(janrain.capture.ui.modal.close(),P(b)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),P(b))}}),z.div.setAttribute("data-captureventadded",!0));for(var b=z.div.getElementsByTagName("img"),a=b.length,p=0;p<a;p++)A(b[p],"load",function(){janrain.events.onCaptureContentChange.fire()});b=Z(janrain.settings.capture.modalOpenClass||
"capture_modal_open");a=b.length;if(!Rc){for(p=0;p<a;p++)A(b[p],"click",function(b){"object"===typeof v?(janrain.capture.ui.renderScreen(ba.flow.defaultScreen),v.setShowContentOnLoad(!0).addContent(ba.div).show(),ac=!1,janrain.events.onCaptureScreenShow.fire({screen:ga}),janrain.events.onCaptureContentChange.fire()):Oc=!0;P(b)});Rc=!0}}function s(){if(n.cssDependencies&&t(n.cssDependencies))for(var b=0;b<n.cssDependencies.length;b++)Q(n.cssDependencies[b]);ob&&aa&&!Qd?janrain.events.onCssLoad.addHandler(function(b){z=
ba;Hd.push(b.source);for(b=0;b<ob;b++)if(-1==Hd.indexOf(Dd[b]))return!1;Qd||(u(),Qd=!0)}):u();Wb=!1;b={flow:n,renderingBuiltInScreen:Zb,screen:ga};Zb&&(b.builtInScreenRendered=Rd);janrain.events.onCaptureRenderComplete.fire(b);n.screens&&n.screens[ga]&&n.screens[ga].type&&"completeSocialRegistration"===n.screens[ga].type&&(lc(X),ib(!0))}function u(){var b=!1,a=!1;if(z.modal){if("object"===typeof v){var b=!0,p=v.getContent();p&&document.body.appendChild(p);v.close(!0)}else v=new sd,bc();Sc||(a=!0,
janrain.events.onModalClose.addHandler(function(){n&&n.mergeToken&&(n.mergeToken="")}),Sc=!0);v=c(v);v.setShowContentOnLoad(!0).addContent(z.div);a&&janrain.events.onCaptureModalReady.fire();if(b||z.modalLoadOnLoad||Oc||ac)v.show(),ac=!1,janrain.events.onCaptureScreenShow.fire({screen:ga})}else"object"===typeof v&&v.close(!0),ac=!1,janrain.events.onCaptureScreenShow.fire({screen:ga});z.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function q(b){for(var b=b||r,a=0;a<b.length;a++)if("function"===
typeof b[a].handler)if("render"===b[a].eventType)b[a].handler(M+b[a].elementName);else{var p=document.getElementById(M+b[a].elementName);A(p,b[a].eventType,b[a].handler)}r=[]}var z={},o,w="Error displaying information";o=new ha;Wc=new S;return{setScreenData:e,render:h,renderField:g,attachEventHandlers:q}}function gc(b,a){for(var c=[],d=document.getElementById(b).getElementsByTagName("INPUT"),e=d.length,f=0;f<e;f++){var g={};g.id=d[f].id;g.placeholder=d[f].getAttribute("placeholder");if(Fc||a)bd[d[f].getAttribute("data-capturefield")]=
d[f].value;g.value=g.placeholder?g.placeholder===d[f].value?"":d[f].value:d[f].value;"radio"===d[f].type&&(g.type="radio",g.checked=d[f].checked);c.push(g)}return c}function Bc(b,a){var c="function"===typeof a?a:function(){};if(b){var d=Yc||Ya.uuid||"";Yc&&(Yc="");d?(ca("need to get data for "+d),l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",
elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:d}]})):ca("no uuid supplied")}else{if(!X)return!1;l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function m(b,a,c){0!==b.indexOf("http")&&(b=janrain.settings.capture.captureServer+b);Ca(pd(b,a),c)}function y(b,
a){var c={},d=b&&b.userData&&b.userData.migratedUserType?b.userData.migratedUserType:null,e=a?Gc:cd;Ia&&!a&&(c.capture_social_registration=Ia);X&&a&&(c.capture_complete_social_registration=X);Xd&&(c.authProvider=Xd);d&&(c.migratedUserType=d);ib();var d=e,e=location,f=d;d.match(/^http[s]*:\/\//)||(f=e.pathname.split("/"),f.length-=1,f.push(d),f=e.protocol+"//"+e.host+f.join("/"));c=pd(f,c);window.location=c}function Cc(b,a){var c=!1,d;if("ok"===b.stat&&(d=b.result,d.accessToken&&d.oneTime&&($b=d.accessToken,
Zd=!0),d.accessToken&&!d.oneTime&&sa(d.accessToken),d&&yc(d),Xd=d&&d.authProvider?d.authProvider:null,Be=d&&d.authProfileData?d.authProfileData:{},d&&d.screen&&n.screens&&n.screens[d.screen]&&n.screens[d.screen].type&&"completeSocialRegistration"===n.screens[d.screen].type&&xa(),"socialSignin"===d.action&&"success"===d.status&&"noUserForIdentifier"===d.statusMessage||"socialSignin"===d.action&&"success"===d.status&&janrain.settings.capture.socialRegistrationRedirectUrlCondition)){var e=janrain.settings.capture.socialRegistrationRedirectUrlCondition;
if(e){var f=[];ia(e,function(b,a){d[b]===a||d.userData&&d.userData[b]===a?f.push(!0):f.push(!1)})}cd&&"noUserForIdentifier"===d.statusMessage&&(c=!0,y(d));Gc&&e&&!B(f,!1)&&(c=!0,y(d,!0))}"function"===typeof a&&!c&&a(d)}function Ec(b){function a(b){return'<li><a href="#" class="capture_suggestion">'+b+"</a></li>"}var b=b.result,c=h(b.submittedScreen),d=n.fields[b.field],e=document.getElementById(c+(d.elementId||d.elementName||b.field)),f=b.alternatives,g=d.validation.messages.unique||"",m=document.getElementById(c+
"form_item_"+(d.elementName||b.field)),Ta=new l.validation;Ta.setElement(e);Ta.setParentDiv(m);if(!1===b.unique){if(f){var f=f.map(a),j=function(b){var a=N(b);k(a).has("capture_suggestion")&&(e.value=a.innerHTML,Ab(m,"click",j),Ta.valid(),P(b))};Ta.notValid(g+'<ul class="capture_suggestions">'+f.join("")+"</ul>",function(){A(m,"click",j)})}else Ta.notValid(g);Ta.setUnique(!1)}else Ta.valid(),Ta.setUnique(!0)}function Hc(b){var a=[];n&&n.fields&&ia(n.fields,function(c,d){d&&d.type&&d.type===b&&a.push(d)});
return a}function Vc(b,a){if("string"!==typeof b||!janrain.settings.capture.setProfileCookie)return!1;var c=new H,d;c.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)c.getCookie("janrainCaptureProfileData",function(c){c.length&&(d=K.parse(c),"function"===typeof a&&"object"===typeof d&&a(d[b]))});else if((c=c.getCookie("janrainCaptureProfileData"))&&c.length)if(d=K.parse(c),"object"===typeof d)return d[b]}function Jc(b,a){if("string"!==typeof b||!janrain.settings.capture.returnExperienceUserData)return!1;
var c=new H,d;c.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)c.getCookie("janrainCaptureReturnExperienceData",function(c){c.length&&(d=K.parse(c),"function"===typeof a&&"object"===typeof d&&a(d[b]))});else if((c=c.getCookie("janrainCaptureReturnExperienceData"))&&c.length)if(d=K.parse(c),"object"===typeof d)return d[b]}function pc(b){var a=H();return B(["expected_tab","welcome_info_name","login_tab"],b)&&(b=a.getCookie(b))?unescape(b):""}function Qc(){var b=document.createElement("div");
b.className="capture_btn capture_processing";b.innerHTML="Processing";return b}function rc(b,a){n&&b&&a&&n.screens&&n.screens[b]&&n.screens[b].dataType&&"public"===n.screens[b].dataType?(!n._uuid||n._uuid&&n._uuid!==a||!n.privacyFiltered?(Yc=a,n.fused=!1):Yc="",ac=!0,janrain.capture.ui.renderScreen(b)):ca("Cannot get public flow and show screen.")}var sc=function(){function b(b){this.attributes=b&&Da({},b)||{};this.time=(new Date).getTime();return this}b.prototype={set:function(b,a){var p=this,c=
!1,i;Kc(b)&&(i=b);"string"===typeof b?(c=this.attributes[b]!==a,this.attributes[b]=a):i&&ia(i,function(b,a){c=c||p.attributes[b]!==a;p.attributes[b]=a});c&&(this.time=(new Date).getTime());return this},get:function(b){return this.attributes[b]},destroy:function(){this.attributes={};this.time=(new Date).getTime();return this},each:function(b,a){var a=a||this,p;for(p in this.attributes)wa(this.attributes,p)&&b.call(a,p,this.attributes[p]);return this}};for(var a=["focused","checked","value","name",
"valid"],c=0,d=a.length;c<d;c++)(function(a){var p=a.charAt(0).toUpperCase()+a.slice(1);b.prototype["set"+p]=function(b){return this.set(a,b)};b.prototype["get"+p]=function(){return this.get(a)}})(a[c]);return b}(),r=[],Wc,Wb=!1,Db,vc=janrain.settings.capture.language||janrain.settings.language||"en-US",Za=[],ga,Yd={},M,$c,Cd=!1,Dc,wc=[],kd=janrain.settings.capture.maxScreenHistory||3,ba={},ad=[],Ed,$d={},Fc=janrain.settings.capture.mode13||!1,cd=janrain.settings.capture.socialRegistrationRedirect,
Gc=janrain.settings.capture.socialRegistrationCompleteRedirect,Fd=!1,dd=!1,ed=!1,fd=!1,bd={},Mb,ac=!1,Ja,Zb=!1,Ia,O,Sd=!1,X,Ra=!1,$b,Zd=!1,Wd=!1,Qd=!1,n,R,F={},Xc,u,L=!1,Ic=!1,ka=janrain.settings.capture.backplaneVersion||"1.2",ld="1.2"===ka+""?"backplane.js":"backplane"+ka+".js",nd=janrain.settings.capture.backplaneLibrary||"https://d134l0cdryxgwa.cloudfront.net/"+ld,od=janrain.settings.capture.backplaneServerBaseUrl||"https://backplane1.janrainbackplane.com/v"+ka,td=janrain.settings.capture.backplaneBlock||
20,ud=janrain.settings.capture.backplaneReplayOnPageLoad||!1,C={},Qa={},Pa=[],Bd=[],yd=[],o=[],Vd=[],aa=!1,Nc=janrain.settings.capture.accessTokenLifeHours||1,Xa="placeholder"in document.createElement("input"),db=!1,bb=!1,Wa,v,Oc=!1,Rc=!1,Sc=!1,Dd=[],ob=0,vd=[],xd="HEAD",Tc=!1,Cb={},Rd,wd={},Uc=!1,uc=0,Xb=[],Td=!1,zd=!1,pb={},Ad=[],Ud,Ya=Sb(window.location.href).queryKey,Yb=Je(location.hash.replace("#",""),/[&,]/),Yc,Zc,Xd,Be,Fe="Validating",xb,Ge="widget/traditional_register.jsonp,widget/traditional_signin.jsonp,widget/token_url.jsonp,widget/social_register.jsonp,widget/public_profile.jsonp,widget/recover_password.jsonp,widget/email_code.jsonp,widget/reactivate_account.jsonp".split(","),
Hd=[],de={};wc.push=function(){Array.prototype.push.apply(this,arguments);this.length>kd&&this.shift();return this.length};"en"===vc&&(vc="en-US");cd&&Ya&&Ya.capture_social_registration?Ia=Ya.capture_social_registration:Yb.engageToken&&(O=Ia=Yb.engageToken,location.hash=location.hash.replace(RegExp("[&,]*engageToken="+Ia),""));Ia&&(fd=!0);wd.publicPrivateTogglers=[];S.prototype.check=function(b,a,c){if(a.validation&&!0!==a.validation.noTrim&&"string"===typeof b.value&&("text"===b.type||"email"===
b.type))b.value=b.value.trim();var a=a||n.fields[b.name],d=b.getAttribute("data-capturerendererchildfieldname"),d=d&&a.validation&&a.validation[d]?a.validation[d]:d&&"dateselect"!==a.type?!1:a.validation;if(!a.validation)return!0;a.validation.temp=d;if(!a.validation.temp)return!0;a.validation.temp.messages||(a.validation.temp.messages={});if(!this.hasValue(b,a))return{valid:!1,reason:a.validation.temp.messages.required||"Field not completed",type:"required"};if(!this.isDate(b,a))return{valid:!1,reason:a.validation.temp.messages.isDate||
"Not a valid date",type:"notDate"};if(!this.isValidMaxFileSize(b,a))return{valid:!1,reason:a.validation.temp.messages.maxFileSize||"File is too large",type:"maxFileSize"};if(!this.isValidFileType(b,a))return{valid:!1,reason:a.validation.temp.messages.validFileTypes||"File is not a valid file type",type:"fileType"};if(!this.isValidMinYears(b,a))return{valid:!1,reason:a.validation.temp.messages.minYears||"Not old enough",validation:{minYears:d.minYears},type:"minYears"};if(!this.isValidMinLength(b,
a))return{valid:!1,reason:a.validation.temp.messages.minLength||"Invalid length",type:"minLength"};if(!this.isValidMaxLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxLength||"Invalid length",type:"maxLength"};if(!this.isValidMaxNumericLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxNumericLength||"Invalid number of numeric characters",type:"maxNumericLength"};if(!this.isValidFormat(b,a))return{valid:!1,reason:a.validation.temp.messages.format||"Invalid format",type:"format"};
if(!this.isValidMatch(b,a))return{valid:!1,reason:a.validation.temp.messages.match||"Invalid match",type:"match"};d=this.custom(b,a);if(!d)return"undefined"===typeof d?{pending:!0}:{valid:!1,reason:a.validation.temp.messages.custom||"Invalid",type:"custom"};d=oa&&oa[b.id]&&"undefined"!==typeof oa[b.id].unique&&!1===oa[b.id].unique;return a.validation.temp.unique&&(!c||d)?(c=document.getElementById(h(b)+"form_item_"+b.getAttribute("name")),this.isUnique(b,c,a,function(){}),{pending:!0}):{valid:!0}};
S.prototype.custom=function(b,a){if(!a||!a.validation.temp.custom||"function"!==typeof ee[a.validation.temp.custom])return!0;var c=new l.validation,d=document.getElementById(h(b)+"form_item_"+a.elementName);c.setParentDiv(d);c.setElement(b);return ee[a.validation.temp.custom](b.name,b.value,c)};S.prototype.getRating=function(b){var b=b.value,a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],c=0,d;d=Math.min(8,Math.floor(3*Math.log(b.length+1)));for(var e=0;e<a.length;e++)a[e].test(b)&&c++;return d+=Math.floor(Math.pow(2,
c)/2)};S.prototype.isValidMaxNumericLength=function(b,a){if(!a)return!0;var c=a.validation.temp.maxNumericLength;if(!c)return!0;var d=b.value.match(/(\d)/g);t(d)&&d.length>c&&a.validation.temp.actions&&a.validation.temp.actions.maxNumericLength&&Xb.push(a.validation.temp.actions.maxNumericLength);return t(d)?d.length<=c:!0};S.prototype.isValidMaxLength=function(b,a){var c=b.value;if(!a)return!0;var d=a.validation.temp.maxLength;if(!d)return!0;c.length>d&&a.validation.temp.actions&&a.validation.temp.actions.maxLength&&
Xb.push(a.validation.temp.actions.maxLength);return c.length<=d};S.prototype.isValidMinLength=function(b,a){var c=b.value;if(!a)return!0;var d=a.validation.temp.minLength;if(!d)return!0;c.length<d&&a.validation.temp.actions&&a.validation.temp.actions.minLength&&Xb.push(a.validation.temp.actions.minLength);return c.length>=d};S.prototype.isValidMaxFileSize=function(b,a){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.maxFileSize;
return!c?!0:b.files[0].size<c};S.prototype.isValidFileType=function(b,a){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.validFileTypes;return!t(c)?!0:B(c,b.files[0].type)};S.prototype.isDate=function(b,a){if((!a||"dateselect"!==a.type)&&!a.validation.temp.isDate)return!0;var c=$(b,a);if(c)c=re(c);else{if(!(c=a.validation.temp.required))var d=h(b),c=document.getElementById(d+a.name+"_dateselectmonth"),c=c.options[c.selectedIndex].value,
e=document.getElementById(d+a.name+"_dateselectday"),e=e.options[e.selectedIndex].value,d=document.getElementById(d+a.name+"_dateselectyear"),d=d.options[d.selectedIndex].value,c=!(!c&&!e&&!d);c=c?!1:!0}return c};S.prototype.isValidMinYears=function(b,a){if(!a||"dateselect"!==a.type)return!0;var c=$(b,a),d=a.validation.temp.minYears;if(!re(c)||!d)return!0;var e=new Date,c=Math.abs(((new Date(c)).getTime()-e.getTime())/864E5),c=Math.floor(c/365.242199);c>=d||a.validation.temp.actions&&a.validation.temp.actions.minYears&&
Xb.push(a.validation.temp.actions.minYears);return c>=d};S.prototype.hasValue=function(b,a){var c;if("select"===a.element)c=b.options[b.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=b.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var d=c.length,e=[],f=0;f<d;f++)c[f].checked&&e.push(c[f]);c=e.length}else c=!1;else c=b.value;if(!a||!a.validation.temp.required)return!0;
if("dateselect"===a.type)return c=$(b,a),!c?!1:!0;c||a.validation.temp.actions&&a.validation.temp.actions.required&&Xb.push(a.validation.temp.actions.required);return c};S.prototype.isUnique=function(b,a,c,d){a=b.form.getAttribute("data-capturefield");c=b.getAttribute("data-capturefield");b=ta({value:b.value,form:a,capture_screen:q(b),field:c});X&&(b.access_token=X);Db&&(b.flow_path=Db);m("/widget/unique.jsonp",b,d)};S.prototype.isBlacklisted=function(b,a,c){function d(){var a=b.value,c=response;
if(!c||0===c.length)return!0;for(var p,i=0;i<c.length;i++)if(p=RegExp("^"+c[i]+"$","i"),p.test(a))return!0;return!1}captureUIBlacklistCallback=function(b){c(d(b))};t(a)?c(d(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):c(!0)};S.prototype.isValidFormat=function(b,a){var c={alpha:/^[a-z]+$/i,numeric:/^(\d+)$/,numericReal:/^(\d+\.?\d*|\.\d+|\-\d+\.?\d*|\-\.\d+)$/,alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,
email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,zipCode:/^\d{5}$/,"zipCode+4":/^\d{5}(\-\d{4})?$/,phone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,phoneInternational:/^(\d{1,4}[-. ]?)?\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!a.validation.temp.format)return!0;var d=a.validation.temp.format;if("string"===typeof d&&c[d])d=c[d];else return!1;(c=d.test(b.value))||a.validation.temp.actions&&a.validation.temp.actions.format&&
Xb.push(a.validation.temp.actions.format);return c};S.prototype.isValidMatch=function(b,a){if(!a)return!0;var c=a.validation.temp.match;if(!c)return!0;c=n.fields[c];c=h(b)+(c.elementId||c.elementName);c=document.getElementById(c);b.value!==c.value&&a.validation.temp.actions&&a.validation.temp.actions.match&&Xb.push(a.validation.temp.actions.match);return b.value===c.value};var l={autoSelectPreferredTab:function(b,a){var c=Number(Ya.capture_selected_tab);isNaN(c)||(c=b.collection[c])&&r.push({elementName:a+
"_"+c.elementName,handler:function(b){var a=document.getElementById(b);setTimeout(function(){a.click()},0)},eventType:"render"})},getValueFromObject:function(b,a,c){a=fb(a,c);void 0!==b.trueValueReplace&&a?a=b.trueValueReplace:void 0!==b.falseValueReplace&&!a&&(a=b.falseValueReplace);!a&&!1!==a&&0!==a&&(a="");return a},setElementAttributeWithLocalStorage:function(b,a,c){var d=b.profileStoragePath.split("."),e=d.shift(),f=d.join(".");r.push({handler:function(){function d(b){var e=document.getElementById(a);
return e&&(b||!e.getAttribute("placeholder"))?(e[c]=b,!0):!1}janrain.settings.multiDomainLocalStorage?Vc(e,function(a){d(l.getValueFromObject(b,a,f))}):d(l.getValueFromObject(b,Vc(e),f))},eventType:"render"})},attachFieldEventHandlers:function(b){b.type||(b.type="");var a=b.elementId||b.elementName;if("text"===b.type||"password"===b.type||"email"===b.type)r.push({elementName:a,handler:l.clearPlaceHolder,eventType:"focus"}),r.push({elementName:a,handler:l.restorePlaceHolder,eventType:"blur"});r.push({elementName:a,
handler:function(b){b=N(b);h(b);(b=qd(b,"capture_form_item"))&&k(b).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()},eventType:"focus"});r.push({elementName:a,handler:function(b){b=N(b);h(b);(b=qd(b,"capture_form_item"))&&k(b).remove("capture_focused")},eventType:"blur"});b.validation&&r.push({elementName:a,handler:vb,eventType:b.validation.eventType||"blur"});b.rendererFieldName&&b.rendererChildFieldName&&n.fields[b.rendererFieldName].validation&&n.fields[b.rendererFieldName].validation[b.rendererChildFieldName]&&
r.push({elementName:b.rendererFieldName+"_"+b.rendererChildFieldName,handler:vb,eventType:"blur"});if("password"===b.type){b.validation&&("function"===typeof b.validation.rating?r.push({elementName:a,handler:function(a){var a=mb(a),c=Wc.getRating(a);b.validation.rating(a,c)},eventType:"keyup"}):b.validation.rating&&r.push({elementName:a,handler:function(b){b=mb(b);b=Wc.getRating(b);ca("Password Strength",b)},eventType:"keyup"}));for(var c=[],d=0,e=r.length;d<e;d++)r[d].elementName===a&&c.push(r[d]);
r.push({elementName:a,handler:function(b){return l.togglePasswordInput(b,c)},eventType:"click"});r.push({elementName:a,handler:function(b){return l.togglePasswordInput(b,c)},eventType:"focus"})}},attachModifyEventHandler:function(b){r.push({elementName:b.elementId||b.elementName,eventType:b.modify.event,handler:function(){var a=document.getElementById(b.modify.element),c=b.modify.attributes;if(c&&a)for(var d in c)c.hasOwnProperty(d)&&a.setAttribute(d,c[d])}})},wrapStringData:function(b,a,c){var d=
"",e=["capture_data_item"];c&&e.push(c);d+=l.createDiv({elementId:"stringdata_"+b.name,classes:e});b.label&&(d+=l.createLabel({elementId:b.name,label:b.label,classes:["capture_data_label"]}));d+=l.createDiv({elementId:b.name,classes:["capture_data"]});return d+a+"</div></div>"},wrapFormItemStart:function(b){var a="",c=[],d=b.classes||[],e="elementCollection"===b.type?"form_collection":"form_item";if(b.justElement||"submit"===b.type||"button"===b.type)return"";-1===d.indexOf("capture_"+e)&&d.push("capture_"+
e);b.errors&&-1===d.indexOf("capture_error")&&!b.collection&&d.push("capture_error");!b.collection&&b.type&&-1===d.indexOf("capture_"+b.type)&&("checkbox"===b.type||"radio"===b.type?c.push("capture_"+b.type):d.push("capture_"+b.type));"elementCollection"===b.type&&b.displayInline&&-1===d.indexOf("capture_form_collection_inline")&&d.push("capture_form_collection_inline");b.collection?(-1===d.indexOf("capture_"+e+"_"+b.elementName)&&d.push("capture_"+e+"_"+b.elementName),b.checked&&d.push("capture_toggled"),
a+=l.createDiv({elementName:e+"_"+b.elementId,hide:b.hide,classes:d})):a+=l.createDiv({elementName:e+"_"+b.elementName,hide:b.hide,classes:d});if(("checkbox"===b.type||"radio"===b.type)&&!b.collection)a+=l.createDiv({elementName:e+"_inner_"+b.elementName,classes:c});return a},wrapFormItemEnd:function(b){return b.justElement||"submit"===b.type||"button"===b.type?"":"</div>"},createPublicPrivateToggle:function(b){function a(){for(var b=wd.publicPrivateTogglers,c=b.length,p=0;p<c;p++)b[p]&&(b[p].style.display=
"none");wd.publicPrivateTogglers=[]}function c(a){var p=N(a),d=h(p),i=document.getElementById(d+"display_toggle_options_"+b.elementName),e=document.getElementById(d+"display["+(b.rendererFieldName||b.elementName)+"]"),f=document.getElementById(d+"display_indicator_public_"+b.elementName),I=document.getElementById(d+"display_indicator_private_"+b.elementName),g=d+"display_option_public_"+b.elementName,ea=d+"display_option_private_"+b.elementName;document.getElementById(d+"display_toggle_options_"+
b.elementName);if(p.parentNode&&p.parentNode.id&&(p.parentNode.id===g||p.parentNode.id===ea))p=p.parentNode;if(!p.id)return!1;p.id===g?(k(document.getElementById(g)).append("capture_checked"),k(document.getElementById(ea)).remove("capture_checked"),e.value="public",k(f).append("capture_toggled"),k(I).remove("capture_toggled")):(k(document.getElementById(g)).remove("capture_checked"),k(document.getElementById(ea)).append("capture_checked"),e.value="private",k(f).remove("capture_toggled"),k(I).append("capture_toggled"));
na(e);i.style.display="none";P(a)}var d="";b.forcePublicPrivate&&("public"===b.forcePublicPrivate.toLowerCase()?b.displayPublic=!0:"private"===b.forcePublicPrivate.toLowerCase()&&(b.displayPublic=!1));var d=d+l.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+b.elementName}),d=d+l.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+b.elementName}),e=["capture_display_option"];b.displayPublic&&e.push("capture_checked");d+=l.createDiv({classes:e,
elementId:"display_option_public_"+b.elementName});d+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_option"];b.displayPublic||e.push("capture_checked");d+=l.createDiv({classes:e,elementId:"display_option_private_"+b.elementName});d+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';
e=["capture_display_toggle","capture_public"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic&&e.push("capture_toggled");d+=l.createDiv({classes:e,elementId:"display_indicator_public_"+b.elementName});d+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_toggle","capture_private"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic||e.push("capture_toggled");
d+=l.createDiv({classes:e,elementId:"display_indicator_private_"+b.elementName});d=d+'<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+l.createInput({type:"hidden",elementName:"display["+(b.rendererFieldName||b.elementName)+"]",value:b.displayPublic?"public":"private"});r.push({elementName:"display_toggle_wrap_"+b.elementName,eventType:"click",handler:function(c){var d=N(c),i=h(d),i=document.getElementById(i+"display_toggle_options_"+
b.elementName),e="none"===i.style.display||""===i.style.display?"block":"none";d.parentNode&&k(d.parentNode).has("capture_display_toggle")&&(d=d.parentNode);k(d).has("capture_display_toggle")&&!k(d).has("capture_display_toggle_disabled")&&("block"===e&&(a(),wd.publicPrivateTogglers.push(i)),i.style.display=e);P(c)}});r.push({elementName:"display_option_public_"+b.elementName,handler:c,eventType:"click"});r.push({elementName:"display_option_private_"+b.elementName,handler:c,eventType:"click"});Tc||
(A(document.body,"click",function(b){b=N(b);b.parentNode&&k(b.parentNode).has("capture_display_toggle")&&(b=b.parentNode);!k(b).has("capture_display_toggle")&&!k(b).has("capture_display_option")&&a()}),Tc=!0);return d},createAnchor:function(b){var a="",c=b.fieldPrefix||M,d=b.elementId||b.elementName,e="object"===typeof b.elementAttributes?b.elementAttributes:{},f=b.elementClasses&&t(b.elementClasses)?b.elementClasses:[];B(f,"capture_"+d)||f.push("capture_"+d);a=a+"<a "+("id='"+c+d+"' ");b.target&&
(a+="target='"+b.target+"' ");a+="class='"+f.join(" ")+"' ";a+=rd(e)+" ";a+="data-capturefield='"+b.name+"' ";a+="href='"+b.elementHref+"' ";a+="name='"+b.elementName+"' ";a+=">";b.elementText&&(a+=b.elementText);return a+"</a>"},createTextarea:function(b){var a="",c=b.fieldPrefix||M,d=b.elementId||b.elementName,e=b.elementClasses&&t(b.elementClasses)?b.elementClasses:[],f=b.rows||"5",a=a+l.createLabel(b);B(e,"capture_"+d)||e.push("capture_"+d);B(e,"capture_textarea")||e.push("capture_textarea");
a=a+"<textarea "+("id='"+c+d+"' ")+("class='"+e.join(" ")+"' ");a+="data-capturefield='"+b.name+"' ";a=a+("rows='"+f+"' ")+("name='"+b.elementName+"' ");b.placeholder&&Xa&&(a+="placeholder='"+b.placeholder+"'");a+=">";b.value&&(a+=b.value);a+="</textarea>";b.publicPrivateToggle&&(a+=l.createPublicPrivateToggle(b));return a+=l.createTip(b)},createTip:function(b){var a;a="<div class='capture_tip' ";b.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof b.tip?b.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+
(" data-elementName='"+b.elementName+"'>");a+=Fe+"</div>";a=a+"<div class='capture_tip_error'"+(" data-elementName='"+b.elementName+"'>");b.errors&&t(b.errors)&&(a+=b.errors.join(" "),janrain.events.onCaptureServerValidationFailed.fire(b));return a+"</div>"},createLabel:function(b,a){var c,d=b.fieldPrefix||M,e=b.elementId||b.elementName;if(!b.label)return a?a:"";c="<label ";"elementCollection"!==b.type&&(c+=" for='"+d+e+"'");c+=">";a&&(c+=a);b.label&&(c+=b.label);return c+"</label>"},createSelect:function(b){var a=
"",c=b.fieldPrefix||M,d=b.rendererFieldName,e=b.rendererChildFieldName,f,k=b.justElement,m=b.elementClasses&&t(b.elementClasses)?b.elementClasses:[],n=b.elementId||b.elementName;B(m,"capture_"+n)||m.push("capture_"+n);B(m,"capture_select")||m.push("capture_select");a+=l.createLabel(b);a=a+'<span class="capture_select_arrow"><select '+("id='"+c+n+"' ")+("class='"+m.join(" ")+"' ");d&&(a+="data-capturerendererfield='"+d+"' ");b.showFieldWhere&&(a+='data-showFieldWhere="'+b.showFieldWhere+'" ');e&&(a+=
"data-capturerendererchildfieldname='"+e+"' ");a+="data-capturefield='"+b.name+"' ";a+="name='"+b.elementName+"' ";a+=">";d=b.options||[];e=d.length;for(m=0;m<e;m++){var j=d[m],o=j.value||""===j.value?j.value:j.text,a=a+('<option value="'+o+'"');j.disabled&&(a+=' disabled="true"');t(j.showField)&&(a+=' data-showField="'+j.showField.join(",")+'"');o===b.value&&(a+=' selected="selected"',f=j.showField);a+=">"+j.text+"</option>"}a+="</select></span>";b.publicPrivateToggle&&(a+=l.createPublicPrivateToggle(b));
k||(a+=l.createTip(b));r.push({handler:function(){f&&Oa(f,b.showFieldWhere,c)},eventType:"render"});r.push({elementName:n,handler:function(b){var b=N(b),a=h(b),c=b.getElementsByTagName("option")[b.selectedIndex].getAttribute("data-showField"),d=b.getAttribute("data-showFieldWhere");c&&c.length&&(c=c.split(","));g&&9>g&&na(b);Oa(c,d,a)},eventType:"change"});return a},createButton:function(b){var a="",c=b.fieldPrefix||M,d=b.elementId||b.elementName,e=b.elementClasses&&t(b.elementClasses)?b.elementClasses:
[],f=b.type?b.type:"submit";B(e,"capture_"+d)||e.push("capture_"+d);B(e,"capture_btn")||e.push("capture_btn");B(e,"capture_primary")||e.push("capture_primary");a+="<button ";b.hide&&(a+="style='display:none' ");a=a+("id='"+c+d+"' ")+("class='"+e.join(" ")+"' ");a=a+("type='"+f+"' ")+("data-capturefield='"+b.name+"' ");b.value&&(a+="value='"+b.value+"' ");a+="name='"+b.elementName+"' ";a+=">";b.elementContent&&(a+=b.elementContent);a+="</button>";b.modify&&l.attachModifyEventHandler(b);return a},createInput:function(b){var a=
"",c="",d=b.fieldPrefix||M,e=b.elementId||b.elementName,f=b.elementClasses&&t(b.elementClasses)?b.elementClasses:[],g="object"===typeof b.elementAttributes?b.elementAttributes:{},h="button"===b.type||"submit"===b.type||"checkbox"===b.type||"radio"===b.type||"hidden"===b.type,k=b.justElement||b.collection||"hidden"===b.type||"button"===b.type||"submit"===b.type,m="password"===b.type&&!Xa&&b.placeholder?"text":b.type,n=("checkbox"===b.type&&!b.collection||"radio"===b.type&&!b.collection)&&!b.justElement,
j=b.rendererFieldName,r=b.rendererChildFieldName,o=Dc&&!b.collection;B(f,"capture_"+e)||f.push("capture_"+e);h||(c+=l.createLabel(b));a+="<input ";b.placeholder&&(b.placeholder=b.placeholder.replace(/'/g,"&#39;"));b.hide&&(a+="style='display:none' ");a=a+("id='"+d+e+"' ")+(rd(g)+" ");"text"===b.type||"email"===b.type||"password"===b.type||"file"===b.type?B(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===b.type||"radio"===b.type?B(f,"capture_input_"+b.type)||f.push("capture_input_"+
b.type):"submit"===b.type&&(B(f,"capture_btn")||f.push("capture_btn"),B(f,"capture_primary")||f.push("capture_primary"));a+="data-capturefield='"+b.name+"' ";b.collection&&(a+="data-capturecollection='true' ");j&&(a+="data-capturerendererfield='"+j+"' ");r&&(a+="data-capturerendererchildfieldname='"+r+"' ");("checkbox"===b.type||"radio"===b.type)&&b.elementValue?a+="value='"+b.elementValue+"' ":b.value?(g=b.value,b.displaySavedValue&&bd[b.value]&&(g=bd[b.value],"password"===b.type&&(m="password")),
("password"===b.type||"text"===b.type||"email"===b.type)&&!b.errors&&o&&vd.push(d+e),a+="value='"+g+"' "):b.placeholder&&!Xa?(a+="value='"+b.placeholder+"' ",B(f,"capture_input_placeholder")||f.push("capture_input_placeholder")):a+="value='' ";a=a+("type='"+m+"' ")+("class='"+f.join(" ")+"' ");b.placeholder&&(a+="placeholder='"+b.placeholder+"' ");if(b.checked||b.elementValue&&b.value===b.elementValue)a+="checked='checked' ";a+="name='"+b.elementName+"' ";a+="/>";c="checkbox"===b.type||"radio"===
b.type?c+l.createLabel(b,a):c+a;b.modify&&l.attachModifyEventHandler(b);b.publicPrivateToggle&&(c+=l.createPublicPrivateToggle(b));n&&(c+="</div>");k||(c+=l.createTip(b));b.profileStoragePath&&"undefined"===typeof b.value&&l.setElementAttributeWithLocalStorage(b,d+e,"value");return c},createDiv:function(b){var a="<div ",c=b.fieldPrefix||M,d=b.elementId||b.elementName,e="object"===typeof b.elementAttributes?b.elementAttributes:{},f=b.classes||[];B(f,"capture_"+d)||f.push("capture_"+d);a+="id='"+c+
d+"'";if("option"===b.type&&!b["default"]||b.hide)a+=" style='display:none'";"radioCollection"===b.type&&f.push("radio_set");t(f)&&f.length&&(a=a+' class="'+f.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=rd(e)+" ";a+="data-capturefield='"+b.name+"' ";a+=">";b.elementText&&(a+=b.elementText);b.closeDiv&&(a+="</div>");return a},createImage:function(b){var a,c=b.fieldPrefix||M,d=b.classes||[],e=b.elementId||b.imageId||b.elementName||"";a="<img "+('src="'+b.src+'"');e&&!B(d,"capture_"+
e)&&d.push("capture_"+e);b.hide&&(a+=" style='display:none'");b.alt&&(a+=" alt='"+b.alt+"'");"undefined"!==typeof b.width&&(a+=" width='"+b.width+"'");"undefined"!==typeof b.height&&(a+=" height='"+b.height+"'");e&&(a+=' id="'+c+b.imageId+'" ');t(d)&&d.length&&(a=a+'class="'+d.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(b,a){var c,d="captureIFrame_"+b;if(document.getElementById(d))return!1;if(de[a]&&(c=document.getElementById(de[a])))c="div"==c.parentNode.tagName.toLowerCase()?
c.parentNode:c,Tb(c);de[a]=d;if(g){c="";var e=document.createElement("div");e.innerHTML=c+"<iframe "+('name="'+d+'" ')+('data-transactionId="'+b+'" ')+('id="'+d+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(e)}else c=document.createElement("iframe"),c.setAttribute("name",d),c.setAttribute("data-transactionId",b),c.id=d,c.setAttribute("src","about:blank"),c.style.display="none",c.className="",document.body.appendChild(c)},createAnchor:function(b){var a=b.fieldPrefix||
M,c=document.createElement("a");if(!b.classes||b.classes&&!t(b.classes))b.classes=[];b.elementId&&!B(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);c.setAttribute("href",b.elementHref);c.innerHTML=b.elementText;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createDiv:function(b){var a=b.fieldPrefix||M,c=document.createElement("div");if(!b.classes||b.classes&&!t(b.classes))b.classes=[];b.elementId&&!B(b.classes,a+b.elementId)&&
b.classes.push(a+b.elementId);b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createImage:function(b){var a=b.fieldPrefix||M,c=document.createElement("img");if(!b.classes||b.classes&&!t(b.classes))b.classes=[];b.elementId&&!B(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.alt&&c.setAttribute("alt",b.alt);"undefined"!==typeof b.width&&c.setAttribute("width",b.width);"undefined"!==typeof b.height&&c.setAttribute("height",
b.height);c.src=b.elementSrc;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createInput:function(b){var a=document.createElement("input"),c=b.fieldPrefix||M,d="object"===typeof b.elementAttributes?b.elementAttributes:{},e=b.containerDivClasses||[],f;"submit"===b.elementType&&b.containerDiv&&(f=this.createDiv({elementName:b.elementName+"_containverDiv",classes:e}));if(!b.classes||b.classes&&!t(b.classes))b.classes=[];for(var g in d)d.hasOwnProperty(g)&&
a.setAttribute(g,d[g]);b.elementId&&!B(b.classes,c+b.elementId)&&b.classes.push(c+b.elementId);b.elementType&&a.setAttribute("type",b.elementType);b.name&&a.setAttribute("data-capturefield",b.name);b.elementValue&&(a.value=b.elementValue);b.elementName&&(a.name=b.elementName);b.elementId&&(a.id=c+b.elementId);b.hideElement&&(a.style.display="none");a.className=b.classes.join(" ");return f?(f.appendChild(a),f):a},createForm:function(b){b.transactionId||(b.transactionId=za());var a=b.transactionId,
c=b.captureScreen||ga,d=b.fieldPrefix?b.fieldPrefix:h(c),e=document.createElement("form"),f=t(b.fields)?b.fields:[],g=f.length;l.domHelpers.createIFrame(a,d+b.elementId);b.needsResponse&&E(a);if(!b.classes||b.classes&&!t(b.classes))b.classes=[];b.elementId&&!B(b.classes,d+b.elementId)&&b.classes.push(d+b.elementId);e.id=d+b.elementId+"_"+a;e.className=b.classes.join(" ");e.setAttribute("target","captureIFrame_"+a);e.setAttribute("data-transactionId",a);b.name&&e.setAttribute("data-capturefield",b.name);
e.setAttribute("action",b.elementAction);e.setAttribute("method","POST");e.setAttribute("data-capturedomelement","true");b.validate&&e.setAttribute("data-capturedomelementvalidate","true");e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:"\u2713",elementName:"utf8"}));n&&n.mergeToken&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:n.mergeToken,elementName:"merge_token",elementId:"merge_token_"+a}));u&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:d,elementValue:u,elementName:"bp_channel",elementId:"bp_channel_"+a}));Db&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:Db,elementName:"flow_path",elementId:"flow_path_"+a}));if($b)e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:$b,elementName:"access_token",elementId:"access_token_"+a}));else{var k=b.elementAction.substring(janrain.settings.capture.captureServer.length+1,b.elementAction.length);b&&b.elementAction&&
!B(Ge,k)&&X&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:X,elementName:"access_token",elementId:"access_token_"+a}))}ga&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:c,elementName:"capture_screen",elementId:"screen_"+a}));Pc&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:Pc,elementName:"js_version",elementId:"js_version_"+a}));b.serverNextScreen&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:d,elementValue:b.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+a}));b.engageTokenRequired&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:Ia,fieldPrefix:d,elementName:"token",elementId:"token_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:a,fieldPrefix:d,elementName:"capture_transactionId",elementId:"transactionId_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,
elementValue:b.name,elementName:"form",elementId:"form_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:n.flow,elementName:"flow",elementId:"flow_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementName:"client_id",elementId:"client_id_"+a,elementValue:janrain.settings.capture.clientId}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementName:"redirect_uri",elementId:"redirect_uri_"+
a,elementValue:janrain.settings.capture.redirectUri}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:janrain.settings.capture.responseType,elementName:"response_type",elementId:"response_type_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:xd,elementName:"flow_version",elementId:"flow_version_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:vc,elementName:"locale",
elementId:"locale_"+a}));for(c=0;c<g;c++)switch(a=f[c],a.elementType){case "div":a.fieldPrefix=a.fieldPrefix||d;e.appendChild(l.domHelpers.createDiv(a));break;case "anchor":a.fieldPrefix=a.fieldPrefix||d;e.appendChild(l.domHelpers.createAnchor(a));break;case "hidden":a.fieldPrefix=a.fieldPrefix||d;e.appendChild(l.domHelpers.createInput(a));break;case "file":a.fieldPrefix=a.fieldPrefix||d;e.setAttribute("enctype","multipart/form-data");e.appendChild(l.domHelpers.createInput(a));break;case "submit":a.fieldPrefix=
a.fieldPrefix||d,e.appendChild(l.domHelpers.createInput(a))}l.domHelpers.createFormHandler(e,b);return e},createFormHandler:function(b,a){"function"===typeof a.callback&&(b.setAttribute("next",'{"function":"'+a.elementId+'"}'),$d[a.elementId]=a.callback);A(b,"submit",gb)},createFormAndPost:function(b){var a=b.fieldPrefix||M,c=za();b.fieldPrefix=b.fieldPrefix||a;b.transactionId=c;var d=l.domHelpers.createForm(b),a=l.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:a,
elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});d.appendChild(a);document.body.appendChild(d);l.domHelpers.createFormHandler(d,b);a.click()}},createListOfLinks:function(b,a){var c=b.fieldPrefix||M,d;optionsLength=b.length;d="<ul";t(a)&&a.length&&(d=d+' class="'+a.join(" "),d+='"');d+=">";for(var e=0;e<optionsLength;e++){d+="<li";"string"===typeof b[e].listItemId&&(d+=' id="'+c+b[e].listItemId+'" ');b[e].hide&&(d+=' style="display: none;" ');if(!b[e].listItemClasses||
!t(b[e].listItemClasses))b[e].listItemClasses=[];"string"===typeof b[e].listItemId&&!B(b[e].listItemClasses,"capture_"+b[e].listItemId)&&b[e].listItemClasses.push("capture_"+b[e].listItemId);t(b[e].listItemClasses)&&b[e].listItemClasses.length&&(d+=' class="',d+=b[e].listItemClasses.join(" "),d+='"');d+=">";d+='<a href="'+b[e].anchorHref+'"';"string"===typeof b[e].anchorId&&(d+=' id="'+c+b[e].anchorId+'" ');if(!b[e].anchorClasses||!t(b[e].anchorClasses))b[e].anchorClasses=[];"string"===typeof b[e].anchorId&&
!B(b[e].anchorClasses,"capture_"+b[e].anchorId)&&b[e].anchorClasses.push("capture_"+b[e].anchorId);t(b[e].anchorClasses)&&b[e].anchorClasses.length&&(d+=' class="',d+=b[e].anchorClasses.join(" "),d+='"');d+=">";d+=b[e].anchorText;d+="</a>";d+="</li>"}return d+"</ul>"},togglePasswordInput:function(b,a){var c=mb(b),d=c.getAttribute("data-capturefield"),d=n&&n.fields&&d?n.fields[d]:"";h(c);if(d&&!d.placeholder)return!1;"text"===c.type&&c.getAttribute("value")===c.getAttribute("placeholder")&&c.setAttribute("value",
"");if(g&&"text"===c.type){var e=document.createElement("span"),f=c.parentElement;f.insertBefore(e,c);f.removeChild(c);d=document.createElement("input");d.id=c.id;d.setAttribute("data-capturefield",c.name);d.className="capture_password capture_text_input";d.name=c.name;d.setAttribute("type","password");f.insertBefore(d,e);f.removeChild(e);for(c=0;c<a.length;c++)"function"===typeof a[c].handler&&A(d,a[c].eventType,a[c].handler);d.focus()}else"password"!=c.getAttribute("type")&&c.setAttribute("type",
"password")},clearPlaceHolder:function(b){if(Xa)return!0;b="value"in b?b:mb(b);b.value===b.getAttribute("placeholder")&&(g?b.value="":b.setAttribute("value",""),k(b).remove("capture_input_placeholder"))},restorePlaceHolder:function(b){if(Xa)return!0;var b="value"in b?b:mb(b),a=b.getAttribute("placeholder");if(!a||"password"===b.getAttribute("type"))return!1;a&&""===b.value&&(g?b.value=a:b.setAttribute("value",a),k(b).append("capture_input_placeholder"))},validation:function(){function b(b){d=b;var c=
a.id||a.name;Mb.add({id:c,valid:"valid"===b},{merge:!0});oa[c].status=d}var a,c,d,e,f;return{getElement:function(){return a},getParentDiv:function(){return c},getState:function(){return d},getValidation:function(){return f},setState:function(a){b(a)},setUnique:function(b){e=b;oa[a.id||a.name].unique=e},setValidation:function(b){f=b},setParentDiv:function(b){(c=b)&&c.className.split(" ")},setElement:function(b){a=b;c&&c.className.split(" ")},valid:function(d){d||k(c).append("capture_validated");k(c).remove("capture_validating").remove("capture_error");
b("valid");d={};a&&(d.field=a);janrain.events.onCaptureValidationSuccess.fire(d);janrain.events.onCaptureContentChange.fire()},pending:function(){b("pending");k(c).append("capture_validating").remove("capture_validated").remove("capture_error");janrain.events.onCaptureContentChange.fire()},notValid:function(){var d;switch(arguments.length){case 1:message=arguments[0];break;case 2:message=arguments[0];"function"===typeof arguments[1]?callback=arguments[1]:d=arguments[1];break;case 3:message=arguments[0],
d=arguments[1],callback=arguments[2]}b("invalid");if(message){if("noValidationMessage"!==message){k(c).append("capture_error").remove("capture_validated");for(var e,g=h(c),I=c.getElementsByTagName("div"),l=I.length,m=0;m<l;m++)if("capture_tip_error"===I[m].className){var n=0===c.id.indexOf(g+"form_collection_")?g+"form_collection_":g+"form_item_";if(c.id.split(n)[1]===I[m].getAttribute("data-elementName")||c.id.split(n)[1]+"[dateselect_year]"===I[m].getAttribute("data-elementName")){e=I[m];break}}e&&
(e.innerHTML=message)}"function"===typeof callback&&callback();janrain.events.onCaptureContentChange.fire()}e={};a&&(e.field=a);e.message=message;e.parentDiv=c;e.invalidType=d;f&&(e.validation=f);janrain.events.onCaptureValidationFailed.fire(e)}}}},be={createSelect:l.createSelect,createTextarea:l.createTextarea,createAnchor:l.createAnchor,createInput:l.createInput,createLabel:l.createLabel,createDiv:l.createDiv,createImage:l.createImage,createListOfLinks:l.createListOfLinks,togglePassword:l.togglePasswordInput,
clearPlaceHolder:l.clearPlaceHolder,restorePlaceHolder:l.restorePlaceHolder,getElementByEventAttribute:mb};ha.prototype.render={data:{engageCookieData:function(b){return pc(b.cookieName)},localStorageData:function(b){var a="",c=(b.fieldPrefix||M)+(b.elementId||b.elementName),d=b.classes?b.classes.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"):"",e=b.valuePath,f="";if(!janrain.settings.capture.setProfileCookie)return D.log("localStorage renderer can not be used without janrain.settings.capture.setProfileCookie set to true"),
D.show(),"";janrain.settings.multiDomainLocalStorage?Vc(b.data,function(a){function d(){--f;var b=a,e=document.getElementById(c);e?(va(e,b),p=!0):p=!1;!p&&0<f&&setTimeout(d,500)}var p=!1,f=100,a=l.getValueFromObject(b,a,e);d()}):a=Vc(b.data);f='<span id="'+c+'" class="'+d+'">'+l.getValueFromObject(b,a,e);return f+"</span>"},stringData:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",c,a=n.fields&&n.fields[b.value]?n.fields[b.value]:"";b.displaySavedValue&&
(c=a&&a.type&&"password"===a.type);c=b.displaySavedValue&&bd[b.value]&&(!c||c&&Fc)?bd[b.value]:b.value;a=b.justString?c:l.wrapStringData(b,c);"undefined"!==typeof b.hideWhenValue&&c===b.hideWhenValue&&(a="");return a},imageData:function(b){var a;b.value&&(b.returnImageTag?(a={elementName:b.elementname,hide:b.hide,src:b.value},b.classes&&(a.classes=b.classes),b.elementId&&(a.elementId=b.elementId),a=l.createImage(a)):a=b.value);return a}},html:{anchor:function(b){return b=""+l.createAnchor(b)},textarea:function(b){var a;
a=""+l.wrapFormItemStart(b);a+=l.createTextarea(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},select:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createSelect(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},multi:function(b,a){var c="",d,e=t(b.value)?b.value:"string"===typeof b.value?b.value.split(","):[],f=b.options.length,g=0;for(d=e.length;g<d;g++)e[g]=e[g].toString();b.type="elementCollection";c+=l.wrapFormItemStart(b);c+=l.createLabel(b);for(g=0;g<
f;g++)d=b.options[g],d.value="undefined"===typeof d.value?"":d.value.toString(),d.label="undefined"===typeof d.label?"":d.label.toString(),d.value=d.value||d.label,d.label=d.label||d.value,c+=this.input({elementName:b.elementName,type:a,elementId:b.elementName+"_"+d.value+"_"+g,name:b.name,value:d.value,collection:!0,label:d.label,checked:B(e,d.value)}),r.push({elementName:b.elementName+"_"+d.value+"_"+g,handler:function(a,c){return function(){for(var d=h(this),e=document.getElementById(d+"form_collection_"+
b.elementName),e=Z("capture_form_item_"+b.elementName,e),d=document.getElementById(d+"form_item_"+b.elementName+"_"+a+"_"+c),i=0,p=e.length;i<p;i++)k(e[i]).remove("capture_toggled");d&&k(d).append("capture_toggled")}}(d.value,g),eventType:"click"});c+=l.createTip(b);return c+=l.wrapFormItemEnd(b)},multiCheckbox:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},multiRadio:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},input:function(b){var a;a=
""+l.wrapFormItemStart(b);a+=l.createInput(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},button:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createButton(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},form:function(b){var a="<form ",c="object"===typeof b.elementAttributes?b.elementAttributes:{},d=b.localFieldPrefix||M,e=b.classes||[];e.indexOf("capture_form"===-1)&&e.push("capture_form");e.indexOf(-1==="capture_"+b.elementName)&&e.push("capture_"+b.elementName);
a+="id='"+d+b.elementName+"' ";a+=rd(c)+" ";a+="name='"+b.elementName+"' ";a+="data-capturefield='"+b.name+"' ";a+="action='"+janrain.settings.capture.captureServer+"/"+b.action+"' ";t(e)&&(a+="class='"+e.join(" ")+"' ");var a=a+"method='POST' novalidate='novalidate' "+("data-transactionId='"+b.transactionId+"' "),a=a+("target='captureIFrame_"+b.transactionId+"' "),a=a+"accept-charset='UTF-8' >"+('<div id="'+d+b.elementName+'_defaultSavedProfileMessage"></div>'),a=a+('<div id="'+d+b.elementName+'_errorMessages"></div>'),
f="";if(b.errors){janrain.events.onCaptureFormError.fire(b.errors);for(var g in b.errors)b.errors.hasOwnProperty(g)&&(f+=l.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),f+=b.errors[g]+"</div>")}r.push({handler:function(){E(b.transactionId)},eventType:"render"});r.push({handler:function(){var a=document.getElementById(d+b.elementName);if(!a)return!1;var c=Z("capture_form_error_container",a),c=c.length?c[0]:document.getElementById(d+b.elementName+"_errorMessages");
f?(c.innerHTML=f,k(a).append("capture_form_level_error")):c.innerHTML=""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,h;for(h in c)c.hasOwnProperty(h)&&(a+=l.createInput({elementName:h,type:"hidden",value:c[h]}))}a+=l.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});u&&(a+=l.createInput({elementName:"bp_channel",elementId:"bp_channel"+b.transactionId,type:"hidden",
value:u}));Db&&(a+=l.createInput({elementName:"flow_path",elementId:"flow_path_"+b.transactionId,type:"hidden",value:Db}));n&&n.mergeToken&&(a+=l.createInput({elementName:"merge_token",elementId:"merge_token_"+b.transactionId,type:"hidden",value:n.mergeToken}));$b?a+=l.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,classes:["capture_accessToken"],type:"hidden",value:$b}):b&&b.action&&!B(Ge,b.action)&&X&&(a+=l.createInput({elementName:"access_token",elementId:"accessToken_"+
b.transactionId,classes:["capture_accessToken"],type:"hidden",value:X}));ga&&(a+=l.createInput({elementName:"capture_screen",elementId:"screen_"+b.transactionId,type:"hidden",value:ga}));Pc&&(a+=l.createInput({elementName:"js_version",elementId:"js_version_"+b.transactionId,type:"hidden",value:Pc}));b.serverNextScreen&&(a+=l.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+b.transactionId,type:"hidden",value:b.serverNextScreen}));if(b.engageTokenRequired||fd)a+=l.createInput({elementName:"token",
elementId:"token_"+b.transactionId,type:"hidden",value:Ia});a+=l.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+b.transactionId,type:"hidden",value:b.transactionId});a+=l.createInput({elementName:"form",elementId:"form_"+b.transactionId,type:"hidden",value:b.name});a+=l.createInput({elementName:"flow",elementId:"flow_"+b.transactionId,type:"hidden",value:n.flow});a+=l.createInput({elementName:"client_id",elementId:"client_id_"+b.transactionId,type:"hidden",value:janrain.settings.capture.clientId});
a+=l.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+b.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});a+=l.createInput({elementName:"response_type",elementId:"response_type_"+b.transactionId,type:"hidden",value:janrain.settings.capture.responseType});a+=l.createInput({elementName:"flow_version",elementId:"flow_version_"+b.transactionId,type:"hidden",value:xd});a+=l.createInput({elementName:"locale",elementId:"locale_"+b.transactionId,type:"hidden",value:vc});
l.domHelpers.createIFrame(b.transactionId,d+b.elementName);!1!==b.listenToFields&&r.push({handler:function(){var a=document.getElementById(d+b.elementName);a&&(A(a,"keyup",function(a){(8==a.keyCode||46==a.keyCode)&&U(a)}),A(a,"keypress",function(a){(a.charCode||a.keyCode)&&U(a)}),A(a,"change",U),a.addEventListener?(a.addEventListener("focus",Ma,!0),a.addEventListener("blur",Ub,!0)):"object"===typeof window.attachEvent&&(a.attachEvent("onfocusin",Ma),a.attachEvent("onfocusout",Ub)))},eventType:"render"});
return a},div:function(a){return l.createDiv(a)},close:function(a){return"capture"===a.element?"photoManager"===a.type?"</div>":"":"</"+a.element+">"}},capture:{table:function(a){var c='<table class="capture_table">',d=ha.prototype.render.html;if(a.th.display){var c=c+"<tr>",e;for(e in a.th.cols)c+="<th>"+a.th.cols[e]+"</th>";c+="</tr>"}for(var f in a.rows){var c=c+"<tr>",g;for(g in a.rows[f].cells)a.rows[f].cells[g].type&&"radio"===a.rows[f].cells[g].type?(e=a.rows[f].cells[g],e.name="table",a.value&&
e.elementValue===a.value[e.rendererChildFieldName]&&(e.checked=!0),c+="<td>",c+=l.wrapFormItemStart(a),c+=d.input(e),c+=l.wrapFormItemEnd(a),c+="</td>"):c+="<td>"+a.rows[f].cells[g]+"</td>";c+="</tr>"}return c+"</table>"},countrySelect:function(a){a.customText||(a.customText={});a.options=[{text:a.customText.countryLabel||"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},
{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",
value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",
value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},
{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},{text:"Cyprus",
value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",
value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},
{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},
{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",
value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",
value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},
{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",
value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},
{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",
value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},
{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},
{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return ha.prototype.render.html.select(a)},
stateSelect:function(a){a.customText||(a.customText={});var c=[{text:a.customText.stateLabel||"state",value:"",disabled:!0}],c=a.noCanadianProvinces?c.concat(ze):c.concat(ze,Te);a.options=c;return ha.prototype.render.html.select(a)},keepMeLoggedIn:function(a){var c=a.fieldPrefix||M,a=""+l.createInput({label:a.label||"Keep me logged in",type:"checkbox",name:a.name,justElement:!0,value:"yes",checked:a.checked||!1,elementName:"capture_keep_me_logged_in"});r.push({elementName:"capture_keep_me_logged_in",
handler:function(){loggedInElement=document.getElementById(c+"capture_keep_me_logged_in");janrain.engage.signin.appendTokenParams({keepMeLoggedIn:loggedInElement.checked},!0,!0)},eventType:"render"});r.push({elementName:"capture_keep_me_logged_in",handler:function(a){a=N(a);janrain.engage.signin.appendTokenParams({keepMeLoggedIn:a.checked},!0,!0)},eventType:"click"});return a},captcha:function(a){var c="http:"===document.location.protocol?"http://www.google.com/recaptcha/api/js/recaptcha_ajax.js":
"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js";Uc||Ca(c,function(){Uc=!0});r.push({elementName:a.name,handler:function(){function a(){if("undefined"===typeof Recaptcha)setTimeout(a,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});c=""+
l.wrapFormItemStart(a);a.label&&(c+=l.createLabel(a));c=c+'<div id="recaptcha_container"></div>'+l.createTip(a);return c+=l.wrapFormItemEnd(a)},mergeAccounts:function(a,c){var c=c?K.parse(c):{custom:!1},d=ha.prototype.render,e=a.value,f="";e.existing_provider="legacy"===e.existing_provider?"email":e.existing_provider;a.customText||(a.customText={});var g=a.customText.connectRadio||'Connect this session with your existing account. <span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',
h=a.customText.connectLegacyRadio||'Connect this session with your existing account <span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',l=a.customText.createRadio||"Create a new account using {| current_provider |} sign-in.",m=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",n=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',
j=a.customText.moreInfo||"More Info ?",o=a.customText.createButton||"Create",t=a.customText.connectButton||"Connect";e.connectRadioText=T(e,g);e.connectLegacyRadioText=T(e,h);e.createRadioText=T(e,l);e.foundExistingAccountText=T(e,m);e.moreInfoHoverText=T(e,n);e.moreInfoText=T(e,j);e.createButtonText=T(e,o);e.connectButtonText=T(e,t);e.connect_button=d.html.button({elementContent:'<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase()+
'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.current_provider.toLowerCase()+'"></span>'+t,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});e.create_button=d.html.button({elementContent:o,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});e.merge_radio=d.html.multiRadio({element:"multiRadio",value:[1],elementName:a.name+"_mergeRadio",classes:["capture_form_collection_merge_radioButtonCollection"],
options:[{label:"email"===e.existing_provider?T(e,h):T(e,g),value:1},{label:l,value:2}]});e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase();e.existing_provider_lowerCase=e.existing_provider.toLowerCase();c.custom?r.push({handler:function(){var c=
document.getElementById(a.name);c.innerHTML=T(e,c.innerHTML)},eventType:"render"}):f+=T(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}          </div>         <span class="capture_mergeProvider janrain-provider-icon-24 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
r.push({elementName:a.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(bb=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});r.push({elementName:a.name+"_createButton",handler:function(){cd?y():(O=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});r.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(M+a.name+"_connectButton").style.display="";document.getElementById(M+a.name+"_createButton").style.display="none";k(document.getElementById(M+"form_item_"+a.name+"_mergeRadio_1_0")).append("capture_toggled");k(document.getElementById(M+"form_item_"+a.name+"_mergeRadio_2_1")).remove("capture_toggled")},eventType:"click"});r.push({elementName:a.name+
"_mergeRadio_2_1",handler:function(){document.getElementById(M+a.name+"_connectButton").style.display="none";document.getElementById(M+a.name+"_createButton").style.display="";k(document.getElementById(M+"form_item_"+a.name+"_mergeRadio_2_1")).append("capture_toggled");k(document.getElementById(M+"form_item_"+a.name+"_mergeRadio_1_0")).remove("capture_toggled")},eventType:"click"});return f},publicProfileLink:function(a,c){var d="",e=c?K.parse(c).elementHref:a.elementHref;a.elementAttributes="object"===
typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=e+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return d+=l.createAnchor(a)},linkAccounts:function(a){function c(d){var e=a.value.providers[d],i=a.value.displayNames[d],f=a.value.identifiers[d],p=a.value.prettyProviders?a.value.prettyProviders[d]:e,g;g='<li class="capture_provider_linked"><span class="'+("janrain-provider-icon-"+m+" janrain-provider-icon-"+
e+(a.customIcons?"-custom":"")+'">');g+='</span><span class="';var h=i&&"null"!==i.toLowerCase(),k=/\{\|\s*displayName\s*\|}/.test(a.displayFormat),i=h||!k?T({provider:p,displayName:i},a.displayFormat):p;g+="janrain-provider-text-"+e+(a.customIcons?"-custom":"")+'">'+i+"</span>";if(Td||0!==d)g+='<span tabindex="0" class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+e+'" data-captureidentifier="'+f+'"></span>';return g+"</li>"}a.value||(a.value=
{});a.customText||(a.customText={});var d=ga,e=a.fieldPrefix||M,f='<div class="capture_linkAccounts" id="'+e+a.name+'_currentlinkedaccounts">',g=n.fields[a.linkAccountContainer].elementName||n.fields[a.linkAccountContainer].name||a.linkAccountContainer,h=a.customText.linkAnotherAccount||"Link account",k=t(a.value.providers)?a.value.providers.length:0,l=e+a.name+"_linkaccountsscreen",m=a.providerIconSize&&B(Se,a.providerIconSize)?a.providerIconSize:16,f=f+('<ul class="capture_provider" id="'+e+a.name+
'_linkedproviderlist">');if(!a.customAddLinks)for(var j=0;j<k;j++)f+=c(j);if(a.customAddLinks){j=0;for(h=a.customProviders.length;j<h;j++)B(a.value.providers,a.customProviders[j])?(k=a.value.providers.indexOf(a.customProviders[j]),f+=c(k)):(f+='<li tabindex="0" class="capture_custom_add_linkedaccount" data-captureprovider="'+a.customProviders[j]+'">',f+=T({provider:a.customProviders[j]},a.customAddLinkFormat)+"</li>");r.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Rb.linkWithCustomLink(a,
d)},eventType:"click"});r.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Rb.linkWithCustomLink(a,d)},eventType:"keypress"})}else f+='<li class="capture_linkAccount"><a href="#" id="'+e+a.name+'_linknewlink">'+h+"</a></li>";f+="</ul></div>";r.push({elementName:a.name+"_linknewlink",handler:function(a){Rb.openInModal(a,d,l)},eventType:"click"});r.push({elementName:a.name+"_currentlinkedaccounts",handler:function(c){Rb.unLinkAccount(c,a,d)},eventType:"keypress"});r.push({elementName:a.name+
"_currentlinkedaccounts",handler:function(c){Rb.unLinkAccount(c,a,d)},eventType:"click"});f=f+'<div style="display: none;">'+('<div id="'+l+'"')+' class="janrain-capture-ui capture-ui-content capture_addLinkedAccount';Vb&&(f+=" janrain-capture-ui-mobile");f=f+'">'+('<div id="'+e+a.name+'_linkAccountContainerContainer">');f+="</div></div></div>";a.customAddLinks||r.push({handler:function(){Rb.renderHandler(e+g,e+a.name+"_linkAccountContainerContainer")},eventType:"render"});return f},errorMessages:function(){var a;
a=""+ha.prototype.render.html.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+ha.prototype.render.html.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c=
"",c="";a.value.firstname&&(c+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&!a.hideMiddlename&&(c+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(c+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+a.value.lastname+"</span>");return c=a.justString?c:l.wrapStringData(a,c,"capture_stringdata_nameBlock")},
nameFull:function(a){var c,d=ha.prototype.render.html;c='<div class="capture_form_item capture_nameBlock">'+d.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:
""});a.hideMiddlename||(c+=d.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""}));c+=d.input({elementName:a.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",type:"text",rendererFieldName:a.name,
rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return c+"</div>"},multipurposeAuth:function(a){var c;a.type="text";c=""+l.wrapFormItemStart(a);c+=l.createInput(a);c+=l.wrapFormItemEnd(a);l.attachFieldEventHandlers(a);a.type="multipurposeAuth";return c},dateselect_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic||!a.value||!a.value.dateselect_month||!a.value.dateselect_year||
!a.value.dateselect_day)return"";var c="",c="",d,c=parseInt(a.value.dateselect_month,10);d=parseInt(a.value.dateselect_year,10);var e=parseInt(a.value.dateselect_day,10);a.format?(c=new Date(d,c-1,e),d=a.format,c=kb(d,c,{monthNames:a.monthNames,dayNames:a.dayNames})):c=c+"/"+e+"/"+d;return c=a.justString?c:l.wrapStringData(a,c,"capture_stringdata_dateselectBlock")},dateselect:function(a){function c(d){d=N(d);d=h(d);d=document.getElementById(d+"form_item_"+a.elementName);k(d).append("capture_focused").remove("capture_error");
janrain.events.onCaptureContentChange.fire()}function d(c){var e=N(c),i=h(e),i=document.getElementById(i+"form_item_"+a.elementName);k(i).remove("capture_focused");$(e,a)&&vb(c)}a.customText||(a.customText={});var e=a.customText.dayLabelDateSelect||"day",g=a.customText.monthLabelDateSelect||"month",m=a.customText.yearLabelDateSelect||"year",n=se;a.monthNames&&t(a.monthNames)&&12===a.monthNames.length&&(n=a.monthNames);var j=a.fieldPrefix||M,o='<div id="'+j+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',
u,q,v,w=t(a.format)&&3===a.format.length?a.format:["month","day","year"],z=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):"",x=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"",A=a.value&&a.value.dateselect_month?parseInt(a.value.dateselect_month):"",g=[{text:g,value:"",disabled:!0},{text:n[0],value:1},{text:n[1],value:2},{text:n[2],value:3},{text:n[3],value:4},{text:n[4],value:5},{text:n[5],value:6},{text:n[6],value:7},{text:n[7],value:8},{text:n[8],value:9},
{text:n[9],value:10},{text:n[10],value:11},{text:n[11],value:12}],n=a.monthStart||1,y=a.monthEnd||13,B=a.dayStart||1,D=a.dayEnd||31,E=a.yearStart||1929,F=a.yearEnd||(new Date).getFullYear();v={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],justElement:!0,value:A,options:g.slice(0,1).concat(g.slice(n,y))};q={elementName:a.name+"[dateselect_day]",elementId:a.name+
"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:z,options:f(B,D,"asc",e)};E=parseInt(E,10);F=parseInt(F,10);u={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],value:x,options:f(E,F,"desc",m)};for(e=0;3>e;e++){var C;switch(w[e]){case "month":C=v;break;case "day":C=
q;break;case "year":C=u}0===e&&(C.label=a.label);2===e&&(C.publicPrivateToggle=a.publicPrivateToggle,C.displayPublic=a.displayPublic,C.tip=a.tip,C.justElement=!1);o+=l.createSelect(C)}if(a.datePicker){var H,w=new Date(A+"/"+z+"/"+x),G;G=isNaN(w.getMonth())?{provideOpenButton:!0}:{provideOpenButton:!0,defaultDate:w,preSelectedDate:w};Da(G,a.datePickerSettings||{});r.push({elementName:u.elementName,eventType:"render",handler:function(){var a=document.getElementById(j+v.elementId),b=document.getElementById(j+
q.elementId),c=document.getElementById(j+u.elementId);G.elementAttachedTo=c.parentNode;G.extraTargetElements=[a,b,c];G.callback=function(d){a.value=d.getMonth()+1;c.value=d.getFullYear();b.value=d.getDate();na(a);na(b);na(c);k(a).remove("capture_disabled");k(c).remove("capture_disabled");k(b).remove("capture_disabled");c.focus();c.blur()};H=new J(G)}});var K=function(){if("undefined"!==typeof H){var a=document.getElementById(j+v.elementId),b=document.getElementById(j+q.elementId),c=document.getElementById(j+
u.elementId),d=new Date;d.setFullYear(c.value);d.setMonth(a.value-1);d.setDate(b.value);H.setSelectedDate(d)}};r.push({elementName:u.elementId,eventType:"change",handler:function(){K()}});r.push({elementName:v.elementId,eventType:"change",handler:function(){K()}});r.push({elementName:q.elementId,eventType:"change",handler:function(){K()}})}o+="</div>";r.push({elementName:a.name+"_dateselectyear",handler:c,eventType:"focus"});r.push({elementName:a.name+"_dateselectyear",handler:d,eventType:"blur"});
r.push({elementName:a.name+"_dateselectday",handler:c,eventType:"focus"});r.push({elementName:a.name+"_dateselectday",handler:d,eventType:"blur"});r.push({elementName:a.name+"_dateselectmonth",handler:c,eventType:"focus"});r.push({elementName:a.name+"_dateselectmonth",handler:d,eventType:"blur"});return o},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c="",c="";a.value.streetaddress&&(c+='<div class="capture_stringdata_addressBlock_streetaddress">'+
a.value.streetaddress+"</div>");a.value.streetaddress2&&(c+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(c+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&(c+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");
a.value.zippostalcode&&(c+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+="</div>";a.value.country&&(c+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return c=l.wrapStringData(a,c,"capture_stringdata_addressBlock")},addressFull:function(a){var c,d=ha.prototype.render.html;a.value||(a.value={});a.customText||(a.customText={});a.value.country||(a.value.country=
"United States");var e=a.customText.stateLabel||"state",f=a.customText.countryLabel||"country";c='<div class="capture_form_item capture_addressBlock">'+d.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:a.label||"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?
a.placeholder.streetaddress:""});c+=d.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});c+=d.input({elementName:a.name+"[city]",elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,
value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});c+=ha.prototype.render.capture.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",customText:{stateLabel:e},placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&
a.value.stateprovince?a.value.stateprovince:""});r.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});c+=d.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});c+=ha.prototype.render.capture.countrySelect({elementName:a.name+
"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],customText:{countryLabel:f},value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});r.push({elementName:a.name+"_country",handler:function(c){var c=N(c),c=h(c),d=this.options[this.selectedIndex].value||"",e=document.getElementById(c+a.name+"_stateprovince");"United States"===d||"Canada"===
d?document.getElementById(c+"form_item_"+a.name+"[stateprovince]").style.display="inline-block":(e.selectedIndex=0,document.getElementById(c+"form_item_"+a.name+"[stateprovince]").style.display="none")},eventType:"change"});return c+"</div>"},backButton:function(a){var c;a.type="button";a.elementContent='<span class="janrain-icon-16 janrain-icon-back"></span>';c=""+l.createButton(a);a.type="backButton";r.push({elementName:a.elementName,handler:function(){aa=!1;var a=wc.pop();a&&(a.flow.oneTimeRender=
void 0,janrain.capture.ui.render(a.flow,a.values))},eventType:"click"});return c},partial:function(a){var c=document.getElementById(a.layout);if(c)return c.innerHTML;throw W(a.layout);},photoManager:function(a,c){function e(c){ic=!1;var i=document.getElementById(q+a.name+"_profile_pic_uploadform_container"),f=document.getElementById(q+a.name+"_upload_photo_form");document.createElement("div").appendChild(f);i.innerHTML="";var g=document.createElement("div");g.innerHTML=ba;var p=document.createElement("div");
p.innerHTML=ca;i.appendChild(g);i.appendChild(f);i.appendChild(p);d(document.getElementById(G));i=document.getElementById(q+"photo_chooser");A(i,"change",Y);var h=janrain.events.onModalClose.addHandler(function(){ic=!0;janrain.events.onModalClose.removeHandler(h)});c&&P(c)}function f(c){if(0<parseInt(c.unscaled.width)){xb=c;var d=c.unscaled.height/c.sizedHeight,e=Math.round(v/(c.unscaled.width/c.sizedWidth)),i=document.getElementById(q+a.name+"_profile_pic_image_edit"),d=Math.round(w/d);"none"===
i.style.display&&(i.style.display="block");i.style.width=e+"px";i.style.height=d+"px";i.style.marginLeft="-"+Math.round(c.unscaled.left/c.sizedWidth*e)+"px";i.style.marginTop="-"+Math.round(c.unscaled.top/c.sizedHeight*d)+"px"}}function g(){if(D)return!1;var c=document.getElementById(q+a.name+"_profile_pic_image_edit_crop");crop(c,f,y,x,function(){janrain.events.onCaptureContentChange.fire()});c.style.display="inline";D=!0}function k(){setTimeout(function(){"function"!==typeof crop?Ca("//d16s8pqtk4uodx.cloudfront.net/crop/crop.js",
g):setTimeout(g,50)},500)}function m(a){if(!xb)return!1;N(a);var a=xb.sizedWidth/xb.originalWidth,b=xb.sizedHeight/xb.originalHeight;document.getElementById(q+"width").value=Math.round(xb.unscaled.width/a);document.getElementById(q+"height").value=Math.round(xb.unscaled.height/b);document.getElementById(q+"x").value=Math.round(xb.unscaled.left/a);document.getElementById(q+"y").value=Math.round(xb.unscaled.top/b)}function n(a){"undefined"===typeof a&&(a=0);var b=document.getElementById("janrainModal");
if(null===b||"none"===b.style.display){k();ic=!1;d(document.getElementById(H));var c=janrain.events.onModalClose.addHandler(function(){ic=!0;janrain.events.onModalClose.removeHandler(c)})}else 20>a&&setTimeout(function(){n(a+1)},100)}var c=c?K.parse(c):{custom:!1},j={};if(t(a.value)&&a.value.length){Ja={};for(var o=0,s=a.value.length;o<s;o++)Ja[a.value[o].type]=a.value[o]}else Ja=!1;var o=l.createDiv({elementName:a.elementName+"_parent"}),u=ga,q=a.fieldPrefix||M,s=ha.prototype.render.html,v=a.previewSizeWidth||
100,w=a.previewSizeHeight||100,x=a.originalMaxWidth||450,y=a.originalMaxHeight||450,D=!1,C="object"===typeof Ja,F=C?"":"capture_profile_pic ",G=q+a.name+"_uploadphotoscreen",H=q+a.name+"_editphotoscreen";if(C&&Ja.original)var J=-1<Ja.original.value.indexOf("?")?"&":"?";j.profilePicClass=F;j.uploadPhotoScreenId=G;j.editPhotoScreenId=H;var v=parseInt(v,10),w=parseInt(w,10),x=parseInt(x,10),y=parseInt(y,10),L={elementName:a.elementName};C&&Ja.large&&(L.classes=["capture_userphoto"]);j.mainDiv=l.createDiv(L);
j.closeDiv="</div>";a.customText||(a.customText={});var L=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",O=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",Q=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",R=a.customText.removePhotoLinkPhotoManager||"Remove photo",S=a.customText.editPhotoLinkPhotoManager||"Edit photo",U=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo",V=a.customText.editPhotoButtonTextPhotoManager||
"Save",W=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",X=a.customText.removePhotoButtonTextPhotoManager||"Remove",aa=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",ba=a.customText.uploadNewPhotoInstructionPhotoManager||"",ca=a.customText.uploadNextStepInstructionPhotoManager||"",da=a.customText.editPhotoPreviewTitlePhotoManager||"";j.editProfilePhotoTitle=a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo";j.editProfileInstruction=O;j.profilePhotoTitle=L;j.prefixFieldName=
q+a.name;j.editPhotoPreviewTitle=da;Tb(document.getElementById(G));Tb(document.getElementById(H));j.profileImage='<div id="'+q+a.name+'_profile_pic" class="'+F+"capture_profile_pic_display"+(C?"":" capture_default")+'">';C&&Ja.large&&(j.profileImage+=l.createImage({src:Ja.large.value,imageId:a.name+"_profile_pic_image"}));j.profileImage+="</div>";j.photoLinks=l.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:Q,anchorHref:"#",anchorClasses:["capture_upload_photo_link"],
anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:S,anchorHref:"#",anchorClasses:["capture_edit_photo_link"],anchorId:"edit_photo_link",hide:!C},{listItemId:"remove_photo",listItemClasses:[],anchorText:R,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!C}],["options"]);j.uploadImage=C&&Ja.large?l.createImage({src:Ja.large.value,imageId:a.name+"_profile_pic_image_upload"}):"";j.editImage=C&&Ja.original?l.createImage({src:Ja.original.value+
J+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit"}):"";j.cropImage=C&&Ja.original?l.createImage({src:Ja.original.value+J+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}):"";j.photoChooserErrors=l.createDiv({elementId:"photo_chooser_errors",classes:["capture_photo_chooser_form_error"]});j.photoChooserErrors+="</div>";var Z=za();l.domHelpers.createIFrame(Z,a.name+"_upload_photo_form");j.uploadFormOpen=s.form({action:"widget/photo/upload_photo.jsonp",
elementAttributes:{enctype:"multipart/form-data"},transactionId:Z,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form",listenToFields:!1});j.uploadFileField=l.createInput({elementName:"photo",elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});j.uploadSubmitButton=l.createInput({elementName:"photo_submit",elementId:"photo_submit",value:W,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});j.uploadFormClose=
"</form>";var $=za();l.domHelpers.createIFrame($,a.name+"_crop_photo_form");j.editFormOpen=s.form({action:"widget/photo/crop_photo.jsonp",transactionId:$,name:a.name+"_crop_photo_form",elementName:a.name+"_crop_photo_form",listenToFields:!1});j.editFormOpen+=l.createDiv({elementName:"",classes:["capture_popup-arrow"],type:"div"});j.editFormOpen+="</div>";j.editFormOpen+=l.createInput({elementName:"width",elementId:"width",justElement:!0,type:"hidden"});j.editFormOpen+=l.createInput({elementName:"height",
elementId:"height",justElement:!0,type:"hidden"});j.editFormOpen+=l.createInput({elementName:"x",elementId:"x",justElement:!0,type:"hidden"});j.editFormOpen+=l.createInput({elementName:"y",elementId:"y",justElement:!0,type:"hidden"});j.editSubmitButton=l.createInput({elementName:"edit_photo_submit",elementId:"edit_photo_submit",value:V,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});j.editFormClose="</form>";j.chooseDifferentPhotoLink=l.createAnchor({elementHref:"#",elementText:U,
elementId:a.name+"_different_photo_link"});c.custom?r.push({handler:function(){var c=document.getElementById(q+a.name+"_parent");c.innerHTML=T(j,c.innerHTML);r.push({elementName:a.name+"_upload_photo_form",handler:gb,eventType:"submit"});r.push({elementName:a.name+"_crop_photo_form",handler:gb,eventType:"submit"});E(Z);E($)},eventType:"render"}):(o+=T(j,'{| mainDiv |}      {| profileImage |}     {| photoLinks |}     &nbsp;  {| closeDiv |}  <\!-- hidden crop form --\> <div style="display: none;">     {| editFormOpen |}     <div class="capture_footer">         {| chooseDifferentPhotoLink |}         {| editSubmitButton |}     </div>     {| editFormClose |} </div>  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>{| photoChooserErrors |}         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div>  <\!-- hidden edit photo screen --\> <div style="display: none;">     <div id="{| editPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| editProfilePhotoTitle |}</h1>         </div>         <div class="{| profilePicClass |}profile_pic_edit_container">             <h2>{| editPhotoPreviewTitle |}</h2>             <div id="{| prefixFieldName |}_profile_pic_edit" class="{| profilePicClass |}capture_profile_pic_edit capture_default">                 {| editImage |}                 &nbsp;             </div>         </div>         <div id="{| prefixFieldName |}_profile_pic_editPhoto_container" class="capture_editPhoto_container">             <h2>{| editProfileInstruction |}</h2>             {| cropImage |}         </div>     </div> </div> '),
o+="</div>",r.push({elementName:a.name+"_upload_photo_form",handler:gb,eventType:"submit"}),r.push({elementName:a.name+"_crop_photo_form",handler:gb,eventType:"submit"}),E(Z),E($));r.push({eventType:"render",handler:function(){var c=document.getElementById(q+a.name+"_different_photo_link");A(c,"click",e);c=document.getElementById(q+a.name+"_crop_photo_form");document.getElementById(q+a.name+"_profile_pic_editPhoto_container").appendChild(c);A(c,"submit",m)}});r.push({elementName:"upload_photo_link",
handler:e,eventType:"click"});janrain.settings.capture.editPhotoAfterUpload&&janrain.events.onCapturePhotoUploadSuccess.addHandler(function(){D=!1;n()});r.push({elementName:"edit_photo_link",handler:function(a){n();P(a)},eventType:"click"});r.push({elementName:"remove_photo_link",handler:function(a){var b=N(a),c=h(b);if(!document.getElementById(c+"remove_photo_contain")){var d=l.domHelpers.createDiv({elementId:"remove_photo_contain",fieldPrefix:c,classes:["capture_popup_container pad"]}),b=l.domHelpers.createAnchor({elementHref:"#",
fieldPrefix:c,elementText:X,elementId:"confirm_remove_photo_link"}),e=l.domHelpers.createAnchor({elementHref:"#",fieldPrefix:c,elementId:"cancel_remove_photo_link",elementText:aa});d.innerHTML='<div class="capture_popup-arrow"></div><p>Can&#39;t Be Undone</p>';d.appendChild(b);d.appendChild(e);document.getElementById(c+"remove_photo").appendChild(d);var i=function(a){var b=[c+"createFormAndPostSubmit",c+"confirm_remove_photo_link",c+"remove_photo_link"],e=N(a).getAttribute("id")||"";!B(b,N(a).getAttribute("id"))&&
0>e.indexOf(c+"createFormAndPostSubmit_")&&(d.innerHTML="",Tb(d),Ab(document,"click",i),P(a))};A(e,"click",i);A(document,"click",i);A(b,"click",function(a){l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:c,captureScreen:u,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});P(a)});P(a)}},eventType:"click"});return o},datePicker:function(a){var c="",d={provideOpenButton:!0};a.type="text";Da(d,a.settings||
{});c+=l.wrapFormItemStart(a);c+=l.createInput(a);c+=l.wrapFormItemEnd(a);r.push({elementName:a.elementName,eventType:"render",handler:function(a){a=document.getElementById(a);d.targetElement=a;new J(d)}});l.attachFieldEventHandlers(a);a.type="datePicker";return c},slider:function(a){if(a.publicDisplay&&"undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c=l.createDiv({elementName:"slider capture_form_item"}),d=ha.prototype.render.html,e=a.fieldPrefix||M,f="initialPosition"in a?
a.initialPosition:0,g=a.value&&0<=a.value.score?a.value.score:f,c=c+("<label>"+a.label+"</label>"),c=c+l.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),c=c+l.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),c=c+l.createDiv({elementName:a.elementName+"_marker",classes:["capture_slider_marker"]}),c=c+'</div></div><div class="capture_slider_list"><ul>',f=0,h;for(;h=a.legend_items[f];f++)c+="<li>"+h+"</li> ";c+="</ul></div></div>";
a.publicPrivateToggle&&(c+=l.createPublicPrivateToggle(a));c+=d.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&0<=a.value.score?a.value.score:"initialValue"in a?a.initialValue:""});c+="</div>";r.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(e+a.elementName+"_marker").style.left=(0<=
g?g:"initialPosition"in a?a.initialPosition:0)+"%"}});if(!0===a.enabled){var j=!1;r.push({elementName:a.elementName+"_marker",eventType:fe,handler:function(c){j=!0;var d=document.getElementById(e+a.elementName+"_base"),i=document.getElementById(e+a.elementName+"_score"),d=d.getBoundingClientRect(),f=d.width?d.width:d.right-d.left,d=new Od;d.setElement(document.getElementById(e+a.elementName+"_marker")).setElementBoundary(document.getElementById(e+a.elementName+"_container")).setCallback(function(a){i.value=
Math.round(100*(a.pos_x/f));na(i)}).drag(c);Pd.push(d);gd&&clearTimeout(gd)}});r.push({elementName:a.elementName+"_marker",eventType:hd,handler:function(){var c=document.getElementById(e+a.elementName+"_marker"),d=document.getElementById(e+a.elementName+"_base"),i=document.getElementById(e+a.elementName+"_score"),c=parseInt(me(c.id,"left")),d=d.getBoundingClientRect();i.value=Math.round(100*(c/(d.width?d.width:d.right-d.left)))}});r.push({elementName:a.elementName+"_container",eventType:"mouseover",
handler:function(){document.getElementById(e+a.elementName+"_container").style.cursor="pointer"}});r.push({elementName:a.elementName+"_container",eventType:"click",handler:function(c){if(!0===j)j=!1;else{var d=document.getElementById(e+a.elementName+"_marker"),i=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),g=i.getBoundingClientRect(),p=g.width?g.width:g.right-g.left,h=c.clientX-xe(i).x,c=parseInt(me(d.id,"left")),c=isNaN(c)?0:c;(new Od).setElement(d).setAcceleration("sinusoidal").setDuration(500).startPosition(c).endPosition(h).setDirection("horizontal").setCallback(function(){f.value=
Math.round(100*(h/p));na(f)}).animate()}}})}return c},radioCollection:function(a){for(var c=a.fieldPrefix||M,d=l.createDiv({elementName:a.elementName,classes:a.classes||""}),e=0;e<a.collection.length;e++)d+="<div class='capture_radio_toggle",d+=(0===e?" capture_toggled":"")+"'>",d+="<input type='radio' id='"+c+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",d+="<label ",d+="class='capture_radio_label' ",d+=
"for='"+c+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",d+="</label></div>",r.push({elementName:"radio_"+a.collection[e].elementName,handler:function(c){$a(c,a)},eventType:"click"});l.autoSelectPreferredTab(a,"radio");return d+"</div>"},tabCollection:function(a){for(var c,d=[],e=l.createDiv({elementName:a.elementName,classes:a.classes||""}),f=0;f<a.collection.length;f++)c={},c.listItemId="tab_li_"+a.collection[f].elementName,c.listItemClasses=["capture_tab_toggle"],0===f&&c.listItemClasses.push("capture_toggled"),
c.anchorId="tab_"+a.collection[f].elementName,c.anchorText=a.collection[f].label,c.anchorHref="#",d.push(c),r.push({elementName:"tab_"+a.collection[f].elementName,handler:function(c){$a(c,a)},eventType:"click"});l.autoSelectPreferredTab(a,"tab");e+=l.createListOfLinks(d,["capture_tabs"]);return e+"</div>"},newsletterSubscriptions:function(a){var c="",d=a.startHTML||"",e=a.endHTML||"",f=a.delimiter||"",g=t(a.value)?a.value:[],h="capture_newsletter_checkbox"+(t(a.classes)?" "+a.classes.join(" "):""),
j=g.length,k=(a.fieldPrefix||M)+"form_item_"+a.elementName,n,o,q;if(0<j){c+=l.wrapFormItemStart(a);c+=l.createLabel(a);c+=d;for(d=0;d<j;++d)q=g[d],n=q.display_name||"",o="","active"===q.status&&(o='checked="checked"'),c+='<label><input type="checkbox" class="'+h+'" data-subId="'+q.list_id+'" '+o+">"+n+"</label>"+f;f&&(c=c.slice(0,-f.length));c=c+e+l.createTip(a);c+=l.wrapFormItemEnd(a);r.push({handler:function(){for(var a=Z("capture_newsletter_checkbox",document.getElementById(k)),b=0,c=a.length;b<
c;++b)A(a[b],"change",function(a){var b=N(a),a=b.getAttribute("data-subId"),c=b.checked?"active":"inactive",b=za(),a=ta({list_id:a,token:X,subscription_status:c,capture_transactionId:b});m("/widget/update_subscription.jsonp",a);la(b)})},eventType:"render"})}return c},pluralIterator:function(a){var c="",d="",e=a.format||"",f=a.startHTML||"",g=a.endHTML||"",h=a.delimiter||"",j="undefined"===typeof a.emptyMessage?"There are no "+a.schemaId+".":a.emptyMessage,a=t(a.value)?a.value:[],k=a.length;if(0===
k)return j;for(j=0;j<k;++j)d+=T(a[j],e)+h;h&&(d=d.slice(0,-h.length));d&&(c+=f+d+g);return c},datetime_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c,d,e,f=a.format||"{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}",g=(new Date).getFullYear(),h="01",j="01",k="NA",m="NA",n="NA",o;if("undefined"===typeof a.value||""===a.value)return"";c=a.value.split(" ");d=c.length;for(o=0;o<d;++o)e=c[o].split("-"),3===e.length?(g=e[0],h=e[1],j=e[2]):(e=c[o].split(":"),
3===e.length?(k=e[0],m=e[1],n=e[2].split(".")[0]):(e=c[o].split("/"),3===e.length&&(g=e[0],h=e[1],j=e[2])));c=new Date;"NA"!==k||"NA"!==m||"NA"!==n?(c.setUTCHours(k),c.setUTCMinutes(m),c.setUTCSeconds(n),c.setUTCMilliseconds(0),c.setUTCMonth(h-1),c.setUTCDate(j),c.setUTCFullYear(g)):(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),c.setMonth(h-1),c.setDate(j),c.setFullYear(g));return"[object Date]"!==Object.prototype.toString.call(c)||isNaN(c.getTime())?a.value:a.justString?kb(f,
c,{monthNames:a.monthNames,dayNames:a.dayNames}):l.wrapStringData(a,kb(f,c,{monthNames:a.monthNames,dayNames:a.dayNames}))}},widget:{login:function(){r.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),b=document.getElementById(M+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=za();janrain.engage.signin.appendTokenParams({capture_transactionId:c},!0,!0)}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):
(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());db||jb()},eventType:"render"});var a=l.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(a,c){c=c?K.parse(c):{text:"Share"};r.push({elementName:"share_widget",eventType:"click",handler:function(){janrain.engage.share.show()}});var d=l.createDiv({elementName:"share_widget",classes:["share_widget"]});
return d+=c.text+" </div>"}}};var He=function(){function a(b,c,d){b={required:b,type:c};return"object"===typeof d?Da(b,d):b}function c(d,e){return a(!0,d,e)}function d(c,e){return a(!1,c,e)}function e(a,b){ia(g,function(c,d){ia(d,function(d,e){a.call(b,c,d,e)})})}var f={name:c("string"),elementName:c("string"),value:d("array",{subtype:"string"}),options:c("array",{subtype:"object",subtypeDefinition:{value:d("string"),label:d("string")}})},g={data:{engageCookieData:{name:"Engage Cookie Data",definition:{cookieName:c("string")}},
localStorageData:{name:"Local Storage Data",definition:{fieldPrefix:d("string"),elementId:d("string"),elementName:c("string"),classes:d("array",{subtype:"string"}),data:c("string")}},stringData:{name:"String Data",definition:{displayPublic:c("boolean"),value:d("string"),displaySavedValue:d("boolean"),justString:d("boolean"),hideWhenValue:d("string")}},imageData:{name:"Image Data",definition:{value:c("string"),returnImageTag:d("boolean"),elementName:d("string"),hide:d("boolean"),classes:d("array",
{subtype:"string"}),elementId:d("string")}}},html:{anchor:{name:"HTML Anchor",definition:{elementClasses:d("array",{subtype:"string"}),elementText:c("text"),fieldPrefix:d("string"),elementHref:c("string"),elementName:c("string"),target:d("string"),name:c("string")}},textarea:{name:"Text Area",definition:{elementClasses:d("array",{subtype:"string"}),fieldPrefix:d("string"),elementId:d("string"),rows:d("number"),name:c("string"),placeholder:d("string"),value:d("text"),publicPrivateToggle:d("boolean")}},
select:{name:"Select",definition:{elementClasses:d("array",{subtype:"string"}),fieldPrefix:d("string"),rendererFieldName:d("string"),rendererChildFieldName:d("string"),dontShowTip:d("boolean"),showFieldWhere:d("string"),name:c("string"),elementName:c("string"),options:c("array",{subtype:"object",subtypeDefinition:{text:c("string"),value:d("string")}}),publicPrivateToggle:d("boolean")}},multi:{name:"Mutli",definition:f},multiCheckbox:{name:"Checkboxes",definition:f},multiRadio:{name:"Radio Buttons",
definition:f},input:{name:"Input",definition:{type:c("string"),fieldPrefix:d("string"),elementId:d("string"),elementName:c("string"),justElement:d("boolean"),collection:d("boolean"),rendererFieldName:d("string"),rendererChildFieldName:d("string"),hide:d("boolean"),elementValue:d("string"),value:d("string"),placeholder:d("string"),checked:d("boolean"),modify:d("boolean"),publicPrivateToggle:d("boolean"),profileStoragePath:d("boolean")}},button:{name:"Button",definition:{fieldPrefix:d("string"),elementId:d("string"),
elementName:c("string"),elementClasses:d("array",{subtype:"string"}),type:d("string"),hide:d("boolean"),name:c("string"),value:d("string"),elementContent:d("string"),modify:d("boolean")}},form:{name:"Form",definition:{elementAttributes:d("object",{subtype:"string"}),localFieldPrefix:d("string"),classes:d("array",{subtype:"string"}),action:c("string"),transactionId:c("string"),serverNextScreen:d("boolean"),hideOnSubmit:d("boolean"),engageTokenRequired:d("boolean")}},div:{name:"Div",definition:{fieldPrefix:d("string"),
elementId:d("string"),elementName:c("string"),elementAttributes:d("object",{subtype:"string"}),classes:d("array",{subtype:"string"}),type:d("string"),name:c("string"),elementText:c("text")}},close:{name:"Close",definition:{element:c("string"),type:d("string")}}},capture:{table:{name:"Table",definition:{th:c("object",{definition:{display:d("boolean"),cols:d("array",{subtype:"string"})}}),rows:c("array",{subtype:"object",subtypeDefinition:{cells:c("array",{subtype:"object",subtypeDefinition:{elementValue:"string"}})}})}},
countrySelect:{name:"Country Select",definition:{customText:d("object",{definition:{countryLabel:d("string")}})}},stateSelect:{name:"State Select",definition:{customText:c("object",{definition:{stateLabel:d("string")}}),noCanadianProvinces:d("boolean")}},keepMeLoggedIn:{name:"Keep Me Logged In",definition:{fieldPrefix:c("boolean"),label:d("string"),name:c("string"),checked:d("boolean")}},captcha:{name:"CAPTCHA",definition:{name:c("string"),label:d("string")}},mergeAccounts:{name:"Merge Accounts",
definition:{value:c("string"),customText:d("object",{subtype:"string",definition:{connectRadio:d("string"),connecetLegacyRadio:d("string"),createRadio:d("string"),foundExistingAccount:d("string"),moreInfoHover:d("string"),moreInfo:d("string"),createButton:d("string"),connectButton:d("string")}}),name:c("string"),traditionalMergeScreen:c("string")}},publicProfileLink:{name:"Public Profile Link",definition:{elementHref:d("string"),elementAttributes:d("object",{subtype:"string"}),addUUIDToLink:d("boolean")}},
linkAccounts:{name:"Link Accounts",definition:{value:d("object",{definition:{providers:c("array",{subtype:"string"}),displayNames:c("array",{subtype:"string"}),identifiers:c("array",{subtype:"string"}),prettyProviders:c("array",{subtype:"string"}),customProviders:c("array",{subtype:"string"})}}),customText:d("object",{subtype:"string"}),fieldPrefix:d("string"),name:d("string"),linkAccountContainer:c("string"),providerIconSize:d("number"),displayFormatKnown:d("string"),customIcons:d("boolean"),customAddLinks:d("boolean"),
customAddLinkFormat:d("string")}},errorMessages:{name:"Error Messages",definition:{}},savedProfileMessage:{name:"Saved Profile Message",definition:{}},nameFull_public:{name:"Name Full Public",definition:{displayPublic:c("boolean"),justString:d("boolean"),value:c("object",{definition:{firstname:d("string"),middlename:d("string"),lastname:d("string")}})}},nameFull:{name:"Name Full",definition:{name:c("string"),publicPrivateToggle:c("boolean"),displayPublic:c("boolean"),value:d("object",{definition:{firstname:d("string"),
middlename:d("string"),lastname:d("string")}}),placeholder:d("object",{definition:{firstname:d("string"),middlename:d("string"),lastname:d("string")}})}},dateselect_public:{name:"Date Select Public",definition:{displayPublic:c("boolean"),justString:d("boolean"),format:d("string"),value:c("object",{definition:{dateselect_year:c("number"),dateselect_month:c("number"),dateselect_day:c("number")}})}},dateselect:{name:"Date Select",definition:{customText:d("object",{definition:{yearLabelDateSelect:d("string"),
monthLabelDateSelect:d("string"),dayLabelDateSelect:d("string"),fieldPrefix:d("string"),name:c("string"),format:d("array",{subtype:"string"}),monthStart:d("number"),monthEnd:d("number"),dayStart:d("number"),dayEnd:d("number"),yearStart:d("number"),yearEnd:d("number"),label:d("string"),publicPrivateToggle:d("boolean"),displayPublic:c("boolean"),tip:d("string"),datePickerSettings:d("object"),elementName:c("string")}})}},addressFull_public:{name:"Address Full Public",definition:{displayPublic:d("boolean"),
value:c("object",{definition:{streetaddress:d("string"),streetaddress2:d("string"),stateprovince:d("string"),zippostalcode:d("string"),country:d("string"),city:d("string")}})}},addressFull:{name:"Address Full",definition:{name:c("string"),publicPrivateToggle:d("boolean"),displayPublic:d("boolean"),value:d("object",{definition:{streetaddress:d("string"),streetaddress2:d("string"),stateprovince:d("string"),zippostalcode:d("string"),country:d("string"),city:d("string")}}),customText:d("object",{definition:{stateLabel:d("string"),
countryLabel:d("string")}}),placeholder:d("object",{definition:{streetaddress:d("string"),streetaddress2:d("string"),stateprovince:d("string"),zippostalcode:d("string"),country:d("string"),city:d("string")}})}},backButton:{name:"Back Button",definition:null},partial:{name:"Partial",definition:{layout:c("string")}},photoManager:{name:"Photo Manager",definition:{elementName:c("string"),fieldPrefix:d("string"),previewSizeWidth:d("number"),previewSizeHeight:d("number"),originalMaxWidth:d("number"),originalMaxHeight:d("number"),
name:c("string"),value:d("array",{subtype:"object",subtypeDefinition:{type:c("string")}}),customText:d("object",{definition:{profilePhotoTitlePhotoManager:d("string"),editProfilePhotoTitlePhotoManager:d("string"),editProfileInstructionPhotoManager:d("string"),chooseNewPhotoLinkPhotoManager:d("string"),removePhotoLinkPhotoManager:d("string"),editPhotoLinkPhotoManager:d("string"),chooseDifferentPhotoLinkPhotoManager:d("string"),editPhotoButtonTextPhotoManager:d("string"),uploadPhotoButtonTextPhotoManager:d("string"),
removePhotoButtonTextPhotoManager:d("string"),removePhotoCancelButtonTextPhotoManager:d("string"),uploadNewPhotoInstructionPhotoManager:d("string"),uploadNextStepInstructionPhotoManager:d("string"),editPhotoPreviewTitlePhotoManager:d("string")}})}},datePicker:{name:"Date Picker",definition:{monthPreviousText:d("string"),monthNextText:d("string"),openOnTargetElementFocus:d("boolean"),provideOpenButton:d("boolean"),hasCloseButton:d("boolean"),minimumSelectableDate:d("string"),maximumSelectableDate:d("string"),
monthAndYearSelectable:d("boolean"),defaultDate:d("string"),arrowKeyNavigation:d("boolean"),format:d("string"),calendarTitleFormat:d("string"),monthNames:d("array",{subtype:"string"}),weekStartsOnMonday:d("boolean"),daysOfWeek:d("array",{subtype:"string"}),additionalClasses:d("array",{subtype:"string"})}},slider:{name:"Slider",definition:{publicDisplay:d("boolean"),displayPublic:d("boolean"),fieldPrefix:d("string"),initialPosition:d("number"),label:c("string"),elementName:c("string"),legend_items:c("array",
{subtype:"string"}),publicPrivateToggle:d("boolean"),enabled:d("boolean"),value:d("object",{definition:{score:d("number")}})}},radioCollection:{name:"Radio Collection",definition:{classes:d("string"),fieldPrefix:d("string"),elementName:d("string"),collection:c("array",{subtype:"object",subtypeDefinition:{elementName:c("string")}})}},tabCollection:{name:"Tab Collection",definition:{classes:d("string"),elementName:d("string"),collection:c("array",{subtype:"object",subtypeDefinition:{elementName:c("string")}})}},
newsletterSubscriptions:{name:"Newsletter Subscriptions",definition:{format:d("string"),startHTML:d("string"),endHTML:d("string"),delimiter:d("string"),value:d("array",{subtype:"string"}),classes:d("array",{subtype:"string"}),fieldPrefix:d("string"),elementName:c("string")}},pluralIterator:{name:"Plural Iterator",definition:{format:d("string"),startHMTL:d("string"),endHTML:d("string"),delimiter:d("string"),emptyMessage:d("string"),value:d("array",{subtype:"object"})}},datetime_public:{name:"Date Time Public",
definition:{displayPublic:d("boolean"),format:d("string"),value:d("string"),justString:d("boolean")}}},widget:{login:{name:"Login Widget",definition:{}},share:{name:"Share Widget",definition:{}}}},h=[];e(function(a,b){h.push(a+"."+b)});var j=g,f=j.capture,j=j.html;f.dateselect.definition.customText.definition.datePickerSettings=f.datePicker.definition;f.backButton.definition=Da({},j.button.definition);e(function(a,b,c){c.path=a+"."+b;c.group=a;c.name=b;Da(c.definition,{schemaId:d("string"),label:d("string"),
tip:d("string")});"html"===a?c.definition.element=b:(c.definition.element=a,c.definition.type=b)});return{listComponents:function(){return h},componentDefinition:function(a){0>a.indexOf(".")&&(a="html."+a);return fb(g,a)}}}(),ae=!0,oa={},Rb={addCustomLink:function(a,c,d){var e=c.fieldPrefix||M,f=document.createElement("li");f.className="capture_custom_add_linkedaccount";f.setAttribute("data-captureprovider",a);f.innerHTML=T({provider:a},c.customAddLinkFormat);d&&d.parentNode?d.parentNode.insertBefore(f,
d):document.getElementById(e+c.name+"_linkedproviderlist").appendChild(f)},unLinkAccountSuccessCallback:function(a,c){janrain.events.onCaptureProfileUnlink.fire({provider:c});var d=a.value.providers.indexOf(c);ia(a.value,function(a,b){t(b)&&b.splice(d,1)})},unLinkAccount:function(a,c,d){P(a);if(!("keypress"===a.type&&a.keyCode!==zb)){var e=N(a);if(k(e).has("capture_remove_linkedaccount")){var f=this.completeUnLinkAccount;c.confirmRemoval?("undefined"===typeof Zc&&(Zc=new Pe,Zc.setTitle(F.confirmRemoveLinkedTitle||
"Remove Linked Account?").setMessage(F.confirmRemoveLinkedMessage||"Are you sure you want to remove this linked account?").setButtons(F.confirmRemoveLinkedNoText||"Cancel",F.confirmRemoveLinkedYesText||"Yes").setCallback(function(a){1===a.index&&f(e,c,d);Zc.close()})),Zc.open()):f(e,c,d)}}},completeUnLinkAccount:function(a,c,d){var e=a.getAttribute("data-captureidentifier"),f=a.getAttribute("data-captureprovider");c.customAddLinks&&Rb.addCustomLink(f,c,a.parentNode);Tb(a.parentNode);l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/profile.jsonp",elementId:"getUserData_form",fieldPrefix:c.fieldPrefix||M,captureScreen:d,needsResponse:!0,callback:function(){Rb.unLinkAccountSuccessCallback(c,f)},fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:e},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:e}]})},openInModal:function(a,c,e){janrain.engage&&janrain.engage.signin&&(janrain.engage.signin.setNoReturnExperience(!0),janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:c},
!0));d(document.getElementById(e));P(a)},linkWithCustomLink:function(a,c){if(!("keypress"===a.type&&a.keyCode!=zb)){var d=N(a),d=Mc(d,"li");k(d).has("capture_custom_add_linkedaccount")&&(d=d.getAttribute("data-captureprovider"),janrain.engage&&janrain.engage.signin&&(janrain.engage.signin.setNoReturnExperience(!0),janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:c},!0),janrain.engage.signin.triggerFlow(d)))}},renderHandler:function(a,c){var d=document.getElementById(a);document.getElementById(c).appendChild(d)}},
ic=!0,De=0,Ee,gd=0,ce=0,Jd=janrain.settings.capture.autoSaveUpdateInterval||1E4,Kd=janrain.settings.capture.autoSaveDelay||janrain.settings.capture.autoSaveInterval||1E4;Ae=function(a){if(janrain.settings.capture.redirectFlow){var c=Na();la(c.capture_transactionId);c.flow=janrain.settings.capture.flowName;delete c.token;a&&(c.capture_screen=ga,c.engage_add_account=!0,c.access_token=X);a=a?"/widget/profile":"/widget/token_url";c=Lc(c);return janrain.settings.capture.captureServer+a+c}};cc("accessDenied",
"capture_access","Sorry. Access denied.");cc("retrievingUserData","capture_retrieving","Please wait while we retrieve your user data.");cc("dialog","capture_dialog","",{layout:"captureDialogBuiltIn",modal:!0,modalLoadOnLoad:!0,source:"server"});var Nd=[],ee={};return{modal:{close:function(){"object"==typeof v&&v.close()},closeConfirm:function(){"object"==typeof v&&v.closeConfirm()},open:function(a){ac=!0;var c=a||ba.flow.defaultScreen;if("object"==typeof v&&(a&&janrain.capture.ui.renderScreen(c),
a=ba.div))v.setShowContentOnLoad(!0),v.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof v&&(v.setBorder(a),v.refresh({center:!0}));return!0},setBorderColor:function(a){"object"===typeof v&&(v.setBorderColor(a),v.refresh());return!0},setBorderOpacity:function(a){"object"===typeof v&&(v.setBorderOpacity(a),v.refresh());return!0},setBorderRadius:function(a){"object"==typeof v&&(v.setBorderRadius(a),v.refresh());return!0},setOverlayZIndex:function(a){"object"==
typeof v&&(v.setZIndex(a),v.refresh());return!0}},start:function(a,c){if(janrain.settings.capture.hasSettings&&janrain.settings.capture.appId&&janrain.settings.capture.clientId){var d=w()+"/widget_data/settings/"+janrain.settings.capture.appId+"/"+janrain.settings.capture.clientId+".js";md(d,function(){e(a,c)}).setTimeoutCallback(function(){janrain.settings.capture.hasSettings=!1;Ha.log("Failed to load capture settings.");D.log("Failed to load capture settings.");D.show();e(a,c)}).load()}else e(a,
c)},hasActiveSession:function(){return!!X},renderComponent:Sa().renderField,listComponents:He.listComponents,componentDefinition:He.componentDefinition,render:function(b,c){var d=b;ye&&"object"===typeof janrain.settings.capture.flowInjection&&(d=ue(d,janrain.settings.capture.flowInjection));janrain.settings.capture.hasSettings&&jc(d,R);Mb||(Mb=a());d.i18nStrings&&(F=d.i18nStrings);F.validatingText&&(Fe=F.validatingText);if(d.version)xd=d.version;else throw Error("MissingVersionError: Missing version.");
xc(d);var e=d;Td=e.hasTraditionalAccount;Wa=e.form;if(Td)for(var e=Z("janrain_traditional_account_only"),f=e.length,g=0;g<f;g++)e[g].style.display="block";Lb(d);d=new Sa;e=!1;cd&&fd&&(e=janrain.settings.capture.registerFlow||"socialRegister");e=n.oneTimeRender||e||janrain.settings.capture.screenToRender||n.defaultScreen;d.setScreenData(e,n.screens[e]);if(c)for(var h in c)c[h].id&&c[h].value&&(d=document.getElementById(c[h].id),d.value=c[h].value,"radio"===c[h].type&&(d.checked=c[h].checked,c[h].checked&&
d.click()))},renderScreen:function(a,c){aa=!1;c||wc.push(ba);(new Sa).setScreenData(a,n.screens[a])},applySettings:function(a){R=a},setHandler:function(a,c,d){this.setFieldAttribute(a,c+"Handler",d)},setFieldAttribute:function(a,c,d){ad.push({field:a,attribute:c,value:d})},setRenderer:function(a,c,d){ha.prototype.render[a].helpers=be;ha.prototype.render[a][c]=d},setValidator:function(a,c){S.prototype[a]=c},registerFunction:function(a,c){ee[a]=c},addRenderer:function(a,c,d){this.setRenderer(a,c,d)},
trackLoadedCssFiles:function(a){Hd.push(a)},handleCaptureUniqueResponse:function(a){Ec(a)},handleCaptureResponse:function(a,c){Cc(a,c)},handleErrorResponse:function(a,c){janrain.events.onCaptureError.fire("object"===typeof a?a:"{"+a+"}");if(a.result&&a.result.error&&("access_token_expired"===a.result.error&&(ib(),janrain.events.onCaptureExpiredToken.fire()),"invalid_argument"===a.result.error&&"malformed access token"===a.result.errorDescription&&(ib(),janrain.events.onCaptureInvalidToken.fire()),
"linkError"===a.result.error)){var d=Hc("linkAccounts"),e=d.length?d[0]:{},d=e.messages&&e.messages.errors&&e.messages.errors.linkError?e.messages.errors.linkError:"That account is already in use.",f=H().getCookie("expected_tab");if(v&&v.isOpen()&&(e=e&&e.linkAccountContainer?Z("capture_"+e.linkAccountContainer,document.getElementById("janrainModal")):!1))for(var e=Z("capture_form_error_container",e[0]),g=0,h=e.length;g<h;g++)e[g].innerHTML='<div class="capture_form_error">'+d+"</div>";janrain.events.onCaptureLinkAccountError.fire({message:d,
provider:f})}d=a.result.customError||a.result.error+": "+a.result.errorDescription;f=a.result.error;Xc&&(e={classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()},f&&e.classes.push("capture_errortype_"+f.replace(/ /g,"").toLowerCase()),f=l.domHelpers.createDiv(e),f.innerHTML=d,Xc.insertBefore(f,Xc.firstChild),janrain.events.onCaptureContentChange.fire());Xc||alert(d);ca(a);"function"===typeof c&&c()},createCaptureSession:function(a){sa(a)},endCaptureSession:function(){ib()},
addTransactionIds:function(a){Ob(a)},getFailedLogins:function(){return uc},setCustomHtml:function(a,c){zc(a,c)},getEngageCookie:function(a){return pc(a)},getProfileCookieData:function(a,c){return Vc(a,c)},getReturnExperienceData:function(a,c){return Jc(a,c)},federateLogoutCallbackFired:function(a,c){B(Ad,a)||(Ad.push(a),c())},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);Qb(a.transactionId);Pb();Ra=!0},federateSetLoginSuccess:function(a){a&&a.transactionId&&pb&&
pb[a.transactionId]&&(pb[a.transactionId].setLoginSuccess=!0,pb[a.transactionId].eventFiredDueToSlowResponse||Ac(a.transactionId))},federateRefreshToken:function(a){a&&"ok"===a.stat&&(sa(a.accessToken,!1,!0),ab())},scriptLoader:function(a,c){return md(a,c)},noop:function(){},validationHandler:function(a){var c=document.getElementById(a.elementId),d=new l.validation;d.setParentDiv(c);d.setElement(c);d.valid();a.valid?d.valid():d.notValid(a.reason)},setNoReturnExperience:function(){var a=new H;a.setUseLocalStorage(!0).setName("janrainLastAuthMethod");
a.remove();janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);$c&&janrain.capture.ui.renderScreen($c)},getPublicProfile:function(a,c){rc(a,c)},activateCaptureControl:function(a){qa(a)},postCaptureForm:function(a,c){if(!a)throw Error("postCaptureForm requires you supply a form name.");var d=n.fields[a];if(!d)throw Error("postCaptureForm Error: no form called "+a+" found in the flow.");if(!d.element||"form"!==d.element)throw Error("postCaptureForm Error: the field called "+
a+" found in the flow is not a form.");var e=d.fields;if(!e)throw Error("postCaptureForm Error: the form called "+a+" has no fields defined.");for(var f=d.action,d=Ka(40),f={fieldPrefix:"capture_postForm_"+d+"_",elementId:a,name:a,fields:[],elementAction:janrain.settings.capture.captureServer+"/"+f,needsResponse:!0},g=0,h=e.length;g<h;g++){var j=n.fields[e[g]],k={};if(c)k.elementValue=c[e[g]];else{var m=Mb.getByName(e[g]);k.elementValue=m?m.getValue():void 0}if(void 0===k.elementValue&&j.validation&&
!0===j.validation.required)throw Error("postCaptureForm: a required value was not supplied "+e[g]);k.elementType="hidden";k.fieldPrefix=f.fieldPrefix;k.elementId=e[g]+"_"+d;k.elementName=k.name=e[g];f.fields.push(k)}l.domHelpers.createFormAndPost(f)}}};return{engage:{signin:"loaded"===fb(janrain,"engage.signin.status")?janrain.engage.signin:Xe,share:"loaded"===fb(janrain,"engage.share.status")?janrain.engage.share:Ye,publish:"loaded"===fb(janrain,"engage.publish.status")?janrain.engage.publish:Ze,
simpleshare:"loaded"===fb(janrain,"engage.simpleshare.status")?janrain.engage.simpleshare:$e},capture:{ui:af}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;