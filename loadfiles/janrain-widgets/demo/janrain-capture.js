/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: master
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var ya,Ca;function mc(){return"http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.0.9/":"https://d3hmp0045zy3cs.cloudfront.net/2.0.9/"}function wc(a,d,c){var f;if(document.getElementById(a))return!1;if(k){f="";var X=document.createElement("div");X.innerHTML=f+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+d+'" ')+'style="display: none;"></iframe>';document.body.appendChild(X)}else f=document.createElement("iframe"),f.setAttribute("name",a),f.id=a,f.setAttribute("src",
d),f.style.display="none",f.className="",document.body.appendChild(f);"function"===typeof c&&c()}function Vb(a){for(var d="",d="",c=0;c<a;c++)d+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return d}function Bb(){function a(a,c,f,d){c={action:a,key:c,messageId:f};"set"===a&&(c.value=d);return"janrainCapture:"+E.stringify(c)}function d(a,c){function f(){d++;if(10<d)return!1;if("undefined"!==typeof Z[a])return clearTimeout(i),"get"===Z[a].action&&"function"===typeof c&&
c(Z[a].storedValue),!0;var i=setTimeout(f,50)}var d=0;f()}function c(c,f){_xdomainStorageIframeLoaded;var i=Vb(40);window.setTimeout(function(){h.contentWindow.postMessage(a("get",c,i),x)});return d(i,f)}function f(a,d){if(i)_xdomainStorageIframeLoaded?c(a,d):setTimeout(function(){f(a,d)},50);else return window.localStorage.getItem(a)}function X(a){if(0!==a.data.indexOf("janrainCapture:")||!w(za,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=E.parse(a.data.replace("janrainCapture:",
""));Z[a.messageId]=a}var i=!1,Z={},h,x,za=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,f){if(i){var X=Vb(40);window.setTimeout(function(){h.contentWindow.postMessage(a("set",c,X,f),x)});return d(X)}return window.localStorage.setItem(c,f)},removeItem:function(c){if(i){var f=Vb(40);window.setTimeout(function(){h.contentWindow.postMessage(a("remove",c,f),x)});return d(f)}return window.localStorage.removeItem(c)},getItem:f,setMultiDomain:function(a){if(i=
a)window.addEventListener?window.addEventListener("message",X,!1):window.attachEvent?window.attachEvent("onmessage",X):document.attachEvent&&document.attachEvent("onmessage",X),h=document.getElementById("xDomainLocalStorageJanrain"),x=janrain.settings.storageServerDomain}}}function Q(){function a(){if(X&&Jb){var a=new Bb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(f);a.removeItem(f+"_Expires")}else{var a=h?"; domain="+h:"",c=new Date;c.setTime(c.getTime()+-864E6);document.cookie=
f+"="+i+";expires="+c.toUTCString()+a+"; path="+k}}function d(c,d){var i,h,Z,k,ta;if(X&&Jb)if(ta=new Bb,janrain.settings.multiDomainLocalStorage)ta.setMultiDomain(!0),ta.getItem(c,function(i){i?ta.getItem(c+"_Expires",function(n){n?Math.round((new Date).getTime()/1E3)>Math.round((new Date(n)).getTime()/1E3)?(f=c,a(),"function"===typeof d&&d(!1)):"function"===typeof d&&d(i):(new Q).getCookie(c+"_session")?"function"===typeof d&&d(i):(f=c,a())}):"function"===typeof d&&d(!1)});else if(k=ta.getItem(c),
i=ta.getItem(c+"_Expires"),k){if(!(i&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(i)).getTime()/1E3))&&(i||(new Q).getCookie(c+"_session")))return k;f=c;a()}else return!1;else{i=document.cookie.split(";");h=i.length;for(var p=0;p<h;p++)if(Z=i.pop(),k=Z.split("="),Z=k[0],k=k[1],Z.trim()===c)return k;return!1}}var c,f,X=!1,i,h,k="/";return{create:function(){if(X&&Jb){var a=new Bb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(f,i);c?a.setItem(f+"_Expires",c):(new Q).setName(f+
"_session").setValue("session").create()}else document.cookie=f+"="+i+";expires="+c+(h?"; domain="+h:"")+"; path="+k},remove:a,setExpirationDirectly:function(a){a&&(c=a);return this},setExpiration:function(a){if(a){var f=new Date;f.setTime(f.getTime()+864E5*a);c=f.toUTCString()}return this},setName:function(a){a&&(f=a);return this},setValue:function(a){"undefined"!==typeof a&&(i=a);return this},setUseLocalStorage:function(a){X=a;return this},setPath:function(a){a&&(k=a);return this},setDomain:function(a){a&&
(h=a);return this},getCookie:function(a,c){return d(a,c)}}}function rb(){return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(Da)?parseFloat(RegExp.$1):!1}function ib(){var a;return Da&&(a=Da.match(/(\d)[\d.]+ Safari/))&&a[1]?1*a[1]:0}function ib(){return!/Chrome\//.test(Da)&&/Safari\//.test(Da)}function fa(a,d,c,f,X,i){"number"===typeof c&&"number"===typeof f&&"number"===typeof X&&"number"===typeof i?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=
c+"px "+f+"px "+X+"px "+i+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px "+f+"px "+X+"px "+i+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px "+f+"px "+X+"px "+i+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=d+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=d+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=d+"px"));return a}function jb(a,
d){if("undefined"===typeof a||"undefined"===typeof d)return!1;var c=a-d;0>c&&(c=0);c>a&&(c=a);return c}function Kb(a,d){if(k&&9>=k)return a.style.backgroundImage="url('"+sb("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;if(ib()&&4>=ib()||wa.getMobileDevice()){var c="",f="",X="",i=d.split(","),h={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};i[0]&&h[i[0]]&&(c=h[i[0]]);i[1]&&(f="from("+i[1]+")");i[i.length-1]&&(X="to("+
i[i.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+c+","+f+","+X+")"}a.style.backgroundImage="-moz-linear-gradient("+d+")";a.style.backgroundImage="-webkit-linear-gradient("+d+")";a.style.backgroundImage="-ms-linear-gradient("+d+")";a.style.backgroundImage="-o-linear-gradient("+d+")";a.style.backgroundImage="linear-gradient("+d+")"}function kb(a,d,c,f){var h=Lb(c),i=Lb(c,f);if(c=xc(c))c.a=f,i="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<d){a.style.backgroundColor=h;a.style.padding=
d+"px";if(0<k&&8>=k||k&&S)return!1;a.style.backgroundColor=i;a.style.padding=d+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function xc(a){var d={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;d.r=a[0];d.g=a[1];d.b=a[2];d.a=a[3]?a[3]:1;return d}function Lb(a,d){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);var a=a.substring(1,
7),c=parseInt(a.substring(0,2),16),f=parseInt(a.substring(2,4),16),h=parseInt(a.substring(4,6),16);return isNaN(d)?"rgb("+c+","+f+","+h+")":"rgba("+c+","+f+","+h+","+d+")"}function L(a,d,c){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+d,c):a.addEventListener(d,c,!1)}function tc(a,d,c){"object"===typeof window.detachEvent?a.detachEvent("on"+d,c):a.removeEventListener(d,c,!1)}function Wb(){return document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:
document.body.scrollTop}function Ha(a){return{width:parseInt(a.style.width||a.offsetWidth),height:parseInt(a.style.height||a.offsetHeight)}}function M(a,d,c,f,h){var i=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,Z=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!v(f))return h||A.log(f+" is wrong type, must be array, using default value instead"),c;if(d&&v(d))for(var k=0;k<f.length;k++)if(0>d.indexOf(f[k]))return h||A.log(f+" is not within the valid range, using default value instead"),
c;return f}if("url"===a){if("string"!==typeof f)return c;f&&(f=f.trim());if(/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(f))return f;h||A.log(f+" is not the valid format, using default value instead");return c}if("text"===a){if(d){if(0<=d.indexOf(f))return f;h||A.log('Value of "'+f+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return i.test(f)?f:c}if("usertext"===a){if("string"!==typeof f&&"number"!==typeof f)return c;if(v(d)){if(1===
d.length){if(f.length<=d[0])return f;h||A.log(f+" is too long, using default value instead");return c}if(2===d.length){if(f.length<=d[1]&&f.length>=d[0])return f;h||A.log(f+" is not within the valid range, using default value instead");return c}h||A.log("usertext range is invalid, using default value instead");return c}return f}"string"===typeof f&&0==f.length&&(f=" ");if(!i.test(f))return h||A.log(f+" contains invalid character(s)"),c;if("boolean"===a){if("boolean"===typeof f)return f;h||A.log(f+
" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return f;if("number"===a){if(isNaN(parseInt(f)))return h||A.log(f+" is wrong type, must be a valid number"),c;f=parseFloat(f)}if("color"===a){f&&(f=f.trim());if("transparent"===f||Z.test(f))return f;h||A.log('Value of "'+f+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof f!=a&&"color"!=a)return h||A.log(f+" for "+arguments.callee.caller.name+
" is "+typeof f+" expected "+a),c;if("object"===typeof d&&"string"===a){if(0<=d.indexOf(f))return f;h||A.log('Value of "'+f+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof d&&"number"===a){2===d.length?(i=d[0],Z=d[1]):(i=d.shift(),Z=d.pop(),k=d);if(f<i)return h||A.log("Value of "+f+" for "+arguments.callee.caller.name+" is below minimum of "+i+", using minimum value of "+i+" instead"),i;if(f>Z)return h||A.log("Value of "+
f+" for "+arguments.callee.caller.name+" is above maximum of "+Z+", using maximum value of "+Z+" instead"),Z;if(k&&"number"===typeof k.indexOf(f)||f==i||f==Z)return f;return k?(h||A.log("Value of "+f+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):f}return 0!=f&&!f?c:f}function tb(a){for(var d=tb.options,a=d.parser[d.strictMode?"strict":"loose"].exec(a),c={},f=14;f--;)c[d.key[f]]=a[f]||"";c[d.q.name]={};c[d.key[12]].replace(d.q.parser,function(a,
f,h){f&&(c[d.q.name][f]=h)});return c}function $a(a){return document.getElementById(I(a).getAttribute("id"))}function I(a){return a.target?a.target:a.srcElement}function ia(a,d){var c=document.createElement("script"),f=document.getElementsByTagName("script")[0];c.src=a;c.setAttribute("type","text/javascript");"function"===typeof d&&(c.addEventListener?c.addEventListener("load",d,!1):c.readyState&&(c.onreadystatechange=function(){("complete"==c.readyState||"loaded"==c.readyState)&&d()}));f.parentNode.insertBefore(c,
f)}function uc(a,d){k&&9>k&&Xb(a,d)}function Xb(a,d){function c(c){ta=!1;"function"===typeof d&&d();janrain.events.onCssLoad.fire({source:a,noload:c})}function f(){if(ta){for(za=x.length;0<=--za;)if(x[za].href===i.href){c();break}k+=1;ta&&(200>k?setTimeout(f,50):c(!0))}}function h(){var a;try{a=!!i.sheet.cssRules}catch(f){k+=1;200>k?setTimeout(h,50):a&&c(!0);return}c()}var i,k=0,ta=!0,x=document.styleSheets,za;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new Ta);ub?(i=
document.createElement("style"),i.innerHTML='@import "'+a+'";'):(i=document.createElement("link"),i.rel="stylesheet",i.href=a,i.type="text/css");Mb||ub?(Mb&&f(),ub&&h()):(i.onload=function(){c()},i.onerror=function(){c(!0)});document.getElementsByTagName("head")[0].appendChild(i)}function p(a){var d;d=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===d.indexOf(c)&&(d.push(c),a&&(a.className=d.join(" ")));return this},remove:function(c){-1!==d.indexOf(c)&&(d.splice([d.indexOf(c)],
1),a&&(a.className=d.join(" ").trim()));return this},has:function(a){return-1!==d.indexOf(a)}}}function v(a){return"[object Array]"===Object.prototype.toString.call(a)}function w(a,d){return!v(a)?!1:-1<a.indexOf(d)}function Cb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Db(a){var d="",c;for(c in a)d+="&"+encodeURIComponent(c)+"="+encodeURIComponent(a[c]);return d="?"+d.substr(1)}function N(a){if(!a)return!1;a.preventDefault?a.preventDefault():a.returnValue=!1}function yc(a){if(!a)return!1;
var d=a.getElementsByTagName("input");d||(d=a.getElementsByTagName("button"));if(!d)return!1;for(var c=d.length,f=0;f<c;f++)if("submit"===d[f].type)return d[f];d=a.getElementsByTagName("button");for(f=0;f<c;f++)if("submit"===d[f].type)return d[f]}function Yb(a){return!isNaN(parseFloat(a))&&isFinite(a)}function nc(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var d=a.split("/"),a=parseInt(d[1],10),c=parseInt(d[0],10),d=parseInt(d[2],10),f=new Date(d,c-1,a);return f.getFullYear()==d&&f.getMonth()==c-1&&
f.getDate()==a?!0:!1}return!1}function ja(a,d){for(var c=d,f=/\{\|(.*?)\|\}/,h;h=f.exec(c);)try{var i=h[1].trim(),c=c.replace(h[0],"undefined"!==typeof a[i]?a[i]:"")}catch(k){return window.console&&window.console.log&&console.log(k.name+": "+k.message,"error"),!1}return c}function Zb(){function a(a){var a=a||"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",bb&&(c.innerHTML=
bb)):(c.src=Aa,ja||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=Ba?f:d;return c}function d(a){ka||(n.style.display="none",Ia.style.display="none",T.style.display="none");G&&wa.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&da.fire();"object"===typeof a&&N(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),f=document.createElement("a"),i=document.createElement("a"),
h=document.createElement("h3");f.innerHTML=ia;i.innerHTML=Ja;h.innerHTML=ca;f.setAttribute("href","#");i.setAttribute("href","#");a.className="janrain_close_confirm_container";c.className="janrain_close_confirm";f.className="janrain_modal_confirm";i.className="janrain_modal_cancel";L(f,"click",function(a){d();n.removeChild(na);na=null;N(a)});L(i,"click",function(a){n.removeChild(na);na=null;N(a)});c.appendChild(h);c.appendChild(i);c.appendChild(f);a.appendChild(c);return a}function f(a){na||(na=c(),
n.appendChild(na));N(a)}function h(a){var c=Wb(),f=Ha(a),d=-1*f.width/2,f=-1*f.height/2;a.style.left="50%";a.style.marginLeft=d+"px";a.style.marginTop=f+c+"px";a.style.top="50%";0>a.offsetLeft&&(a.style.left=0,a.style.marginLeft=0);0>a.offsetTop&&(a.style.marginTop=0,a.style.top="10px");T.style.height=ya+c+"px";"absolute"!==a.style.position&&(a.style.position="absolute")}function i(){if(ka){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(n)}else h(n);ka||A.show()}
function Z(a){ra||($=M("number",[0,20],10,a),sa.fire({radius:jb(U,$)}))}function ta(a){ra||(Q=M("color",null,"#000000",a))}function x(a){ra||(U=M("number",[0,20],10,a),aa.fire({radius:jb(U,$),refresh:!0}))}function za(a){ra||(Y=M("number",[0,1],0.5,a),"object"==typeof n&&kb(n,$,Q,Y))}function D(a){if("portrait"===a){oa="portrait";var c="one column"}"landscape"===a&&(oa="landscape",c="two column");Ka.fire({orientation:oa,format:c,width:w,height:I});i()}function F(a){a&&(ga=a);k&&S&&(ga+=$-2);"object"==
typeof n&&(n.style.width=ga+"px");return this}function p(a){a&&(Ea=a);k&&S&&(Ea=Ea+2*$-4);a&&"object"==typeof n&&(n.style.height=Ea+"px");return this}function sc(){Ca>=ya&&"undefined"===typeof window.orientation?"landscape"!==oa&&D("landscape"):90===window.orientation||-90===window.orientation?"landscape"!==oa&&D("landscape"):"portrait"!==oa&&D("portrait");i()}function v(){var a,c=n;a="undefined"!=typeof window.innerWidth?window.innerHeight:document.documentElement.offsetHeight;var f=Wb();Ha(c);T.style.height=
a+f+"px"}var w=380,I=131,n,vc="janrainModal",Ia,T,E,ga=w,Ea=I,$=10,Q="#000000",U=10,Y=0.5,Ba=!1,Aa=sb("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),bb="",ra=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,ja=!1,ca="Are you sure you want to quit?",ia="Yes, quit",Ja="No, stay",na,oa="landscape",La=!0,G="boolean"===typeof G?G:"number"===typeof window.orientation?!0:!1,pa="boolean"===typeof pa?pa:janrain.settings.previewMode,ka=pa,Ma=Ma||!1;janrain.settings&&
janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(Aa=janrain.settings.capture.modalCloseImage,ja=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(bb=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=ba());var da=ba(),ua=ba(),aa=ba(),sa=ba(),Ka=ba();wa&&wa.onOrientationChange&&wa.onViewportChange&&(wa.onOrientationChange.addHandler(function(a){D(a.orientation)}),wa.onViewportChange.addHandler(function(){h(n)}));
return{isOpen:function(){return"object"===typeof n&&"none"!==n.style.display},setWidth:function(a){F(a);return this},setHeight:function(a){p(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&Z(a);ra||"object"==typeof n&&kb(n,$,Q,Y);return this},setBorderColor:function(a){a&&ta(a);ra||"object"==typeof n&&kb(n,$,Q,Y);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&x(a);ra||"object"==typeof n&&fa(n,U);return this},setBorderOpacity:function(a){("number"===
typeof a||"string"===typeof a)&&za(a);return this},setZIndex:function(a){T.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(ka=a);return this},setId:function(a){vc=a;n&&(n.id=a);return this},show:function(){G||(n.style.display="block");"object"==typeof Ia&&La&&(Ia.style.display="block");ka?G&&(n.style.display="block"):(T.style.display="block",G?(wa.setElement(n).activate(),n.style.display="block"):(L(window,"resize",sc),L(window,"resize",v),L(window,"scroll",v),sc(),v()));ra||aa.fire({radius:jb(U,
$),refresh:!1});ua.fire();n.focus()},close:function(a){d(a)},closeConfirm:function(){f()},refresh:function(){Ma||n.appendChild(E);i()},remove:function(){if(ka){var a=document.getElementById("previewMode");"object"===typeof E&&n.removeChild(E);"object"===typeof n&&a.removeChild(n);"object"===typeof T&&document.body.removeChild(T);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";T=n=""}else"object"===typeof E&&n.removeChild(E),"object"===typeof T&&document.body.removeChild(T),
"object"===typeof n&&document.body.removeChild(n)},addContent:function(c){Ia=c;if(!n){n=document.createElement("div");n.id=vc;if("number"===typeof ga||"string"===typeof ga)n.style.width=ga+"px";n.style.height=Ea+"px";n.style.position="absolute";ra||(n.style.padding=$+"px",fa(n,U),kb(n,$,Q,Y));n.style.zIndex=1E3;n.style.display="none";T=document.createElement("div");T.style.width="100%";T.style.left=0;T.style.top=0;T.style.backgroundColor="#000000";T.style.position="absolute";c=T;"undefined"!==typeof c.style.filter&&
(c.style.filter="alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");T.style.display="none";T.style.zIndex=1E3;E=bb?a("a"):a();n.appendChild(E);document.body.appendChild(T);document.body.appendChild(n)}n.appendChild(Ia);ka&&i();return this},getContent:function(){return Ia},getBorderWidth:function(){return $},getState:function(){return{borderWidth:$,
borderColor:Q,borderRadius:U,borderOpacity:Y,orientation:oa}},setState:function(a){B("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&Z(a.borderWidth),"undefined"!==typeof a.borderColor&&ta(a.borderColor),"undefined"!==typeof a.borderOpacity&&za(a.borderOpacity),"undefined"!==typeof a.orientation&&D(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&x(a.borderRadius),"object"==typeof n&&fa(n,U)))},setConfirmClose:function(a){Ba=
a;return this},setShowContentOnLoad:function(a){La=a;return this},setConfirmMessageText:function(a){ca=a},setConfirmLinkText:function(a){ia=a},setCancelLinkText:function(a){Ja=a},onClose:da,onShow:ua,onOrientationChange:Ka,onBorderRadiusChange:aa,onBorderWidthChange:sa}}function zc(a){function d(){var a=window.open(c,"","width="+f+", height="+h+", status=1, location=1, resizable=yes"),d=window.setInterval(function(){if(a&&a.closed||"undefined"===typeof a.closed)window.clearInterval(d),"function"===
typeof i&&i()},500)}var c=a,f=400,h=400,i;return{show:function(){d()},setWidth:function(a){a&&(f=a);return this},setHeight:function(a){a&&(h=a);return this},setCallback:function(a){a&&(i=a);return this}}}function Ac(){function a(){D=(new Date).getTime()-f;if(D<c){var a=Math.round(d()*x+i);h.style[p]=a+"px"}else clearInterval(za),h.style[p]=k+"px",v()}function d(){if("flat"==F)return D*(1/c);if("sinusoidal"==F)return Math.abs(Math.sin(D*(Math.PI/(2*c))))}var c="1000",f,h,i,k,p="left",x,za,D,F="flat",
v;return{setAcceleration:function(a){F=a;return this},setCallback:function(a){v=a;return this},setDuration:function(a){c=a;return this},setDirection:function(a){"horizontal"===a&&(p="left");"vertical"===a&&(p="top");return this},setElement:function(a){h=a;return this},startPosition:function(a){i=a;return this},endPosition:function(a){k=a;return this},animate:function(){x=k-i;f=(new Date).getTime();za=setInterval(a,10);return this}}}function ba(){return new Ta}function Ta(){this.eventHandlers=[];this.firedEvents=
[]}function $b(){if(function(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onCustomizationChange,onProviderLoginComplete,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}())clearTimeout(a),
janrain.events.onAuthWidgetLoad.fire();else var a=setTimeout($b,5)}function ac(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,f=janrain.events.captureEvents.length;a<f;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;return!janrain.ready?!1:!0}if("function"===typeof janrainCaptureWidgetOnLoad)if(a())clearTimeout(d),janrainCaptureWidgetOnLoad();else var d=
setTimeout(ac,5)}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var d in this)if(this[d]===a)return parseInt(d);return-1});Array.prototype.map||(Array.prototype.map=function(a,d){if(null===this)throw new TypeError;var c=Object(this),f=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var h=Array(f),i=0;i<f;i++)i in c&&(h[i]=a.call(d,c[i],i,c));return h});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var ca=window.innerWidth?
window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;ya=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;Ca=ca;var Jb=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,
S="CSS1Compat"!==document.compatMode,lb=!1,U=!1,h=[],mb="c65023b",ca=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),Eb=null!==ca?ca[0]:!1,bc="number"===typeof window.orientation||null!==ca,Bc="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),
Cc="January,February,March,April,May,June,July,August,September,October,November,December".split(","),Dc=[16,20,30,32,48,50,64];janrain.settings&&janrain.settings.storageServer&&wc("xDomainLocalStorageJanrain",janrain.settings.storageServer,function(){L(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){_xdomainStorageIframeLoaded=!0})});var Da=navigator.userAgent,k=rb(),ub=/Gecko\//.test(Da),Mb=/AppleWebKit\//.test(Da);/Chrome\//.test(Da);var Ec=ib(),B=function(){var a=function(a){for(var f=
[],d=0;d<a.length;d++)f.push(a[d]);return f},d={};janrain.settings&&janrain.settings.permissions&&(d.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(d.share=a(janrain.settings.share.permissions));return function(a,f){f=f||"login";return!d[f]?!1:0<=d[f].indexOf(a)}}();tb.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",
parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};for(var Na=function(a,d,c){Na=document.getElementsByClassName?function(a,c,d){for(var a=(c||document).getElementsByClassName(a),
d=d?RegExp("\\b"+d+"\\b","i"):null,c=[],h,k=0,x=a.length;k<x;k+=1)h=a[k],(!d||d.test(h.nodeName))&&c.push(h);return c}:function(a,c,d){var d=d||"*",c=c||document,h=a.split(" "),a=[],c="*"===d&&c.all?c.all:c.getElementsByTagName(d),d=[],k;k=0;for(var x=h.length;k<x;k+=1)a.push(RegExp("(^|\\s)"+h[k]+"(\\s|$)"));for(var x=0,p=c.length;x<p;x+=1){h=c[x];k=!1;for(var D=0,F=a.length;D<F&&!(k=a[D].test(h.className),!k);D+=1);k&&d.push(h)}return d};return Na(a,d,c)},wa=function(){function a(){if("undefined"===
typeof window.orientation)return!1;var a;f(document.body,F);D=k().content;p();x();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){L(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});i()},!1),setTimeout(i,30),window.addEventListener("beforeunload",
function(){window.removeEventListener(a,i,!1)},!1));w.addHandler(function(){d({height:window.innerHeight,width:window.innerWidth},0)});E.addHandler(function(a){ya=a.height;Ca=a.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,i,!1)},!1)}function d(a,c){var f=window.innerHeight,h=window.innerWidth,i=!0,k=!0;f!=a.height&&(i=!1);h!=a.width&&(k=!1);i&&k?20>c?setTimeout(function(){d({height:f,width:h},++c)},100):E.fire({height:f,width:h}):setTimeout(function(){d({height:f,
width:h},0)},100)}function c(){setTimeout(function(){v(D)},20);f(F,document.body)}function f(a,c){for(var d=0;d<a.style.length;d++){var f=a.style[d];c.style.setProperty(f,a.style.getPropertyValue(f),a.style.getPropertyPriority(f))}}function h(){var a;a=(0===window.orientation||180===window.orientation)&&Ca>ya||(90===window.orientation||-90===window.orientation)&&ya>Ca?!1:!0;var c="landscape";if(a&&(0===window.orientation||180===window.orientation))c="portrait";if(!a&&(90===window.orientation||-90===
window.orientation))c="portrait";return c}function i(){var a=h();v("width=device-width, initial-scale=1, maximum-scale=1");w.fire({orientation:a})}function k(){var a=document.getElementsByTagName("meta"),c;for(c in a)if("viewport"===a[c].name)return a[c];return!1}function p(){if("undefined"===typeof document.getElementsByTagName||k())return!1;var a=document.getElementsByTagName("head")[0],c=document.createElement("meta");c.setAttribute("name","viewport");a.appendChild(c);return!0}function x(){if("undefined"===
typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function v(a){var c=k();if(!c||c.content==a)return!1;if("undefined"===typeof a){var d=k();document.getElementsByTagName("head")[0].removeChild(d)}c.content=a;return!0}var D,F=document.createElement("div"),A=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
B=null!==A?A[0]:!1,w=ba(),E=ba();B&&B[0].match(/android|\Wsilk\W/);var L=function(){var a=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},d={height:window.innerHeight,width:window.innerWidth},f=!1;return function(h,i,k){var F=!1,p=function(a,c){return a.height>=a.width&&c.height>=c.width||a.width>a.height&&c.width>c.height?!0:!1},x=a===h,D=p(i,c),v=p(k,d);if(!x&&(!D||!v))F=!0;!x&&!D&&(f=!0);F&&(f&&!p(i,k)&&(F=k.height,k.height=k.width,k.width=F),ya=k.height,Ca=k.width);
a=h;c={height:i.height,width:i.width};d={height:k.height,width:k.width}}}();return{setElement:function(){return this},onOrientationChange:w,onViewportChange:E,getMobileDevice:function(){return B},getOrientation:function(){return h()},activate:function(){a()},deactivate:function(){c()}}}(),sb=function(a){var d;d="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";d=d.replace(/\/$/,"");return d+"/"+a},ca={openId:{aol:{identifier:"aol",flow:"openid1",
width:514,height:550,color:"#0FD6FF"},blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",
flow:"openid",width:500,height:500,color:"#FF0084"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5"},hyves:{identifier:"http://hyves.nl/",flow:"openid",width:800,height:600,color:"#659BC8"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665"},verisign:{identifier:"http://pip.verisignlabs.com/",
flow:"openid",width:945,height:600,color:"#B8004D"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:1050,height:550,color:"#3B5998",publishSettings:{},shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,
media:!0,actionLink:!0}},contact:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#009DDC",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,
color:"#666666"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333"},orkut:{flow:"orkut",width:800,height:600,color:"#333"},vzn:{flow:"vzn",width:600,height:450,color:"#333"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333"},mixi:{flow:"mixi",width:950,height:550,color:"#333",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},xb={},cb=["openId","openId2","oauth"];0<cb.length;){var db=cb.pop(),da;for(da in ca[db])xb[da]=ca[db][da]}var A=function(){var a=[];return{log:function(d){var c={};c.id=a.length+1;c.message=d;a.push(c);
return this},show:function(){if(0!=a.length){for(var d in a)if("undefined"!==typeof a[d].id){var c=a[d];"object"===typeof console&&console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message)}a=[]}}}}();Ta.prototype.addHandler=function(a){this.eventHandlers.push(a);return this.eventHandlers.length-1};Ta.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};Ta.prototype.fire=function(a){for(var d=this.eventHandlers.length,c=0;c<d;c++)try{if("function"===typeof this.eventHandlers[c])this.eventHandlers[c](a)}catch(f){A.log(f),
A.show()}this.firedEvents.push({event:this,args:a})};"undefined"===typeof janrain.events&&(janrain.events={});var E;E||(E={});(function(){function a(a){return 10>a?"0"+a:a}function d(a){h.lastIndex=0;return h.test(a)?'"'+a.replace(h,function(a){var c=p[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,f){var h,p,v,A,B=i,w,n=f[a];n&&"object"===typeof n&&"function"===typeof n.toJSON&&(n=n.toJSON(a));"function"===typeof x&&(n=x.call(f,a,
n));switch(typeof n){case "string":return d(n);case "number":return isFinite(n)?""+n:"null";case "boolean":case "null":return""+n;case "object":if(!n)return"null";i+=k;w=[];if("[object Array]"===Object.prototype.toString.apply(n)){A=n.length;for(h=0;h<A;h+=1)w[h]=c(h,n)||"null";v=0===w.length?"[]":i?"[\n"+i+w.join(",\n"+i)+"\n"+B+"]":"["+w.join(",")+"]";i=B;return v}if(x&&"object"===typeof x){A=x.length;for(h=0;h<A;h+=1)"string"===typeof x[h]&&(p=x[h],(v=c(p,n))&&w.push(d(p)+(i?": ":":")+v))}else for(p in n)Object.prototype.hasOwnProperty.call(n,
p)&&(v=c(p,n))&&w.push(d(p)+(i?": ":":")+v);v=0===w.length?"{}":i?"{\n"+i+w.join(",\n"+i)+"\n"+B+"}":"{"+w.join(",")+"}";i=B;return v}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});
var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,k,p={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},x;"function"!==typeof E.stringify&&(E.stringify=function(a,f,d){var h;k=i="";if("number"===typeof d)for(h=0;h<d;h+=1)k+=" ";else"string"===typeof d&&(k=d);if((x=f)&&"function"!==
typeof f&&("object"!==typeof f||"number"!==typeof f.length))throw Error("JSON.stringify");return c("",{"":a})});"function"!==typeof E.parse&&(E.parse=function(a,c){function d(a,f){var h,k,i=a[f];if(i&&"object"===typeof i)for(h in i)Object.prototype.hasOwnProperty.call(i,h)&&(k=d(i,h),void 0!==k?i[h]=k:delete i[h]);return c.call(a,f,i)}var h,a=""+a;f.lastIndex=0;f.test(a)&&(a=a.replace(f,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+a+")"),"function"===typeof c?d({"":h},""):h;throw new SyntaxError("JSON.parse");})})();janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=ba());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=ba());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=ba());janrain.events.onProviderLoginError||
(janrain.events.onProviderLoginError=ba());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=ba());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=ba());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=ba());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=ba());$b();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureStartRegistration,onCaptureStartLogin,onCaptureSuccessfulLogin,onCaptureSuccessfulProfileSave,onCaptureFailedProfileSave,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFailedLogin,onCaptureSuccessfulRegistration,onCaptureFailedRegistration,onCaptureSuccessfulSave,onCaptureFailedSave,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureFormError,onCaptureExpiredToken,onCaptureTransactionTimeout,onCaptureProfileLink,onCaptureProfileUnlink".split(",");
da=0;for(ca=janrain.events.captureEvents.length;da<ca;da++)"undefined"===typeof janrain.events[janrain.events.captureEvents[da]]&&(janrain.events[janrain.events.captureEvents[da]]=new Ta);ac();da=new function(){var a;function d(){function a(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){if(Fa){var b=document.createElement("div");b.style.backgroundColor=
da?"aqua":H;b.style.width=O+"px";b.style.height=oc+"px";b.style.position="absolute";b.style.left="0px";b.style.paddingLeft=u+"px";b.style.paddingRight=u+"px";b.style.paddingBottom=u+"px";b.style.bottom="0px";b.style.fontSize="10px";b.style.textAlign="left";b.style.color=e;fa(b,null,0,0,t,t);var a=document.createElement("div");a.appendChild(document.createTextNode(janrain.settings.translate.POWERED_BY_PREFIX||"Powered by "));a.style.paddingLeft="1px";var l=document.createElement("a");l.setAttribute("href",
"http://www.janrain.com/products/engage/engage-introduction?utm_source=login.janrain.com&utm_medium=partner&utm_campaign=attribution");l.setAttribute("target","_blank");l.appendChild(document.createTextNode("Janrain"));a.appendChild(l);b.appendChild(a);Aa=b}P=i();b=document.createElement("div");b.style.backgroundColor=da?"orange":H;b.className="janrainHeader";b.style.fontSize=g+"px";b.style.color=e;b.style.position="relative";b.style.height=Oa+"px";40===Ga&&(b.style.cssFloat="left");b.style.left=
40===Ga?"-6px":"-5px";b.style.paddingLeft=u+"px";b.style.paddingRight=u+"px";b.style.paddingTop=u+"px";b.style.paddingBottom="0px";b.style.whiteSpace="nowrap";b.style.width=40===Ga?"81px":O+"px";b.style.zIndex="100";40===Ga?fa(b,null,t,0,0,t):fa(b,null,t,t,0,0);40===Ga&&(b.style.marginTop="-3px");b.style.textAlign="one column"===r?"center":"left";a=d();Pb=document.createElement("div");Pb.style.paddingLeft="1px";Pb.style.fontFamily=j;" "!==a&&Pb.appendChild(document.createTextNode(a));b.appendChild(Pb);
xa=b;C=document.createElement("div");C.className="janrainContent";C.style.width=O+"px";C.style.height=o()+"px";C.style.paddingLeft=u+"px";C.style.paddingRight=u+"px";C.style.boxSizing="content-box";40===Ga&&(C.style.paddingTop=u-1+"px");U||(C.style.backgroundColor=H);U||(C.style.border=pc?"1px solid "+R:"1px solid "+H);C=fa(C,t);U||(C.style.overflow="hidden");C.style.position=pc?"relative":"absolute";ia=x();2==P||0==P?(Va=(new v).setSide("right").create(),Y=(new v).setSide("left").create()):(Va=(new v).setSide("top").create(),
Y=(new v).setSide("bottom").create());b=document.createElement("div");b.id="janrainView";" "!==d()&&b.appendChild(xa);a=F("blank");a.style.display="none";b.appendChild(a);b.appendChild(ia);!U&&Va&&Y&&(b.appendChild(Va),b.appendChild(Y));0<P&&Fa&&b.appendChild(Aa);C.appendChild(b);B("customizable_auth_widget_styling")||f(C);lb||A.show()}function f(b){function j(b){var a="string"===typeof b.getAttribute("style")?b.getAttribute("style"):null;a&&(a.cssText&&(a=a.cssText),b.style.setAttribute?b.style.setAttribute("cssText",
a.replace(/(((?!!important).)+?);/g,"$1 !important;")):b.setAttribute("style",a.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var a=b.getElementsByTagName("*"),g=0,e=a.length;g<e;g++)"janrainProviderPages"===a[g].id||"janrainSlideControl"===a[g].className||"janrainSlideControl"===a[g].parentNode.className||j(a[g]);j(b)}function d(){return b?va:h.translate.HEADER?h.translate.HEADER:"two column"===r?a().twoColumn.actionText:"one column"===r?a().oneColumn.actionText:"one row"===r?a().oneRow.actionText:
va}function i(){var b=r;if("default"==b||"two column"==b)return 2;if("one column"==b)return 1;if("one row"==b)return 0}function o(){var b=" "===va?0:Oa+u,j=Fa&&"one row"!==r?oc+u:0;return p()+b+j}function n(){var b=parseInt(ia.style.left),j=parseInt(ia.style.top),a;1==P?parseInt(ia.style.height):parseInt(ia.style.width);2==P&&(a=(O-3*u-(2==P?10:0))/P);if("one column"===r){if(" "===va&&(j+=11,0<j||-9<=j))return 0;if(9>j)return 1;if(0<j||j>=-(Oa-(u+1)))return 0}0==P&&(a=O-100);if(0>b&&b<-a)return 1;
if(0<b||b>=-u)return 0}function p(){if("two column"===r)var b=qa/2;"one column"===r&&(b=qa);"one row"===r&&(b=1);var j="one row"===r?0:2*b,a="one column"===r?3*u:0;if(7===k||6===k||k&&S){if("two column"===r&&(a=u,7===k||6===k))a=2*u;if("one column"===r&&(a=3*u,(7===k||6===k)&&!S))a+=u;if("one row"===r&&(7===k||6===k))a=u}"one column"===r&&Wa<=qa&&(a=k&&S?a+2*u:a-2*u);return W*b+u*(b+1)+j+a}function v(){function b(){var j;l="over";var c=n();if(0==c&&"left"===e||0==c&&"top"===e||1==c&&"right"===e||
1==c&&"bottom"===e)return this.style.cursor="default",R.onclick="",!1;var H=this;setTimeout(function(){if(1===h){if("over"!==l)return!1;k&&(g.style.display="block");d.style.display="block";R.onclick=a;H.style.cursor="pointer";var b=document.getElementById("janrainProviderPages");j="top"==e||"bottom"==e?parseInt(b.style.top):parseInt(b.style.left);var c="right"===e||"bottom"===e?j-cc:j+cc;"top"===e||"bottom"===e?b.style.top=c+"px":b.style.left=c+"px";h=2}},k?50:100)}function j(){var b;l="out";var a=
n();if(1==a&&"right"===e||0==a&&"left"===e||0==a&&"top"===e||1==a&&"bottom"===e)return!1;setTimeout(function(){if(2===h){if("out"!==l)return!1;k&&(g.style.display="none");d.style.display="none";var j=document.getElementById("janrainProviderPages");b="top"==e||"bottom"==e?parseInt(j.style.top):parseInt(j.style.left);var a="right"===e||"bottom"===e?b+cc:b-cc;"top"===e||"bottom"===e?j.style.top=a+"px":j.style.left=a+"px";h=1}},k?200:400)}function a(){d.style.display="none";R.style.cursor="default";y(e,
function(b){w(b);h=1})}var g,e,c,d,f={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},l="",h=1,R;return{setSide:function(b){e=b;return this},create:function(){var l;if(Wa<=qa)l=!1;else{l=document.createElement("div");l.setAttribute("id","janrainShim_"+e);l.style.background="black";"top"===e||"bottom"===e?(l.style.height="19px",l.style.width="100%"):(l.style.height="100%",l.style.width="17px");l.style.filter=da?"alpha(opacity=100)":"alpha(opacity=0)";l.style.position="absolute";
l.style.zindex="99";if("top"===e||"bottom"===e)l.style.left="0";l.style[e]=u+"px";l.style.top="one column"!==r?u+1+"px":"top"===e?"10px":"0px";l.style.display="none";g=l;l=document.createElement("div");l.style.backgroundColor=da?"green":H;l.className="janrainSlideControllerMask";l.style.position="absolute";"one column"!==r&&(l.style.width=u+"px",l.style.height="100%",l.style.top="0px",l.style[e]="0px",l.style.borderWidth="1px","right"===e&&(!Fa||"one row"===r)&&fa(l,null,0,0,t,0),"left"===e&&(!Fa||
"one row"===r)&&fa(l,null,0,0,0,t),"right"===e&&" "===va&&fa(l,null,0,t,t,0),"left"===e&&" "===va&&fa(l,null,t,0,0,t));"one column"===r&&(l.style.height=u+"px",l.style.fontSize="0px",l.style.width="100%",l.style.padding="0px",l.style[e]="0px","top"===e&&" "===va?fa(l,null,t,t,0,0):"bottom"===e&&!Fa&&fa(l,null,0,0,t,t));"one row"===r&&(l.style.height="105.5%");c=l;l=document.createElement("div");l.setAttribute("id","janrainArrow_"+e);l.style.background="url("+sb("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+
") no-repeat scroll "+f[e]+" transparent";l.style.height="19px";l.style.width="17px";l.style.position="absolute";if("top"===e||"bottom"===e)l.style.left=O/2+"px";l.style[e]=u+"px";l.style.top="one column"!==r?p()/2-2*u+1+"px":"top"===e?"10px":"0px";l.style.display="none";d=l;l=document.createElement("div");l.className="janrainSlideControl";l.style.backgroundColor=da?"purple":"transparent";"one column"===r?(l.style.width=O+4+"px",l.style.left="3px","top"==e?(l.style.height=u+"px"," "===va&&(l.style.left=
"0px",l.style.width=O+10+"px")):(l.style.height="20px",l.style.bottom=(Fa?oc+u:0)+"px",fa(l,null,0,0,t,t))):(l.style.width="right"===e?"20px":"0px",l.style[e]="0px",l.style.height=p()-(u*(" "===va)?1:2)+"px",40===Ga&&"one row"===r&&"left"===e&&(l.style.left=ma+"px"),"right"===e&&!Fa&&fa(l,null,0,0,t,0),"left"===e&&!Fa&&fa(l,null,0,0,0,t));l.style.position="absolute";l.style.zIndex="100";l.style.cursor="pointer";l.onmouseover=b;l.onmouseout=j;l.onclick=a;R=l;R.appendChild(c);R.appendChild(g);R.appendChild(d);
l=R}return l}}}function y(b,j){var a=document.getElementById("janrainProviderPages"),e=new Ac;if("top"===b||"bottom"===b){if(" "===va)var g=-(p()-W),c=0;else g=-(p()-W-Oa-u),c=Oa+u;50===W&&(g-=20);k&&S&&(g+=u," "!==va&&(c+=u));e.setElement(a).setAcceleration("sinusoidal").setDuration(100*qa).startPosition(parseInt(a.style.top)).endPosition("bottom"===b?g:c).setDirection("vertical").setCallback(function(){j(b)}).animate()}else k&&S?(g=-(O-2*u-39),"one row"===r&&(g=-(ma-1*u))):(g=-(O-32),"one row"===
r&&(g=-(O-24))),e.setElement(a).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(a.style.left)).endPosition("right"==b?g:u).setDirection("horizontal").setCallback(function(){j(b)}).animate()}function x(){var b,j;function a(e){e.preventDefault();e=e.touches[0];e="one column"===r?b-e.pageY:j-e.pageX;if(35<e||-35>e)"one column"===r?(g.style.top=parseInt(g.style.top)-e+"px",e=0<e?"bottom":"top"):(g.style.left=parseInt(g.style.left)-e+"px",e=0<e?"right":"left"),y(e,function(){w()}),
g.ontouchmove=""}var e,g,c,l,H,d=P,f=[];l=D();H=U?1:Math.ceil(Wa/qa);2<H&&A.log("Either reduce the number of providers, or increase the setting for providersPerPage.");g=document.createElement("div");g.setAttribute("id","janrainProviderPages");U&&(g.className="janrainConfigureMode");g.style.paddingTop=(6===k||7===k)&&k&&S?2*u:u+"px";if((6===k||7===k)&&!S)g.style.paddingTop=u+4+"px";g.ontouchstart=function(a){a=a.touches[0];"one column"===r?b=a.pageY:j=a.pageX};g.ontouchmove=a;g.ontouchend=function(){g.ontouchmove=
a};40===Ga&&"one row"===r?g.style.left=ma+u+"px":k&&S?"one column"!==r&&(g.style.left=u+"px"):g.style.left=u+"px";40===Ga&&"one row"===r&&(g.style.cssFloat="left");40===Ga&&"one row"===r&&(g.style.marginTop="1px");"one column"===r&&(g.style.top=(k&&S?1:0)+Oa+u+"px");"one row"!==r&&" "===va&&(g.style.top="0px");"one column"===r&&" "===va&&(g.style.top="0px");e=O*H;g.style.position="absolute";"two column"===r&&!(Wa<=qa)&&(g.style.width=e+"px");"one row"===r&&(g.style.width=(!0===U?O+u:2*O)+"px");U&&
(d=0);j=0;b=0;for(var h=0;h<H;h++){for(c=0;c<=d;c++)f[c]=document.createElement("ul"),f[c].className="providers",f[c].id="janrainProviders_"+c,1<d&&(f[c].style.cssFloat="left"),1<d&&(f[c].style.styleFloat="left"),f[c].style.listStyleType="none",f[c].style.marginTop="0px",f[c].style.marginLeft="0px",f[c].style.marginRight="0px",f[c].style.marginBottom="0px",f[c].style.padding="0px";e=document.createElement("div");e.className="janrainPage";e.setAttribute("pageIndex",h);k&&S&&1===H&&(e.style.width="110%");
for(c=0;c<=d;c++)e.appendChild(f[c]);for(var R=l.length%2,t=U?Wa:qa,m=0;m<t&&!(0==l.length);m++){if(2==d)var i=1==R?f[l.length%2?0:1]:f[l.length%2];if(1==d||0==d)i=f[0];c=l.shift();i.appendChild(c)}g.appendChild(e)}return g}function w(b){0==n()?("left"===b&&(Y.style.width=u+"px",Va.style.display="block",Va.style.width="20px"),"top"===b&&(Va.style.height=u+"px",Y.style.display="block",Y.style.height="20px")):("right"===b&&(Va.style.width=u+"px",Y.style.display="block",Y.style.width="20px"),"bottom"===
b&&(Y.style.height=u+"px",Va.style.display="block",Va.style.height="20px"))}function D(){for(var b=[],j=0;j<Wa;j++){var a=F(ec[j]);b.push(a)}return b}function E(b,j){j.style.cursor="pointer";j.setAttribute("id","janrain-"+b);j.setAttribute("role","button");"one row"===r?j.style.background="transparent":("gradient"===nb&&Kb(j,"bottom, #eeeeee, #ffffff"),"gray"===nb&&(j.style.backgroundColor="#eeeeee"),"white"===nb&&(j.style.backgroundColor="#ffffff"));L(j,"mouseover",function(){rb();"one row"===r?
j.style.background="transparent":(j.style.backgroundColor="#E3E3E3",j.style.backgroundImage="")});L(j,"mouseout",function(){rb();"one row"===r?j.style.background="transparent":("gradient"===nb&&Kb(j,"bottom, #eeeeee, #ffffff"),"gray"===nb&&(j.style.backgroundColor="#eeeeee"),"white"===nb&&(j.style.backgroundColor="#ffffff"))});lb||K(j,b);return j}function F(b){var j=document.createElement("li");j.style.listStyle="none";0==P&&!1===U&&(j.style.cssFloat="left");0==P&&!1===U&&(j.style.styleFloat="left");
j.style.textAlign="center";j.style.height=k&&S?W-2:W+"px";if("two column"==r){var a=U?3*u:Wa<=qa?0:3*u;j.style.width=6===k||rb&&S?(O-a-4*u)/P+"px":(O-a-(2==P?10:0))/P+"px"}j.style.marginTop="0px";if("one column"==r){if(7==k||6==k)j.style.marginTop="-1px";k&&S?j.style.marginRight="0px":j.style.width=O-u/2+"px";j.style.marginLeft="0px"}else j.style.marginRight=u+"px";0==P&&(j.style.width=W+"px");j.style.marginBottom=(7===k||6===k||k&&S?3:u)+"px";j.style.position="relative";0!=P&&(j.style.border="1px solid "+
gc);0!=P&&fa(j,Rb);if("customopenid"===b){a=document.createElement("img");if(1==P||2==P)30==W&&(a.src=sa.smallLogo),50==W&&(a.src=sa.largeLogo);0==P&&(30==W&&(a.src=sa.smallIcon),50==W&&(a.src=sa.largeIcon))}else if(a=document.createElement("span"),"blank"!==b){if(1==P||2==P)30==W&&(a.className="janrain-provider100-"+b),50==W&&(a.className="janrain-provider150-"+b);0==P&&(30==W&&(a.className="janrain-provider30-"+b),50==W&&(a.className="janrain-provider50-"+b))}a.style.backgroundColor="transparent";
k&&S&&(a.style.height=W-2+"px");if(6===k&&"one row"!==r){var e=document.createElement("div");e.style.height=a.style.height;e.style.width="90px";e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+a.src+"')";a.style.filter="alpha(opacity=0)";e.appendChild(a);j.appendChild(e)}else j.appendChild(a);return E(b,j)}function I(b,a){var e=document.createElement("div"),g=h.translate.SIGN_IN_AS||"Sign in as {name}",g=g.replace("{name}",a),g=document.createTextNode(g),
c=document.createElement("div");c.style.cssFloat="right";c.style.styleFloat="right";c.style.fontFamily=j;c.style.position="relative";c.style.top=W/4-3+"px";c.appendChild(g);var l=document.createElement("div"),H=7.5*g.length+30,f=o();l.style.fontSize="16px";l.style.height="100%";l.style.position="relative";if(0==P||120>f)15<=g.length&&(l.style.fontSize="14px",H=7*g.length+30),20<=g.length&&(l.style.fontSize="12px",H=6*g.length+30),24<=g.length&&(l.style.fontSize="10px",H=5*g.length+25),30<=g.length&&
(g.textContent=g.textContent.substr(0,26)+"...",H=162);l.style.width=H+"px";if(0==P||116>f)if("customopenid"===b){var d=document.createElement("img");d.src=sa.smallIcon;d.style.width="20px";d.style.height="20px";d.style.cssFloat="left";d.style.styleFloat="left"}else d=document.createElement("span"),d.style.margin="2px 0",d.className="janrain-provider16-"+b;e.style.overflow="hidden";e.style.position="relative";e.style.height=("one row"!==r?W:25)+"px";e.style.marginBottom="one row"===r?"-4px":"4px";
"one row"===r&&(e.style.top="-4px");e.style.left="0px";k&&S&&(e.style.marginRight="5px");k&&S&&(e.style.marginLeft="3px");e.style.border="1px solid "+gc;e.style.color=xb[b].color;fa(e,Rb);if(0==P||116>f)l.style.paddingTop=(50===W?16:2)+"px",l.appendChild(d);6===k||7===k||k&&S?l.style.left="0px":l.style.margin="0 auto";l.appendChild(c);0==P||116>f?e.appendChild(l):(50===W&&parseInt(e.style.height),c.style.cssFloat="none",c.style.styleFloat="none",e.appendChild(c));return E(b,e)}function K(b,j){L(b,
"click",function(){Q(j)})}function Q(b){var j=xb[b],a={appUrl:h.appUrl,mobileDevice:Eb,language:h.language,popup:vb,tokenUrl:La||h.tokenUrl||window.location.href,facebookPermissions:Ca,forceReauth:Ja,widgetType:"auth",tokenAction:na,bpChannel:Ha,customOpenid:mb,customOpenidOpxblob:h.customOpenidOpxblob};j.name=b;new $a(j,a,function(){ua||(Pa=setTimeout(function(){ra(j)},300))})}function N(b){var j=document.createElement("div");if("customopenid"===b){var a=document.createElement("img");a.src=sa.largeLogo;
a.style.width="150px";a.style.height="50px"}else a=document.createElement("span"),a.className="janrain-provider150-"+b;j.style.position="absolute";j.style.top="0px";if(!k||!S)j.style.left="0px",j.style.width=O+"px";j.style.zIndex="102";j.style.textAlign="center";j.style.padding=u+"px";j.style.backgroundColor="transparent"===H?"#ffffff":H;j.style.height=o()-(k&&S?0:2*u)+"px";fa(j,t);"one row"!==r&&116<=o()&&j.appendChild(a);return j}function z(b){var a=document.createElement("a"),g=document.createTextNode(h.translate.USE_ANOTHER_ACCOUNT||
"switch accounts");a.setAttribute("class","janrainSwitchAccountLink");a.setAttribute("href","");a.style.fontSize="12px";a.style.fontFamily=j;a.style.color=e;a.onclick=b;a.appendChild(g);return a}function Z(){return"modal"===G?document.getElementById("janrainModal"):"embed"===G?document.getElementById("janrainEngageEmbed"):!1}function X(){var b=parseInt(C.style.width);return b=b+2*u+2}function T(){var b=Z();null!==b&&"object"===typeof C&&C.parentNode===b&&b.removeChild(C)}function V(){var b="";"object"===
typeof s&&(b=s.getState());return{type:G,width:X(),fontFamily:j,fontSize:g,fontColor:e,backgroundColor:H,borderColor:R,borderRadius:t,format:r,providersPerPage:qa,providers:ec,buttonBackgroundStyle:nb,buttonBorderColor:gc,buttonBorderRadius:Rb,actionText:d(),showAttribution:Fa,modalState:b}}function aa(b){r=M("string",["default","two column","one column","one row"],"two column",b);"default"===r&&(r="two column");"one row"==b&&(t=M("number",[0,5],5,t));ta()}function $(b){"two column"===r&&(O=M("number",
[225,600],380,b));"one column"===r&&(O=M("number",[160,600],200,b));"one row"===r&&(W=30,b=Wa<=qa?u*(parseInt(qa)-1):u*(parseInt(qa)+2),40===Ga&&(b+=ma-u),O=W*qa+b);if(("two column"===r||"one column"===r)&&!U)O=O-2*u-2;k&&S&&(O=O+2*u+2);"one row"!==r&&(W=380<O?50:30)}function ea(j){"string"===typeof j&&(b=!0,va=M("text",null,va,j)," "===va?t=M("number",[0,5],5,t,!0):Oa="two column"!==r?a().headerHeight-5:a().headerHeight)}function ba(b){nb=M("string",["gray","white","gradient"],"gradient",b)}function ha(b){gc=
M("color",null,"#CCCCCC",b)}function ja(b){H=M("color",null,"#ffffff",b)}function ka(b){"undefined"===typeof b&&(b=5);t=" "===va||!Fa||"one row"===r?M("number",[0,5],5,b,!0):M("number",[0,10],10,b)}function ca(b){Fa=M("boolean",null,!0,b);o();t=b?M("number",[0,10],5,t,!0):M("number",[0,5],5,t,!0)}function la(b){R=M("color",null,"#C0C0C0",b)}function ta(){"two column"===r&&(g=18);if("one column"===r||"one row"===r)g=14}function oa(b){e=M("color",null,"#333333",b)}function pa(b){if("object"==typeof b){P=
i();for(var j=0,a=b.length;j<a;j++)if(!xb[b[j]])return m(4),A.log(b[j]+" is not a valid provider, using default providers instead"),this;ec=b;Wa=b.length;"object"===typeof s&&s.setHeight(o()-2*u).refresh()}}function m(b){"two column"===r&&(qa=M("number",[4,6,8],6,b));"one column"===r&&(qa=M("number",[1,6],6,b));"one row"===r&&(qa=J?Wa:M("number",[4,8],6,b),$(O))}function ra(b){var j=document.createTextNode(h.translate.SIGNING_IN||"Signing in ..."),a=document.createElement("div");Ub=N(b.name);a.appendChild(j);
Ub.appendChild(a);C&&C.appendChild(Ub)}var da=!1,O=380,b=!1,j="lucida grande, Helvetica, Verdana, sans-serif",g=18,e="#666666",H="#ffffff",R="#C0C0C0",t=10,C,Pb,r="two column",P,pc,qa=6,ec=["aol","google","yahoo","openid"],Wa=4,gc="#CCCCCC",Rb=5,nb="gradient",W=30,Oa=a().headerHeight,Ga=60,ma=89,oc=a().footerHeight,u=5,cc=10,va="Sign in using your account with",Ub,ia,Va,Y,Fa=!0,za=!1,wa=!1,xa,Aa;janrain.events.onProviderLoginStart.addHandler(function(b){Ea("login_tab",b.provider,1)});return{build:c,
setFormat:function(b){b&&aa(b);"two column"!==r&&(Oa=a().headerHeight-5);"two column"===r&&(qa=a().twoColumn.providersPerPage,Oa=a().headerHeight);return this},setActionText:function(b){"string"===typeof b&&ea(b);return this},setFontSize:function(b){b&&ta(b);return this},setFontFamily:function(b){b&&b&&(j=b);return this},setFontColor:function(b){b&&oa(b);return this},setButtonBorderColor:function(b){b&&ha(b);return this},setButtonBorderRadius:function(b){if("string"==typeof b||"number"==typeof b)Rb=
M("number",[0,20],5,b);return this},setButtonBackgroundStyle:function(b){b&&ba(b);return this},setWidth:function(b){("string"==typeof b||"number"==typeof b)&&$(b);return this},refresh:function(){T();var b=Z();c();var j=ga("expected_tab");j&&!eb?Ba("expected_tab",j):(null!==b&&"object"===typeof C&&b.appendChild(C),"object"===typeof s&&s.setHeight(parseInt(C.style.height)+2).refresh());janrain.events.onCustomizationChange.fire(V());return this},remove:function(){T();return this},setRowHeight:function(b){if(0!==
i())return this;b||(b=60);oneRowHeaderHeight=M("number",[40,60,90],60,b);40===oneRowHeaderHeight&&(W=30,Ga=40);60===oneRowHeaderHeight&&(W=30);90===oneRowHeaderHeight&&(W=50);return this},setHeight:function(b){"object"==typeof C&&(C.style.height=b+"px");return this},setBackgroundColor:function(b){b&&ja(b);return this},setBorderColor:function(b){b&&la(b);return this},setBorderRadius:function(b){("string"==typeof b||"number"==typeof b)&&ka(b);return this},setProviders:function(b){"object"==typeof b&&
pa(b);return this},setProvidersPerPage:function(b){if("string"==typeof b||"number"==typeof b)m(b),"object"===typeof s&&s.setHeight(o()).refresh("janrainModal");return this},setShowAttribution:function(b){"boolean"===typeof b&&ca(b);return this},setPreviewMode:function(b){"boolean"===typeof b&&(lb=b);return this},setProviderFlow:function(b,j){return K(b,j)},triggerFlow:function(b){return Q(b)},setNoReturnExperience:function(b){"boolean"===typeof b&&(za=b);return this},setNoReturnExperienceSwitchAccountLink:function(b){"boolean"===
typeof b&&(wa=b);return this},setConfigureMode:function(b){"boolean"===typeof b&&(U=b,P=i());return this},embed:function(b){if((pc=b)&&"object"==typeof C)C.style.position="relative";return this},getContentsDiv:function(){return C},getErrorPage:function(b,j){var a=document.createTextNode(j.msg),c=document.createElement("div");c.appendChild(a);c.style.color=e;c.style.fontSize=g+"px";c.style.width="100%";var l=N(b);l.appendChild(c);l.appendChild(z(function(){C.removeChild(l);C.removeChild(Ub);Ja=!0;
return!1},b));C.appendChild(l);return C},getReturnExperience:function(b,j){if(lb||za||-1===ec.indexOf(b))return C;var a=I(b,j),e=N(b),g=function(){Ja=eb=!0;C.removeChild(e);return!1};e.id="janrainAuthReturnExperience";e.appendChild(a);wa||e.appendChild(z(g,b));C.appendChild(e);return C},getWidth:function(){return X()},getActualHeight:function(){return parseInt(C.style.height)+2},getHeight:function(){return o()-2*u},getState:function(){return V()},setState:function(b){if(B("customizable_auth_widget_styling")){var e=
b.fontFamily;e&&(j=e);ta(b.fontSize);oa(b.fontColor);ja(b.backgroundColor);la(b.borderColor);"embed"===G&&b.format&&(b.format&&aa(b.format),"two column"!==r&&(Oa=a().headerHeight-5),"two column"===r&&(qa=a().twoColumn.providersPerPage,Oa=a().headerHeight));if("string"==typeof b.providersPerPage||"number"==typeof b.providersPerPage)m(b.providersPerPage),"object"===typeof s&&s.setHeight(o()).refresh("janrainModal");ba(b.buttonBackgroundStyle);ha(b.buttonBorderColor);Rb=M("number",[0,20],5,b.buttonBorderRadius);
ea(b.actionText);ca(b.showAttribution);ka(b.borderRadius);"embed"===G&&("string"==typeof width||"number"==typeof width)&&$(b.width)}pa(b.providers)},showNotice:function(){ra()},removeNotice:function(){Cb(Ub)},removeReturnExperience:function(){var b=document.getElementById("janrainAuthReturnExperience");Cb(b)}}}function c(){if("object"===typeof o)if("object"===typeof ha){var a=o.getState();a.width=ha.width;ha=a}else ha=o.getState();"object"===typeof o&&o.remove();"object"===typeof s&&s.remove();w();
G="modal";"object"===typeof o&&ha&&B("customizable_auth_widget_styling")&&o.setState(ha);"object"===typeof s&&Ka&&B("customizable_auth_widget_styling")&&s.setState(Ka);"object"===typeof s&&s.show();"object"===typeof o&&o.refresh()}function f(){if("object"===typeof o){if("object"===typeof ha){var a=o.getState();a.borderRadius=ha.borderRadius;a.format=ha.format;a.width=ha.width;ha=a}else ha=o.getState();Ka=ha.modalState;delete Ka.orientation}"object"===typeof o&&o.remove();"object"===typeof s&&s.remove();
"object"===typeof s&&(s="");i();G="embed";"object"===typeof o&&ha&&B("customizable_auth_widget_styling")&&o.setState(ha);"object"===typeof o&&o.refresh()}function p(){var a,c;w();c=document.getElementsByTagName("a");var d=RegExp("(\\s|^)"+h.linkClass+"(\\s|$)");for(a in c)d.test(c[a].className)&&(c[a].onclick=v)}function i(){var a=ga("expected_tab");o=new d;o.setBackgroundColor(y).embed(!0).setPreviewMode(yb).setShowAttribution(la).setNoReturnExperience(Xa).setNoReturnExperienceSwitchAccountLink(ob).setFormat(V).setRowHeight(ea).setFontSize(zb).setFontFamily(Ya).setFontColor(K).setActionText(fb).setProviders(Ab).setProvidersPerPage(gb).setWidth(Ra).setBorderColor(xa).setBorderRadius(pb).setButtonBorderColor(Za).setButtonBorderRadius(hb).setButtonBackgroundStyle(qb).build();
var c=document.getElementById("janrainEngageEmbed");null===c&&(c=document.getElementById("janrainModal"));ka||(a?(Y("welcome_info_name",unescape(ga("welcome_info_name"))),Ba("expected_tab",a)):Aa(c,o.getContentsDiv()))}function v(){"object"===typeof s&&s.show();return!1}function w(){var a=jb(wb,ab),c=ga("expected_tab");if("undefined"===typeof a||0>a)a=5;o=new d;o.setBackgroundColor(y).setPreviewMode(yb).setShowAttribution(la).setNoReturnExperience(Xa).setNoReturnExperienceSwitchAccountLink(ob).setFontSize(zb).setFontFamily(Ya).setFontColor(K).setActionText(fb).setProviders(Ab).setProvidersPerPage(gb).setBorderRadius(a).setButtonBorderColor(Za).setButtonBorderRadius(hb).setButtonBackgroundStyle(qb).build();
if("object"!==typeof s){s=new Zb;s.ready=!1;var f=s.addContent;s.addContent=function(a){s.ready=!0;f(a);janrain.events.onModalWidgetReady.fire()}}s.setHeight(o.getActualHeight()).setWidth(o.getWidth()).setPreviewMode(yb).setBorderColor(Nb).setBorder(ab).setBorderOpacity(Ob).setBorderRadius(wb);ka||(c?(Y("welcome_info_name",unescape(ga("welcome_info_name"))),Ba("expected_tab",c)):s.addContent(o.getContentsDiv()));s.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&o.setFormat(a.format).setWidth(200).refresh();
"landscape"===a.orientation&&o.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh();s.setHeight(o.getActualHeight());s.setWidth(o.getWidth())});s.onShow.addHandler(function(){"object"==typeof o&&s.setWidth(o.getWidth())});s.onBorderWidthChange.addHandler(function(a){"object"===typeof s&&"object"===typeof o&&(o.setBorderRadius(a.radius).refresh(),a=o.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&s.setBorderRadius(a.borderRadius+a.modalState.borderWidth))});
s.onBorderRadiusChange.addHandler(function(a){"object"===typeof o&&(o.setBorderRadius(a.radius).refresh(),a=o.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&s.setBorderRadius(a.borderRadius+a.modalState.borderWidth))})}function x(a,c){if(!B("customizable_auth_widget_styling"))return!1;if("object"===typeof o)return c(a),!0}function I(a){return x(a,function(a){o.setBackgroundColor(a).refresh()})}function D(a){return x(a,function(a){o.setBorderRadius(a).refresh()})}function F(a){return x(a,
function(a){o.setBorderColor(a).refresh()})}function N(a){return"modal"===G?!1:x(a,function(a){o.setWidth(a).refresh()})}function ja(a){return x(a,function(a){o.setActionText(a).refresh()})}function ca(a){return x(a,function(a){o.setButtonBorderColor(a).refresh()})}function da(a){return x(a,function(a){o.setButtonBorderRadius(a).refresh()})}function wa(a){return x(a,function(a){o.setButtonBackgroundStyle(a).refresh()})}function n(a){return"modal"==G?!1:x(a,function(a){o.setFormat(a).refresh()})}function Na(a){return x(a,
function(a){o.setProvidersPerPage(a).refresh()})}function Ia(a){return x(a,function(a){o.setFontFamily(a).refresh()})}function T(a){return x(a,function(a){o.setFontSize(a).refresh()})}function Da(a){return x(a,function(a){o.setFontColor(a).refresh()})}function ga(a){var c;if("single cookie"===aa){c=Q().getCookie("janrain_engage_login_data");if(!c)return;c=E.parse(c);return!c[a]?void 0:a=c[a]}if("default"===aa)return a=Q().getCookie(a),!a?void 0:a}function Ea(a,c,d){var f;if(!a||!c)return!1;d||(d=
1);if("single cookie"===aa)return(oldCookieJSON=Q().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),d=E.parse(oldCookieJSON),d[a]=c,f=new Q,f.setName("janrain_engage_login_data").setValue(E.stringify(d)).setExpiration(1826).create(),!0;return"default"===aa?(f=new Q,f.setName(a).setValue(c).setExpiration(d).create(),!0):!1}function $(a,c){if(Xa)return!1;if("expected_tab"===a&&!c){var d=ga("login_tab");d&&$("expected_tab",d);return!1}if(!c||"undefined"===c||"expected_tab"!==a&&"expected_user_input"!==
a&&"welcome_info_name"!==a)return!1;c="welcome_info_name"===a?escape(c):c;Ea(a,c,1826)}function ya(c,d){var f;d||(d=a);if(k&&3>Ib)return(void 0).time=(new Date).getTime(),f=Db(void 0),ia(d+"/signin/get_login_info"+f),Ib++,!0;"undefined"!==typeof Pa&&clearTimeout(Pa);return!1}function $a(c,d,f){var h=d.appUrl+"/"+c.flow+"/start",i=window.location.href;d.mobileDevice&&(i="mobile");var k=d.language||"en",o=d.popup?"xdr":"xdrsw",n=d.tokenUrl||window.location.href,p={};a=d.appUrl;p.language_preference=
k;p.token_url=n;p.display="popup";p.widget=!0;"object"===typeof d.facebookPermissions&&(p.ext_perm=d.facebookPermissions.toString());p.openid_identifier=c.identifier;p.origin_url=i;p.provider_name=c.name;p.force_reauth=d.forceReauth;p.xdReceiver=d.appUrl+"/"+o;p.callback="none";p.widget_type=d.widgetType;p.token_action="url";if("event"===d.tokenAction||"hybrid"===d.tokenAction)p.token_action="event";d.mobileDevice&&"hybrid"===d.tokenAction&&(p.token_action="url");d.bpChannel&&(p.bpChannel=d.bpChannel);
d.customOpenid&&"string"===typeof d.customOpenidOpxblob&&(p.opx_blob=d.customOpenidOpxblob);h+=Db(p);(function(){janrain.events.onProviderLoginStart.fire({provider:c.name,width:c.width,height:c.height});var a;d.mobileDevice&&"event"!==d.tokenAction||!d.popup?ia(d.appUrl+"/signin/set_login_tab?login_tab="+c.name+"&origin_url="+window.location.href,function(){window.top.location.href=h}):(a=new zc(h),a.setWidth(c.width).setHeight(c.height).setCallback(function(){var a={},h="";a.widget_type=d.widgetType;
a.provider=c.name||"";a.time=(new Date).getTime();h=Db(a);"function"===typeof f&&f();ia(d.appUrl+"/signin/get_login_info"+h);janrain.events.onProviderLoginComplete.fire({provider:c.name})}).show())})()}function Y(a,c){if(!c||"undefined"===c||"welcome_info_name"!==a)return!1;c&&(pa=c)}function Ba(a,c){var d=function(a){var f=function(){600>a&&setTimeout(function(){d(++a)},50)};if("object"!==typeof o)return f(),!1;"modal"===G?s.addContent(o.getReturnExperience(c,pa)):"embed"===G&&Aa(document.getElementById("janrainEngageEmbed"),
o.getReturnExperience(c,pa));"modal"===G&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!c)return!1;"object"===typeof o&&o.removeReturnExperience();janrain.events.onAuthWidgetLoad.addHandler(function(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,welcomeName:pa})});d(0)}function Aa(a,c){janrain.settings.capture&&(a?a.appendChild(c):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?a.appendChild(c):
A.log('Missing container div, please place this div where you want the embedded widget to be displayed on your page - <div id="janrainEngageEmbed"></div>.').show();return a}function bb(a,c){La=La||oa;tokenUrl=c?La:oa;var d="";if(!tb(tokenUrl).query)var d=d+"?",f=!0;for(var h in a)f?(d+=h+"="+a[h],f=!1):d+="&"+h+"="+a[h];La=tokenUrl+d}function ra(){h=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout(ra,5),!1;Xb(mc()+"providers.css");
if(h.stop)return!0;bc&&ia(h.appUrl+"/signin/establish_session");na=h.tokenAction?h.tokenAction:na;if(!h.tokenUrl&&"event"===na)oa=window.location.href;else if(h.tokenUrl)oa=h.tokenUrl;else return A.log("Missing tokenUrl.  tokenUrl is required."),A.show(),!1;G=M("string",["modal","embed"],"embed",h.type?h.type:G);ka=h.multi?h.multi:Eb?!0:ka;ua=h.custom?h.custom:ua;Ja=h.forceReauth?h.forceReauth:Ja;Ha=h.bpChannel?h.bpChannel:Ha;Ca=h.facebookPermissions?h.facebookPermissions:Ca;aa=h.storageType?M("string",
["default","single cookie"],"default",h.storageType):aa;vb="boolean"===typeof h.popup?h.popup:vb;Eb&&"event"!==na&&(vb=!1);Ma=h.returnExperienceTimeout?h.returnExperienceTimeout:Ma;ka&&(setTimeout(function(){var a=ga("expected_tab");a?(Y("welcome_info_name",unescape(ga("welcome_info_name"))),Ba("expected_tab",a)):"modal"===G?s.addContent(o.getContentsDiv()):"embed"===G&&Aa(embedDiv,o.getContentsDiv())},Ma),ia(h.appUrl+"/signin/get_cookies"));if(ua)return!0;na=h.tokenAction?h.tokenAction:na;ab=B("customizable_auth_widget_styling")?
h.modalBorderWidth:ab;Nb=B("customizable_auth_widget_styling")?h.modalBorderColor:Nb;wb=B("customizable_auth_widget_styling")?h.modalBorderRadius:wb;Ob=B("customizable_auth_widget_styling")?h.modalBorderOpacity:Ob;y=B("customizable_auth_widget_styling")?h.backgroundColor:y;pb=B("customizable_auth_widget_styling")?h.borderRadius:pb;xa=B("customizable_auth_widget_styling")?h.borderColor:xa;V=B("customizable_auth_widget_styling")?h.format:V;K=B("customizable_auth_widget_styling")?h.fontColor:K;zb=B("customizable_auth_widget_styling")?
h.fontSize:zb;Ya=B("customizable_auth_widget_styling")?h.fontFamily:Ya;Ra=B("customizable_auth_widget_styling")?h.width:Ra;ea=B("customizable_auth_widget_styling")?h.rowHeight:ea;gb=B("customizable_auth_widget_styling")?h.providersPerPage:gb;J=B("customizable_auth_widget_styling")?h.providersNotPaged:J;fb=B("customizable_auth_widget_styling")?h.actionText:fb;Za=B("customizable_auth_widget_styling")?h.buttonBorderColor:Za;hb=B("customizable_auth_widget_styling")?h.buttonBorderRadius:hb;qb=B("customizable_auth_widget_styling")?
h.buttonBackgroundStyle:qb;la=B("customizable_auth_widget_hide_attribution")?h.showAttribution:la;yb=h.previewMode;Xa=h.noReturnExperience;ob=h.noReturnExperienceSwitchAccountLink;Ab=h.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate={});if(h.customOpenid&&B("customizable_auth_widget_styling")){mb=!0;if(!h.customOpenidFlow)return A.log("Missing customOpenidFlow. customOpenidFlow is required when adding a custom openid provider."),A.show(),!1;if(!h.customOpenidIdentifier)return A.log("Missing customOpenidIdentifier. customOpenidIdentifier is required when adding a custom openid provider."),
A.show(),!1;if(!h.customOpenidSmallLogo)return A.log("Missing customOpenidSmallLogo.  customOpenidSmallLogo is required and should be the full path to an image that has a width of 90px and height of 30px."),A.show(),!1;if(!h.customOpenidSmallIcon)return A.log("Missing customOpenidSmallIcon.  customOpenidSmallIcon is required and should be the full path to an image that is 30px x 30px."),A.show(),!1;if(!h.customOpenidLargeLogo)return A.log("Missing customOpenidLargeLogo.  customOpenidLargeLogo is required and should be the full path to an image that has a width of 150px and height of 50px."),
A.show(),!1;if(!h.customOpenidLargeIcon)return A.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),A.show(),!1;sa={smallLogo:h.customOpenidSmallLogo,smallIcon:h.customOpenidSmallIcon,largeLogo:h.customOpenidLargeLogo,largeIcon:h.customOpenidLargeIcon};xb.customopenid={flow:h.customOpenidFlow,identifier:h.customOpenidIdentifier}}h.previewMode?("modal"===G&&(janrain.ready?c():L(window,"load",c)),"embed"===G&&(janrain.ready?
f():L(window,"load",f))):("modal"===G&&(janrain.ready?p():L(window,"load",p)),"embed"===G&&(janrain.ready?i():L(window,"load",i)))}var Ca,Ha,mb=!1,Ja=!1,na="url",oa,La,G="embed",pa="unknown",ka=!1,Ma=300,Ja=!1,vb=!0,ua=!1,aa="default",sa,Ka,s,ab,Nb,wb,Ob,o,ha,y,pb,xa,Ra,ea,V,Ab=[],J=!1,gb,fb,zb,Ya,K,Za,hb,qb,yb,Xa,ob,la,eb=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=ba());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=ba());janrain.events.onReturnExperienceFound||
(janrain.events.onReturnExperienceFound=ba());janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===typeof janrainWidgetOnload&&(ua?janrainWidgetOnload():o?janrainWidgetOnload(o.getState()):janrainWidgetOnload())});for(var Pa,Ib=0,ma="onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),Sa=0;Sa<ma.length;Sa++)"undefined"===typeof janrain.events[ma[Sa]]&&(janrain.events[ma[Sa]]=
new Ta);janrain.events.onProviderLoginError.addHandler(function(a){if(ua)return!0;var c=ga("login_tab");if("modal"===G){var d=document.getElementById("janrainModal");d&&d.appendChild(o.getErrorPage(c,a.err))}"embed"===G&&(d=document.getElementById("janrainEngageEmbed"))&&Aa(d,o.getErrorPage(c,a.err))});ra();return{appendTokenParams:function(a,c){bb(a,c)},appendTokenParamsCumulative:function(a){bb(a,!0)},setBackplaneChannel:function(a){Ha=a},setLoginCookie:function(a,c){$(a,c)},loginHandler:function(a){var c=
na;a?("ok"===a.stat&&("event"===c||"hybrid"===c?ia(a.redirectUrl):(c=document.createElement("form"),c.action=a.redirectUrl,c.method="POST",janrain.settings.targetTop&&(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===a.stat&&(janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof Pa&&clearTimeout(Pa))):ya()},cancelLogin:function(a){ya(a,h.appUrl);ua||o.removeNotice()},removeNotice:function(){o.removeNotice()},setWelcomeInfoName:function(a,c){Y(a,c)},setReturnExperience:function(a,
c){Ba(a,c)},setNoReturnExperience:function(a){"boolean"===typeof a&&o?(o.setNoReturnExperience(a).refresh(),a=!0):a=!1;return a},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&o?(o.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&o?(o.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&o?(o.setConfigureMode(a).refresh(),a=!0):a=!1;return a},setCustom:function(a){ua=
a},getState:function(){return"object"===typeof o?o.getState():!1},setProviderFlow:function(a,c){var f;f=!B("customizable_auth_widget_styling")||!ua?!1:d().setProviderFlow(a,c);return f},triggerFlow:function(a){a=!B("customizable_auth_widget_styling")||!ua?!1:d().triggerFlow(a);return a},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+
document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");
for(var a in janrain.settings)if(console.log(" ---- "+a+": "+janrain.settings[a]),"object"===typeof janrain.settings[a])for(var c in janrain.settings[a])"function"!==typeof janrain.settings[a][c]&&console.log(" --- --- "+c+": "+janrain.settings[a][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){f()},setBackgroundColor:function(a){return I(a)},setBorderColor:function(a){return F(a)},setBorderRadius:function(a){return D(a)},setWidth:function(a){return N(a)},
setActionText:function(a){return ja(a)},setFontFamily:function(a){return Ia(a)},setFontSize:function(a){return T(a)},setFontColor:function(a){return Da(a)},setFormat:function(a){return n(a)},setButtonBorderColor:function(a){return ca(a)},setButtonBorderRadius:function(a){return da(a)},setButtonBackgroundStyle:function(a){return wa(a)},setProviders:function(a){var c;"object"===typeof o&&(U?o.setProviders(a):o.setProviders(a).refresh(),c=!0);return c},setProvidersPerPage:function(a){return Na(a)},setShowAttribution:function(a){var c;
B("customizable_auth_widget_hide_attribution")?"object"===typeof o&&o.setShowAttribution(a).refresh():c=!1;return c},refresh:function(){return o.refresh()},getWidth:function(){return o.getWidth()}},modal:{init:function(){c()},close:function(){"object"==typeof s&&s.close()},create:function(){return new Zb},setBorder:function(a){B("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorder(a),s.refresh()),a=!0):a=!1;return a},setBorderColor:function(a){B("customizable_auth_widget_styling")?
("object"===typeof s&&(s.setBorderColor(a),s.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){B("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorderOpacity(a),s.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){B("customizable_auth_widget_styling")?("object"==typeof s&&(s.setBorderRadius(a),s.refresh()),a=!0):a=!1;return a}}}};var ca=new function(){return{status:"not loaded"}},cb=new function(){return{status:"not loaded"}},db=new function(){return{status:"not loaded"}},
Fc=new function(){function a(b){function j(){fc=!0;var j=b||h();b&&(xa=tb(b).queryKey.flow_path);ia(j,xb);da();Da();janrain.events.onCaptureFailedLogin.addHandler(function(){Hb++;Ca()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){Hb=0;Ca()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){ua(hb)});janrain.events.onCaptureSuccessfulRegistration.addHandler(function(){ua(hb)});janrain.events.onCaptureValidationComplete.addHandler(function(){for(var b=!1,j=Qa.length,a=
0;a<j;a++){var e=Qa[a],g;for(g in e)if(e.hasOwnProperty(g))switch(g){case "render":e.render.screen&&!b&&(b=!0,(new sa).setScreenData(e.render.screen,q.screens[e.render.screen]));break;case "setCookie":var c=e.setCookie.name,d=e.setCookie.value,H=e.setCookie.days;(new Q).setExpiration(H).setUseLocalStorage(!0).setName(c).setValue(d).create()}}Qa=[]});janrain.events.onCaptureRenderComplete.addHandler(function(){if(jb){var b=Ua.savedProfileMessage||"Your profile has been saved",j=Na("capture_profileSavedMessage_container",
K.div),a=j.length;if(a)for(var e=0,a=j.length;e<a;e++)j[e].innerHTML=b,j[e].style.display="";else if(ub&&(j=document.getElementById(J+ub+"_defaultSavedProfileMessage")))j.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+b+"</div>";jb=!1}ba()});janrain.events.onCaptureContentChange.addHandler(function(){"object"===typeof z&&z.isOpen()&&(z.setHeight(Ha(z.getContent()).height),z.setWidth(Ha(z.getContent()).width).refresh())});janrain.settings.custom&&!sb&&ca()}G(La());
janrain.settings.capture.noStyling||(Xb(mc()+"widgets.css"),uc(mc()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&v(janrain.settings.capture.stylesheets))for(var a=janrain.settings.capture.stylesheets,e=a.length,c=0;c<e;c++)Xb(a[c]),A(a[c]);if(k&&9>k&&janrain.settings.capture.conditionalIEStylesheets&&v(janrain.settings.capture.conditionalIEStylesheets)){a=janrain.settings.capture.conditionalIEStylesheets;e=a.length;for(c=0;c<e;c++)uc(a[c]),A(a[c])}Ec&&(janrain.settings.capture.federate=
!1);janrain.settings.capture.federate?ia(janrain.settings.capture.federateServer+"/sso.js",function(){janrain.settings.capture.redirectFlow?rb(j):j()}):janrain.settings.capture.redirectFlow?rb(j):j()}function d(b,j,a,e){var c=[];e&&c.push({value:"",text:e,disabled:!0});if("desc"===a)for(a=j;a>b-1;a--)c.push({value:a,text:a});else for(a=b;a<j+1;a++)c.push({value:a,text:a});return c}function c(b){return"string"===typeof b?"capture_"+b+"_":"capture_"+f(b)+"_"}function f(b){var j=b.getAttribute("data-capturescreenname");
if(j&&q.screens[j])return j;for(var j=Na("capture_screen_container"),a=0,e=j.length;a<e;a++){var c;a:{for(c=b.parentNode;null!=c;){if(c==j[a]){c=!0;break a}c=c.parentNode}c=!1}if(c)return j=j[a].getAttribute("data-capturescreenname"),b.setAttribute("data-capturescreenname",j),j}}function h(){var b=Ra,j=janrain.settings.capture.flowVersion||"HEAD",a=janrain.settings.capture.flowName||"default",e=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=e?i()+"/widget_data/flow.js:"+
e+":"+b+":"+j+":"+a:i()+"/widget_data/flow.js:"+b+":"+j+":"+a}function i(){return"https://dlzjvycct5xka.cloudfront.net"}function A(b){w(ic,b)||ic.push(b);qc=ic.length}function B(b){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+b+"' is missing."}}function x(b,j){var a=c(b),e=document.getElementById(a+j.name+"_dateselectmonth"),e=e.options[e.selectedIndex].value,d=document.getElementById(a+j.name+"_dateselectday"),d=d.options[d.selectedIndex].value,
a=document.getElementById(a+j.name+"_dateselectyear");return e+"/"+d+"/"+a.options[a.selectedIndex].value}function M(b){if(!b)return!1;for(var a=b.getElementsByTagName("input"),g=b.getElementsByTagName("select"),e=b.getElementsByTagName("textarea"),b=[],a=[a,g,e],g={},e=0,c=a.length;e<c;e++)for(var d=a[e],f=d.length,h=0;h<f;h++){var i=d[h];"true"===i.getAttribute("data-capturecollection")?g[i.name]||(ga(i,!0)||b.push(i),g[i.name]=!0):ga(i,!0)||b.push(i)}janrain.events.onCaptureValidationComplete.fire({fieldsWithError:b});
return 0===b.length}function D(){}function F(){}function S(b){L(document.getElementById("captureIFrame_"+b),"load",n)}function U(b,a,g){if(!v(b)&&!a)return!1;v(b)||(b=[]);var e=b.length,c,d=new sa,f="",h=[],i=document.getElementById(g+a);if(!i)return!1;for(a=0;a<e;a++)if(c=q.fields[b[a]])c.fieldPrefix=g,c.name=c.elementName=b[a],f+=d.renderField(c),h.push(c.name);if(!f.length&&i)return i.innerHTML="",!1;i.innerHTML=f;a=0;for(e=h.length;a<e;a++)(b=document.getElementById(g+h[a]))&&L(b,"blur",ya)}function ba(){for(var b=
K.div.getElementsByTagName("select"),a=b.length,g=0;g<a;g++)b[g].getElementsByTagName("option")[b[g].selectedIndex].disabled&&(p(b[g]).append("capture_disabled"),L(b[g],"change",function(){p(this).remove("capture_disabled")}))}function da(){L(document.body,"click",function(b){var a=janrain.settings.capture.logoutLinksClass||"capture_end_session",g=I(b);g&&g.nodeName&&"A"===g.nodeName&&p(g).has(a)&&(Aa(),N(b))})}function ca(){janrain.events.onProviderLoginToken.addHandler(function(b){b.linkAccounts?
m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:b.currentScreen,needsResponse:!0,callback:function(){janrain.events.onCaptureProfileLink.fire({provider:b.janrainWidgetParameters.provider})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",elementValue:b.token}]}):(janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience),
hc&&(Pa=eb),eb=b.token,K.values=Ka(K.div.id),Ya.push(K),bb())});sb=!0}function n(b){var a=I(b);if("formClicked"===a.className){var g=a.getAttribute("data-transactionId");ab("/widget/get_result.jsonp",{transactionId:g,cache:(new Date).getTime()},function(){function b(){d++;if(10<d)return aa("could not find transaction status"),!1;if(lb[g])Ma(g),clearTimeout(a),a=lb[g],"success"===a.status?Ea(c):aa("there was a problem with the response",a);else var a=setTimeout(b,50)}var c=E.parse(a.getAttribute("next")),
d=0;b()})}else a.className="";a.className=""}function fa(b,a){for(var g=I(b).getAttribute("id").split("_")[3],e=I(b),d=c(e),e=e.parentNode,f=p(e).has("capture_tab_toggle"),h=f?"capture_tab_toggle":"capture_radio_toggle",i=0;i<a.collection.length;i++)a.collection[i].elementName!==g&&(document.getElementById(d+a.collection[i].elementName).style.display="none");for(var h=Na(h,document.getElementById(d+a.elementName)),m=h.length,i=0;i<m;i++)p(h[i]).remove("capture_toggled");p(e).append("capture_toggled");
document.getElementById(d+g).style.display="block";janrain.events.onCaptureContentChange.fire();f&&N(b)}function Ia(b){function a(b){b=b?E.stringify(b):g;ka(c);d.className="formClicked";d.setAttribute("next",b)}var g=I(b).getAttribute("next"),e=I(b),c=I(b).getAttribute("data-transactionId"),d=document.getElementById("captureIFrame_"+c),f=E.parse(g),h=!1;if("true"!==e.getAttribute("data-capturedomelement")){K.values=Ka(K.div.id);if(!M(e))return N(b),!1;var i=yc(e),m=Ob();i.parentNode.insertBefore(m,
i);i.style.display="none"}if(f.conditional){f=f.conditional;i=f.length;for(m=0;m<i;m++)if(T(f[m],e)){h=f[m];break}h?h.nosubmit?(N(b),Ea(h.next)):a(h.next):a()}else f.dontSubmit?(N(b),f.storeValues&&Ka(e.id,!0),Ea(f)):a()}function T(b,a){var g=q.fields[b.field],g=c(a)+(g.elementId||g.elementName),g=document.getElementById(g);switch(b.compare){case "=":if(g.value===b.value)return!0}}function ya(b){b=$a(b);ga(b)}function ga(b,a){if(b.type&&("hidden"===b.type||"submit"===b.type)||!b.getAttribute("data-capturefield"))return!0;
var g=b.getAttribute("data-capturerendererfield")?q.fields[b.getAttribute("data-capturerendererfield")]:q.fields[b.getAttribute("data-capturefield")],e=b.getAttribute("data-capturerendererchildfieldname"),d=e?g.elementName+"["+e+"]":g.elementName,f=c(b),h=!1;if(!g.validation||e&&!g.validation[e]&&"dateselect"!==g.type||"dateselect"===g.type&&"dateselect_year"!==e)return!0;e="multiCheckbox"===g.element||"multiRadio"===g.element?document.getElementById(f+"form_collection_"+g.elementName):"dateselect"===
g.type?document.getElementById(f+"form_item_"+g.name):document.getElementById(f+"form_item_"+d);p(e).append("capture_validating");h=new m.validation;h.setParentDiv(e);h.setElement(b);g=pb.check(b,g,a);g.valid?(h.valid(),h=!0,p(e).remove("capture_validating")):g.pending?(h.pending(),h=!0):(h.notValid(g.reason),h=!1,p(e).remove("capture_validating"));return h}function Ea(b){Ya.push(K);if(b.noop)return!1;b.url&&(window.location.href=b.url);b.screen&&(new sa).setScreenData(b.screen,q.screens[b.screen]);
if(b.action&&K)janrain.capture.ui[b.action]();if(b["function"]&&"function"===typeof qb[b["function"]])qb[b["function"]]()}function $(b){(new Q).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(b).create()}function Ca(){(new Q).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(Hb).create()}function Da(){var b=new Q;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainFailedLogins",function(b){Yb(b)&&(Hb=parseInt(b,10))}):
(b=b.getCookie("janrainFailedLogins"),Yb(b)&&(Hb=parseInt(b,10)))}function Y(){var b=36E5*Jb+(new Date).getTime();return(new Date((new Date).setTime(b))).toUTCString()}function Ba(b,a){var g=Y();ma=b;if(a)janrain.events.onCaptureSessionCreated.fire({accessToken:b}),janrain.events.onCaptureSessionFound.fire({accessToken:b});else{var e=new Q;e.setExpirationDirectly(g).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(ma);janrain.settings.capture.cookieDomain&&e.setDomain(janrain.settings.capture.cookieDomain);
e.create();Ib&&(janrain.events.onCaptureSuccessfulLogin.fire({accessToken:b}),Ib=!1);janrain.events.onCaptureSessionCreated.fire({accessToken:b})}}function Aa(){var b=new Q,a="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){};b.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove();b.setName("janrainCaptureProfileData");janrain.settings.capture.cookieDomain&&
b.setDomain(janrain.settings.capture.cookieDomain);b.remove();janrain.events.onCaptureSessionEnded.fire();janrain.settings.capture.federate&&JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},a)}function bb(){var b=pa(),a={token:eb,redirect_uri:janrain.settings.capture.redirectUri,client_id:janrain.settings.capture.clientId,response_type:janrain.settings.capture.responseType,locale:Ra,flow_version:Gb,capture_transactionId:b,
flow:q.flow,capture_screen:janrain.settings.capture.registerFlow||"socialRegister"};Pa&&(a.merge_token=Pa,Pa=null);xa&&(a.flow_path=xa);ab("/widget/token_url.jsonp",a);ka(b);hc&&(hc=!1)}function ra(){var b=new Q;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureToken",function(b){b?Ba(b,!0):janrain.events.onCaptureSessionNotFound.fire()});else{if(b.getCookie("janrainCaptureToken"))return Ba(b.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();
return!1}}function Ta(b){var a=pa();JANRAIN.SSO.CAPTURE.set_login({code:b,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});ka(a)}function xb(){if(janrain.settings.capture.federate){var b=void 0,b={},a=pa(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:b.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:E.stringify({js_version:mb,
capture_screen:V,capture_transactionId:a,flow:q.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:Gb,locale:Ra}),transaction_id:a,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver};JANRAIN.SSO.CAPTURE.check_login(b);ka(a)}else{a:{if(a=tb(window.location.href).anchor)if(a=a.split("="),"access_token"===
a[0]&&a[1]){Ib=!0;Ba(a[1]);a=!0;break a}a=!1}if(a||ra())return Sa=!0,!1;Sa=!0}}function rb(b){var a=tb(window.location.href).anchor;if(!a)return b(),!1;var g=a.split(","),e=g.length,c,a={};if(1<e){for(var d=0;d<e;d++)c=g[d],c=c.split("="),a[c[0]]=c[1];if(!a.transactionId||!a.engageToken)return b(),!1;ob=b=a.transactionId;eb=a.engageToken;ab("/widget/get_result.jsonp",{transactionId:b},function(){})}else return b(),!1}function Ja(b,a){var g=b["if"].compare;if(!g||0>g.indexOf(":"))return!1;switch(g.split(":")[0]){case "cookie":var e=
g.split(":")[1],g=new Q;g.setUseLocalStorage(!0);"janrainLastAuthMethod"===e&&!gb&&(gb=V);if(janrain.settings.multiDomainLocalStorage)g.getCookie(e,function(g){c&&"janrainLastAuthMethod"===e&&(fb=!0);oa(na(b["if"],g)?b.then:b["else"],a)});else{var c=g.getCookie(e);c&&"janrainLastAuthMethod"===e&&(fb=!0);oa(na(b["if"],c)?b.then:b["else"],a)}}}function na(b,a){var g=Yb(a)?parseInt(a,10):a,e,c=Yb(b.to)?parseInt(b.to,10):b.to;switch(b.withOperator){case "===":e=c===g;break;case "!==":e=c!==g;break;case "==":e=
c==g;break;case "!=":e=c!==g;break;case ">":e=g>c;break;case "<":e=g<c}return e}function oa(b,a){!b&&"function"===typeof a&&a();if(!b)return!1;if("undefined"===typeof b["if"]){if(b.render){var g=b.render.screen,e=q.screens[g];(new sa).setScreenData(g,e)}}else Ja(b,a)}function La(){for(var b="",a=[],g=0;10>g;g++)b=Vb(40),a.push(b);return a}function G(b){if(!v(b))return!1;for(var a=b.length,g=0;g<a;g++){var e=b[g];-1===cb.indexOf(e)&&cb.push(e)}}function pa(){var b=cb.pop();0===cb.length&&G(La());-1===
db.indexOf(b)&&db.push(b);return b}function ka(b){var a=db.indexOf(b);-1<a&&db.splice(a,1);-1===dc.indexOf(b)&&dc.push(b)}function Ma(b){var a=dc.indexOf(b);-1<a&&dc.splice(a,1);-1===Bb.indexOf(b)&&Bb.push(b)}function vb(){if("object"!==typeof z)return!1;Ua.modalConfirmText&&z.setConfirmMessageText(Ua.modalConfirmText);Ua.modalConfirmLinkText&&z.setConfirmLinkText(Ua.modalConfirmLinkText);Ua.modalCancelLinkText&&z.setCancelLinkText(Ua.modalCancelLinkText)}function ua(b){q=b;q.flow=janrain.settings.capture.flowName;
"undefined"===typeof hb&&(hb=b);"object"!==typeof q.layouts&&(q.layouts={});"object"!==typeof q.layouts.captureAccessDeniedBuiltIn&&(q.layouts.captureAccessDeniedBuiltIn={});q.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:Tb.accessDenied;"object"!==typeof q.layouts.captureRetrievingUserDataBuiltIn&&(q.layouts.captureRetrievingUserDataBuiltIn={});q.layouts.captureRetrievingUserDataBuiltIn.html=
document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:Tb.retrievingUserData;for(b=0;b<Za.length;b++)q.fields[Za[b].field][Za[b].attribute]=Za[b].value}function aa(){ac.push(arguments);if(window.console){var b=arguments;b.callee=b.callee.caller;newArray=[].slice.call(b);k?console.log(newArray):console.log.apply(console,newArray)}}function sa(){function b(b,a,j){a&&a.screenConditionals?oa(a.screenConditionals,j):"function"===
typeof j&&j()}function a(e,d){Sa?(V=e,J="capture_"+V+"_",b(e,d,function(){d&&(zb=d.validateOnRender);if(d&&d.hasUserData&&!q.fused){var b=d.dataType&&"public"===d.dataType;!ma&&!b?(janrain.events.onCaptureAccessDenied.fire(),g({layout:"captureAccessDeniedBuiltIn",modal:d.modal,source:"server"})):(g({layout:"captureRetrievingUserDataBuiltIn",modal:d.modal,source:"server"}),s(b));c()}else g(d),c(),fb&&(fb=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))})):
setTimeout(function(){a(e,d)},50)}function g(b){if(K&&K.div&&(!b.modal||K.modal&&b.modal)&&!b.keepPreviousScreen)K.div.style.display="none";var a=b.layout,j=b.source,e=b.modal,b=!!b.modalLoadOnLoad;if("server"===j){var g=document.getElementById(a);g||(g=document.createElement("div"),g.setAttribute("id",a));try{Fb[a]?l.html=Fb[a]:(l.html=q.layouts[a].html,Fb[a]=l.html)}catch(c){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===
j)try{if(g=document.getElementById(a))Fb[a]?l.html=Fb[a]:(l.html=g.innerHTML,Fb[a]=l.html);else throw l.html="",B(a);}catch(d){throw aa(d.name+": "+d.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}p(g).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");bc&&(p(g).append("janrain-capture-ui-mobile"),wa.onOrientationChange.addHandler(function(b){p(g).append("janrain-capture-ui-mobile-"+b.orientation).remove("janrain-capture-ui-mobile-"+
{portrait:"landscape",landscape:"portrait"}[b.orientation]);janrain.events.onCaptureContentChange.fire()}),wa.onOrientationChange.fire({orientation:wa.getOrientation()}));l.div=g;Qb=l.div;l.modalLoadOnLoad=b;l.source=j;l.modal=e;K=l;"undefined"===typeof Ab[V]&&(Ab[V]={});Ab[V].layout=l}function e(b,a){if(b.close)return n.render.htmlElement.close(b);if("data"==b.element){if("string"===b.type)return n.render.data.stringData(b);if("image"===b.type)return n.render.data.imageData(b);if("engageCookie"===
b.type)return n.render.data.engageCookieData(b)}if("multiRadio"==b.element)return n.render.htmlElement.multiRadio(b);if("multiCheckbox"==b.element)return n.render.htmlElement.multiCheckbox(b);if("textarea"==b.element)return n.render.htmlElement.textarea(b);if("select"==b.element)return n.render.htmlElement.select(b);if("input"==b.element)return n.render.htmlElement.input(b);if("form"==b.element)return n.render.htmlElement.form(b);if("div"==b.element)return n.render.htmlElement.div(b);if("button"==
b.element)return n.render.htmlElement.button(b);if("capture"==b.element){if("countrySelect"==b.type)return n.render.captureElement.countrySelect(b);if("stateSelect"==b.type)return n.render.captureElement.stateSelect(b);if("publicProfileLink"==b.type)return n.render.captureElement.publicProfileLink(b,a);if("errorMessages"==b.type)return n.render.captureElement.errorMessages(b);if("savedProfileMessage"==b.type)return n.render.captureElement.savedProfileMessage(b);if("captcha"==b.type)return n.render.captureElement.captcha(b);
if("linkAccounts"==b.type)return n.render.captureElement.linkAccounts(b);if("mergeAccounts"==b.type)return n.render.captureElement.mergeAccounts(b,a);if("radioCollection"==b.type)return n.render.captureElement.collection.radio(b);if("tabCollection"==b.type)return n.render.captureElement.collection.tab(b);if("photoManager"==b.type)return n.render.captureElement.photoManager(b);if("dateselect_public"==b.type)return n.render.captureElement.dateselect_public(b);if("dateselect"==b.type)return n.render.captureElement.dateselect(b);
if("addressFull"==b.type)return n.render.captureElement.addressFull(b);if("addressFull_public"==b.type)return n.render.captureElement.addressFull_public(b);if("nameFull"==b.type)return n.render.captureElement.nameFull(b);if("nameFull_public"==b.type)return n.render.captureElement.nameFull_public(b);if("backButton"==b.type)return n.render.captureElement.backButton(b);if("partial"==b.type)return n.render.captureElement.partial(b,a)}return"widget"==b.element?n.render.widget[b.type](b):!1}function c(){janrain.events.onCaptureRenderStart.fire(q);
ea=[];q.fields.submitButton||(q.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});q.fields.loginWidget||(q.fields.loginWidget={element:"widget",type:"login"});q.fields.backButton||(q.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});q.fields.captcha||(q.fields.captcha={element:"capture",type:"captcha"});q.fields.errorMessages||(q.fields.errorMessages={element:"capture",
type:"errorMessages"});q.fields.savedProfileMessage||(q.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});l.originalHtml=l.html;l.flow=q;var b=ob||pa();ob=null;l.html=d(l.html,b);l.div.innerHTML=l.html;if("server"==l.source){if(!document.getElementById("janrainCaptureWidget")){var a=document.createElement("div");a.id="janrainCaptureWidget";document.body.appendChild(a)}document.getElementById("janrainCaptureWidget").appendChild(l.div)}for(var a=0,j=jc.length;a<j;a++)ga(document.getElementById(jc[a]));
jc=[];h();f();if(0<janrain.events.onCssLoad.firedEvents.length)for(var a=janrain.events.onCssLoad.firedEvents,j=0,e=a.length;j<e;j++)"object"==typeof a&&a[j].args&&a[j].args.source&&-1==lc.indexOf(a[j].args.source)&&a[j].event.fire(a[j].args);m.domHelpers.createIFrame(b);for(a=0;a<ea.length;a++)j=document.getElementById(J+ea[a].elementName),ea[a].next&&ea[a].next.type&&"server"===ea[a].next.type?j.setAttribute("next",'{"noop":""}'):ea[a].next?(ea[a].next.conditional&&j.setAttribute("next",E.stringify(ea[a].next)),
ea[a].next.screen&&j.setAttribute("next",E.stringify(ea[a].next)),ea[a].next.url&&j.setAttribute("next",E.stringify(ea[a].next)),ea[a].next.action&&j.setAttribute("next",E.stringify(ea[a].next))):j.setAttribute("next",'{"noop":""}');k(b);K=l;janrain.events.onCaptureContentChange.fire()}function d(b,a){for(var j=/\{\*(.*?)\*\}/,g=/^\s*\/\s*/,c=/^\s*#\s*/,f=/\{(.*?)*\}\s*/,h=!1,H,i=[],m=[];H=j.exec(b);)try{var R=H[1].trim();if(f.test(R))var l=R.match(f),R=R.replace(l[0],"").trim(),k=l[0].match(/\{(.*?)*\}\s*/)[0];
h=!1;c.test(R)&&(R=R.replace("#","").trim(),h=!0);if(g.test(R)){var n=R.replace("/",""),t={};if("undefined"==typeof q.fields[n])return aa("No field definition for"+n,"error"),!1;t.element=q.fields[n].element;t.close=!0}else{if("undefined"==typeof q.fields[R])return aa("No field definition named "+R+" for tag "+H[0],"error"),!1;t=q.fields[R];t.name=R;h&&(t.start=!0);"form"===t.element&&!t.transactionId&&(t.transactionId=a);t.elementName=t.elementName||R}var k=k||null,r=e(t,k);r||(r=" ");b=b.replace(H[0],
r);(t.next||"form"===t.element&&!t.close)&&ea.push({elementName:t.elementName,next:t.next});t.onclickHandler&&y.push({elementName:t.elementName,handler:t.onclickHandler,eventType:"click"});t.onchangeHandler&&y.push({elementName:t.elementName,handler:t.onchangeHandler,eventType:"change"});"string"===typeof t.element&&"form"===t.element&&!t.close&&y.push({elementName:t.elementName,handler:Ia,eventType:"submit"});if("form"===t.element&&("widget/traditional_register.jsonp"===t.action||"widget/social_register.jsonp"===
t.action))m.push("widget/traditional_register.jsonp"===t.action?"traditionalRegister":"socialRegister");if("form"===t.element&&"widget/traditional_signin.jsonp"===t.action||"widget"===t.element&&"login"===t.type)i.push("widget/traditional_signin.jsonp"===t.action?"traditionalSignin":"socialSignin")}catch(C){return aa(C.name+": "+C.message,"error"),!1}i.length&&janrain.events.onCaptureStartLogin.fire({action:i.join(","),screen:V});m.length&&janrain.events.onCaptureStartRegistration.fire({action:m.join(","),
screen:V});return b}function f(){l.div.getAttribute("data-captureventadded")||(L(l.div,"click",function(b){var a=I(b);if(a&&a.nodeName&&"A"===a.nodeName){var j=a.getAttribute("data-capturescreen");j&&(janrain.capture.ui.renderScreen(j),N(b));a.getAttribute("data-cancelcapturereturnexperience")&&gb&&(j=new Q,j.setUseLocalStorage(!0).setName("janrainLastAuthMethod"),j.remove(),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.capture.ui.renderScreen(gb),
N(b));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof z)"close"===a&&(janrain.capture.ui.modal.close(),N(b)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),N(b))}}),l.div.setAttribute("data-captureventadded",!0));for(var b=l.div.getElementsByTagName("img"),a=b.length,j=0;j<a;j++)L(b[j],"load",function(){janrain.events.onCaptureContentChange.fire()});b=Na(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=b.length;if(!Eb){for(j=0;j<a;j++)L(b[j],"click",function(b){"object"===
typeof z?(janrain.capture.ui.renderScreen(K.flow.defaultScreen),z.setShowContentOnLoad(!0).addContent(K.div).show(),janrain.events.onCaptureScreenShow.fire({screen:V}),janrain.events.onCaptureContentChange.fire()):Db=!0;N(b)});Eb=!0}}function h(){if(q.cssDependencies&&v(q.cssDependencies))for(var b=0;b<q.cssDependencies.length;b++)A(q.cssDependencies[b]);qc&&fc&&!kb?janrain.events.onCssLoad.addHandler(function(b){lc.push(b.source);for(b=0;b<qc;b++)if(-1==lc.indexOf(ic[b]))return!1;kb||(i(),kb=!0)}):
i();janrain.events.onCaptureRenderComplete.fire({flow:q,screen:V})}function i(){var b=!1;if(l.modal){if("object"===typeof z){var b=!0,a=z.getContent();a&&document.body.appendChild(a);z.close(!0)}else z=new Zb,vb();Kb||(janrain.events.onCaptureModalReady.fire(),janrain.events.onModalClose.addHandler(function(){q&&q.mergeToken&&(q.mergeToken="")}),Kb=!0);z=o(z);z.setShowContentOnLoad(!0).addContent(l.div);if(b||l.modalLoadOnLoad||Db)z.show(),janrain.events.onCaptureScreenShow.fire({screen:V})}else"object"===
typeof z&&z.close(!0),janrain.events.onCaptureScreenShow.fire({screen:V});l.div.setAttribute("data-capturescreenname",V);l.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function k(b,a){for(var a=a||y,j=0;j<a.length;j++){if("function"===typeof a[j].handler)if("render"===a[j].eventType)a[j].handler();else{var e=document.getElementById(J+a[j].elementName);L(e,a[j].eventType,a[j].handler)}b&&S(b)}y=[]}var l={},n;n=new F;pb=new D;return{setScreenData:a,render:c,renderField:e,attachEventHandlers:k}}
function Ka(b,a){for(var g=[],e=document.getElementById(b).getElementsByTagName("INPUT"),c=e.length,d=0;d<c;d++){var f={};f.id=e[d].id;f.placeholder=e[d].getAttribute("placeholder");if(yb||a)Xa[e[d].getAttribute("data-capturefield")]=e[d].value;f.value=f.placeholder?f.placeholder===e[d].value?"":e[d].value:e[d].value;"radio"===e[d].type&&(f.type="radio",f.checked=e[d].checked);g.push(f)}return g}function s(b,a){var g="function"===typeof a?a:function(){};if(b){var e=tb(window.location.href).queryKey.uuid;
e?(aa("need to get data for "+e),m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:g,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:e}]})):aa("no uuid supplied")}else{if(!ma)return!1;m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",
elementId:"getUserData_form",needsResponse:!0,callback:g,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function ab(b,a,g){var e=-1<b.indexOf("?")?"&":"?",c=0===b.indexOf("http")?"":janrain.settings.capture.captureServer,d=[],f;for(f in a)a.hasOwnProperty(f)&&d.push(f+"="+encodeURIComponent(a[f]));ia(c+b+e+d.join("&"),g)}function Nb(b){function a(b){return'<li><a href="#" class="capture_suggestion">'+b+"</a></li>"}var b=b.result,g=c(b.submittedScreen),e=q.fields[b.field],
d=document.getElementById(g+(e.elementId||e.elementName)),f=b.alternatives,h=e.validation.messages.unique||"",i=document.getElementById(g+"form_item_"+e.elementName),l=new m.validation;l.setElement(d);l.setParentDiv(i);if(!1===b.unique)if(f){var f=f.map(a),k=function(b){var a=I(b);p(a).has("capture_suggestion")&&(d.value=a.innerHTML,tc(i,"click",k),l.valid(),N(b))};l.notValid(h+'<ul class="capture_suggestions">'+f.join("")+"</ul>",function(){L(i,"click",k)})}else l.notValid(h);else l.valid()}function wb(b){var a=
Q();return w(["expected_tab","welcome_info_name","login_tab"],b)&&(b=a.getCookie(b))?unescape(b):""}function Ob(){var b=document.createElement("div");b.className="capture_btn capture_processing";b.innerHTML="Processing";return b}function o(b){var a=janrain.settings.capture.modalBorderWidth||10,g=janrain.settings.capture.modalBorderColor||"#000",e=janrain.settings.capture.modalBorderRadius||10,c=janrain.settings.capture.modalBorderOpacity||0.5;b.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(g).setBorder(a).setBorderOpacity(c).setBorderRadius(e);
return b}function ha(b){if("object"!==typeof z)z=new Zb,vb();else{var a=z.getContent();a.style.display="none";a&&document.body.appendChild(a)}K&&K.modal&&Ya.push(K);z=o(z);z.addContent(b).show();z.setHeight(Ha(b).height);z.setWidth(Ha(b).width).refresh()}var y=[],pb,xa,Ra=janrain.settings.capture.language||janrain.settings.language||"en-US",ea=[],V,Ab={},J,gb,fb=!1,zb,Ya=[],K={},Za=[],hb,qb={},yb=janrain.settings.capture.mode13||!1,Xa={},ob,la,eb,Pa,Ib=!1,ma,Sa=!1,l,ib=!1,jb=!1,kb=!1,q,Ua={},Qb,Fb=
{},lb={},cb=[],db=[],dc=[],Bb=[],fc=!1,Jb=1,Sb="placeholder"in document.createElement("input"),sb=!1,hc=!1,ub,z,Db=!1,Eb=!1,Kb=!1,ic=[],qc=0,jc=[],Gb="HEAD",Lb=!1,Tb={},Wb=["accessDenied","retrievingUserData"],kc={},Mb=!1,Hb=0,Qa=[],rc=!1,lc=[];"en"===Ra&&(Ra="en-US");kc.publicPrivateTogglers=[];D.prototype.check=function(b,a,g){var a=a||q.fields[b.name],e=b.getAttribute("data-capturerendererchildfieldname");a.validation.temp=e&&a.validation&&a.validation[e]?a.validation[e]:e&&"dateselect"!==a.type?
!1:a.validation;if(!a.validation.temp)return!0;a.validation.temp.messages||(a.validation.temp.messages={});if(!this.hasValue(b,a))return{valid:!1,reason:a.validation.temp.messages.required||"Field not completed"};if(!this.isValidMinYears(b,a))return{valid:!1,reason:a.validation.temp.messages.minYears||"Not old enough"};if(!this.isValidMinLength(b,a))return{valid:!1,reason:a.validation.temp.messages.minLength||"Invalid length"};if(!this.isValidMaxLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxLength||
"Invalid length"};if(!this.isValidMaxNumericLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxNumericLength||"Invalid number of numeric characters"};if(!this.isValidFormat(b,a))return{valid:!1,reason:a.validation.temp.messages.format||"Invalid format"};if(!this.isValidMatch(b,a))return{valid:!1,reason:a.validation.temp.messages.match||"Invalid match"};return a.validation.temp.unique&&!g?(g=document.getElementById(c(b)+"form_item_"+b.getAttribute("name")),this.isUnique(b,g,a,function(){}),
{pending:!0}):{valid:!0}};D.prototype.getRating=function(b){var b=b.value,a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],g=0,e;e=Math.min(8,Math.floor(3*Math.log(b.length+1)));for(var c=0;c<a.length;c++)a[c].test(b)&&g++;return e+=Math.floor(Math.pow(2,g)/2)};D.prototype.isValidMaxNumericLength=function(b,a){if(!a)return!0;var g=a.validation.temp.maxNumericLength;if(!g)return!0;var e=b.value.match(/(\d)/g);v(e)&&e.length>g&&a.validation.temp.actions&&a.validation.temp.actions.maxNumericLength&&Qa.push(a.validation.temp.actions.maxNumericLength);
return v(e)?e.length<=g:!0};D.prototype.isValidMaxLength=function(b,a){var g=b.value;if(!a)return!0;var e=a.validation.temp.maxLength;if(!e)return!0;g.length>e&&a.validation.temp.actions&&a.validation.temp.actions.maxLength&&Qa.push(a.validation.temp.actions.maxLength);return g.length<=e};D.prototype.isValidMinLength=function(b,a){var g=b.value;if(!a)return!0;var e=a.validation.temp.minLength;if(!e)return!0;g.length<e&&a.validation.temp.actions&&a.validation.temp.actions.minLength&&Qa.push(a.validation.temp.actions.minLength);
return g.length>=e};D.prototype.isValidMinYears=function(b,a){if(!a||"dateselect"!==a.type)return!0;var g=x(b,a),e=a.validation.temp.minYears;if(!nc(g)||!e)return!0;var c=new Date,g=Math.abs(((new Date(g)).getTime()-c.getTime())/864E5),g=Math.floor(g/365.242199);g>=e||a.validation.temp.actions&&a.validation.temp.actions.minYears&&Qa.push(a.validation.temp.actions.minYears);return g>=e};D.prototype.hasValue=function(b,a){var g;if("select"===a.element)g=b.options[b.selectedIndex].value;else if("checkbox"===
a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))g=b.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(g=a.elementName){g=document.getElementsByName(g);for(var e=g.length,c=[],d=0;d<e;d++)g[d].checked&&c.push(g[d]);g=c.length}else g=!1;else g=b.value;if(!a||!a.validation.temp.required)return!0;if("dateselect"===a.type)return g=x(b,a),nc(g)||a.validation.temp.actions&&a.validation.temp.actions.required&&Qa.push(a.validation.temp.actions.required),nc(g);g||a.validation.temp.actions&&
a.validation.temp.actions.required&&Qa.push(a.validation.temp.actions.required);return g};D.prototype.isUnique=function(b,a,g,e){a=b.form.getAttribute("data-capturefield");g=b.getAttribute("data-capturefield");b={value:b.value,form:a,capture_screen:f(b),field:g,client_id:janrain.settings.capture.clientId,flow_version:Gb,locale:janrain.settings.capture.language||"en-US",flow:q.flow};ma&&(b.access_token=ma);xa&&(b.flow_path=xa);ab("/widget/unique.jsonp",b,e)};D.prototype.isBlacklisted=function(b,a,
g){function e(){var a=b.value,j=response;if(!j||0===j.length)return!0;for(var e,g=0;g<j.length;g++)if(e=RegExp("^"+j[g]+"$","i"),e.test(a))return!0;return!1}captureUIBlacklistCallback=function(b){g(e(b))};v(a)?g(e(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):g(!0)};D.prototype.isValidFormat=function(b,a){var g={alpha:/^[a-z]+$/i,alphaExtended:/^[a-zA-Z\-']+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};
if(!a||!a.validation.temp.format)return!0;var e=a.validation.temp.format;if("string"===typeof e&&g[e])e=g[e];else return!1;e.test(b.value)||a.validation.temp.actions&&a.validation.temp.actions.format&&Qa.push(a.validation.temp.actions.format);return e.test(b.value)};D.prototype.isValidMatch=function(b,a){if(!a)return!0;var g=a.validation.temp.match;if(!g)return!0;g=q.fields[g];g=c(b)+(g.elementId||g.elementName);g=document.getElementById(g);b.value!==g.value&&a.validation.temp.actions&&a.validation.temp.actions.match&&
Qa.push(a.validation.temp.actions.match);return b.value===g.value};var m={attachFieldEventHandlers:function(b){b.type||(b.type="");"password"===b.type&&(y.push({elementName:b.elementName,handler:m.togglePasswordInput,eventType:"click"}),y.push({elementName:b.elementName,handler:m.togglePasswordInput,eventType:"focus"}),b.validation&&("function"===typeof b.validation.rating?y.push({elementName:b.elementName,handler:function(a){var a=$a(a),g=pb.getRating(a);b.validation.rating(a,g)},eventType:"keyup"}):
b.validation.rating&&y.push({elementName:b.elementName,handler:function(b){b=$a(b);b=pb.getRating(b);aa("Password Strength",b)},eventType:"keyup"})));if("text"===b.type||"password"===b.type||"email"===b.type)y.push({elementName:b.elementName,handler:m.clearPlaceHolder,eventType:"focus"}),y.push({elementName:b.elementName,handler:m.restorePlaceHolder,eventType:"blur"});y.push({elementName:b.elementName,handler:function(a){a=I(a);a=c(a);a=document.getElementById(a+"form_item_"+b.elementName);p(a).append("capture_focused").remove("capture_error");
bc&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()},eventType:"focus"});y.push({elementName:b.elementName,handler:function(a){a=I(a);a=c(a);a=document.getElementById(a+"form_item_"+b.elementName);p(a).remove("capture_focused")},eventType:"blur"});b.validation&&y.push({elementName:b.elementName,handler:ya,eventType:"blur"});b.rendererFieldName&&b.rendererChildFieldName&&q.fields[b.rendererFieldName].validation&&q.fields[b.rendererFieldName].validation[b.rendererChildFieldName]&&
y.push({elementName:b.rendererFieldName+"_"+b.rendererChildFieldName,handler:ya,eventType:"blur"});b.validation&&b.validation.custom&&y.push({elementName:b.elementName,handler:function(a){var a=I(a),g=c(a),g=document.getElementById(g+"form_item_"+b.elementName);p(g).append("capture_validating");var e=new m.validation;e.setParentDiv(g);e.setElement(a);O[b.validation.custom](a.name,a.value,e);p(g).remove("capture_validating")},eventType:"blur"})},wrapStringData:function(b,a,g){var e="",c=["capture_data_item"];
g&&c.push(g);e+=m.createDiv({elementId:"stringdata_"+b.name,classes:c});b.label&&(e+=m.createLabel({elementId:b.name,label:b.label,classes:["capture_data_label"]}));e+=m.createDiv({elementId:b.name,classes:["capture_data"]});return e+a+"</div></div>"},wrapFormItemStart:function(b){var a="",g=[],e=b.classes||[],c="elementCollection"===b.type?"form_collection":"form_item";if(b.justElement||"submit"===b.type||"button"===b.type)return"";-1===e.indexOf("capture_"+c)&&e.push("capture_"+c);b.errors&&-1===
e.indexOf("capture_error")&&!b.collection&&e.push("capture_error");!b.collection&&b.type&&-1===e.indexOf("capture_"+b.type)&&("checkbox"===b.type||"radio"===b.type?g.push("capture_"+b.type):e.push("capture_"+b.type));"elementCollection"===b.type&&b.displayInline&&-1===e.indexOf("capture_form_collection_inline")&&e.push("capture_form_collection_inline");b.collection?(-1===e.indexOf("capture_"+c+"_"+b.elementName)&&e.push("capture_"+c+"_"+b.elementName),b.checked&&e.push("capture_toggled"),a+=m.createDiv({elementName:c+
"_"+b.elementId,hide:b.hide,classes:e})):a+=m.createDiv({elementName:c+"_"+b.elementName,hide:b.hide,classes:e});if(("checkbox"===b.type||"radio"===b.type)&&!b.collection)a+=m.createDiv({elementName:c+"_inner_"+b.elementName,classes:g});return a},wrapFormItemEnd:function(b){return b.justElement||"submit"===b.type||"button"===b.type?"":"</div>"},createPublicPrivateToggle:function(b){function a(){for(var b=kc.publicPrivateTogglers,j=b.length,e=0;e<j;e++)b[e]&&(b[e].style.display="none");kc.publicPrivateTogglers=
[]}function g(a){var j=I(a),e=c(j),g=document.getElementById(e+"display_toggle_options_"+b.elementName),d=document.getElementById(e+"display["+(b.rendererFieldName||b.elementName)+"]"),f=document.getElementById(e+"display_indicator_public_"+b.elementName),h=document.getElementById(e+"display_indicator_private_"+b.elementName),H=e+"display_option_public_"+b.elementName,i=e+"display_option_private_"+b.elementName;document.getElementById(e+"display_toggle_options_"+b.elementName);if(j.parentNode&&j.parentNode.id&&
(j.parentNode.id===H||j.parentNode.id===i))j=j.parentNode;if(!j.id)return!1;j.id===H?(p(document.getElementById(H)).append("capture_checked"),p(document.getElementById(i)).remove("capture_checked"),d.value="public",p(f).append("capture_toggled"),p(h).remove("capture_toggled")):(p(document.getElementById(H)).remove("capture_checked"),p(document.getElementById(i)).append("capture_checked"),d.value="private",p(f).remove("capture_toggled"),p(h).append("capture_toggled"));g.style.display="none";N(a)}var e;
e=""+m.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+b.elementName});e+=m.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+b.elementName});var d=["capture_display_option"];b.displayPublic&&d.push("capture_checked");e+=m.createDiv({classes:d,elementId:"display_option_public_"+b.elementName});e+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';
d=["capture_display_option"];b.displayPublic||d.push("capture_checked");e+=m.createDiv({classes:d,elementId:"display_option_private_"+b.elementName});e+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';d=["capture_display_toggle","capture_public"];b.disablePublicPrivate&&d.push("capture_display_toggle_disabled");b.displayPublic&&d.push("capture_toggled");e+=m.createDiv({classes:d,
elementId:"display_indicator_public_"+b.elementName});e+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';d=["capture_display_toggle","capture_private"];b.disablePublicPrivate&&d.push("capture_display_toggle_disabled");b.displayPublic||d.push("capture_toggled");e+=m.createDiv({classes:d,elementId:"display_indicator_private_"+b.elementName});e=e+'<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+
m.createInput({type:"hidden",elementName:"display["+(b.rendererFieldName||b.elementName)+"]",value:b.displayPublic?"public":"private"});y.push({elementName:"display_toggle_wrap_"+b.elementName,eventType:"click",handler:function(e){var g=I(e),d=c(g),d=document.getElementById(d+"display_toggle_options_"+b.elementName),f="none"===d.style.display||""===d.style.display?"block":"none";g.parentNode&&p(g.parentNode).has("capture_display_toggle")&&(g=g.parentNode);p(g).has("capture_display_toggle")&&!p(g).has("capture_display_toggle_disabled")&&
("block"===f&&(a(),kc.publicPrivateTogglers.push(d)),d.style.display=f);N(e)}});y.push({elementName:"display_option_public_"+b.elementName,handler:g,eventType:"click"});y.push({elementName:"display_option_private_"+b.elementName,handler:g,eventType:"click"});Lb||(L(document.body,"click",function(b){b=I(b);b.parentNode&&p(b.parentNode).has("capture_display_toggle")&&(b=b.parentNode);!p(b).has("capture_display_toggle")&&!p(b).has("capture_display_option")&&a()}),Lb=!0);return e},createAnchor:function(b){var a=
"",g=b.fieldPrefix||J,e=b.elementId||b.elementName,c=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[];w(c,"capture_"+e)||c.push("capture_"+e);a=a+"<a "+("id='"+g+e+"' ");b.target&&(a+="target='"+b.target+"' ");a+="class='"+c.join(" ")+"' ";a+="data-capturefield='"+b.name+"' ";a+="href='"+b.elementHref+"' ";a+="name='"+b.elementName+"' ";a+=">";b.elementText&&(a+=b.elementText);return a+"</a>"},createTextarea:function(b){var a="",g=b.fieldPrefix||J,e=b.elementId||b.elementName,c=b.elementClasses&&
v(b.elementClasses)?b.elementClasses:[],d=b.rows||"5",a=a+m.createLabel(b);w(c,"capture_"+e)||c.push("capture_"+e);w(c,"capture_textarea")||c.push("capture_textarea");a=a+"<textarea "+("id='"+g+e+"' ")+("class='"+c.join(" ")+"' ");a+="data-capturefield='"+b.name+"' ";a=a+("rows='"+d+"' ")+("name='"+b.elementName+"' ");b.placeholder&&Sb&&(a+="placeholder='"+b.placeholder+"'");a+=">";b.value&&(a+=b.value);a+="</textarea>";b.publicPrivateToggle&&(a+=m.createPublicPrivateToggle(b));return a+=m.createTip(b)},
createTip:function(b){var a;a="<div class='capture_tip' ";b.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof b.tip?b.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+b.elementName+"'>");a=a+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+b.elementName+"'>");b.errors&&v(b.errors)&&(a+=b.errors.join(" "));return a+"</div>"},createLabel:function(b,a){var g,e=b.fieldPrefix||J,c=b.elementId||b.elementName;if(!b.label)return a?a:"";
g="<label ";"elementCollection"!==b.type&&(g+=" for='"+e+c+"'");g+=">";a&&(g+=a);b.label&&(g+=b.label);return g+"</label>"},createSelect:function(b){var a="",g=b.fieldPrefix||J,e=b.rendererFieldName,d=b.rendererChildFieldName,f,h=b.justElement,i=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],l=b.elementId||b.elementName;w(i,"capture_"+l)||i.push("capture_"+l);w(i,"capture_select")||i.push("capture_select");a+=m.createLabel(b);a=a+'<span class="capture_select_arrow"><select '+("id='"+g+
l+"' ")+("class='"+i.join(" ")+"' ");e&&(a+="data-capturerendererfield='"+e+"' ");b.showFieldWhere&&(a+='data-showFieldWhere="'+b.showFieldWhere+'" ');d&&(a+="data-capturerendererchildfieldname='"+d+"' ");a+="data-capturefield='"+b.name+"' ";a+="name='"+b.elementName+"' ";a+=">";e=b.options||[];d=e.length;for(i=0;i<d;i++){var l=e[i],k=l.value||""===l.value?l.value:l.text,a=a+('<option value="'+k+'"');l.disabled&&(a+=' disabled="true"');v(l.showField)&&(a+=' data-showField="'+l.showField.join(",")+
'"');k===b.value&&(a+=' selected="selected"',f=l.showField);a+=">"+l.text+"</option>"}a+="</select></span>";b.publicPrivateToggle&&(a+=m.createPublicPrivateToggle(b));h||(a+=m.createTip(b));y.push({handler:function(){f&&U(f,b.showFieldWhere,g)},eventType:"render"});y.push({elementName:b.elementName,handler:function(b){var a=I(b),b=c(a),j=a.getElementsByTagName("option")[a.selectedIndex].getAttribute("data-showField"),a=a.getAttribute("data-showFieldWhere");j&&j.length&&(j=j.split(","));U(j,a,b)},
eventType:"change"});return a},createButton:function(b){var a="",c=b.fieldPrefix||J,e=b.elementId||b.elementName,d=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],f=b.type?b.type:"submit";w(d,"capture_"+e)||d.push("capture_"+e);w(d,"capture_btn")||d.push("capture_btn");w(d,"capture_primary")||d.push("capture_primary");a+="<button ";b.hide&&(a+="style='display:none' ");a=a+("id='"+c+e+"' ")+("class='"+d.join(" ")+"' ");a=a+("type='"+f+"' ")+("data-capturefield='"+b.name+"' ");b.value&&(a+=
"value='"+b.value+"' ");a+="name='"+b.elementName+"' ";a+=">";b.elementContent&&(a+=b.elementContent);return a+"</button>"},createInput:function(b){var a="",c="",e=b.fieldPrefix||J,d=b.elementId||b.elementName,f=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],h="button"===b.type||"submit"===b.type||"checkbox"===b.type||"radio"===b.type||"hidden"===b.type,i=b.justElement||b.collection||"hidden"===b.type||"button"===b.type||"submit"===b.type,l="password"===b.type&&!Sb&&b.placeholder?"text":
b.type,k=("checkbox"===b.type&&!b.collection||"radio"===b.type&&!b.collection)&&!b.justElement,n=b.rendererFieldName,o=b.rendererChildFieldName,p=zb&&!b.collection;w(f,"capture_"+d)||f.push("capture_"+d);h||(c+=m.createLabel(b));a+="<input ";b.hide&&(a+="style='display:none' ");a+="id='"+e+d+"' ";"text"===b.type||"email"===b.type||"password"===b.type?w(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===b.type||"radio"===b.type?w(f,"capture_input_"+b.type)||f.push("capture_input_"+
b.type):"submit"===b.type&&(w(f,"capture_btn")||f.push("capture_btn"),w(f,"capture_primary")||f.push("capture_primary"));a+="class='"+f.join(" ")+"' ";a+="data-capturefield='"+b.name+"' ";b.collection&&(a+="data-capturecollection='true' ");n&&(a+="data-capturerendererfield='"+n+"' ");o&&(a+="data-capturerendererchildfieldname='"+o+"' ");a+="type='"+l+"' ";if(("checkbox"===b.type||"radio"===b.type)&&b.elementValue)a+="value='"+q+"' ";else if(b.value){var q=b.value;b.displaySavedValue&&Xa[b.value]&&
(q=Xa[b.value]);("password"===b.type||"text"===b.type||"email"===b.type)&&!b.errors&&p&&jc.push(e+d);a+="value='"+q+"' "}else a=b.placeholder&&!Sb?a+("value='"+b.placeholder+"' "):a+"value='' ";b.placeholder&&(a+="placeholder='"+b.placeholder+"' ");if(b.checked||b.value===b.elementValue)a+="checked='checked' ";a+="name='"+b.elementName+"' ";a+="/>";c="checkbox"===b.type||"radio"===b.type?c+m.createLabel(b,a):c+a;b.publicPrivateToggle&&(c+=m.createPublicPrivateToggle(b));k&&(c+="</div>");i||(c+=m.createTip(b));
return c},createDiv:function(b){var a="<div ",c=b.fieldPrefix||J,e=b.elementId||b.elementName,d=b.classes||[];w(d,"capture_"+e)||d.push("capture_"+e);a+="id='"+c+e+"'";if("option"===b.type&&!b["default"]||b.hide)a+=" style='display:none'";"radioCollection"===b.type&&d.push("radio_set");v(d)&&d.length&&(a=a+' class="'+d.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=">";b.closeDiv&&(a+="</div>");return a},createImage:function(b){var a,c=b.fieldPrefix||J,e=b.classes||[];elementId=b.elementId||
b.imageId||b.elementName||"";a="<img "+('src="'+b.src+'"');elementId&&!w(e,"capture_"+elementId)&&e.push("capture_"+elementId);b.hide&&(a+=" style='display:none'");b.alt&&(a+=" alt='"+b.alt+"'");"undefined"!==typeof b.width&&(a+=" width='"+b.width+"'");"undefined"!==typeof b.height&&(a+=" height='"+b.height+"'");elementId&&(a+=' id="'+c+b.imageId+'" ');v(e)&&e.length&&(a=a+'class="'+e.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(b){var a,c="captureIFrame_"+b;if(document.getElementById(c))return!1;
if(k){a="";var e=document.createElement("div");e.innerHTML=a+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+b+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(e)}else a=document.createElement("iframe"),a.setAttribute("name",c),a.setAttribute("data-transactionId",b),a.id=c,a.setAttribute("src","about:blank"),a.style.display="none",a.className="",document.body.appendChild(a)},createAnchor:function(b){var a=b.fieldPrefix||J,c=document.createElement("a");
if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!w(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);c.setAttribute("href",b.elementHref);c.innerHTML=b.elementText;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createDiv:function(b){var a=b.fieldPrefix||J,c=document.createElement("div");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!w(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);
b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createImage:function(b){var a=b.fieldPrefix||J,c=document.createElement("img");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!w(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.alt&&c.setAttribute("alt",b.alt);"undefined"!==typeof b.width&&c.setAttribute("width",b.width);"undefined"!==typeof b.height&&c.setAttribute("height",b.height);c.src=b.elementSrc;
b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createInput:function(b){var a=document.createElement("input"),c=b.fieldPrefix||J,e=b.containerDivClasses||[],d;"submit"===b.elementType&&b.containerDiv&&(d=this.createDiv({elementName:b.elementName+"_containverDiv",classes:e}));if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!w(b.classes,c+b.elementId)&&b.classes.push(c+b.elementId);b.elementType&&a.setAttribute("type",
b.elementType);b.name&&a.setAttribute("data-capturefield",b.name);b.elementValue&&(a.value=b.elementValue);b.elementName&&(a.name=b.elementName);b.elementId&&(a.id=c+b.elementId);b.hideElement&&(a.style.display="none");a.className=b.classes.join(" ");return d?(d.appendChild(a),d):a},createForm:function(b){b.transactionId||(b.transactionId=pa());var a=b.transactionId,g=b.captureScreen||V,e=c(g),d=document.createElement("form"),f=v(b.fields)?b.fields:[],h=f.length;m.domHelpers.createIFrame(a);b.needsResponse&&
S(a);if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!w(b.classes,e+b.elementId)&&b.classes.push(e+b.elementId);d.id=e+b.elementId+"_"+a;d.className=b.classes.join(" ");d.setAttribute("target","captureIFrame_"+a);d.setAttribute("data-transactionId",a);b.name&&d.setAttribute("data-capturefield",b.name);d.setAttribute("action",b.elementAction);d.setAttribute("method","POST");d.setAttribute("data-capturedomelement","true");d.appendChild(m.domHelpers.createInput({elementType:"hidden",
fieldPrefix:e,elementValue:"\u2713",elementName:"utf8"}));q&&q.mergeToken&&d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:q.mergeToken,elementName:"merge_token",elementId:"merge_token_"+a}));xa&&d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:xa,elementName:"flow_path",elementId:"flow_path_"+a}));l?d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:l,elementName:"access_token",elementId:"access_token_"+
a})):ma&&d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:ma,elementName:"access_token",elementId:"access_token_"+a}));V&&d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:g,elementName:"capture_screen",elementId:"screen_"+a}));mb&&d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:mb,elementName:"js_version",elementId:"js_version_"+a}));b.serverNextScreen&&d.appendChild(m.domHelpers.createInput({elementType:"hidden",
fieldPrefix:e,elementValue:b.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+a}));b.engageTokenRequired&&d.appendChild(m.domHelpers.createInput({elementType:"hidden",elementValue:eb,fieldPrefix:e,elementName:"token",elementId:"token_"+a}));d.appendChild(m.domHelpers.createInput({elementType:"hidden",elementValue:a,fieldPrefix:e,elementName:"capture_transactionId",elementId:"transactionId_"+a}));d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,
elementValue:b.name,elementName:"form",elementId:"form_"+a}));d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:q.flow,elementName:"flow",elementId:"flow_"+a}));d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"client_id",elementId:"client_id_"+a,elementValue:janrain.settings.capture.clientId}));d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementName:"redirect_uri",elementId:"redirect_uri_"+
a,elementValue:janrain.settings.capture.redirectUri}));d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:janrain.settings.capture.responseType,elementName:"reponse_type",elementId:"response_type_"+a}));d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Gb,elementName:"flow_version",elementId:"flow_version_"+a}));d.appendChild(m.domHelpers.createInput({elementType:"hidden",fieldPrefix:e,elementValue:Ra,elementName:"locale",
elementId:"locale_"+a}));for(g=0;g<h;g++)switch(a=f[g],a.elementType){case "div":a.fieldPrefix=a.fieldPrefix||e;d.appendChild(m.domHelpers.createDiv(a));break;case "anchor":a.fieldPrefix=a.fieldPrefix||e;d.appendChild(m.domHelpers.createAnchor(a));break;case "hidden":a.fieldPrefix=a.fieldPrefix||e;d.appendChild(m.domHelpers.createInput(a));break;case "file":a.fieldPrefix=a.fieldPrefix||e;d.setAttribute("enctype","multipart/form-data");d.appendChild(m.domHelpers.createInput(a));break;case "submit":a.fieldPrefix=
a.fieldPrefix||e,d.appendChild(m.domHelpers.createInput(a))}m.domHelpers.createFormHandler(d,b);return d},createFormHandler:function(b,a){"function"===typeof a.callback&&(b.setAttribute("next",'{"function":"'+a.elementId+'"}'),qb[a.elementId]=a.callback);L(b,"submit",Ia)},createFormAndPost:function(b){var a=b.fieldPrefix||J,c=pa();b.fieldPrefix=b.fieldPrefix||a;b.transactionId=c;var e=m.domHelpers.createForm(b),a=m.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:a,
elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});e.appendChild(a);document.body.appendChild(e);m.domHelpers.createFormHandler(e,b);a.click()}},createListOfLinks:function(b,a){var c=b.fieldPrefix||J,e;optionsLength=b.length;e="<ul";v(a)&&a.length&&(e=e+' class="'+a.join(" "),e+='"');e+=">";for(var d=0;d<optionsLength;d++){e+="<li";"string"===typeof b[d].listItemId&&(e+=' id="'+c+b[d].listItemId+'" ');b[d].hide&&(e+=' style="display: none;" ');if(!b[d].listItemClasses||
!v(b[d].listItemClasses))b[d].listItemClasses=[];"string"===typeof b[d].listItemId&&!w(b[d].listItemClasses,"capture_"+b[d].listItemId)&&b[d].listItemClasses.push("capture_"+b[d].listItemId);v(b[d].listItemClasses)&&b[d].listItemClasses.length&&(e+=' class="',e+=b[d].listItemClasses.join(" "),e+='"');e+=">";e+='<a href="'+b[d].anchorHref+'"';"string"===typeof b[d].anchorId&&(e+=' id="'+c+b[d].anchorId+'" ');if(!b[d].anchorClasses||!v(b[d].anchorClasses))b[d].anchorClasses=[];"string"===typeof b[d].anchorId&&
!w(b[d].anchorClasses,"capture_"+b[d].anchorId)&&b[d].anchorClasses.push("capture_"+b[d].anchorId);v(b[d].anchorClasses)&&b[d].anchorClasses.length&&(e+=' class="',e+=b[d].anchorClasses.join(" "),e+='"');e+=">";e+=b[d].anchorText;e+="</a>";e+="</li>"}return e+"</ul>"},togglePasswordInput:function(b){var b=$a(b),a=c(b);b.getAttribute("value")===b.getAttribute("placeholder")&&b.setAttribute("value","");if(k&&"text"===b.type){for(var g=[],e=0,d=y.length;e<d;e++)a+y[e].elementName==b.id&&(y[e].elementName=
y[e].elementName,g.push(y[e]));a=document.createElement("span");e=b.parentElement;e.insertBefore(a,b);e.removeChild(b);d=document.createElement("input");d.id=b.id;d.setAttribute("data-capturefield",b.name);d.className="capture_password";d.name=b.name;d.setAttribute("type","password");e.insertBefore(d,a);e.removeChild(a);sa().attachEventHandlers(null,g);d.focus()}else b.setAttribute("type","password")},clearPlaceHolder:function(b){if(Sb)return!0;b=$a(b);b.getAttribute("value")===b.getAttribute("placeholder")&&
(k?b.value="":b.setAttribute("value",""))},restorePlaceHolder:function(b){if(Sb)return!0;var b=$a(b),a=b.getAttribute("placeholder");"password"===b.getAttribute("type")&&""===b.value&&b.setAttribute("type","text");a&&""===b.value&&(k?b.value=a:b.setAttribute("value",a))},validation:function(){var b,a;return{setParentDiv:function(b){(a=b)&&a.className.split(" ")},setElement:function(c){b=c;a&&a.className.split(" ")},valid:function(){p(a).append("capture_validated").remove("capture_error");var c={};
b&&(c.field=b);janrain.events.onCaptureValidationSuccess.fire(c);janrain.events.onCaptureContentChange.fire()},pending:function(){janrain.events.onCaptureContentChange.fire()},notValid:function(d,e){p(a).append("capture_error").remove("capture_validated");if(d){for(var f,h=c(a),i=a.getElementsByTagName("div"),l=i.length,m=0;m<l;m++)if("capture_tip_error"===i[m].className){var k=0===a.id.indexOf(h+"form_collection_")?h+"form_collection_":h+"form_item_";if(a.id.split(k)[1]===i[m].getAttribute("data-elementName")||
a.id.split(k)[1]+"[dateselect_year]"===i[m].getAttribute("data-elementName")){f=i[m];break}}f&&(f.innerHTML=d);"function"===typeof e&&e();janrain.events.onCaptureContentChange.fire()}f={};b&&(f.field=b);janrain.events.onCaptureValidationFailed.fire(f)}}}},$b={createSelect:m.createSelect,createTextarea:m.createTextarea,createAnchor:m.createAnchor,createInput:m.createInput,createLabel:m.createLabel,createDiv:m.createDiv,createImage:m.createImage,createListOfLinks:m.createListOfLinks,toggelPassword:m.togglePasswordInput,
clearPlaceHolder:m.clearPlaceHolder,restorePlaceHolder:m.restorePlaceHolder,getElementByEventAttribute:$a};F.prototype.render={data:{engageCookieData:function(b){return wb(b.cookieName)},stringData:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",a=b.displaySavedValue&&yb&&Xa[b.value]?Xa[b.value]:b.value;return a=b.justString?a:m.wrapStringData(b,a)},imageData:function(b){var a;b.value&&(b.returnImageTag?(a={elementName:b.elementname,hide:b.hide,src:b.value},
b.classes&&(a.classes=b.classes),b.elementId&&(a.elementId=b.elementId),a=m.createImage(a)):a=b.value);return a}},htmlElement:{parent:F.prototype.render,textarea:function(b){var a;a=""+m.wrapFormItemStart(b);a+=m.createTextarea(b);return a+=m.wrapFormItemEnd(b)},select:function(b){var a;a=""+m.wrapFormItemStart(b);a+=m.createSelect(b);a+=m.wrapFormItemEnd(b);m.attachFieldEventHandlers(b);return a},multi:function(b,a){var d,e,f=b.options.length;b.type="elementCollection";d=""+m.wrapFormItemStart(b);
d+=m.createLabel(b);for(var h=0;h<f;h++)e=b.options[h],e.value=e.value||e.label,e.label=e.label||e.value,d+=this.input({elementName:b.elementName,type:a,elementId:b.elementName+"_"+e.value+"_"+h,name:b.name,value:e.value,collection:!0,label:e.label,checked:w(b.value,e.value)}),y.push({elementName:b.elementName+"_"+e.value+"_"+h,handler:function(a,e){return function(){for(var d=c(this),g=document.getElementById(d+"form_collection_"+b.elementName),g=Na("capture_form_item_"+b.elementName,g),d=document.getElementById(d+
"form_item_"+b.elementName+"_"+a+"_"+e),j=0,f=g.length;j<f;j++)p(g[j]).remove("capture_toggled");d&&p(d).append("capture_toggled")}}(e.value,h),eventType:"click"});d+=m.createTip(b);return d+=m.wrapFormItemEnd(b)},multiCheckbox:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},multiRadio:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},input:function(b){var a;a=""+m.wrapFormItemStart(b);a+=m.createInput(b);a+=m.wrapFormItemEnd(b);m.attachFieldEventHandlers(b);
return a},button:function(b){var a;a=""+m.wrapFormItemStart(b);a+=m.createButton(b);a+=m.wrapFormItemEnd(b);m.attachFieldEventHandlers(b);return a},form:function(b){var a="<form ",c=b.localFieldPrefix||J,e=b.classes||[];e.indexOf("capture_form"===-1)&&e.push("capture_form");e.indexOf(-1==="capture_"+b.elementName)&&e.push("capture_"+b.elementName);a+="id='"+c+b.elementName+"' ";a+="name='"+b.elementName+"' ";a+="data-capturefield='"+b.name+"' ";a+="action='"+janrain.settings.capture.captureServer+
"/"+b.action+"' ";v(e)&&(a+="class='"+e.join(" ")+"' ");var a=a+"method='POST' novalidate='novalidate'"+("data-transactionId='"+b.transactionId+"'"),a=a+("target='captureIFrame_"+b.transactionId+"'"),a=a+">"+('<div id="'+c+b.elementName+'_defaultSavedProfileMessage"></div>'),a=a+('<div id="'+c+b.elementName+'_errorMessages"></div>'),d="";if(b.errors){janrain.events.onCaptureFormError.fire(b.errors);for(var f in b.errors)b.errors.hasOwnProperty(f)&&(d+=m.createDiv({elementId:"formerror_"+(new Date).getTime(),
classes:["capture_form_error"]}),d+=b.errors[f]+"</div>")}y.push({handler:function(){var a=Na("capture_form_error_container",document.getElementById(c+b.elementName)),a=a.length?a[0]:document.getElementById(c+b.elementName+"_errorMessages");a.innerHTML=d},eventType:"render"});a+=m.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});xa&&(a+=m.createInput({elementName:"flow_path",elementId:"flow_path_"+b.transactionId,type:"hidden",value:xa}));q&&q.mergeToken&&(a+=m.createInput({elementName:"merge_token",
elementId:"merge_token_"+b.transactionId,type:"hidden",value:q.mergeToken}));l?a+=m.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,type:"hidden",value:l}):ma&&(a+=m.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,type:"hidden",value:ma}));V&&(a+=m.createInput({elementName:"capture_screen",elementId:"screen_"+b.transactionId,type:"hidden",value:V}));mb&&(a+=m.createInput({elementName:"js_version",elementId:"js_version_"+b.transactionId,
type:"hidden",value:mb}));b.serverNextScreen&&(a+=m.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+b.transactionId,type:"hidden",value:b.serverNextScreen}));b.engageTokenRequired&&(a+=m.createInput({elementName:"token",elementId:"token_"+b.transactionId,type:"hidden",value:eb}));a+=m.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+b.transactionId,type:"hidden",value:b.transactionId});a+=m.createInput({elementName:"form",elementId:"form_"+b.transactionId,
type:"hidden",value:b.name});a+=m.createInput({elementName:"flow",elementId:"flow_"+b.transactionId,type:"hidden",value:q.flow});a+=m.createInput({elementName:"client_id",elementId:"client_id_"+b.transactionId,type:"hidden",value:janrain.settings.capture.clientId});a+=m.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+b.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});a+=m.createInput({elementName:"response_type",elementId:"response_type_"+b.transactionId,
type:"hidden",value:janrain.settings.capture.responseType});a+=m.createInput({elementName:"flow_version",elementId:"flow_version_"+b.transactionId,type:"hidden",value:Gb});return a+=m.createInput({elementName:"locale",elementId:"locale_"+b.transactionId,type:"hidden",value:Ra})},div:function(b){return m.createDiv(b)},close:function(b){return"</"+b.element+">"}},captureElement:{countrySelect:function(b){b.options=[{text:"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",
value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},
{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",
value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",
value:"Central African Republic"},{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",
value:"Croatia, Republic of"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",
value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",
value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",
value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",
value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",
value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",
value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},
{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",
value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",
value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",
value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",
value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",
value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return F.prototype.render.htmlElement.select(b)},stateSelect:function(b){b.options=[{text:"state",value:"",disabled:!0},{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",
value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",
value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"},{text:"AB",value:"AB"},{text:"BC",value:"BC"},{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",
value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];return F.prototype.render.htmlElement.select(b)},captcha:function(b){Mb||ia("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Mb=!0});y.push({elementName:b.name,handler:function(){function b(){if("undefined"===typeof Recaptcha)setTimeout(b,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");
Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}b()},eventType:"render"});var a;a=""+m.wrapFormItemStart(b);b.label&&(a+=m.createLabel(b));a=a+'<div id="recaptcha_container" class="capture_form_item"></div>'+m.createTip(b);return a+=m.wrapFormItemEnd(b)},mergeAccounts:function(b,a){var a=E.parse(a)||null,c=F.prototype.render,e=b.value,d="";e.existing_provider="legacy"===e.existing_provider?
"email":e.existing_provider;b.customText||(b.customText={});var f=b.customText.connectRadio||'Connect this session with your existing account <br /><span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',h=b.customText.connectLegacyRadio||'Connect this session with your existing account <br /><span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',
i=b.customText.createRadio||"Create a new account using Google sign-in.",l=b.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",m=b.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',k=b.customText.moreInfo||"More Info ?",n=b.customText.createButton||
"Create",o=b.customText.connectButton||"Connect";e.connectRadioText=ja(e,f);e.connectLegacyRadioText=ja(e,h);e.createRadioText=ja(e,i);e.foundExistingAccountText=ja(e,l);e.moreInfoHoverText=ja(e,m);e.moreInfoText=ja(e,k);e.createButtonText=ja(e,n);e.connectButtonText=ja(e,o);e.connect_button=c.htmlElement.button({elementContent:'<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase()+'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+
e.current_provider.toLowerCase()+'"></span>'+o,elementName:b.name+"_connectButton",name:b.name+"_connectButton",element:"button",type:"button"});e.create_button=c.htmlElement.button({elementContent:n,hide:!0,elementName:b.name+"_createButton",name:b.name+"_createButton",element:"button",type:"submit"});e.merge_radio=c.htmlElement.multiRadio({element:"multiRadio",value:[1],elementName:b.name+"_mergeRadio",classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===e.existing_provider?
ja(e,h):ja(e,f),value:1},{label:i,value:2}]});e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase();e.existing_provider_lowerCase=e.existing_provider.toLowerCase();a.custom?y.push({handler:function(){var a=document.getElementById(b.name);
a.innerHTML=ja(e,a.innerHTML)},eventType:"render"}):d+=ja(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}          </div>         <span class="capture_mergeProvider janrain-provider-icon-30 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
y.push({elementName:b.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(b.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(hc=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});y.push({elementName:b.name+"_createButton",handler:function(){Pa=null;janrain.apps.capture.ui.renderScreen(janrain.settings.capture.registerFlow||"socialRegister")},
eventType:"click"});y.push({elementName:b.name+"_mergeRadio_1_0",handler:function(){document.getElementById(J+b.name+"_connectButton").style.display="block";document.getElementById(J+b.name+"_createButton").style.display="none"},eventType:"click"});y.push({elementName:b.name+"_mergeRadio_2_1",handler:function(){document.getElementById(J+b.name+"_connectButton").style.display="none";document.getElementById(J+b.name+"_createButton").style.display="block"},eventType:"click"});return d},publicProfileLink:function(b,
a){var c="",e=a?E.parse(a).elementHref:b.elementHref;b.elementHref=e+"?uuid="+b.value;b.elementText=b.elementText||"Public Profile";return c+=m.createAnchor(b)},linkAccounts:function(b){b.value||(b.value={});b.customText||(b.customText={});for(var a=V,c=b.fieldPrefix||J,e='<div class="capture_linkAccounts" id="'+c+b.name+'_currentlinkedaccounts">',d=q.fields[b.linkAccountContainer].elementName||q.fields[b.linkAccountContainer].name||b.linkAccountContainer,f=b.customText.linkAnotherAccount||"Link Another Account",
h=v(b.value.providers)?b.value.providers.length:0,i=c+b.name+"_linkaccountsscreen",l=b.providerIconSize&&w(Dc,b.providerIconSize)?b.providerIconSize:16,k=F.prototype.render,e=e+'<ul class="capture_provider">',n=0;n<h;n++){e+='<li class="capture_provider_linked"><span class="';e+="janrain-provider-icon-"+l+" janrain-provider-icon-"+b.value.providers[n]+(b.customIcons?"-custom":"")+'">';e+='</span><span class="';e+="janrain-provider-text-"+b.value.providers[n]+(b.customIcons?"-custom":"")+'">'+(b.displayFormat?
ja({provider:b.value.providers[n],displayName:b.value.displayNames[n]},b.displayFormat):b.value.providers[n]);e+="</span>";if(rc||0!==n)e+='<span class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+b.value.providers[n]+'" data-captureidentifier="'+b.value.identifiers[n]+'"></span>';e+="</li>"}e+='<li class="capture_linkAccount"><a href="#" id="'+c+b.name+'_linknewlink">'+f+"</a></li>";e+="</ul></div>";y.push({elementName:b.name+"_linknewlink",
handler:function(b){janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:a});ha(document.getElementById(i));N(b)},eventType:"click"});y.push({elementName:b.name+"_currentlinkedaccounts",handler:function(b){var e=I(b);if(p(e).has("capture_remove_linkedaccount")){var d=e.getAttribute("data-captureidentifier");m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/profile.jsonp",elementId:"getUserData_form",fieldPrefix:c,captureScreen:a,needsResponse:!0,callback:function(){var b=e.getAttribute("data-captureprovider");janrain.events.onCaptureProfileUnlink.fire({provider:b});Cb(e.parentNode)},fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:d},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:d}]})}N(b)},eventType:"click"});e=e+'<div style="display: none;">'+('<div id="'+i+'" class="janrain-capture-ui capture-ui-content capture_addLinkedAccount">');
K&&K.modal&&(e+=k.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));e+='<div  id="'+c+b.name+'_linkAccountContainerContainer">';e+="</div></div></div>";y.push({handler:function(){var a=document.getElementById(c+d);document.getElementById(c+b.name+"_linkAccountContainerContainer").appendChild(a)},eventType:"render"});return e},errorMessages:function(){var b;b=""+F.prototype.render.htmlElement.div({elementName:"placed_error_container_"+
(new Date).getTime(),classes:["capture_form_error_container"]});return b+"</div>"},savedProfileMessage:function(){var b;b=""+F.prototype.render.htmlElement.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});return b+"</div>"},nameFull_public:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",a="";b.value.firstname&&(a+=b.justString?b.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+
b.value.firstname+"</span> ");b.value.middlename&&(a+=b.justString?b.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+b.value.middlename+"</span> ");b.value.lastname&&(a+=b.justString?b.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+b.value.lastname+"</span>");return a=b.justString?a:m.wrapStringData(b,a,"capture_stringdata_nameBlock")},nameFull:function(b){var a,c=F.prototype.render.htmlElement;a='<div class="capture_form_item capture_nameBlock">'+
c.input({elementName:b.name+"[firstname]",elementId:b.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:b.name,publicPrivateToggle:b.publicPrivateToggle,displayPublic:b.displayPublic,value:b.value&&b.value.firstname?b.value.firstname:"",placeholder:b.placeholder&&b.placeholder.firstname?b.placeholder.firstname:""});a+=c.input({elementName:b.name+"[middlename]",elementId:b.name+"_middlename",elementClasses:["capture_nameFull_middleName"],
type:"text",rendererChildFieldName:"middlename",rendererFieldName:b.name,value:b.value&&b.value.middlename?b.value.middlename:"",placeholder:b.placeholder&&b.placeholder.middlename?b.placeholder.middlename:""});a+=c.input({elementName:b.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:b.name+"_lastname",type:"text",rendererFieldName:b.name,rendererChildFieldName:"lastname",value:b.value&&b.value.lastname?b.value.lastname:"",placeholder:b.placeholder&&b.placeholder.lastname?
b.placeholder.lastname:""});return a+"</div>"},dateselect_public:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic||!b.value.dateselect_month||!b.value.dateselect_year||!b.value.dateselect_day)return"";var a="",c="",a=parseInt(b.value.dateselect_month,10),c=parseInt(b.value.dateselect_year,10),e=parseInt(b.value.dateselect_day,10);b.format?(a=new Date(c,a-1,e),c=b.format,c=c.replace("{yyyy}",a.getFullYear()),c=c.replace("{month}",Cc[a.getMonth()]),c=c.replace("{day}",Bc[a.getDay()]),
c=c.replace("{m}",a.getMonth()+1),c=c.replace("{d}",a.getDate())):c=a+"/"+e+"/"+c;return a=b.justString?c:m.wrapStringData(b,c,"capture_stringdata_dateselectBlock")},dateselect:function(b){function a(e){e=I(e);e=c(e);e=document.getElementById(e+"form_item_"+b.elementName);p(e).append("capture_focused").remove("capture_error");bc&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()}function g(a){a=I(a);a=c(a);a=document.getElementById(a+"form_item_"+b.elementName);p(a).remove("capture_focused")}
var e='<div id="'+(b.fieldPrefix||J)+"form_item_"+b.name+'" class="capture_form_item capture_dateselectBlock">',f,h,i,l=v(b.format)&&3===b.format.length?b.format:["month","day","year"];h=b.value&&b.value.dateselect_day?b.value.dateselect_day:"";f=b.value&&b.value.dateselect_year?b.value.dateselect_year:"";i=[{text:"month",value:"",disabled:!0},{text:"January",value:1},{text:"February",value:2},{text:"March",value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},
{text:"August",value:8},{text:"September",value:9},{text:"October",value:10},{text:"November",value:11},{text:"December",value:12}];var k=b.monthStart||1,n=b.monthEnd||13,o=b.dayStart||1,q=b.dayEnd||31,s=b.yearStart||1929,x=b.yearEnd||2012;i={elementName:b.name+"[dateselect_month]",elementId:b.name+"_dateselectmonth",rendererFieldName:b.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],justElement:!0,value:b.value&&b.value.dateselect_month?b.value.dateselect_month:
"",options:i.slice(0,1).concat(i.slice(k,n))};h={elementName:b.name+"[dateselect_day]",elementId:b.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:b.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:h,options:d(o,q,"asc","day")};s=parseInt(s,10);x=parseInt(x,10);f={elementName:b.name+"[dateselect_year]",justElement:!0,elementId:b.name+"_dateselectyear",rendererFieldName:b.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],
value:f,options:d(s,x,"desc","year")};for(s=0;3>s;s++){var w;switch(l[s]){case "month":w=i;break;case "day":w=h;break;case "year":w=f}0===s&&(w.label=b.label,w.publicPrivateToggle=b.publicPrivateToggle,w.displayPublic=b.displayPublic);2===s&&(w.tip=b.tip,w.justElement=!1);e+=m.createSelect(w)}e+="</div>";y.push({elementName:b.name+"_dateselectyear",handler:a,eventType:"focus"});y.push({elementName:b.name+"_dateselectyear",handler:g,eventType:"blur"});y.push({elementName:b.name+"_dateselectday",handler:a,
eventType:"focus"});y.push({elementName:b.name+"_dateselectday",handler:g,eventType:"blur"});y.push({elementName:b.name+"_dateselectmonth",handler:a,eventType:"focus"});y.push({elementName:b.name+"_dateselectmonth",handler:g,eventType:"blur"});return e},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c="",c="";a.value.streetaddress&&(c+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&
(c+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(c+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&(c+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(c+='<span class="capture_stringdata_addressBlock_zippostalcode">'+
a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+="</div>";a.value.country&&(c+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return c=m.wrapStringData(a,c,"capture_stringdata_addressBlock")},addressFull:function(a){var d,g=F.prototype.render.htmlElement;a.value||(a.value={});a.value.country||(a.value.country="United States");d='<div class="capture_form_item capture_addressBlock">'+g.input({elementName:a.name+"[streetaddress]",
elementId:a.name+"_streetaddress",label:"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});d+=g.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,
value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});d+=g.input({elementName:a.name+"[city]",elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});d+=F.prototype.render.captureElement.stateSelect({elementName:a.name+
"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:""});y.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});d+=g.input({elementName:a.name+"[zippostalcode]",elementId:a.name+
"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});d+=F.prototype.render.captureElement.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],
value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});y.push({elementName:a.name+"_country",handler:function(e){var e=I(e),e=c(e),d=this.options[this.selectedIndex].value||"",g=document.getElementById(e+a.name+"_stateprovince");"United States"===d||"Canada"===d?document.getElementById(e+"form_item_"+a.name+"[stateprovince]").style.display="inline-block":(g.selectedIndex=0,document.getElementById(e+"form_item_"+a.name+"[stateprovince]").style.display=
"none")},eventType:"change"});return d+"</div>"},backButton:function(a){var c;a.type="button";c=""+m.createInput(a);a.type="backButton";y.push({elementName:a.elementName,handler:function(){fc=!1;var a=Ya.pop();a&&janrain.capture.ui.render(a.flow,a.values)},eventType:"click"});return c},partial:function(a){var c=document.getElementById(a.layout);if(c)return c.innerHTML;throw B(a.layout);},photoManager:function(a){function d(c){var e=document.getElementById(k+a.name+"_profile_pic_uploadform_container"),
g=m.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+"/widget/photo/upload_photo.jsonp",classes:[],fieldPrefix:k,captureScreen:l,needsResponse:!0,elementId:"upload_photo_form",callback:function(){},fields:[{elementName:"photo",elementId:"photo_chooser",elementType:"file"},{elementName:"photo_submit",elementId:"photo_submit",elementValue:"Upload",classes:["capture_btn","capture_primary"],hideElement:!1,containerDiv:!0,containerDivClasses:["capture_footer"],elementType:"submit"}]});
e.innerHTML="";e.appendChild(g);ha(document.getElementById(q));c&&N(c)}function g(c){if(0<parseInt(c.unscaled.width)){n=c;var e=c.unscaled.height/c.sizedHeight,d=Math.round(100/(c.unscaled.width/c.sizedWidth)),g=document.getElementById(k+a.name+"_profile_pic_image_edit"),e=Math.round(100/e);"none"===g.style.display&&(g.style.display="block");g.style.width=d+"px";g.style.height=e+"px";g.style.marginLeft="-"+Math.round(c.unscaled.left/c.sizedWidth*d)+"px";g.style.marginTop="-"+Math.round(c.unscaled.top/
c.sizedHeight*e)+"px"}}function e(){if(o)return!1;var c=document.getElementById(k+a.name+"_profile_pic_image_edit_crop");crop(c,g,450,450,function(){janrain.events.onCaptureContentChange.fire()});c.style.display="inline";o=!0}function f(a){I(a);var a=n.sizedWidth/n.originalWidth,b=n.sizedHeight/n.originalHeight;document.getElementById(k+"width").value=Math.round(n.unscaled.width/a);document.getElementById(k+"height").value=Math.round(n.unscaled.height/b);document.getElementById(k+"x").value=Math.round(n.unscaled.left/
a);document.getElementById(k+"y").value=Math.round(n.unscaled.top/b)}if(v(a.value)&&a.value.length){la={};for(var h=0,i=a.value.length;h<i;h++)la[a.value[h].type]=a.value[h]}else la=!1;var h=m.createDiv({elementName:a.elementName}),l=V,k=a.fieldPrefix||J,n,o=!1,p=(i="object"===typeof la)?"":"capture_profile_pic ",q=k+a.name+"_uploadphotoscreen",s=k+a.name+"_editphotoscreen";a.customText||(a.customText={});var x=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",z=a.customText.editProfilePhotoTitlePhotoManager||
"Profile Photo",A=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",B=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",D=a.customText.removePhotoLinkPhotoManager||"Remove photo",E=a.customText.editPhotoLinkPhotoManager||"Edit Photo",F=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo";Cb(document.getElementById(q));Cb(document.getElementById(s));h+='<div id="'+k+a.name+'_profile_pic" class="'+p+'capture_profile_pic_display capture_default">';
i&&la.large&&(h+=m.createImage({src:la.large.value,imageId:a.name+"_profile_pic_image"}));h=h+"&nbsp;</div>"+m.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:B,anchorHref:"#",anchorClasses:[],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:E,anchorHref:"#",anchorClasses:["three","four"],anchorId:"edit_photo_link",hide:!i},{listItemId:"remove_photo",listItemClasses:[],anchorText:D,anchorHref:"#",anchorClasses:["three","four"],anchorId:"remove_photo_link",
hide:!i}],["options"]);h=h+'</div><div style="display: none;">'+('<div id="'+q+'" class="janrain-capture-ui capture-ui-content capture_med_footer">')+'<div class="capture_header">'+("<h1>"+x+"</h1>")+"</div>"+('<div id="'+k+a.name+'_profile_pic_upload" class="'+p+'capture_profile_pic_upload capture_default">');i&&la.normal&&(h+=m.createImage({src:la.normal.value,imageId:a.name+"_profile_pic_image_upload"}));h=h+"&nbsp;</div>"+('<div id="'+k+a.name+'_profile_pic_uploadform_container" class="capture_uploadPhoto_container">');
h=h+'</div></div></div><div style="display: none;">'+('<div id="'+s+'" class="janrain-capture-ui capture-ui-content capture_med_footer">')+'<div class="capture_header">'+("<h1>"+z+"</h1>")+"</div>"+('<div id="'+k+a.name+'_profile_pic_edit" class="'+p+'capture_profile_pic_edit capture_default">');i&&la.original&&(h+=m.createImage({src:la.original.value,imageId:a.name+"_profile_pic_image_edit"}));h=h+"&nbsp;</div>"+('<div id="'+k+a.name+'_profile_pic_editPhoto_container" class="capture_editPhoto_container">');
h+="<h2>"+A+"</h2>";i&&la.original&&(h+=m.createImage({src:la.original.value,imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}));var h=h+"</div></div></div>",G=m.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+"/widget/photo/crop_photo.jsonp",fieldPrefix:k,captureScreen:l,needsResponse:!0,elementId:"crop_photo_form",fields:[{elementName:"",classes:["capture_popup-arrow"],elementType:"div"},{elementId:"width",elementName:"width",elementType:"hidden"},
{elementId:"height",elementName:"height",elementType:"hidden"},{elementId:"x",elementName:"x",elementType:"hidden"},{elementId:"y",elementName:"y",elementType:"hidden"},{elementValue:"Save",elementId:a.name+"_edit_photo_submit",elementName:"edit_photo_submit",hideElement:!1,containerDiv:!0,containerDivClasses:["capture_footer"],classes:["capture_btn","capture_primary"],elementType:"submit"}],callback:function(){}});y.push({eventType:"render",handler:function(){var c=document.createElement("a");c.innerHTML=
F;c.setAttribute("href","#");L(c,"click",d);document.getElementById(k+a.name+"_profile_pic_editPhoto_container").appendChild(G);var e=document.getElementById(k+a.name+"_edit_photo_submit");e.parentNode.insertBefore(c,e);L(G,"submit",f)}});y.push({elementName:"upload_photo_link",handler:d,eventType:"click"});y.push({elementName:"edit_photo_link",handler:function(a){"function"!==typeof crop?ia("http://janrain-widgets.s3.amazonaws.com/crop/crop.js",e):setTimeout(e,50);ha(document.getElementById(s));
N(a)},eventType:"click"});y.push({elementName:"remove_photo_link",handler:function(a){var b=I(a),e=c(b);if(!document.getElementById(e+"remove_photo_contain")){var d=m.domHelpers.createDiv({elementId:"remove_photo_contain",fieldPrefix:e,classes:["capture_popup_container pad"]}),b=m.domHelpers.createAnchor({elementHref:"#",fieldPrefix:e,elementText:"Remove",elementId:"confirm_remove_photo_link"}),g=m.domHelpers.createAnchor({elementHref:"#",fieldPrefix:e,elementId:"cancel_remove_photo_link",elementText:"Cancel"});
d.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';d.appendChild(b);d.appendChild(g);document.getElementById(e+"remove_photo").appendChild(d);var f=function(a){var b=[e+"createFormAndPostSubmit",e+"confirm_remove_photo_link",e+"remove_photo_link"],c=I(a).getAttribute("id")||"";!w(b,I(a).getAttribute("id"))&&0>c.indexOf(e+"createFormAndPostSubmit_")&&(d.innerHTML="",Cb(d),tc(document,"click",f),N(a))};L(g,"click",f);L(document,"click",f);L(b,"click",function(a){m.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/photo/delete_photo.jsonp",fieldPrefix:e,captureScreen:l,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});N(a)});N(a)}},eventType:"click"});return h},collection:{radio:function(a){for(var c=a.fieldPrefix||J,d=m.createDiv({elementName:a.elementName,classes:a.classes||""}),e=0;e<a.collection.length;e++)d+="<div class='capture_radio_toggle",d+=(0===e?" capture_toggled":"")+"'>",d+="<input type='radio' id='"+c+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+
a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",d+="<label ",d+="class='capture_radio_label' ",d+="for='"+c+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",d+="</label></div>",y.push({elementName:"radio_"+a.collection[e].elementName,handler:function(c){fa(c,a)},eventType:"click"});return d+"</div>"},accordion:function(){return"<div>"},tab:function(a){for(var c,d=[],e=m.createDiv({elementName:a.elementName,classes:a.classes||""}),f=0;f<a.collection.length;f++)c=
{},c.listItemId="tab_li_"+a.collection[f].elementName,c.listItemClasses=["capture_tab_toggle"],0===f&&c.listItemClasses.push("capture_toggled"),c.anchorId="tab_"+a.collection[f].elementName,c.anchorText=a.collection[f].label,c.anchorHref="#",d.push(c),y.push({elementName:"tab_"+a.collection[f].elementName,handler:function(c){fa(c,a)},eventType:"click"});e+=m.createListOfLinks(d,["capture_tabs"]);return e+"</div>"}}},widget:{login:function(){y.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),
b=document.getElementById(J+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=pa();janrain.engage.signin.appendTokenParams({capture_transactionId:c});ob=c}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());sb||ca()},eventType:"render"});var a=m.createDiv({elementName:"login_widget",
classes:["login_widget"]});return a+"</div>"},share:function(){}}};Tb.accessDenied='<div class="capture_access">'+(Ua.accessDenied||"Sorry. Access denied.")+"</div>";Tb.retrievingUserData='<div class="capture_retrieving">'+(Ua.retrievingUserData||"Please wait while we retrieve your user data.")+"</div>";var ac=[],O={};return{modal:{close:function(){"object"==typeof z&&z.close()},closeConfirm:function(){"object"==typeof z&&z.closeConfirm()},open:function(a){a=a||K.flow.defaultScreen;if("object"==typeof z&&
(janrain.capture.ui.renderScreen(a),a=document.getElementById(q.screens[a].layout)))z.setShowContentOnLoad(!0),z.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof z&&(z.setBorder(a),z.refresh());return!0},setBorderColor:function(a){"object"===typeof z&&(z.setBorderColor(a),z.refresh());return!0},setBorderOpacity:function(a){"object"===typeof z&&(z.setBorderOpacity(a),z.refresh());return!0},setBorderRadius:function(a){"object"==typeof z&&(z.setBorderRadius(a),
z.refresh());return!0}},start:function(b,c){a(b,c)},hasActiveSession:function(){return!!ma},render:function(a,c){a.i18nStrings&&(Ua=a.i18nStrings);if(a.version)Gb=a.version;else throw Error("MissingVersionError: Missing version.");ua(a);rc=a.hasTraditionalAccount;ub=a.form;if(rc)for(var d=Na("janrain_traditional_account_only"),e=d.length,f=0;f<e;f++)d[f].style.display="block";d=new sa;e=q.oneTimeRender||janrain.settings.capture.screenToRender||q.defaultScreen;d.setScreenData(e,q.screens[e]);if(c)for(var h in c)c[h].id&&
c[h].value&&(d=document.getElementById(c[h].id),d.value=c[h].value,"radio"===c[h].type&&(d.checked=c[h].checked,c[h].checked&&d.click()))},renderScreen:function(a,c){fc=!1;c||Ya.push(K);(new sa).setScreenData(a,q.screens[a])},setHandler:function(a,c,d){this.setFieldAttribute(a,c+"Handler",d)},setFieldAttribute:function(a,c,d){Za.push({field:a,attribute:c,value:d})},setRenderer:function(a,c,d){F.prototype.render[a].helpers=$b;F.prototype.render[a][c]=d},setValidator:function(a,c){D.prototype[a]=c},
registerFunction:function(a,c){O[a]=c},addRenderer:function(a,c,d){this.setRenderer(a,c,d)},trackLoadedCssFiles:function(a){lc.push(a)},handleCaptureUniqueResponse:function(a){Nb(a)},handleCaptureResponse:function(a,c){var d;if("ok"===a.stat&&(d=a.result,d.accessToken&&d.oneTime&&(l=d.accessToken,ib=!0),d.accessToken&&!d.oneTime&&Ba(d.accessToken),d&&d.status)){lb[d.transactionId]=d;"success"===d.status?(janrain.events.onCaptureSuccessfulSave.fire(d),l&&!ib?l="":ib=!1):janrain.events.onCaptureFailedSave.fire(d);
"profile"===d.action&&d.statusMessage&&"profileFound"!==d.statusMessage&&("success"===d.status?(jb=!0,janrain.events.onCaptureSuccessfulProfileSave.fire(d)):janrain.events.onCaptureFailedProfileSave.fire(d));if("traditionalSignin"===d.action||"socialSignin"===d.action||"ssoSignin"===d.action)if("success"===d.status){if(d.authorizationCode){var e;e=janrain.settings.capture.redirectUri;var f={code:d.authorizationCode},h=-1<e.indexOf("?")?"&":"?",i=[],k;for(k in f)f.hasOwnProperty(k)&&i.push(k+"="+encodeURIComponent(f[k]));
e=e+h+i.join("&");d.redirectUri=e}if(d.accessToken||d.authorizationCode)janrain.events.onCaptureSuccessfulLogin.fire(d),("traditionalSignin"===d.action||"socialSignin"===d.action)&&$(d.action),janrain.settings.capture.federate&&d.sso&&d.ssoCode&&Ta(d.ssoCode),janrain.settings.capture.federate&&d.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(d),Ma(d.transactionId),Sa=!0);d.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=e)}else janrain.events.onCaptureFailedLogin.fire(d);
if("traditionalRegister"===d.action||"socialRegister"===d.action)if("success"===d.status){if(janrain.events.onCaptureSuccessfulRegistration.fire(d),d.accessToken||d.authorizationCode)"socialRegister"===d.action?$("socialSignin"):$("traditionalSignin"),janrain.settings.capture.federate&&d.sso&&d.ssoCode&&Ta(d.ssoCode)}else janrain.events.onCaptureFailedRegistration.fire(d);d.userData&&janrain.settings.capture.setProfileCookie&&(d=d.userData,k=Y(),(new Q).setExpirationDirectly(k).setName("janrainCaptureProfileData").setValue(E.stringify(d)).create())}"function"===
typeof c&&c()},handleErrorResponse:function(a,c){a.result&&a.result.error&&"access_token_expired"===a.result.error&&(Aa(),janrain.events.onCaptureExpiredToken.fire());var d=a.result.error+": "+a.result.errorDescription;if(Qb){var e=m.domHelpers.createDiv({classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()});e.innerHTML=d;Qb.insertBefore(e,Qb.firstChild);janrain.events.onCaptureContentChange.fire()}Qb||alert(d);aa(a);"function"===typeof c&&c()},createCaptureSession:function(a){Ba(a)},
endCaptureSession:function(){Aa()},addTransactionIds:function(a){G(a)},getFailedLogins:function(){return Hb},setCustomHtml:function(a,c){w(Wb,a)&&(Tb[a]=c)},getEngageCookie:function(a){return wb(a)},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);Ma(a.transactionId);ra();Sa=!0},federateSetLoginSuccess:function(a){Ma(a)},validationHandler:function(a){var c=document.getElementById(a.elementId),d=new m.validation;d.setParentDiv(c);a.valid?d.valid():d.notValid(a.reason)}}};
return{engage:{signin:janrain&&janrain.engage&&janrain.engage.signin?janrain.engage.signin:da,share:janrain&&janrain.engage&&janrain.engage.share?janrain.engage.share:ca,publish:janrain&&janrain.engage&&janrain.engage.publish?janrain.engage.publish:cb,simpleshare:janrain&&janrain.engage&&janrain.engage.simpleshare?janrain.engage.simpleshare:db},capture:{ui:Fc}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;