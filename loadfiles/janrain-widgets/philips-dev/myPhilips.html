<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<link href="http://cdn.quilt.janrain.com/2.1.0/quilt.css" media="all" rel="stylesheet" type="text/css" />
		<style type="text/css">
		ul.unstyled {
			margin-bottom: 10px;
		}
		div.inline {
			margin-right: 10px;
			margin-bottom: 10px;
		}
		ul.unstyled h2 {
			padding: 0;
		}
		ul.unstyled li {
			display: inline-block;
			margin-right: 65px;
		}
		ul.unstyled li:last-child {
			margin-right: 0;
		}
		</style>

		<script type="text/javascript">
			function getCookie(name) {
				var nameEQ = name + "=";
				var cookies = document.cookie.split(';');
				for(var i = 0; i < cookies.length; i++) {
					var c = cookies[i];
					while (c.charAt(0) == ' ') c = c.substring(1, c.length);
					if (c.indexOf(nameEQ) == 0) {
						return c.substring(nameEQ.length, c.length);
					}
				}
				return null;
			}
			function selectLang(selectElem) {
				document.cookie = 'lang=' + selectElem.options[selectElem.selectedIndex].value + '; path=/';
				window.location.reload();
			}
			(function() {
				if (typeof window.janrain !== 'object') window.janrain = {};
				window.janrain.settings = {};
				window.janrain.settings.capture = {};

				janrain.settings.capture.redirectUri = 'https://' + window.location.hostname + '/philips-dev/';
				janrain.settings.capture.responseType = 'token';
				janrain.settings.capture.captureServer = 'https://philips.dev.janraincapture.com';
				janrain.settings.capture.clientId = 'a6424v37rky827mn22ht7byaswxw3ns5';
				janrain.settings.capture.appId= 'eupac7ugz25x8dwahvrbpmndf8';
				janrain.settings.capture.registerFlow = 'socialRegistration';
				janrain.settings.capture.flowVersion = 'HEAD';
				janrain.settings.capture.flowName = 'editProfile';
				janrain.settings.capture.recaptchaPublicKey = '6LeVKb4SAAAAAGv-hg5i6gtiOV4XrLuCDsJOnYoP';
				janrain.settings.capture.setProfileData = '';
				janrain.settings.capture.stylesheets = ['stylesheets/philips.css'];
				janrain.settings.capture.confirmModalClose = '';
				janrain.settings.capture.modalCloseHtml = '<span class="janrain-icon-16 janrain-icon-ex2"><\/span>';
				janrain.settings.capture.modalBorderColor = '#7AB433';
				janrain.settings.capture.noModalBorderInlineCss = true;
				janrain.settings.capture.screenToRender = 'publicProfile';
				janrain.settings.tokenUrl = 'https://localhost/';
				janrain.settings.type = 'embed';
				janrain.settings.appId = 'bdbppnbjfcibijknnfkk';
				janrain.settings.appUrl = 'https://philips-dev.rpxnow.com';
				janrain.settings.providers = ['twitter','google','yahoo','blogger','flickr','livejournal','aol','openid'];
				janrain.settings.providersPerPage = '4';
				janrain.settings.format = 'one row';
				janrain.settings.actionText = ' ';
				janrain.settings.showAttribution = true;
				janrain.settings.fontColor = '#965151';
				janrain.settings.fontFamily = 'lucida grande, Helvetica, Verdana, sans-serif';
				janrain.settings.backgroundColor = '#ffffff';
				janrain.settings.width = '162';
				janrain.settings.borderColor = '#ffffff';
				janrain.settings.borderRadius = '0';
				janrain.settings.buttonBorderColor = '#ffffff';
				janrain.settings.buttonBorderRadius = '0';
				janrain.settings.buttonBackgroundStyle = 'gradient';
				janrain.settings.tokenAction = 'event';

				janrain.settings.language = getCookie('lang');
				if (!janrain.settings.language) {
					janrain.settings.language = 'en-GB';
				}

				janrain.settings.packages = ['login', 'capture'];

				function isReady() { janrain.ready = true; };
				if (document.addEventListener) {
					document.addEventListener("DOMContentLoaded", isReady, false);
				} else {
					window.attachEvent('onload', isReady);
				}

				var e = document.createElement('script');
				e.type = 'text/javascript';
				e.id = 'janrainAuthWidget'

				var url = document.location.protocol === 'https:' ? 'https://' : 'http://';
				url += 'd16s8pqtk4uodx.cloudfront.net';
				url += '/philips-dev/load.js';
				e.src = url;
				var s = document.getElementsByTagName('script')[0];
				s.parentNode.insertBefore(e, s);
			})();

			function janrainCaptureWidgetOnLoad() {
				var langSelElem = document.getElementById('select_language');
				for (var i = 0; i < langSelElem.options.length; i++) {
					if (langSelElem.options[i].value == janrain.settings.language) {
						langSelElem.selectedIndex = i;
						continue;
					}
				}

				janrain.capture.ui.start();

				janrain.events.onCaptureSessionFound.addHandler(function(result){
					console.log('onCaptureSessionFound')
				});
				janrain.events.onCaptureSessionNotFound.addHandler(function(result){
					console.log('onCaptureSessionNotFound');
				});
				janrain.events.onCaptureLoginSuccess.addHandler(function(result) {
					console.log('onCaptureLoginSuccess');
					alert('You have successfully logged in');
					janrain.capture.ui.modal.close()
				});
				janrain.events.onCaptureServerValidationFailed.addHandler(function(result) {
					console.log('onCaptureServerValidationFailed', result);
				});
				janrain.events.onCaptureError.addHandler(function(result) {
					console.log('onCatpureError', result);
				})
				janrain.events.onCaptureRegistrationSuccess.addHandler(function(result) {
					console.log('onCaptureRegistrationSuccess');
					window.location.href = 'http://www.philips.com';
				});
				janrain.events.onCaptureSessionEnded.addHandler(function(result){
					window.location.href = 'index.html';
				});
				janrain.events.onCaptureRenderComplete.addHandler(function(result) {
					var passwordResetFunc = function(redirectURIField) {
						redirectURIField.value = 'http://' + window.location.hostname + '/philips-dev/reset-password.html?foo=1&bar=baz';
					};
					var emailVerifyFunc = function(redirectURIField) {
						var emailVerifyURL = 'http://' + window.location.hostname + '/philips-dev/verify-email.html?foo=1&bar=baz';
						redirectURIField.value = emailVerifyURL;
						janrain.settings.capture.redirectUri = emailVerifyURL;
					};
					var funcTable = {
						'emailAddressForm': emailVerifyFunc,
						'forgotPasswordForm': passwordResetFunc,
						'registrationForm': emailVerifyFunc,
						'registrationFormBlank': emailVerifyFunc,
						'resendVerificationForm': emailVerifyFunc,
						'resetPasswordForm': passwordResetFunc,
						'socialRegistrationForm': emailVerifyFunc,
						'socialRegistrationNoEmailFinishForm': emailVerifyFunc
					}
					for (var i in document.forms) {
						var form = document.forms[i];
						if (funcTable[form.name] && form.redirect_uri) {
							funcTable[form.name](form.redirect_uri);
						}
					}
				});
				janrain.capture.ui.registerFunction('passwordValidation', function(name, value) {
					return /([a-zA-Z].*[0-9._@$])|([0-9].*[a-zA-Z._@$])|([._@$].*[a-zA-Z0-9])/.test(value);
				});
			}
		</script>
	</head>
	<body>
		<div class="global_nav">
			<div class="wrapper">
				<ul class="nav-list">
					<li><a href="index.html">Home</a></li>
					<li><a href="myPhilips.html" class="selected">MyPhilips</a></li>
					<li><a href="registration.html">Register</a></li>
					<li><a href="edit-account.html">Edit Account</a></li>
					<li>
						<select id="select_language" onchange="selectLang(this)" style="margin: 14px 0 14px 15px;">
							<option value="bg-BG">bg-BG</option>
							<option value="cs-CZ">cs-CZ</option>
							<option value="da-DK">da-DK</option>
							<option value="de-AT">de-AT</option>
							<option value="de-CH">de-CH</option>
							<option value="de-DE">de-DE</option>
							<option value="el-GR">el-GR</option>
							<option value="en-AU">en-AU</option>
							<option value="en-CA">en-CA</option>
							<option value="en-GB" selected="selected">en-GB</option>
							<option value="en-HK">en-HK</option>
							<option value="en-ID">en-ID</option>
							<option value="en-IE">en-IE</option>
							<option value="en-IN">en-IN</option>
							<option value="en-MY">en-MY</option>
							<option value="en-NZ">en-NZ</option>
							<option value="en-PH">en-PH</option>
							<option value="en-PK">en-PK</option>
							<option value="en-SA">en-SA</option>
							<option value="en-SG">en-SG</option>
							<option value="en-US">en-US</option>
							<option value="en-ZA">en-ZA</option>
							<option value="es-AR">es-AR</option>
							<option value="es-CL">es-CL</option>
							<option value="es-CO">es-CO</option>
							<option value="es-ES">es-ES</option>
							<option value="es-MX">es-MX</option>
							<option value="es-PA">es-PA</option>
							<option value="es-PE">es-PE</option>
							<option value="es-UY">es-UY</option>
							<option value="es-VE">es-VE</option>
							<option value="et-EE">et-EE</option>
							<option value="fi-FI">fi-FI</option>
							<option value="fr-CA">fr-CA</option>
							<option value="fr-FR">fr-FR</option>
							<option value="fr-BE">fr-BE</option>
							<option value="fr-CH">fr-CH</option>
							<option value="hr-HR">hr-HR</option>
							<option value="hu-HU">hu-HU</option>
							<option value="it-IT">it-IT</option>
							<option value="ja-JP">ja-JP</option>
							<option value="ko-KR">ko-KR</option>
							<option value="lt-LT">lt-LT</option>
							<option value="lv-LV">lv-LV</option>
							<option value="nl-BE">nl-BE</option>
							<option value="nl-NL">nl-NL</option>
							<option value="no-NO">no-NO</option>
							<option value="pl-PL">pl-PL</option>
							<option value="pt-BR">pt-BR</option>
							<option value="pt-PT">pt-PT</option>
							<option value="ro-RO">ro-RO</option>
							<option value="ru-UA">ru-UA</option>
							<option value="ru-RU">ru-RU</option>
							<option value="sk-SK">sk-SK</option>
							<option value="sl-SI">sl-SI</option>
							<option value="sv-SE">sv-SE</option>
							<option value="th-TH">th-TH</option>
							<option value="tr-TR">tr-TR</option>
							<option value="vi-VN">vi-VN</option>
							<option value="zh-CN">zh-CN</option>
							<option value="zh-HK">zh-HK</option>
							<option value="zh-TW">zh-TW</option>
						</select>
					</li>
				</ul>
			</div>
		</div>
		<div class="wrapper section">
			<div class="grid-block">
				<div class="col250">&nbsp;</div>
				<div class="col125">
					<div class="contentBoxWhiteShadow">
						<div style="display:none;" id="publicProfile">
							<ul class="unstyled">
								<li>
									<h2>Welcome</h2>
								</li>
								<li>
									<a href="edit-account.html">edit profile</a>
								</li>
								<li>
									<a href="#" class="capture_end_session">log out</a>
								</li>
							</ul>
							<div class="inline">
								{* profilePhotoCustom *}
							</div>
							<div class="inline">
								{* name *}
							</div>
							<div class="capture_data_item">
								<label>last time logged in:</label>
								<div class="capture_data">
									{* display_lastLogIn *}
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>

