var nitroProtocol="http";if(document.location.toString().indexOf("https://")!=-1){nitroProtocol="https"}if(typeof nitroLibsVersion=="undefined"){nitroLibsVersion="current"}if(typeof NitroJSConnector=="undefined"){document.write('<script type="text/javascript" src="'+nitroProtocol+"://assets.bunchball.net/scripts/JSConnector/"+nitroLibsVersion+'/NitroJSConnector.js"><\/script>')}if(typeof NitroNotifier=="undefined"){NitroNotifier={};NitroNotifier.raiseOffset=0;NitroNotifier.notifications=[];NitroNotifier.pending=[];NitroNotifier.raiseTimeStep=15;NitroNotifier.raiseInterval=5;NitroNotifier.showInterval=500;NitroNotifier.delayInterval=500;NitroNotifier.fadeDuration=100;NitroNotifier.fadeTimeStep=15;NitroNotifier.fadeInterval=NitroNotifier.fadeDuration/NitroNotifier.fadeTimeStep;NitroNotifier.delayTimer=0;NitroNotifier.raiseTimer=0;NitroNotifier.showTimer=0;NitroNotifier.fadeTimer=0;NitroNotifier.notificationsDiv=document.createElement("div");NitroNotifier.notificationsDiv.setAttribute("id","nitro_notices");NitroNotifier.notificationsDiv.setAttribute("class","nitro_notices");NitroNotifier.notificationsDiv.setAttribute("className","nitro_notices");document.body.insertBefore(NitroNotifier.notificationsDiv,null);NitroNotifier.styles_written=[];NitroNotifier.notices_styles=".nitro_notice_br_v{position:fixed;top:100%;right:0px;z-index:10;}";NitroNotifier.notices_styles+=".nitro_notice_bl_v{position:fixed;top:100%;left:0px;z-index:10;}";NitroNotifier.notices_styles+=".nitro_notice_bc_v{position:fixed;top:100%;left:0px;z-index:10;}";NitroNotifier.notices_styles+=".nitro_notice_tr_v{position:fixed;bottom:100%;right:0px;z-index:10;}";NitroNotifier.notices_styles+=".nitro_notice_tl_v{position:fixed;bottom:100%;left:0px;z-index:10;}";NitroNotifier.notices_styles+=".nitro_notice_br_h{position:fixed;bottom:0px;left:100%;z-index:10;}";NitroNotifier.notices_styles+=".nitro_notice_bl_h{position:fixed;bottom:0px;right:100%;z-index:10;}";NitroNotifier.notices_styles+=".nitro_notice_bc_h{position:fixed;top:0px;right:100%;z-index:10;}";NitroNotifier.notices_styles+=".nitro_notice_tr_h{position:fixed;top:0px;left:100%;z-index:10;}";NitroNotifier.notices_styles+=".nitro_notice_tl_h{position:fixed;top:0px;right:100%;z-index:10;}";if(!window.XMLHttpRequest){NitroNotifier.notices_styles=".nitro_notice_br_v{position:fixed;top:100%;right:0px;z-index:10;}* html .nitro_notice_br_v{position:absolute;}";NitroNotifier.notices_styles+=".nitro_notice_bl_v{position:fixed;top:100%;left:0px;z-index:10;}* html .nitro_notice_bl_v{position:absolute;}";NitroNotifier.notices_styles+=".nitro_notice_bc_v{position:fixed;top:100%;left:0px;z-index:10;}* html .nitro_notice_bc_v{position:absolute;}";NitroNotifier.notices_styles+=".nitro_notice_tr_v{position:fixed;bottom:100%;right:0px;z-index:10;}* html .nitro_notice_tr_v{position:absolute;}";NitroNotifier.notices_styles+=".nitro_notice_tl_v{position:fixed;bottom:100%;left:0px;z-index:10;}* html .nitro_notice_tl_v{position:absolute;}";NitroNotifier.notices_styles+=".nitro_notice_br_h{position:fixed;bottom:0px;left:100%;z-index:10;}* html .nitro_notice_br_h{position:absolute;}";NitroNotifier.notices_styles+=".nitro_notice_bl_h{position:fixed;bottom:0px;right:100%;z-index:10;}* html .nitro_notice_bl_h{position:absolute;}";NitroNotifier.notices_styles+=".nitro_notice_bc_h{position:fixed;top:0px;right:100%;z-index:10;}* html .nitro_notice_bc_h{position:absolute;}";NitroNotifier.notices_styles+=".nitro_notice_tr_h{position:fixed;top:0px;left:100%;z-index:10;}* html .nitro_notice_tr_h{position:absolute;}";NitroNotifier.notices_styles+=".nitro_notice_tl_h{position:fixed;top:0px;right:100%;z-index:10;}* html .nitro_notice_tl_h{position:absolute;}"}if(document.compatMode=="BackCompat"){NitroNotifier.notices_styles+="* html .nitro_notice_br_v{position:absolute;}";NitroNotifier.notices_styles+="* html .nitro_notice_bl_v{position:absolute;}";NitroNotifier.notices_styles+="* html .nitro_notice_bc_v{position:absolute;}";NitroNotifier.notices_styles+="* html .nitro_notice_tr_v{position:absolute;}";NitroNotifier.notices_styles+="* html .nitro_notice_tl_v{position:absolute;}";NitroNotifier.notices_styles+="* html .nitro_notice_br_h{position:absolute;}";NitroNotifier.notices_styles+="* html .nitro_notice_bl_h{position:absolute;}";NitroNotifier.notices_styles+="* html .nitro_notice_bc_h{position:absolute;}";NitroNotifier.notices_styles+="* html .nitro_notice_tr_h{position:absolute;}";NitroNotifier.notices_styles+="* html .nitro_notice_tl_h{position:absolute;}"}var styleElement=document.createElement("div");styleElement.innerHTML="<br><style>"+NitroNotifier.notices_styles+"</style>";document.getElementsByTagName("head")[0].appendChild(styleElement);NitroNotifier.showPendingNotifications=function(b,g,d,c,a){if(!d){var d="null"}var d=g+"|"+d;if(g==null||g==""){d=null}var f="";if(c!=null){f+="&returnCount="+c}if(b.tags!=null){f+="&tags="+b.tags}if(a!=null){f+="&locale="+a}var e="user.getPendingNotifications"+f;NitroNotifier.util.makeAPICall(b,e,d,true)};NitroNotifier.showNotificationsByName=function(a,c,f,b,d){if(typeof c=="undefined"){c=a.notificationNames}if(!b){var b="null"}var b=f+"|"+b;if(f==null||f==""){b=null}if(d==null){var d=false}var e="user.getNotificationsByName&notificationNames="+c+"&previewMode="+d;NitroNotifier.util.makeAPICall(a,e,b,true)};NitroNotifier.getNotificationsFeed=function(a,g,c,f,b){var e="";if(f!=null){e+="&userIds="+f}if(b!=null){e+="&returnCount="+b}if(a.tags!=null){e+="&tags="+a.tags}if(!c){var c="null"}var c=g+"|"+c;if(g==null||g==""){c=null}var d="site.getNotificationsFeed"+e;NitroNotifier.util.makeAPICall(a,d,c,false)};NitroNotifier.closeNotification=function(a){if(a==null){return}if(a.parentNode.className=="nitro_notices"){a.parentNode.removeChild(a)}else{NitroNotifier.closeNotification(a.parentNode)}};NitroNotifier.showNotification=function(a){NitroNotifier.newDiv=document.createElement("div");NitroNotifier.newDiv.setAttribute("class","nitro_notice_br_v");NitroNotifier.newDiv.setAttribute("className","nitro_notice_br_v");if(typeof a.html!="undefined"){NitroNotifier.newDiv.innerHTML=a.html}else{NitroNotifier.newDiv.innerHTML="<div>Notification has no html</div>"}var b=NitroNotifier.newDiv.getElementsByTagName("div");NitroNotifier.newDiv.nitro_corner=a.corner;NitroNotifier.newDiv.nitro_direction=a.direction;NitroNotifier.newDiv.nitro_showDuration=a.duration;NitroNotifier.newDiv.nitro_stage="delaying";NitroNotifier.newDiv.nitro_showCounter=0;NitroNotifier.newDiv.nitro_delayCounter=0;NitroNotifier.newDiv.nitro_showDelay=a.delay;NitroNotifier.newDiv.nitro_calculated_size=0;NitroNotifier.pending.push(NitroNotifier.newDiv);if(NitroNotifier.delayTimer==0){NitroNotifier.delayTimer=setInterval(NitroNotifier.util.delay,NitroNotifier.delayInterval)}};NitroNotifier.util={delay:function(){NitroNotifier.tempArray=[];for(var a=0;a<NitroNotifier.pending.length;a++){NitroNotifier.popup=NitroNotifier.pending[a];NitroNotifier.popup.nitro_delayCounter+=NitroNotifier.delayInterval;if(NitroNotifier.popup.nitro_delayCounter>=NitroNotifier.popup.nitro_showDelay){NitroNotifier.notificationsDiv.insertBefore(NitroNotifier.popup,null);NitroNotifier.notifications.unshift(NitroNotifier.popup);NitroNotifier.popup.nitro_stage="rising";var b=NitroNotifier.raiseOffset;if(NitroNotifier.notifications.length!=1){b=NitroNotifier.notifications[1].nitro_currentPos+NitroNotifier.util.getCalculatedSize(NitroNotifier.notifications[1])}NitroNotifier.popup.nitro_currentPos=b;NitroNotifier.util.setMarginValue(NitroNotifier.popup,b+"px");if(NitroNotifier.raiseTimer==0){NitroNotifier.raiseTimer=setInterval(NitroNotifier.util.raise,NitroNotifier.raiseTimeStep)}}else{NitroNotifier.tempArray.push(NitroNotifier.popup)}}NitroNotifier.pending=NitroNotifier.tempArray},raise:function(){for(var b=0;b<NitroNotifier.notifications.length;b++){NitroNotifier.popup=NitroNotifier.notifications[b];if(NitroNotifier.popup.nitro_stage!="finished"){NitroNotifier.targetPos=NitroNotifier.util.getTargetPos(b,NitroNotifier.popup);var c=NitroNotifier.popup.nitro_currentPos- -NitroNotifier.targetPos;var a=false;if(c<5&&c>-5){NitroNotifier.popup.nitro_currentPos=-NitroNotifier.targetPos;a=true}else{dist=c*0.1;if(dist<0){dist=Math.floor(dist);if(dist>-5){dist=-5}}if(dist>0){dist=Math.ceil(dist);if(dist<5){dist=5}}NitroNotifier.popup.nitro_currentPos-=dist}NitroNotifier.util.setMarginValue(NitroNotifier.popup,NitroNotifier.popup.nitro_currentPos+"px");if(a){if(NitroNotifier.popup.nitro_stage!="fading"){NitroNotifier.popup.nitro_stage="showing";if(NitroNotifier.showTimer==0){NitroNotifier.showTimer=setInterval(NitroNotifier.util.show,NitroNotifier.showInterval)}}}}}},show:function(){for(var a=0;a<NitroNotifier.notifications.length;a++){NitroNotifier.popup=NitroNotifier.notifications[a];if(NitroNotifier.popup.nitro_stage=="showing"){NitroNotifier.popup.nitro_showCounter+=NitroNotifier.showInterval;if(NitroNotifier.popup.nitro_showCounter>=NitroNotifier.popup.nitro_showDuration){NitroNotifier.popup.nitro_stage="fading";NitroNotifier.popup.nitro_opacity=100;if(NitroNotifier.fadeTimer==0){NitroNotifier.fadeTimer=setInterval(NitroNotifier.util.fade,NitroNotifier.fadeInterval)}}}}},fade:function(){NitroNotifier.tempArray=[];NitroNotifier.cleanup=false;for(var a=0;a<NitroNotifier.notifications.length;a++){NitroNotifier.popup=NitroNotifier.notifications[a];if(NitroNotifier.popup.nitro_stage=="fading"){if(NitroNotifier.popup.nitro_opacity<=0){NitroNotifier.popup.nitro_stage="finished";NitroNotifier.popup.style.opacity=0;NitroNotifier.popup.style.filter="alpha(opacity="+0+")";NitroNotifier.cleanup=true}else{NitroNotifier.popup.nitro_opacity-=NitroNotifier.fadeInterval;NitroNotifier.popup.style.opacity=NitroNotifier.popup.nitro_opacity/100;NitroNotifier.popup.style.filter="alpha(opacity="+NitroNotifier.popup.nitro_opacity+")";NitroNotifier.tempArray.push(NitroNotifier.popup)}}}if(NitroNotifier.cleanup){NitroNotifier.util.cleanup()}},cleanup:function(){NitroNotifier.tempArray=[];for(var a=0;a<NitroNotifier.notifications.length;a++){NitroNotifier.popup=NitroNotifier.notifications[a];if(NitroNotifier.popup.nitro_stage!="finished"){NitroNotifier.tempArray.push(NitroNotifier.popup)}else{NitroNotifier.notificationsDiv.removeChild(NitroNotifier.popup)}}NitroNotifier.notifications=NitroNotifier.tempArray;if(NitroNotifier.notifications.length==0){clearInterval(NitroNotifier.delayTimer);clearInterval(NitroNotifier.raiseTimer);clearInterval(NitroNotifier.showTimer);clearInterval(NitroNotifier.fadeTimer);NitroNotifier.delayTimer=0;NitroNotifier.raiseTimer=0;NitroNotifier.showTimer=0;NitroNotifier.fadeTimer=0}},setMarginValue:function(a,b){if(a.nitro_corner=="br"||a.nitro_corner=="bl"||a.nitro_corner=="bc"){if(a.nitro_direction=="v"){a.style.marginTop=b}else{if(a.nitro_corner=="br"){a.style.marginLeft=b}else{if(a.nitro_corner=="bl"){a.style.marginRight=b}else{if(a.nitro_corner=="bc"){a.style.marginRight=b}}}}}else{if(a.nitro_direction=="v"){a.style.marginBottom=b}else{if(a.nitro_corner=="tr"){a.style.marginLeft=b}else{a.style.marginRight=b}}}},getTargetPos:function(c,b){if(b.nitro_corner=="bc"){NitroNotifier.util.getCalculatedSize(b);var e=(document.body.clientWidth?document.body.clientWidth:window.innerWidth);var a=b.nitro_calculated_width;var h=window.innerHeight?window.innerHeight:(document.documentElement?document.documentElement.clientHeight:(document.body?document.body.clientHeight:0));var g=b.nitro_calculated_height;if(b.nitro_direction=="h"){b.style.top=((h/2)-(g/2))+"px";NitroNotifier.targetPos=((e/2)-(a/2))}else{if(b.nitro_direction=="v"){b.style.left=((e/2)-(a/2))+"px";NitroNotifier.targetPos=((h/2)-(g/2))}}}else{NitroNotifier.targetPos=NitroNotifier.raiseOffset}for(var d=0;d<=c;d++){var f=NitroNotifier.notifications[d];if(f.nitro_corner==b.nitro_corner&&f.nitro_direction==b.nitro_direction){NitroNotifier.targetPos+=NitroNotifier.util.getCalculatedSize(f)}}return NitroNotifier.targetPos},getCalculatedSize:function(a){if(a.nitro_calculated_size){return a.nitro_calculated_size}if(a.nitro_direction=="v"){if(a.offsetHeight){a.nitro_calculated_size=a.offsetHeight;a.nitro_calculated_width=a.offsetWidth;a.nitro_calculated_height=a.offsetHeight}else{if(a.style.pixelHeight){a.nitro_calculated_size=a.style.pixelHeight}}}else{if(a.offsetWidth){a.nitro_calculated_size=a.offsetWidth;a.nitro_calculated_width=a.offsetWidth;a.nitro_calculated_height=a.offsetHeight}else{if(a.style.pixelWidth){a.nitro_calculated_size=a.style.pixelWidth}}}if(a.nitro_calculated_size>0){a.id="nitro_notice_"+(new Date()).getTime()+"_"+Math.round(Math.random()*100000);a.setAttribute("class","nitro_notice_"+a.nitro_corner+"_"+a.nitro_direction);a.setAttribute("className","nitro_notice_"+a.nitro_corner+"_"+a.nitro_direction);a.style.height=a.nitro_calculated_height;a.style.width=a.nitro_calculated_width;NitroNotifier.util.pngfix()}return a.nitro_calculated_size},filter:function(l,s,m){var f="DXImageTransform.Microsoft.AlphaImageLoader";if(el.style.filters&&el.style.filters[f]){el.style.filters[f].enabled=s?true:false;if(s){with(el.style.filters[f]){src=s;sizingMethod=m}}}else{if(s){el.style.filter="progid:"+f+'(src="'+s+'",sizingMethod="'+m+'")'}}},pngfix:function(){if(typeof nitroPngFix=="undefined"||nitroPngFix!="true"){return}var a=navigator.appVersion.match(/MSIE (\d+\.\d+)/,"");var c=(a!=null&&Number(a[1])>=5.5&&Number(a[1])<7);if(!c){return}if(document.images.length>0){for(var e=document.images.length-1,b=null;(b=document.images[e]);e--){if(b.src.match(/\.png$/i)!=null){var g=b.src;var h=document.createElement("DIV");h.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+g+"', sizing='scale')";h.style.width=b.width+"px";h.style.height=b.height+"px";b.replaceNode(h)}b.style.visibility="visible"}}if(document.all.length>0){for(var e=document.all.length-1,f=null;(f=document.all[e]);e--){if(f.currentStyle.backgroundImage.match(/\.png/i)!=null){var d=f.currentStyle.backgroundImage;var g=d.substring(5,d.length-2);f.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+g+"', sizingMethod='scale')";f.style.backgroundImage="url(images/x.gif)"}}}},makeArray:function(a){if(typeof a!="undefined"&&typeof a.length=="undefined"){return[a]}return a},makeAPICall:function(a,d,b,c){if(typeof NitroNotifier.jsConnector=="undefined"){NitroNotifier.jsConnector=new NitroJSConnector(a)}NitroNotifier.jsConnector.callAPI("method="+d,"NitroNotifier.util.processPendingNotifications",b,c)},processPendingNotifications:function(data,token){if(data==null){return}var doingFeed=false;var userToken=null;var embedCallback=null;if(token!=null){var parts=token.split("|");if(parts.length>0){embedCallback=parts[0];if(parts.length>1){parts=parts.slice(1);userToken=parts.join("|")}}}if(data.Nitro.method=="site.getNotificationsFeed"){doingFeed=true}var stylesArray=NitroNotifier.util.makeArray(data.Nitro.notificationStyles.NotificationStyle);var notificationsArray=NitroNotifier.util.makeArray(data.Nitro.notifications.Notification);if(typeof notificationsArray=="undefined"){return}var showVarsArray=new Array();for(var i=0;i<notificationsArray.length;i++){var showVars={};var show=true;var notification=notificationsArray[i];var styleName=notification.styleName;var name=notification.name;var showShare=notification.doShare!="0";var facebookUrl=notification.facebookUrl;var twitterMessage=notification.twitterMessage;var anonymousOnly=name.indexOf("ANON_")==0;var groupName=null;var userId=NitroCookies.readJSCookie("NITRO_USERID_"+NitroNotifier.jsConnector.connectionParams.apiKey);if(name.indexOf("GROUPNAME_")!=-1){groupName=name.substring(name.indexOf("GROUPNAME_")+"GROUPNAME_".length);groupName=groupName.substring(0,groupName.indexOf("_"))}showVars.timestamp=notification.timestamp;var version=notification.version;var style=null;if(typeof styleName!="undefined"&&typeof stylesArray!="undefined"){for(var s=0;s<stylesArray.length;s++){if(stylesArray[s].name==styleName){style=stylesArray[s];showVars.html=style.html;showVars.css=style.css?style.css:"";showVars.styleName=styleName;break}}}if(groupName!=null){var isAnonymous=(userId.indexOf("NITRO_USER_")==0);if(anonymousOnly){if(isAnonymous&&isAnonymous!="false"){var count=NitroCookies.readJSCookie(groupName);count=((count==null)||isNaN(count))?0:parseInt(count);if(count>=3){show=false}else{NitroCookies.createJSCookie(groupName,count+1,365)}}else{show=false}}else{if(isAnonymous&&isAnonymous!="false"){show=false}}}showVars.corner="br";showVars.direction="v";showVars.duration=5000;showVars.delay=0;var settingsArray=NitroNotifier.util.makeArray(notification.notificationSettings.NotificationSetting);if(typeof settingsArray!="undefined"){for(var j=0;j<settingsArray.length;j++){var setting=settingsArray[j];if(!doingFeed&&showShare&&setting.name=="Message"){setting.value+='<p>Share This: <img src="'+nitroProtocol+"://assets.bunchball.net/scripts/notifier/"+nitroLibsVersion+'/media/images/share_fb.png" title="Share this on Facebook" align="absmiddle" style="cursor:pointer;" onclick="window.open(\'http://www.facebook.com/sharer.php?u='+facebookUrl+'\');" /> <img src="'+nitroProtocol+"://assets.bunchball.net/scripts/notifier/"+nitroLibsVersion+'/media/images/share_twitter.png" title="Share this on Twitter" align="absmiddle" style="cursor:pointer;" onclick="window.open(\'http://twitter.com/?status='+twitterMessage+"');\" /></p>"}if(!doingFeed&&setting.name=="Duration (secs)"){showVars.duration=(setting.value*1000)}else{if(!doingFeed&&setting.name=="Delay (secs)"){showVars.delay=(setting.value*1000)}else{if(!doingFeed&&setting.name=="Corner"){switch(setting.value){case"Top Left":showVars.corner="tl";break;case"Top Right":showVars.corner="tr";break;case"Bottom Left":showVars.corner="bl";break;case"Bottom Right":showVars.corner="br";break;case"Center of Screen":showVars.corner="bc";break}}else{if(!doingFeed&&setting.name=="Direction"){switch(setting.value){case"Horizontal":showVars.direction="h";break;case"Vertical":showVars.direction="v";break}}else{if(!doingFeed&&setting.name=="Frequency"){if(setting.value.toUpperCase()!="UNLIMITED"){var onceADay=(setting.value.toUpperCase()=="ONCE PER DAY");if(NitroNotifier.util.cookieHasNotification(name,onceADay,version)){show=false}else{NitroNotifier.util.addNotificationToCookie(name,onceADay,version)}}}else{showVars.html=NitroNotifier.util.subSettingValues(showVars.html,setting);showVars.css=NitroNotifier.util.subSettingValues(showVars.css,setting)}}}}}}}var one=showVars.html.match(/{nitro_.+?}/g);var two=showVars.css.match(/{nitro_.+?}/g);if(one==null){one=new Array()}if(two==null){two=new Array()}var runtimeTokens=one.concat(two);for(var r=0;r<runtimeTokens.length;r++){var token=runtimeTokens[r];var value=null;if(token=="{nitro_apiKey}"){value=NitroNotifier.jsConnector.connectionParams.apiKey}else{var attribute=token.replace("{nitro_","");attribute=attribute.replace("}","");value=notification[attribute]}showVars.html=NitroNotifier.util.subRuntimeValues(showVars.html,token,value);showVars.css=NitroNotifier.util.subRuntimeValues(showVars.css,token,value)}if(doingFeed||show){if(typeof showVars.css!="undefined"){var alreadyWritten=false;for(var j=0;i<NitroNotifier.styles_written.length;i++){if(NitroNotifier.styles_written[j]==showVars.styleName){alreadyWritten=true;break}}if(!alreadyWritten){var styleElement=document.createElement("div");styleElement.innerHTML="<br><style>"+showVars.css+"</style>";document.getElementsByTagName("head")[0].appendChild(styleElement);NitroNotifier.styles_written.push(showVars.styleName)}}}if(!doingFeed){if(show){var showAfterCallback=true;if(embedCallback!=null){showAfterCallback=eval(embedCallback+"(showVars, userToken)")}if(typeof showAfterCallback=="undefined"||showAfterCallback==null||showAfterCallback==true){if(typeof(window.bunchballShowNotificationCallback)!="undefined"){bunchballShowNotificationCallback(name,userId)}NitroNotifier.showNotification(showVars)}}}else{showVarsArray.push(showVars)}}if(doingFeed){eval(embedCallback+"(showVarsArray, userToken)")}},subSettingValues:function(d,b){if(typeof d!="undefined"&&d!=""){var c=true;while(c){c=false;var a=d.indexOf("{{notification_setting_"+b.name+"|");if(a==-1){a=d.indexOf("{{notification_setting_"+b.name+"}")}if(a!=-1){var f=d.indexOf("}}",a);if(f!=-1){d=d.substring(0,a)+b.value+d.substring(f+2);c=true}}}}return d},subRuntimeValues:function(c,a,b){if(typeof c!="undefined"&&c!=""){if(typeof b=="undefined"){b=""}var d=new RegExp(a,"gi");c=c.replace(d,b)}return c},clearNotificationCookies:function(){NitroNotifier.util.createCookie("BB_NITRO_NOTIFICATIONS","")},addNotificationToCookie:function(b,a,h){var k=NitroNotifier.util.readCookie("BB_NITRO_NOTIFICATIONS");var e="";if(k!=null){var g=k.split("|");for(var f=0;f<g.length;f++){if(g[f]!=""){var d=g[f].split("$");if(d[0]!=b){e=e+g[f]+"|"}}}}var j=0;if(a){j=new Date().getTime()}e=e+b+"$"+j+"$"+h+"|";NitroNotifier.util.createCookie("BB_NITRO_NOTIFICATIONS",e)},cookieHasNotification:function(b,a,h){var k=NitroNotifier.util.readCookie("BB_NITRO_NOTIFICATIONS");if(k!=null){var g=k.split("|");for(var f=0;f<g.length;f++){if(g[f]!=""){var e=g[f].split("$");if(e[0]==b){if(e[2]!=h){return false}if(!a){return true}var j=e[1];var d=new Date().getTime();if(d-j<(1000*60*60*24)){return true}return false}}}}return false},createCookie:function(a,b){var c=new Date();c.setDate(c.getDate()+9999);document.cookie=a+"="+escape(b)+";expires="+c.toGMTString()+"; path=/"},readCookie:function(c){var b=document.cookie.split("; ");for(var d=0;d<b.length;d++){var a=b[d].split("=");if(c==a[0]){return unescape(a[1])}}return null}};if(window.onNitroNotifierCodeLoaded){window.onNitroNotifierCodeLoaded()}};