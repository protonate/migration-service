/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: master
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var Na,Ha;function ec(){return"http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.0.9/":"https://d3hmp0045zy3cs.cloudfront.net/2.0.9/"}function uc(b,e,c){var f;if(document.getElementById(b))return!1;if(k){f="";var m=document.createElement("div");m.innerHTML=f+"<iframe "+('name="'+b+'" ')+('id="'+b+'" ')+('src="'+e+'" ')+'style="display: none;"></iframe>';document.body.appendChild(m)}else f=document.createElement("iframe"),f.setAttribute("name",b),f.id=b,f.setAttribute("src",
e),f.style.display="none",f.className="",document.body.appendChild(f);"function"===typeof c&&c()}function fc(b){for(var e="",e="",c=0;c<b;c++)e+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return e}function rb(){function b(b,c,e,f){c={action:b,key:c,messageId:e};"set"===b&&(c.value=f);return"janrainCapture:"+O.stringify(c)}function e(b,c){function e(){f++;if(10<f)return!1;if("undefined"!==typeof ra[b])return clearTimeout(i),"get"===ra[b].action&&"function"===typeof c&&
c(ra[b].storedValue),!0;var i=setTimeout(e,50)}var f=0;e()}function c(c,f){_xdomainStorageIframeLoaded;var i=fc(40);window.setTimeout(function(){h.contentWindow.postMessage(b("get",c,i),p)});return e(i,f)}function f(b,e){if(i)_xdomainStorageIframeLoaded?c(b,e):setTimeout(function(){f(b,e)},50);else return window.localStorage.getItem(b)}function m(b){if(0!==b.data.indexOf("janrainCapture:")||!y(aa,b.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;b=O.parse(b.data.replace("janrainCapture:",
""));ra[b.messageId]=b}var i=!1,ra={},h,p,aa=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,f){if(i){var m=fc(40);window.setTimeout(function(){h.contentWindow.postMessage(b("set",c,m,f),p)});return e(m)}return window.localStorage.setItem(c,f)},removeItem:function(c){if(i){var f=fc(40);window.setTimeout(function(){h.contentWindow.postMessage(b("remove",c,f),p)});return e(f)}return window.localStorage.removeItem(c)},getItem:f,setMultiDomain:function(b){if(i=
b)window.addEventListener?window.addEventListener("message",m,!1):window.attachEvent?window.attachEvent("onmessage",m):document.attachEvent&&document.attachEvent("onmessage",m),h=document.getElementById("xDomainLocalStorageJanrain"),p=janrain.settings.storageServerDomain}}}function J(){function b(){if(m&&sb){var b=new rb;b.setMultiDomain(janrain.settings.multiDomainLocalStorage);b.removeItem(f);b.removeItem(f+"_Expires")}else{var b=ra?"; domain="+ra:"",c=new Date;c.setTime(c.getTime()+-864E6);document.cookie=
f+"="+i+";expires="+c.toUTCString()+b+"; path="+h}}function e(c,e){var i,ra,h,x,k;if(m&&sb)if(k=new rb,janrain.settings.multiDomainLocalStorage)k.setMultiDomain(!0),k.getItem(c,function(i){i?k.getItem(c+"_Expires",function(o){o?Math.round((new Date).getTime()/1E3)>Math.round((new Date(o)).getTime()/1E3)?(f=c,b(),"function"===typeof e&&e(!1)):"function"===typeof e&&e(i):(new J).getCookie(c+"_session")?"function"===typeof e&&e(i):(f=c,b())}):"function"===typeof e&&e(!1)});else if(x=k.getItem(c),i=k.getItem(c+
"_Expires"),x){if(!(i&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(i)).getTime()/1E3))&&(i||(new J).getCookie(c+"_session")))return x;f=c;b()}else return!1;else{i=document.cookie.split(";");ra=i.length;for(var fa=0;fa<ra;fa++)if(h=i.pop(),x=h.split("="),h=x[0],x=x[1],h.trim()===c)return x;return!1}}var c,f,m=!1,i,ra,h="/";return{create:function(){if(m&&sb){var b=new rb;b.setMultiDomain(janrain.settings.multiDomainLocalStorage);b.setItem(f,i);c?b.setItem(f+"_Expires",c):(new J).setName(f+
"_session").setValue("session").create()}else document.cookie=f+"="+i+";expires="+c+(ra?"; domain="+ra:"")+"; path="+h},remove:b,setExpirationDirectly:function(b){b&&(c=b);return this},setExpiration:function(b){if(b){var e=new Date;e.setTime(e.getTime()+864E5*b);c=e.toUTCString()}return this},setName:function(b){b&&(f=b);return this},setValue:function(b){"undefined"!==typeof b&&(i=b);return this},setUseLocalStorage:function(b){m=b;return this},setPath:function(b){b&&(h=b);return this},setDomain:function(b){b&&
(ra=b);return this},getCookie:function(b,c){return e(b,c)}}}function tb(){return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(za)?parseFloat(RegExp.$1):!1}function Fb(){var b;return za&&(b=za.match(/(\d)[\d.]+ Safari/))&&b[1]?1*b[1]:0}function Fb(){return!/Chrome\//.test(za)&&/Safari\//.test(za)}function ga(b,e,c,f,m,i){"number"===typeof c&&"number"===typeof f&&"number"===typeof m&&"number"===typeof i?("undefined"!==typeof b.style.borderRadius&&(b.style.borderRadius=
c+"px "+f+"px "+m+"px "+i+"px"),"undefined"!==typeof b.style.MozBorderRadius&&(b.style.MozBorderRadius=c+"px "+f+"px "+m+"px "+i+"px"),"undefined"!==typeof b.style.webkitBorderRadius&&(b.style.webkitBorderRadius=c+"px "+f+"px "+m+"px "+i+"px")):("undefined"!==typeof b.style.borderRadius&&(b.style.borderRadius=e+"px"),"undefined"!==typeof b.style.MozBorderRadius&&(b.style.MozBorderRadius=e+"px"),"undefined"!==typeof b.style.webkitBorderRadius&&(b.style.webkitBorderRadius=e+"px"));return b}function ub(b,
e){if("undefined"===typeof b||"undefined"===typeof e)return!1;var c=b-e;0>c&&(c=0);c>b&&(c=b);return c}function Rb(b,e){if(k&&9>=k)return b.style.backgroundImage="url('"+vb("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;if(Fb()&&4>=Fb()||sa.getMobileDevice()){var c="",f="",m="",i=e.split(","),h={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};i[0]&&h[i[0]]&&(c=h[i[0]]);i[1]&&(f="from("+i[1]+")");i[i.length-1]&&(m="to("+
i[i.length-1]+")");b.style.backgroundImage="-webkit-gradient(linear,"+c+","+f+","+m+")"}b.style.backgroundImage="-moz-linear-gradient("+e+")";b.style.backgroundImage="-webkit-linear-gradient("+e+")";b.style.backgroundImage="-ms-linear-gradient("+e+")";b.style.backgroundImage="-o-linear-gradient("+e+")";b.style.backgroundImage="linear-gradient("+e+")"}function Ya(b,e,c,f){var m=Sb(c),i=Sb(c,f);if(c=Lc(c))c.a=f,i="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<e){b.style.backgroundColor=m;b.style.padding=
e+"px";if(0<k&&8>=k||k&&X)return!1;b.style.backgroundColor=i;b.style.padding=e+"px"}else b.style.backgroundColor="",b.style.padding="0px"}function Lc(b){var e={};if("string"!==typeof b||!b)return!1;b=b.replace(/\s+/g,"");b=b.replace(/,{2,}/g,",");b=b.replace(/[^\d.,]/g,"");b=b.split(",");if(3>b.length||4<b.length)return!1;e.r=b[0];e.g=b[1];e.b=b[2];e.a=b[3]?b[3]:1;return e}function Sb(b,e){var c=b.split("");if("#"!==c[0])return b;4===b.length&&(b=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);var b=b.substring(1,
7),c=parseInt(b.substring(0,2),16),f=parseInt(b.substring(2,4),16),m=parseInt(b.substring(4,6),16);return isNaN(e)?"rgb("+c+","+f+","+m+")":"rgba("+c+","+f+","+m+","+e+")"}function S(b,e,c){if(null==b)return!1;"object"===typeof window.attachEvent?b.attachEvent("on"+e,c):b.addEventListener(e,c,!1)}function gc(b,e,c){"object"===typeof window.detachEvent?b.detachEvent("on"+e,c):b.removeEventListener(e,c,!1)}function Tb(){return document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:
document.body.scrollTop}function Za(b){return{width:b.style&&b.style.width?parseInt(b.style.width):b.offsetWidth?parseInt(b.offsetWidth):0,height:b.style&&b.style.height?parseInt(b.style.height):b.offsetHeight?parseInt(b.offsetHeight):0}}function zc(b,e){var c=document.getElementById(b);if("object"===typeof c.currentStyle)var f=c.currentStyle[e];else window.getComputedStyle&&(f=document.defaultView.getComputedStyle(c,null).getPropertyValue(e));return f}function P(b,e,c,f,m){var i=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,
h=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===b){if(!z(f))return m||B.log(f+" is wrong type, must be array, using default value instead"),c;if(e&&z(e))for(var k=0;k<f.length;k++)if(0>e.indexOf(f[k]))return m||B.log(f+" is not within the valid range, using default value instead"),c;return f}if("url"===b){if("string"!==typeof f)return c;f&&(f=f.trim());if(/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(f))return f;m||B.log(f+" is not the valid format, using default value instead");
return c}if("text"===b){if(e){if(0<=e.indexOf(f))return f;m||B.log('Value of "'+f+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return i.test(f)?f:c}if("usertext"===b){if("string"!==typeof f&&"number"!==typeof f)return c;if(z(e)){if(1===e.length){if(f.length<=e[0])return f;m||B.log(f+" is too long, using default value instead");return c}if(2===e.length){if(f.length<=e[1]&&f.length>=e[0])return f;m||B.log(f+" is not within the valid range, using default value instead");
return c}m||B.log("usertext range is invalid, using default value instead");return c}return f}"string"===typeof f&&0==f.length&&(f=" ");if(!i.test(f))return m||B.log(f+" contains invalid character(s)"),c;if("boolean"===b){if("boolean"===typeof f)return f;m||B.log(f+" is wrong type, must be boolean, using default value instead");return c}if("text"===b)return f;if("number"===b){if(isNaN(parseInt(f)))return m||B.log(f+" is wrong type, must be a valid number"),c;f=parseFloat(f)}if("color"===b){f&&(f=
f.trim());if("transparent"===f||h.test(f))return f;m||B.log('Value of "'+f+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof f!=b&&"color"!=b)return m||B.log(f+" for "+arguments.callee.caller.name+" is "+typeof f+" expected "+b),c;if("object"===typeof e&&"string"===b){if(0<=e.indexOf(f))return f;m||B.log('Value of "'+f+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===
typeof e&&"number"===b){2===e.length?(i=e[0],h=e[1]):(i=e.shift(),h=e.pop(),k=e);if(f<i)return m||B.log("Value of "+f+" for "+arguments.callee.caller.name+" is below minimum of "+i+", using minimum value of "+i+" instead"),i;if(f>h)return m||B.log("Value of "+f+" for "+arguments.callee.caller.name+" is above maximum of "+h+", using maximum value of "+h+" instead"),h;if(k&&"number"===typeof k.indexOf(f)||f==i||f==h)return f;return k?(m||B.log("Value of "+f+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+
c+" instead"),c):f}return 0!=f&&!f?c:f}function ha(b){for(var e=ha.options,b=e.parser[e.strictMode?"strict":"loose"].exec(b),c={},f=14;f--;)c[e.key[f]]=b[f]||"";c[e.q.name]={};c[e.key[12]].replace(e.q.parser,function(b,f,h){f&&(c[e.q.name][f]=h)});return c}function $a(b){return document.getElementById(H(b).getAttribute("id"))}function H(b){return b.target?b.target:b.srcElement}function hc(b,e){function c(b){F=!0;"undefined"!==typeof aa&&clearTimeout(aa);if("string"===typeof b)return"function"===typeof fa&&
fa(b),!0;if("object"===typeof b||"undefined"===typeof b)return"object"===typeof b&&"error"===b.type?"function"===typeof fa&&fa(b):"function"===typeof h&&h(),!0}function f(){p++;if(F)return!0;p<i?aa=setTimeout(f,50):c("Load Timeout Error")}var h=e,i=200,k=!1,fa,p=0,aa,R=document.createElement("script"),ya=document.getElementsByTagName("script")[0],F=!1;R.src=b;R.setAttribute("type","text/javascript");R.onload=R.onerror=R.onreadystatechange=function(b){!F&&(!this.readyState||"loaded"===this.readyState||
"complete"===this.readyState)&&c(b)};return{setTimeoutCallback:function(b){k=!0;fa=b;return this},setCallback:function(b){h=b;return this},setTimeoutLimit:function(b){i=b;return this},load:function(){ya.parentNode.insertBefore(R,ya);k&&f()}}}function wa(b,e){hc(b,e).load()}function Ac(b,e){k&&9>k&&Ub(b,e)}function Ub(b,e){function c(c){fa=!1;"function"===typeof e&&e();janrain.events.onCssLoad.fire({source:b,noload:c})}function f(){if(fa){for(aa=p.length;0<=--aa;)if(p[aa].href===i.href){c();break}k+=
1;fa&&(200>k?setTimeout(f,50):c(!0))}}function h(){var b;try{b=!!i.sheet.cssRules}catch(e){k+=1;200>k?setTimeout(h,50):b&&c(!0);return}c()}var i,k=0,fa=!0,p=document.styleSheets,aa;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new Oa);wb?(i=document.createElement("style"),i.innerHTML='@import "'+b+'";'):(i=document.createElement("link"),i.rel="stylesheet",i.href=b,i.type="text/css");Vb||wb?(Vb&&f(),wb&&h()):(i.onload=function(){c()},i.onerror=function(){c(!0)});document.getElementsByTagName("head")[0].appendChild(i)}
function w(b){var e;e=b&&b.className?b.className.split(" "):[];return{append:function(c){-1===e.indexOf(c)&&(e.push(c),b&&(b.className=e.join(" ")));return this},remove:function(c){-1!==e.indexOf(c)&&(e.splice([e.indexOf(c)],1),b&&(b.className=e.join(" ").trim()));return this},has:function(b){return-1!==e.indexOf(b)}}}function z(b){return"[object Array]"===Object.prototype.toString.call(b)}function y(b,e){return!z(b)?!1:-1<b.indexOf(e)}function Gb(b){b&&b.parentNode&&b.parentNode.removeChild(b)}function Hb(b){var e=
"",c;for(c in b)e+="&"+encodeURIComponent(c)+"="+encodeURIComponent(b[c]);return e="?"+e.substr(1)}function Q(b){if(!b)return!1;b.preventDefault?b.preventDefault():b.returnValue=!1}function Ib(b){if(!b)return!1;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function Mc(b){if(!b)return!1;var e=b.getElementsByTagName("input");e||(e=b.getElementsByTagName("button"));if(!e)return!1;for(var c=e.length,f=0;f<c;f++)if("submit"===e[f].type)return e[f];e=b.getElementsByTagName("button");for(f=0;f<
c;f++)if("submit"===e[f].type)return e[f]}function ic(b){return!isNaN(parseFloat(b))&&isFinite(b)}function Bc(b){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(b)){var e=b.split("/"),b=parseInt(e[1],10),c=parseInt(e[0],10),e=parseInt(e[2],10),f=new Date(e,c-1,b);return f.getFullYear()==e&&f.getMonth()==c-1&&f.getDate()==b?!0:!1}return!1}function T(b,e){for(var c=e,f=/\{\|(.*?)\|\}/,h;h=f.exec(c);)try{var i=h[1].trim(),c=c.replace(h[0],"undefined"!==typeof b[i]?b[i]:"")}catch(k){return window.console&&window.console.log&&
console.log(k.name+": "+k.message,"error"),!1}return c}function Cc(b,e){var c=b.parentNode.nodeName.toLowerCase();return"body"===c?!1:b.nodeName.toLowerCase()===e.toLowerCase()?b:c===e.toLowerCase()?b.parentNode:Cc(b.parentNode,e)}function jc(b){var e=[],c;for(c in b)b.hasOwnProperty(c)&&e.push(c+'="'+b[c]+'"');return e.join(" ")}function kc(){function b(b){var b=b||"img",c=document.createElement(b);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===b?(c.setAttribute("href",
"#"),c.className="janrain_modal_closebutton",Ua&&(c.innerHTML=Ua)):(c.src=Pa,V||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=pa?f:e;return c}function e(b){la||(o.style.display="none",y.style.display="none",U.style.display="none");L&&sa.deactivate();("object"===typeof b||!b)&&janrain.events.onModalClose.fire();("object"===typeof b||!b)&&bb.fire();"object"===typeof b&&Q(b)}function c(){var b=document.createElement("div"),c=document.createElement("div"),
f=document.createElement("a"),i=document.createElement("a"),h=document.createElement("h3");f.innerHTML=ha;i.innerHTML=Ja;h.innerHTML=wa;f.setAttribute("href","#");i.setAttribute("href","#");b.className="janrain_close_confirm_container";c.className="janrain_close_confirm";f.className="janrain_modal_confirm";i.className="janrain_modal_cancel";S(f,"click",function(b){e();o.removeChild(ca);ca=null;Q(b)});S(i,"click",function(b){o.removeChild(ca);ca=null;Q(b)});c.appendChild(h);c.appendChild(i);c.appendChild(f);
b.appendChild(c);return b}function f(b){ca||(ca=c(),o.appendChild(ca));Q(b)}function h(b){var c=Tb(),e=Za(b),f=-1*e.width/2,e=-1*e.height/2;b.style.left="50%";b.style.marginLeft=f+"px";b.style.marginTop=e+c+"px";b.style.top="50%";0>b.offsetLeft&&(b.style.left=0,b.style.marginLeft=0);0>b.offsetTop&&(b.style.marginTop=0,b.style.top="10px");U.style.height=Na+c+"px";"absolute"!==b.style.position&&(b.style.position="absolute")}function i(){if(la){var b=document.getElementById("previewMode");b.style.position=
"relative";b.appendChild(o)}else h(o);la||B.show()}function ra(b){na||(ja=P("number",[0,20],10,b),Ka.fire({radius:ub(T,ja)}))}function fa(b){na||(J=P("color",null,"#000000",b))}function p(b){na||(T=P("number",[0,20],10,b),Ba.fire({radius:ub(T,ja),refresh:!0}))}function aa(b){na||(ta=P("number",[0,1],0.5,b),"object"==typeof o&&Ya(o,ja,J,ta))}function R(b){if("portrait"===b){oa="portrait";var c="one column"}"landscape"===b&&(oa="landscape",c="two column");Qa.fire({orientation:oa,format:c,width:z,height:w});
i()}function ya(b){b&&(ua=b);k&&X&&(ua+=ja-2);"object"==typeof o&&(o.style.width=ua+"px");return this}function F(b){b&&(O=b);k&&X&&(O=O+2*ja-4);b&&"object"==typeof o&&(o.style.height=O+"px");return this}function x(){Ha>=Na&&"undefined"===typeof window.orientation?"landscape"!==oa&&R("landscape"):90===window.orientation||-90===window.orientation?"landscape"!==oa&&R("landscape"):"portrait"!==oa&&R("portrait");i()}function vc(){var b,c=o;b="undefined"!=typeof window.innerWidth?window.innerHeight:document.documentElement.offsetHeight;
var e=Tb();Za(c);U.style.height=b+e+"px"}var z=380,w=131,o,Ec="janrainModal",y,U,H,ua=z,O=w,ja=10,J="#000000",T=10,ta=0.5,pa=!1,Pa=vb("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),Ua="",na=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,V=!1,wa="Are you sure you want to quit?",ha="Yes, quit",Ja="No, stay",ca,oa="landscape",Y=!0,L="boolean"===typeof L?L:"number"===typeof window.orientation?!0:!1,ma="boolean"===typeof ma?ma:janrain.settings.previewMode,
la=ma,xa=xa||!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(Pa=janrain.settings.capture.modalCloseImage,V=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(Ua=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=ba());var bb=ba(),Da=ba(),Ba=ba(),Ka=ba(),Qa=ba();sa&&sa.onOrientationChange&&sa.onViewportChange&&(sa.onOrientationChange.addHandler(function(b){R(b.orientation)}),
sa.onViewportChange.addHandler(function(){h(o)}));return{isOpen:function(){return"object"===typeof o&&"none"!==o.style.display},setWidth:function(b){ya(b);return this},setHeight:function(b){F(b);return this},setBorder:function(b){("string"==typeof b||"number"==typeof b)&&ra(b);na||"object"==typeof o&&Ya(o,ja,J,ta);return this},setBorderColor:function(b){b&&fa(b);na||"object"==typeof o&&Ya(o,ja,J,ta);return this},setBorderRadius:function(b){("string"==typeof b||"number"==typeof b)&&p(b);na||"object"==
typeof o&&ga(o,T);return this},setBorderOpacity:function(b){("number"===typeof b||"string"===typeof b)&&aa(b);return this},setZIndex:function(b){U.style.zIndex=b},setPreviewMode:function(b){"boolean"===typeof b&&(la=b);return this},setId:function(b){Ec=b;o&&(o.id=b);return this},show:function(){L||(o.style.display="block");"object"==typeof y&&Y&&(y.style.display="block");la?L&&(o.style.display="block"):(U.style.display="block",L?(sa.setElement(o).activate(),o.style.display="block"):(S(window,"resize",
x),S(window,"resize",vc),S(window,"scroll",vc),x(),vc()));na||Ba.fire({radius:ub(T,ja),refresh:!1});Da.fire();o.focus()},close:function(b){e(b)},closeConfirm:function(){f()},refresh:function(){xa||o.appendChild(H);i()},remove:function(){if(la){var b=document.getElementById("previewMode");"object"===typeof H&&o.removeChild(H);"object"===typeof o&&b.removeChild(o);"object"===typeof U&&document.body.removeChild(U);if(b=document.getElementById("janrainEngageEmbed_old"))b.id="janrainEngageEmbed";U=o=""}else"object"===
typeof H&&o.removeChild(H),"object"===typeof U&&document.body.removeChild(U),"object"===typeof o&&document.body.removeChild(o)},addContent:function(c){y=c;if(!o){o=document.createElement("div");o.id=Ec;if("number"===typeof ua||"string"===typeof ua)o.style.width=ua+"px";o.style.height=O+"px";o.style.position="absolute";na||(o.style.padding=ja+"px",ga(o,T),Ya(o,ja,J,ta));o.style.zIndex=1E3;o.style.display="none";U=document.createElement("div");U.style.width="100%";U.style.left=0;U.style.top=0;U.style.backgroundColor=
"#000000";U.style.position="absolute";c=U;"undefined"!==typeof c.style.filter&&(c.style.filter="alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");U.style.display="none";U.style.zIndex=1E3;H=Ua?b("a"):b();o.appendChild(H);document.body.appendChild(U);document.body.appendChild(o)}o.appendChild(y);la&&i();return this},getContent:function(){return y},
getBorderWidth:function(){return ja},getState:function(){return{borderWidth:ja,borderColor:J,borderRadius:T,borderOpacity:ta,orientation:oa}},setState:function(b){E("customizable_auth_widget_styling")&&("undefined"!==typeof b.borderWidth&&ra(b.borderWidth),"undefined"!==typeof b.borderColor&&fa(b.borderColor),"undefined"!==typeof b.borderOpacity&&aa(b.borderOpacity),"undefined"!==typeof b.orientation&&R(b.orientation),"undefined"!==typeof b.borderRadius&&(("string"==typeof b.borderRadius||"number"==
typeof b.borderRadius)&&p(b.borderRadius),"object"==typeof o&&ga(o,T)))},setConfirmClose:function(b){pa=b;return this},setShowContentOnLoad:function(b){Y=b;return this},setConfirmMessageText:function(b){wa=b},setConfirmLinkText:function(b){ha=b},setCancelLinkText:function(b){Ja=b},onClose:bb,onShow:Da,onOrientationChange:Qa,onBorderRadiusChange:Ba,onBorderWidthChange:Ka}}function Nc(b){function e(){var b=window.open(c,"","width="+f+", height="+h+", status=1, location=1, resizable=yes"),e=window.setInterval(function(){if(b&&
b.closed||"undefined"===typeof b.closed)window.clearInterval(e),"function"===typeof i&&i()},500)}var c=b,f=400,h=400,i;return{show:function(){e()},setWidth:function(b){b&&(f=b);return this},setHeight:function(b){b&&(h=b);return this},setCallback:function(b){b&&(i=b);return this}}}function wc(){function b(){ya=(new Date).getTime()-f;if(ya<c){var b=Math.round(e()*aa+k);h.style[p]=b+"px"}else clearInterval(R),h.style[p]=fa+"px",x()}function e(){if("flat"==F)return ya*(1/c);if("sinusoidal"==F)return Math.abs(Math.sin(ya*
(Math.PI/(2*c))))}var c="1000",f,h,i=document,k,fa,p="left",aa,R,ya,F="flat",x;return{setAcceleration:function(b){F=b;return this},setCallback:function(b){x=b;return this},setDuration:function(b){c=b;return this},setDirection:function(b){"horizontal"===b&&(p="left");"vertical"===b&&(p="top");return this},setElement:function(b){h=b;return this},setElementBoundry:function(b){i=b;return this},startPosition:function(b){k=b;return this},endPosition:function(b){fa=b;return this},animate:function(){aa=fa-
k;f=(new Date).getTime();R=setInterval(b,10);return this},drag:function(b){function c(b){var e=lc({event:b,boundry:i});h.style.left=e.x()+"px";Ib(b);Q(b)}function e(b){var f=lc({event:b,boundry:i});h.style.left=f.x()+"px";gc(document,"mouseup",e);gc(document,"mousemove",c);Ib(b);Q(b);x({pos_x:f.x()})}S(document,"mousemove",c);S(document,"mouseup",e);Ib(b);Q(b)}}}function lc(b){return{x:function(){var e=b.event.clientX-Fc(b.boundry).x,e=e<this.boundry_x()?e:this.boundry_x();return 0<e?e:0},boundry_x:function(){return b.boundry.getBoundingClientRect().width},
y:function(){},boundry_y:function(){}}}function Fc(b){var e=curtop=0;if(b.offsetParent){do e+=b.offsetLeft,curtop+=b.offsetTop;while(b=b.offsetParent);return{x:e,y:curtop}}}function ba(){return new Oa}function Oa(){this.eventHandlers=[];this.firedEvents=[]}function Wb(){if(function(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var b="onAuthWidgetLoad,onCustomizationChange,onProviderLoginComplete,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),
c=0;c<b.length;c++)if("object"!==typeof janrain.events[b[c]])return!1;return!0}())clearTimeout(b),janrain.events.onAuthWidgetLoad.fire();else var b=setTimeout(Wb,5)}function mc(){function b(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var b=0,e=janrain.events.captureEvents.length;b<e;b++)if("object"!==typeof janrain.events[janrain.events.captureEvents[b]])return!1;return!janrain.ready?!1:!0}if("function"===
typeof janrainCaptureWidgetOnLoad)if(b())clearTimeout(e),janrainCaptureWidgetOnLoad();else var e=setTimeout(mc,5)}Array.prototype.indexOf||(Array.prototype.indexOf=function(b){for(var e in this)if(this[e]===b)return parseInt(e);return-1});Array.prototype.map||(Array.prototype.map=function(b,e){if(null===this)throw new TypeError;var c=Object(this),f=c.length>>>0;if("function"!==typeof b)throw new TypeError;for(var h=Array(f),i=0;i<f;i++)i in c&&(h[i]=b.call(e,c[i],i,c));return h});Array.prototype.filter||
(Array.prototype.filter=function(b,e){if(null==this)throw new TypeError;var c=Object(this),f=c.length>>>0;if("function"!=typeof b)throw new TypeError;for(var h=[],i=0;i<f;i++)if(i in c){var k=c[i];b.call(e,k,i,c)&&h.push(k)}return h});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var V=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?
document.documentElement.clientWidth:0;Na=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;Ha=V;var sb=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,X="CSS1Compat"!==document.compatMode,cb=!1,pa=!1,h=[],db="58e4d2c",V=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
yb=null!==V?V[0]:!1,Kb="number"===typeof window.orientation||null!==V,Oc="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),Pc="January,February,March,April,May,June,July,August,September,October,November,December".split(","),Qc=[16,20,30,32,48,50,64];janrain.settings&&janrain.settings.storageServer&&uc("xDomainLocalStorageJanrain",janrain.settings.storageServer,function(){S(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){_xdomainStorageIframeLoaded=!0})});
var za=navigator.userAgent,k=tb(),wb=/Gecko\//.test(za),Vb=/AppleWebKit\//.test(za);/Chrome\//.test(za);var Rc=Fb(),E=function(){var b=function(b){for(var e=[],h=0;h<b.length;h++)e.push(b[h]);return e},e={};janrain.settings&&janrain.settings.permissions&&(e.login=b(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(e.share=b(janrain.settings.share.permissions));return function(b,f){f=f||"login";return!e[f]?!1:0<=e[f].indexOf(b)}}();ha.options=
{strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
for(var xa=function(b,e,c){xa=document.getElementsByClassName?function(b,c,e){for(var b=(c||document).getElementsByClassName(b),e=e?RegExp("\\b"+e+"\\b","i"):null,c=[],h,k=0,p=b.length;k<p;k+=1)h=b[k],(!e||e.test(h.nodeName))&&c.push(h);return c}:function(b,c,e){var e=e||"*",c=c||document,h=b.split(" "),b=[],c="*"===e&&c.all?c.all:c.getElementsByTagName(e),e=[],k;k=0;for(var p=h.length;k<p;k+=1)b.push(RegExp("(^|\\s)"+h[k]+"(\\s|$)"));for(var p=0,aa=c.length;p<aa;p+=1){h=c[p];k=!1;for(var R=0,ya=
b.length;R<ya&&!(k=b[R].test(h.className),!k);R+=1);k&&e.push(h)}return e};return xa(b,e,c)},sa=function(){function b(){if("undefined"===typeof window.orientation)return!1;var b;f(document.body,ya);R=k().content;z();p();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(b="resize");"object"===typeof window.onorientationchange&&(b="orientationchange");b&&(window.addEventListener(b,function(){B(window.orientation,{height:screen?screen.height:0,width:screen?
screen.width:0},{height:window.innerHeight,width:window.innerWidth});i()},!1),setTimeout(i,30),window.addEventListener("beforeunload",function(){window.removeEventListener(b,i,!1)},!1));w.addHandler(function(){e({height:window.innerHeight,width:window.innerWidth},0)});y.addHandler(function(b){Na=b.height;Ha=b.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,i,!1)},!1)}function e(b,c){var f=window.innerHeight,h=window.innerWidth,i=!0,k=!0;f!=b.height&&
(i=!1);h!=b.width&&(k=!1);i&&k?20>c?setTimeout(function(){e({height:f,width:h},++c)},100):y.fire({height:f,width:h}):setTimeout(function(){e({height:f,width:h},0)},100)}function c(){setTimeout(function(){aa(R)},20);f(ya,document.body)}function f(b,c){for(var e=0;e<b.style.length;e++){var f=b.style[e];c.style.setProperty(f,b.style.getPropertyValue(f),b.style.getPropertyPriority(f))}}function h(){var b;b=(0===window.orientation||180===window.orientation)&&Ha>Na||(90===window.orientation||-90===window.orientation)&&
Na>Ha?!1:!0;var c="landscape";if(b&&(0===window.orientation||180===window.orientation))c="portrait";if(!b&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function i(){var b=h();aa("width=device-width, initial-scale=1, maximum-scale=1");w.fire({orientation:b})}function k(){var b=document.getElementsByTagName("meta"),c;for(c in b)if("viewport"===b[c].name)return b[c];return!1}function z(){if("undefined"===typeof document.getElementsByTagName||k())return!1;var b=document.getElementsByTagName("head")[0],
c=document.createElement("meta");c.setAttribute("name","viewport");b.appendChild(c);return!0}function p(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var b=document.createElement("meta");b.setAttribute("name","HandheldFriendly");b.content="true"}function aa(b){var c=k();if(!c||c.content==b)return!1;if("undefined"===typeof b){var e=k();document.getElementsByTagName("head")[0].removeChild(e)}c.content=b;return!0}var R,ya=document.createElement("div"),
F=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),x=null!==F?F[0]:!1,w=ba(),y=ba();x&&x[0].match(/android|\Wsilk\W/);var B=function(){var b=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},e=
{height:window.innerHeight,width:window.innerWidth},f=!1;return function(h,i,k){var x=!1,p=function(b,c){return b.height>=b.width&&c.height>=c.width||b.width>b.height&&c.width>c.height?!0:!1},m=b===h,F=p(i,c),aa=p(k,e);if(!m&&(!F||!aa))x=!0;!m&&!F&&(f=!0);x&&(f&&!p(i,k)&&(x=k.height,k.height=k.width,k.width=x),Na=k.height,Ha=k.width);b=h;c={height:i.height,width:i.width};e={height:k.height,width:k.width}}}();return{setElement:function(){return this},onOrientationChange:w,onViewportChange:y,getMobileDevice:function(){return x},
getOrientation:function(){return h()},activate:function(){b()},deactivate:function(){c()}}}(),vb=function(b){var e;e="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";e=e.replace(/\/$/,"");return e+"/"+b},V={openId:{aol:{identifier:"aol",flow:"openid1",width:514,height:550,color:"#0FD6FF"},blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,
color:"##213368"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#FF0084"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5"},hyves:{identifier:"http://hyves.nl/",
flow:"openid",width:800,height:600,color:"#659BC8"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665"},verisign:{identifier:"http://pip.verisignlabs.com/",flow:"openid",width:945,height:600,color:"#B8004D"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:1050,height:550,color:"#3B5998",publishSettings:{},shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}},contact:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",shareSettings:{broadcast:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,
color:"#666666"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333"},orkut:{flow:"orkut",width:800,height:600,color:"#333"},vzn:{flow:"vzn",width:600,height:450,color:"#333"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333"},renren:{flow:"renren",width:950,height:550,color:"#333"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333"},mixi:{flow:"mixi",width:950,height:550,color:"#333",shareSettings:{broadcast:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},kb={},lb=["openId",
"openId2","oauth"];0<lb.length;){var eb=lb.pop(),Y;for(Y in V[eb])kb[Y]=V[eb][Y]}var B=function(){var b=[];return{log:function(e){var c={};c.id=b.length+1;c.message=e;b.push(c);return this},show:function(){if(0!=b.length){for(var e in b)if("undefined"!==typeof b[e].id){var c=b[e];"object"===typeof console&&console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message)}b=[]}}}}();Oa.prototype.addHandler=function(b){this.eventHandlers.push(b);return this.eventHandlers.length-1};Oa.prototype.removeHandler=
function(b){return this.eventHandlers[b]?(this.eventHandlers[b]=null,!0):!1};Oa.prototype.fire=function(b){for(var e=this.eventHandlers.length,c=0;c<e;c++)try{if("function"===typeof this.eventHandlers[c])this.eventHandlers[c](b)}catch(f){B.log(f),B.show()}this.firedEvents.push({event:this,args:b})};"undefined"===typeof janrain.events&&(janrain.events={});var O;O||(O={});(function(){function b(b){return 10>b?"0"+b:b}function e(b){h.lastIndex=0;return h.test(b)?'"'+b.replace(h,function(b){var c=w[b];
return"string"===typeof c?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function c(b,f){var h,m,x,w,z=i,y,o=f[b];o&&"object"===typeof o&&"function"===typeof o.toJSON&&(o=o.toJSON(b));"function"===typeof p&&(o=p.call(f,b,o));switch(typeof o){case "string":return e(o);case "number":return isFinite(o)?""+o:"null";case "boolean":case "null":return""+o;case "object":if(!o)return"null";i+=k;y=[];if("[object Array]"===Object.prototype.toString.apply(o)){w=o.length;for(h=0;h<w;h+=
1)y[h]=c(h,o)||"null";x=0===y.length?"[]":i?"[\n"+i+y.join(",\n"+i)+"\n"+z+"]":"["+y.join(",")+"]";i=z;return x}if(p&&"object"===typeof p){w=p.length;for(h=0;h<w;h+=1)"string"===typeof p[h]&&(m=p[h],(x=c(m,o))&&y.push(e(m)+(i?": ":":")+x))}else for(m in o)Object.prototype.hasOwnProperty.call(o,m)&&(x=c(m,o))&&y.push(e(m)+(i?": ":":")+x);x=0===y.length?"{}":i?"{\n"+i+y.join(",\n"+i)+"\n"+z+"}":"{"+y.join(",")+"}";i=z;return x}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?
this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
i,k,w={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},p;"function"!==typeof O.stringify&&(O.stringify=function(b,e,f){var h;k=i="";if("number"===typeof f)for(h=0;h<f;h+=1)k+=" ";else"string"===typeof f&&(k=f);if((p=e)&&"function"!==typeof e&&("object"!==typeof e||"number"!==typeof e.length))throw Error("JSON.stringify");return c("",{"":b})});"function"!==typeof O.parse&&(O.parse=function(b,c){function e(b,f){var h,i,k=b[f];if(k&&"object"===typeof k)for(h in k)Object.prototype.hasOwnProperty.call(k,
h)&&(i=e(k,h),void 0!==i?k[h]=i:delete k[h]);return c.call(b,f,k)}var h,b=""+b;f.lastIndex=0;f.test(b)&&(b=b.replace(f,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return h=eval("("+b+")"),"function"===typeof c?e({"":h},""):h;throw new SyntaxError("JSON.parse");})})();janrain.events.onCustomizationChange||
(janrain.events.onCustomizationChange=ba());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=ba());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=ba());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=ba());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=ba());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=ba());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=
ba());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=ba());Wb();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureStartRegistration,onCaptureStartLogin,onCaptureSuccessfulLogin,onCaptureSuccessfulProfileSave,onCaptureFailedProfileSave,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureFailedLogin,onCaptureSuccessfulRegistration,onCaptureFailedRegistration,onCaptureSuccessfulEmailVerification,onCaptureFailedEmailVerification,onCaptureSuccessfulSave,onCaptureFailedSave,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureFormError,onCaptureExpiredToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCaptureBackplaneReady,onCaptureAutoSaveUpdate,onCaptureLinkAccountError".split(",");
Y=0;for(V=janrain.events.captureEvents.length;Y<V;Y++)"undefined"===typeof janrain.events[janrain.events.captureEvents[Y]]&&(janrain.events[janrain.events.captureEvents[Y]]=new Oa);mc();Y=new function(){var b;function e(){function b(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){if(Ia){var a=document.createElement("div");a.style.backgroundColor=
V?"aqua":Fa;a.style.width=M+"px";a.style.height=Ba+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=t+"px";a.style.paddingRight=t+"px";a.style.paddingBottom=t+"px";a.style.bottom="0px";a.style.fontSize="10px";a.style.textAlign="left";a.style.color=Y;ga(a,null,0,0,G,G);var g=document.createElement("div");g.appendChild(document.createTextNode(janrain.settings.translate.POWERED_BY_PREFIX||"Powered by "));g.style.paddingLeft="1px";var b=document.createElement("a");b.setAttribute("href",
"http://www.janrain.com/products/engage/engage-introduction?utm_source=login.janrain.com&utm_medium=partner&utm_campaign=attribution");b.setAttribute("target","_blank");b.appendChild(document.createTextNode("Janrain"));g.appendChild(b);a.appendChild(g);Gc=a}K=i();a=document.createElement("div");a.style.backgroundColor=V?"orange":Fa;a.className="janrainHeader";a.style.fontSize=ma+"px";a.style.color=Y;a.style.position="relative";a.style.height=Ca+"px";40===qa&&(a.style.cssFloat="left");a.style.left=
40===qa?"-6px":"-5px";a.style.paddingLeft=t+"px";a.style.paddingRight=t+"px";a.style.paddingTop=t+"px";a.style.paddingBottom="0px";a.style.whiteSpace="nowrap";a.style.width=40===qa?"81px":M+"px";a.style.zIndex="100";40===qa?ga(a,null,G,0,0,G):ga(a,null,G,G,0,0);40===qa&&(a.style.marginTop="-3px");a.style.textAlign="one column"===r?"center":"left";g=f();na=document.createElement("div");na.style.paddingLeft="1px";na.style.fontFamily=ia;" "!==g&&na.appendChild(document.createTextNode(g));a.appendChild(na);
Hc=a;D=document.createElement("div");D.className="janrainContent";D.style.width=M+"px";D.style.height=n()+"px";D.style.paddingLeft=t+"px";D.style.paddingRight=t+"px";D.style.boxSizing="content-box";40===qa&&(D.style.paddingTop=t-1+"px");pa||(D.style.backgroundColor=Fa);pa||(D.style.border=xa?"1px solid "+wa:"1px solid "+Fa);D=ga(D,G);pa||(D.style.overflow="hidden");D.style.position=xa?"relative":"absolute";d=w();2==K||0==K?(l=(new m).setSide("right").create(),C=(new m).setSide("left").create()):(l=
(new m).setSide("top").create(),C=(new m).setSide("bottom").create());a=document.createElement("div");a.id="janrainView";" "!==f()&&a.appendChild(Hc);g=H("blank");g.style.display="none";a.appendChild(g);a.appendChild(d);!pa&&l&&C&&(a.appendChild(l),a.appendChild(C));0<K&&Ia&&a.appendChild(Gc);D.appendChild(a);E("customizable_auth_widget_styling")||e(D);cb||B.show()}function e(a){function g(a){var b="string"===typeof a.getAttribute("style")?a.getAttribute("style"):null;b&&(b.cssText&&(b=b.cssText),
a.style.setAttribute?a.style.setAttribute("cssText",b.replace(/(((?!!important).)+?);/g,"$1 !important;")):a.setAttribute("style",b.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var b=a.getElementsByTagName("*"),d=0,A=b.length;d<A;d++)"janrainProviderPages"===b[d].id||"janrainSlideControl"===b[d].className||"janrainSlideControl"===b[d].parentNode.className||g(b[d]);g(a)}function f(){return ta?g:h.translate.HEADER?h.translate.HEADER:"two column"===r?b().twoColumn.actionText:"one column"===
r?b().oneColumn.actionText:"one row"===r?b().oneRow.actionText:g}function i(){var a=r;if("default"==a||"two column"==a)return 2;if("one column"==a)return 1;if("one row"==a)return 0}function n(){var a=" "===g?0:Ca+t,b=Ia&&"one row"!==r?Ba+t:0;return q()+a+b}function o(){var a=parseInt(d.style.left),b=parseInt(d.style.top),A;1==K?parseInt(d.style.height):parseInt(d.style.width);2==K&&(A=(M-3*t-(2==K?10:0))/K);if("one column"===r){if(" "===g&&(b+=11,0<b||-9<=b))return 0;if(9>b)return 1;if(0<b||b>=-(Ca-
(t+1)))return 0}0==K&&(A=M-100);if(0>a&&a<-A)return 1;if(0<a||a>=-t)return 0}function q(){if("two column"===r)var a=da/2;"one column"===r&&(a=da);"one row"===r&&(a=1);var g="one row"===r?0:2*a,b="one column"===r?3*t:0;if(7===k||6===k||k&&X){if("two column"===r&&(b=t,7===k||6===k))b=2*t;if("one column"===r&&(b=3*t,(7===k||6===k)&&!X))b+=t;if("one row"===r&&(7===k||6===k))b=t}"one column"===r&&Ga<=da&&(b=k&&X?b+2*t:b-2*t);return W*a+t*(a+1)+g+b}function m(){function b(){var g;C="over";var d=o();if(0==
d&&"left"===l||0==d&&"top"===l||1==d&&"right"===l||1==d&&"bottom"===l)return this.style.cursor="default",j.onclick="",!1;var Sc=this;setTimeout(function(){if(1===h){if("over"!==C)return!1;k&&(c.style.display="block");f.style.display="block";j.onclick=A;Sc.style.cursor="pointer";var b=document.getElementById("janrainProviderPages");g="top"==l||"bottom"==l?parseInt(b.style.top):parseInt(b.style.left);var d="right"===l||"bottom"===l?g-a:g+a;"top"===l||"bottom"===l?b.style.top=d+"px":b.style.left=d+"px";
h=2}},k?50:100)}function d(){var g;C="out";var b=o();if(1==b&&"right"===l||0==b&&"left"===l||0==b&&"top"===l||1==b&&"bottom"===l)return!1;setTimeout(function(){if(2===h){if("out"!==C)return!1;k&&(c.style.display="none");f.style.display="none";var b=document.getElementById("janrainProviderPages");g="top"==l||"bottom"==l?parseInt(b.style.top):parseInt(b.style.left);var d="right"===l||"bottom"===l?g+a:g-a;"top"===l||"bottom"===l?b.style.top=d+"px":b.style.left=d+"px";h=1}},k?200:400)}function A(){f.style.display=
"none";j.style.cursor="default";p(l,function(a){y(a);h=1})}var c,l,e,f,Ea={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},C="",h=1,j;return{setSide:function(a){l=a;return this},create:function(){var a;if(Ga<=da)a=!1;else{a=document.createElement("div");a.setAttribute("id","janrainShim_"+l);a.style.background="black";"top"===l||"bottom"===l?(a.style.height="19px",a.style.width="100%"):(a.style.height="100%",a.style.width="17px");a.style.filter=V?"alpha(opacity=100)":"alpha(opacity=0)";
a.style.position="absolute";a.style.zindex="99";if("top"===l||"bottom"===l)a.style.left="0";a.style[l]=t+"px";a.style.top="one column"!==r?t+1+"px":"top"===l?"10px":"0px";a.style.display="none";c=a;a=document.createElement("div");a.style.backgroundColor=V?"green":Fa;a.className="janrainSlideControllerMask";a.style.position="absolute";"one column"!==r&&(a.style.width=t+"px",a.style.height="100%",a.style.top="0px",a.style[l]="0px",a.style.borderWidth="1px","right"===l&&(!Ia||"one row"===r)&&ga(a,null,
0,0,G,0),"left"===l&&(!Ia||"one row"===r)&&ga(a,null,0,0,0,G),"right"===l&&" "===g&&ga(a,null,0,G,G,0),"left"===l&&" "===g&&ga(a,null,G,0,0,G));"one column"===r&&(a.style.height=t+"px",a.style.fontSize="0px",a.style.width="100%",a.style.padding="0px",a.style[l]="0px","top"===l&&" "===g?ga(a,null,G,G,0,0):"bottom"===l&&!Ia&&ga(a,null,0,0,G,G));"one row"===r&&(a.style.height="105.5%");e=a;a=document.createElement("div");a.setAttribute("id","janrainArrow_"+l);a.style.background="url("+vb("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+
") no-repeat scroll "+Ea[l]+" transparent";a.style.height="19px";a.style.width="17px";a.style.position="absolute";if("top"===l||"bottom"===l)a.style.left=M/2+"px";a.style[l]=t+"px";a.style.top="one column"!==r?q()/2-2*t+1+"px":"top"===l?"10px":"0px";a.style.display="none";f=a;a=document.createElement("div");a.className="janrainSlideControl";a.style.backgroundColor=V?"purple":"transparent";"one column"===r?(a.style.width=M+4+"px",a.style.left="3px","top"==l?(a.style.height=t+"px",a.style.top=Ca+t+
"px"," "===g&&(a.style.left="0px",a.style.width=M+10+"px")):(a.style.height="20px",a.style.bottom=(Ia?Ba+t:0)+"px",ga(a,null,0,0,G,G))):(a.style.width="right"===l?"20px":"0px",a.style[l]="0px",a.style.height=q()-(t*(" "===g)?1:2)+"px",40===qa&&"one row"===r&&"left"===l&&(a.style.left=Aa+"px"),"right"===l&&!Ia&&ga(a,null,0,0,G,0),"left"===l&&!Ia&&ga(a,null,0,0,0,G));a.style.position="absolute";a.style.zIndex="100";a.style.cursor="pointer";a.onmouseover=b;a.onmouseout=d;a.onclick=A;j=a;j.appendChild(e);
j.appendChild(c);j.appendChild(f);a=j}return a}}}function p(a,b){var d=document.getElementById("janrainProviderPages"),A=new wc;if("top"===a||"bottom"===a){if(" "===g)var l=-(q()-W),c=0;else l=-(q()-W-Ca-t),c=Ca+t;50===W&&(l-=20);k&&X&&(l+=t," "!==g&&(c+=t));A.setElement(d).setAcceleration("sinusoidal").setDuration(100*da).startPosition(parseInt(d.style.top)).endPosition("bottom"===a?l:c).setDirection("vertical").setCallback(function(){b(a)}).animate()}else k&&X?(l=-(M-2*t-39),"one row"===r&&(l=-(Aa-
1*t))):(l=-(M-32),"one row"===r&&(l=-(M-24))),A.setElement(d).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(d.style.left)).endPosition("right"==a?l:t).setDirection("horizontal").setCallback(function(){b(a)}).animate()}function w(){var a,b;function d(g){g.preventDefault();g=g.touches[0];g="one column"===r?a-g.pageY:b-g.pageX;if(35<g||-35>g)"one column"===r?(l.style.top=parseInt(l.style.top)-g+"px",g=0<g?"bottom":"top"):(l.style.left=parseInt(l.style.left)-g+"px",g=0<g?"right":
"left"),p(g,function(){y()}),l.ontouchmove=""}var A,l,c,e,f,Ea=K,C=[];e=x();f=pa?1:Math.ceil(Ga/da);2<f&&B.log("Either reduce the number of providers, or increase the setting for providersPerPage.");l=document.createElement("div");l.setAttribute("id","janrainProviderPages");pa&&(l.className="janrainConfigureMode");l.style.paddingTop=(6===k||7===k)&&k&&X?2*t:t+"px";if((6===k||7===k)&&!X)l.style.paddingTop=t+4+"px";l.ontouchstart=function(g){g=g.touches[0];"one column"===r?a=g.pageY:b=g.pageX};l.ontouchmove=
d;l.ontouchend=function(){l.ontouchmove=d};40===qa&&"one row"===r?l.style.left=Aa+t+"px":k&&X?"one column"!==r&&(l.style.left=t+"px"):l.style.left=t+"px";40===qa&&"one row"===r&&(l.style.cssFloat="left");40===qa&&"one row"===r&&(l.style.marginTop="1px");"one column"===r&&(l.style.top=(k&&X?1:0)+Ca+t+"px");"one row"!==r&&" "===g&&(l.style.top="0px");"one column"===r&&" "===g&&(l.style.top="0px");A=M*f;l.style.position=k&&X&&"one column"===r?"relative":"absolute";"two column"===r&&!(Ga<=da)&&(l.style.width=
A+"px");"one row"===r&&(l.style.width=(!0===pa?M+t:2*M)+"px");pa&&(Ea=0);b=0;a=0;for(var h=0;h<f;h++){for(c=0;c<=Ea;c++)C[c]=document.createElement("ul"),C[c].className="providers",C[c].id="janrainProviders_"+c,1<Ea&&(C[c].style.cssFloat="left"),1<Ea&&(C[c].style.styleFloat="left"),C[c].style.listStyleType="none",C[c].style.marginTop="0px",C[c].style.marginLeft="0px",C[c].style.marginRight="0px",C[c].style.marginBottom="0px",C[c].style.padding="0px";A=document.createElement("div");A.className="janrainPage";
A.setAttribute("pageIndex",h);k&&X&&1===f&&(A.style.width="110%");for(c=0;c<=Ea;c++)A.appendChild(C[c]);for(var Ia=e.length%2,j=pa?Ga:da,i=0;i<j&&!(0==e.length);i++){if(2==Ea)var Lb=1==Ia?C[e.length%2?0:1]:C[e.length%2];if(1==Ea||0==Ea)Lb=C[0];c=e.shift();Lb.appendChild(c)}l.appendChild(A)}return l}function y(a){0==o()?("left"===a&&(C.style.width=t+"px",l.style.display="block",l.style.width="20px"),"top"===a&&(l.style.height=t+"px",C.style.display="block",C.style.height="20px")):("right"===a&&(l.style.width=
t+"px",C.style.display="block",C.style.width="20px"),"bottom"===a&&(C.style.height=t+"px",l.style.display="block",l.style.height="20px"))}function x(){for(var a=[],g=0;g<Ga;g++){var b=H(va[g]);a.push(b)}return a}function z(a,g){g.style.cursor="pointer";g.setAttribute("id","janrain-"+a);g.setAttribute("role","button");"one row"===r?g.style.background="transparent":("gradient"===ha&&Rb(g,"bottom, #eeeeee, #ffffff"),"gray"===ha&&(g.style.backgroundColor="#eeeeee"),"white"===ha&&(g.style.backgroundColor=
"#ffffff"));S(g,"mouseover",function(){tb();"one row"===r?g.style.background="transparent":(g.style.backgroundColor="#E3E3E3",g.style.backgroundImage="")});S(g,"mouseout",function(){tb();"one row"===r?g.style.background="transparent":("gradient"===ha&&Rb(g,"bottom, #eeeeee, #ffffff"),"gray"===ha&&(g.style.backgroundColor="#eeeeee"),"white"===ha&&(g.style.backgroundColor="#ffffff"))});cb||I(g,a);return g}function H(a){var g=document.createElement("li");g.style.listStyle="none";0==K&&!1===pa&&(g.style.cssFloat=
"left");0==K&&!1===pa&&(g.style.styleFloat="left");g.style.textAlign="center";g.style.height=k&&X?W-2:W+"px";if("two column"==r){var b=pa?3*t:Ga<=da?0:3*t;g.style.width=6===k||tb&&X?(M-b-4*t)/K+"px":(M-b-(2==K?10:0))/K+"px"}g.style.marginTop="0px";if("one column"==r){if(7==k||6==k)g.style.marginTop="-1px";k&&X?g.style.marginRight="0px":g.style.width=M-t/2+"px";g.style.marginLeft="0px"}else g.style.marginRight=t+"px";0==K&&(g.style.width=W+"px");g.style.marginBottom=(7===k||6===k||k&&X?3:t)+"px";g.style.position=
"relative";0!=K&&(g.style.border="1px solid "+j);0!=K&&ga(g,sa);if("customopenid"===a){b=document.createElement("img");if(1==K||2==K)30==W&&(b.src=Ka.smallLogo),50==W&&(b.src=Ka.largeLogo);0==K&&(30==W&&(b.src=Ka.smallIcon),50==W&&(b.src=Ka.largeIcon))}else if(b=document.createElement("span"),"blank"!==a){if(1==K||2==K)30==W&&(b.className="janrain-provider100-"+a,b.style.width=100),50==W&&(b.className="janrain-provider150-"+a,b.style.width=150);0==K&&(30==W&&(b.className="janrain-provider-icon-32 janrain-provider-icon-"+
a,b.style.width=32),50==W&&(b.className="janrain-provider-icon-48 janrain-provider-icon-"+a,b.style.width=48))}b.style.backgroundColor="transparent";k&&X&&(b.style.height=W-2+"px");if(6===k&&"one row"!==r){var d=document.createElement("div");d.style.height=b.style.height;d.style.width="90px";d.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+b.src+"')";b.style.filter="alpha(opacity=0)";d.appendChild(b);g.appendChild(d)}else g.appendChild(b);return z(a,
g)}function F(a,g){var b=document.createElement("div"),d=h.translate.SIGN_IN_AS||"Sign in as {name}",d=d.replace("{name}",g),d=document.createTextNode(d),A=document.createElement("div");A.style.cssFloat="right";A.style.styleFloat="right";A.style.fontFamily=ia;A.style.position="relative";A.style.top="one row"===r?"2px":W/4-3+"px";A.appendChild(d);var l=document.createElement("div"),c=7.5*d.length+30,e=n();l.style.fontSize="16px";l.style.height="100%";l.style.position="relative";if(0==K||120>e)15<=
d.length&&(l.style.fontSize="14px",c=7*d.length+30),20<=d.length&&(l.style.fontSize="12px",c=6*d.length+30),24<=d.length&&(l.style.fontSize="10px",c=5*d.length+25),30<=d.length&&(d.textContent=d.textContent.substr(0,26)+"...",c=162);l.style.width=c+"px";if(0==K||116>e){if("customopenid"===a){var f=document.createElement("img");f.src=Ka.smallIcon}else f=document.createElement("span"),f.className="janrain-provider-icon-20 janrain-provider-icon-"+a;f.style.width="20px";f.style.height="20px";f.style.cssFloat=
"left";f.style.styleFloat="left"}b.style.overflow="hidden";b.style.position="relative";b.style.height=("one row"!==r?W:25)+"px";b.style.marginBottom="one row"===r?"-4px":"4px";"one row"===r&&(b.style.top="-4px");b.style.left="0px";k&&X&&(b.style.marginRight="5px");k&&X&&(b.style.marginLeft="3px");b.style.border="1px solid "+j;ga(b,sa);"customopenid"===a&&(b.style.color=kb[a].color);if(0==K||116>e)l.style.paddingTop="2px",l.appendChild(f);6===k||7===k||k&&X?l.style.left="10px":l.style.margin="0 auto";
l.appendChild(A);0==K||116>e?b.appendChild(l):(50===W&&parseInt(b.style.height),A.style.cssFloat="none",A.style.styleFloat="none",b.appendChild(A));return z(a,b)}function I(a,g){S(a,"click",function(){O(g)})}function O(a){var g=kb[a],b={appUrl:h.appUrl,mobileDevice:yb,language:h.language,popup:bb,tokenUrl:xb||h.tokenUrl||window.location.href,facebookPermissions:Ha,forceReauth:Ja,widgetType:"auth",tokenAction:ca,bpChannel:jb,customOpenid:Za,customOpenidOpxblob:h.customOpenidOpxblob};g.name=a;new $a(g,
b,function(){Da||(nb=setTimeout(function(){oa(g)},300))})}function J(a){var g=document.createElement("div");if("customopenid"===a){var b=document.createElement("img");b.src=Ka.largeLogo}else b=document.createElement("span"),b.className="janrain-provider150-"+a;b.style.width="150px";b.style.height="50px";g.style.position="absolute";g.style.top="0px";g.style.left="0px";g.style.width=M+"px";g.style.zIndex="102";g.style.textAlign="center";g.style.padding=t+"px";g.style.backgroundColor="transparent"===
Fa?"#ffffff":Fa;g.style.height=n()-(k&&X?0:2*t)+"px";ga(g,G);"one row"!==r&&116<=n()&&g.appendChild(b);return g}function s(a){var g=document.createElement("a"),b=document.createTextNode(h.translate.USE_ANOTHER_ACCOUNT||"switch accounts");g.setAttribute("class","janrainSwitchAccountLink");g.setAttribute("href","");g.style.fontSize="12px";g.style.fontFamily=ia;g.style.color=Y;g.onclick=a;g.appendChild(b);return g}function Q(){return"modal"===L?document.getElementById("janrainModal"):"embed"===L?document.getElementById("janrainEngageEmbed"):
!1}function N(){var a=parseInt(D.style.width);return a=a+2*t+2}function T(){var a=Q();null!==a&&"object"===typeof D&&D.parentNode===a&&a.removeChild(D)}function R(){var a="";"object"===typeof u&&(a=u.getState());return{type:L,width:N(),fontFamily:ia,fontSize:ma,fontColor:Y,backgroundColor:Fa,borderColor:wa,borderRadius:G,format:r,providersPerPage:da,providers:va,buttonBackgroundStyle:ha,buttonBorderColor:j,buttonBorderRadius:sa,actionText:f(),showAttribution:Ia,modalState:a}}function aa(a){r=P("string",
["default","two column","one column","one row"],"two column",a);"default"===r&&(r="two column");"one row"==a&&(G=P("number",[0,5],5,G));ea()}function U(a){"two column"===r&&(M=P("number",[225,600],380,a));"one column"===r&&(M=P("number",[160,600],200,a));"one row"===r&&(W=30,a=Ga<=da?t*(parseInt(da)-1):t*(parseInt(da)+2),40===qa&&(a+=Aa-t),M=W*da+a);if(("two column"===r||"one column"===r)&&!pa)M=M-2*t-2;k&&X&&(M=M+2*t+2);"one row"!==r&&(W=380<M?50:30)}function $(a){"string"===typeof a&&(ta=!0,g=P("text",
null,g,a)," "===g?G=P("number",[0,5],5,G,!0):Ca="two column"!==r?b().headerHeight-5:b().headerHeight)}function fa(a){ha=P("string",["gray","white","gradient"],"gradient",a)}function Z(a){j=P("color",null,"#CCCCCC",a)}function ra(a){Fa=P("color",null,"#ffffff",a)}function ja(a){"undefined"===typeof a&&(a=5);G=" "===g||!Ia||"one row"===r?P("number",[0,5],5,a,!0):P("number",[0,10],10,a)}function ba(a){Ia=P("boolean",null,!0,a);n();G=a?P("number",[0,10],5,G,!0):P("number",[0,5],5,G,!0)}function ka(a){wa=
P("color",null,"#C0C0C0",a)}function ea(){"two column"===r&&(ma=18);if("one column"===r||"one row"===r)ma=14}function ya(a){Y=P("color",null,"#333333",a)}function v(a){if("object"==typeof a){K=i();for(var g=0,b=a.length;g<b;g++)if(!kb[a[g]])return la(4),B.log(a[g]+" is not a valid provider, using default providers instead"),this;va=a;Ga=a.length;"object"===typeof u&&u.setHeight(n()-2*t).refresh()}}function la(a){"two column"===r&&(da=P("number",[4,6,8],6,a));"one column"===r&&(da=P("number",[1,6],
6,a));"one row"===r&&(da=dc?Ga:P("number",[4,8],6,a),U(M))}function oa(a){var g=document.createTextNode(h.translate.SIGNING_IN||"Signing in ..."),b=document.createElement("div");A=J(a.name);b.appendChild(g);A.appendChild(b);D&&D.appendChild(A)}var V=!1,M=380,ta=!1,ia="lucida grande, Helvetica, Verdana, sans-serif",ma=18,Y="#666666",Fa="#ffffff",wa="#C0C0C0",G=10,D,na,r="two column",K,xa,da=6,va=["aol","google","yahoo","openid"],Ga=4,j="#CCCCCC",sa=5,ha="gradient",W=30,Ca=b().headerHeight,qa=60,Aa=
89,Ba=b().footerHeight,t=5,a=10,g="Sign in using your account with",A,d,l,C,Ia=!0,Jc=!1,Kc=!1,Hc,Gc;janrain.events.onProviderLoginStart.addHandler(function(a){Na("login_tab",a.provider,1)});return{build:c,setFormat:function(a){a&&aa(a);"two column"!==r&&(Ca=b().headerHeight-5);"two column"===r&&(da=b().twoColumn.providersPerPage,Ca=b().headerHeight);return this},setActionText:function(a){"string"===typeof a&&$(a);return this},setFontSize:function(a){a&&ea(a);return this},setFontFamily:function(a){a&&
a&&(ia=a);return this},setFontColor:function(a){a&&ya(a);return this},setButtonBorderColor:function(a){a&&Z(a);return this},setButtonBorderRadius:function(a){if("string"==typeof a||"number"==typeof a)sa=P("number",[0,20],5,a);return this},setButtonBackgroundStyle:function(a){a&&fa(a);return this},setWidth:function(a){("string"==typeof a||"number"==typeof a)&&U(a);return this},refresh:function(){T();var a=Q();c();var g=ua("expected_tab");g&&!Bb?ab("expected_tab",g):(null!==a&&"object"===typeof D&&
a.appendChild(D),"object"===typeof u&&u.setHeight(parseInt(D.style.height)+2).refresh());janrain.events.onCustomizationChange.fire(R());return this},remove:function(){T();return this},setRowHeight:function(a){if(0!==i())return this;a||(a=60);oneRowHeaderHeight=P("number",[40,60,90],60,a);40===oneRowHeaderHeight&&(W=30,qa=40);60===oneRowHeaderHeight&&(W=30);90===oneRowHeaderHeight&&(W=50);return this},setHeight:function(a){"object"==typeof D&&(D.style.height=a+"px");return this},setBackgroundColor:function(a){a&&
ra(a);return this},setBorderColor:function(a){a&&ka(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&ja(a);return this},setProviders:function(a){"object"==typeof a&&v(a);return this},setProvidersPerPage:function(a){if("string"==typeof a||"number"==typeof a)la(a),"object"===typeof u&&u.setHeight(n()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===typeof a&&ba(a);return this},setPreviewMode:function(a){"boolean"===typeof a&&(cb=a);
return this},setProviderFlow:function(a,g){return I(a,g)},triggerFlow:function(a){return O(a)},setNoReturnExperience:function(a){"boolean"===typeof a&&(Jc=a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(Kc=a);return this},setConfigureMode:function(a){"boolean"===typeof a&&(pa=a,K=i());return this},embed:function(a){if((xa=a)&&"object"==typeof D)D.style.position="relative";return this},getContentsDiv:function(){return D},getErrorPage:function(a,g){var b=document.createTextNode(g.msg),
d=document.createElement("div");d.appendChild(b);d.style.color=Y;d.style.fontSize=ma+"px";d.style.width="100%";var l=J(a);l.appendChild(d);l.appendChild(s(function(){D.removeChild(l);D.removeChild(A);Ja=!0;return!1},a));D.appendChild(l);return D},getReturnExperience:function(a,g){if(cb||Jc||-1===va.indexOf(a))return D;var b=F(a,g),d=J(a),A=function(){Ja=Bb=!0;D.removeChild(d);return!1};d.id="janrainAuthReturnExperience";d.appendChild(b);Kc||d.appendChild(s(A,a));D.appendChild(d);return D},getWidth:function(){return N()},
getActualHeight:function(){return parseInt(D.style.height)+2},getHeight:function(){return n()-2*t},getState:function(){return R()},setState:function(a){if(E("customizable_auth_widget_styling")){var g=a.fontFamily;g&&(ia=g);ea(a.fontSize);ya(a.fontColor);ra(a.backgroundColor);ka(a.borderColor);"embed"===L&&a.format&&(a.format&&aa(a.format),"two column"!==r&&(Ca=b().headerHeight-5),"two column"===r&&(da=b().twoColumn.providersPerPage,Ca=b().headerHeight));if("string"==typeof a.providersPerPage||"number"==
typeof a.providersPerPage)la(a.providersPerPage),"object"===typeof u&&u.setHeight(n()).refresh("janrainModal");fa(a.buttonBackgroundStyle);Z(a.buttonBorderColor);sa=P("number",[0,20],5,a.buttonBorderRadius);$(a.actionText);ba(a.showAttribution);ja(a.borderRadius);"embed"===L&&("string"==typeof width||"number"==typeof width)&&U(a.width)}v(a.providers)},showNotice:function(){oa()},removeNotice:function(){Gb(A)},removeReturnExperience:function(){var a=document.getElementById("janrainAuthReturnExperience");
Gb(a)}}}function c(){if("object"===typeof n)if("object"===typeof ka){var b=n.getState();b.width=ka.width;ka=b}else ka=n.getState();"object"===typeof n&&n.remove();"object"===typeof u&&u.remove();w();L="modal";"object"===typeof n&&ka&&E("customizable_auth_widget_styling")&&n.setState(ka);"object"===typeof u&&Qa&&E("customizable_auth_widget_styling")&&u.setState(Qa);"object"===typeof u&&u.show();"object"===typeof n&&n.refresh()}function f(){if("object"===typeof n){if("object"===typeof ka){var b=n.getState();
b.borderRadius=ka.borderRadius;b.format=ka.format;b.width=ka.width;ka=b}else ka=n.getState();Qa=ka.modalState;delete Qa.orientation}"object"===typeof n&&n.remove();"object"===typeof u&&u.remove();"object"===typeof u&&(u="");i();L="embed";"object"===typeof n&&ka&&E("customizable_auth_widget_styling")&&n.setState(ka);"object"===typeof n&&n.refresh()}function m(){var b,c;w();c=document.getElementsByTagName("a");var e=RegExp("(\\s|^)"+h.linkClass+"(\\s|$)");for(b in c)e.test(c[b].className)&&(c[b].onclick=
y)}function i(){var b=ua("expected_tab");n=new e;n.setBackgroundColor(ea).embed(!0).setPreviewMode($).setShowAttribution(gb).setNoReturnExperience(ob).setNoReturnExperienceSwitchAccountLink(I).setFormat(Pb).setRowHeight(Ra).setFontSize(pb).setFontFamily(q).setFontColor(Wa).setActionText(Cb).setProviders(Qb).setProvidersPerPage(Db).setWidth(db).setBorderColor(Eb).setBorderRadius(Sa).setButtonBorderColor(va).setButtonBorderRadius(Ta).setButtonBackgroundStyle(Z).build();var c=document.getElementById("janrainEngageEmbed");
null===c&&(c=document.getElementById("janrainModal"));la||(b?(ta("welcome_info_name",unescape(ua("welcome_info_name"))),ab("expected_tab",b)):Pa(c,n.getContentsDiv()))}function y(){"object"===typeof u&&u.show();return!1}function w(){var b=ub(Aa,hb),c=ua("expected_tab");if("undefined"===typeof b||0>b)b=5;n=new e;n.setBackgroundColor(ea).setPreviewMode($).setShowAttribution(gb).setNoReturnExperience(ob).setNoReturnExperienceSwitchAccountLink(I).setFontSize(pb).setFontFamily(q).setFontColor(Wa).setActionText(Cb).setProviders(Qb).setProvidersPerPage(Db).setBorderRadius(b).setButtonBorderColor(va).setButtonBorderRadius(Ta).setButtonBackgroundStyle(Z).build();
if("object"!==typeof u){u=new kc;u.ready=!1;var f=u.addContent;u.addContent=function(b){u.ready=!0;f(b);janrain.events.onModalWidgetReady.fire()}}u.setHeight(n.getActualHeight()).setWidth(n.getWidth()).setPreviewMode($).setBorderColor(ia).setBorder(hb).setBorderOpacity(ib).setBorderRadius(Aa);la||(c?(ta("welcome_info_name",unescape(ua("welcome_info_name"))),ab("expected_tab",c)):u.addContent(n.getContentsDiv()));u.onOrientationChange.addHandler(function(b){"portrait"===b.orientation&&n.setFormat(b.format).setWidth(200).refresh();
"landscape"===b.orientation&&n.setHeight(b.height).setWidth(b.width).setFormat(b.format).refresh();u.setHeight(n.getActualHeight());u.setWidth(n.getWidth())});u.onShow.addHandler(function(){"object"==typeof n&&u.setWidth(n.getWidth())});u.onBorderWidthChange.addHandler(function(b){"object"===typeof u&&"object"===typeof n&&(n.setBorderRadius(b.radius).refresh(),b=n.getState(),b.borderRadius<b.modalState.borderRadius-b.modalState.borderWidth&&u.setBorderRadius(b.borderRadius+b.modalState.borderWidth))});
u.onBorderRadiusChange.addHandler(function(b){"object"===typeof n&&(n.setBorderRadius(b.radius).refresh(),b=n.getState(),b.borderRadius<b.modalState.borderRadius-b.modalState.borderWidth&&u.setBorderRadius(b.borderRadius+b.modalState.borderWidth))})}function p(b,c){if(!E("customizable_auth_widget_styling"))return!1;if("object"===typeof n)return c(b),!0}function z(b){return p(b,function(b){n.setBackgroundColor(b).refresh()})}function H(b){return p(b,function(b){n.setBorderRadius(b).refresh()})}function Q(b){return p(b,
function(b){n.setBorderColor(b).refresh()})}function F(b){return"modal"===L?!1:p(b,function(b){n.setWidth(b).refresh()})}function x(b){return p(b,function(b){n.setActionText(b).refresh()})}function T(b){return p(b,function(b){n.setButtonBorderColor(b).refresh()})}function V(b){return p(b,function(b){n.setButtonBorderRadius(b).refresh()})}function Y(b){return p(b,function(b){n.setButtonBackgroundStyle(b).refresh()})}function o(b){return"modal"==L?!1:p(b,function(b){n.setFormat(b).refresh()})}function xa(b){return p(b,
function(b){n.setProvidersPerPage(b).refresh()})}function sa(b){return p(b,function(b){n.setFontFamily(b).refresh()})}function U(b){return p(b,function(b){n.setFontSize(b).refresh()})}function za(b){return p(b,function(b){n.setFontColor(b).refresh()})}function ua(b){var c;if("single cookie"===Ba){c=J().getCookie("janrain_engage_login_data");if(!c)return;c=O.parse(c);return!c[b]?void 0:b=c[b]}if("default"===Ba)return b=J().getCookie(b),!b?void 0:b}function Na(b,c,e){var f;if(!b||!c)return!1;e||(e=
1);if("single cookie"===Ba)return(oldCookieJSON=J().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),e=O.parse(oldCookieJSON),e[b]=c,f=new J,f.setName("janrain_engage_login_data").setValue(O.stringify(e)).setExpiration(1826).create(),!0;return"default"===Ba?(f=new J,f.setName(b).setValue(c).setExpiration(e).create(),!0):!1}function ja(b,c){if(ob)return!1;if("expected_tab"===b&&!c){var e=ua("login_tab");e&&ja("expected_tab",e);return!1}if(!c||"undefined"===c||"expected_tab"!==b&&"expected_user_input"!==
b&&"welcome_info_name"!==b)return!1;c="welcome_info_name"===b?escape(c):c;Na(b,c,1826)}function Dc(c,e){var f;e||(e=b);if(k&&3>qb)return(void 0).time=(new Date).getTime(),f=Hb(void 0),wa(e+"/signin/get_login_info"+f),qb++,!0;"undefined"!==typeof nb&&clearTimeout(nb);return!1}function $a(c,e,f){var h=e.appUrl+"/"+c.flow+"/start",i=window.location.href;e.mobileDevice&&(i="mobile");var k=e.language||"en",n=e.popup?"xdr":"xdrsw",o=e.tokenUrl||window.location.href,q={};b=e.appUrl;q.language_preference=
k;q.token_url=o;q.display="popup";q.widget=!0;"object"===typeof e.facebookPermissions&&(q.ext_perm=e.facebookPermissions.toString());q.openid_identifier=c.identifier;q.origin_url=i;q.provider_name=c.name;q.force_reauth=e.forceReauth;q.xdReceiver=e.appUrl+"/"+n;q.callback="none";q.widget_type=e.widgetType;q.token_action="url";if("event"===e.tokenAction||"hybrid"===e.tokenAction)q.token_action="event";e.mobileDevice&&"hybrid"===e.tokenAction&&(q.token_action="url");e.bpChannel&&(q.bpChannel=e.bpChannel);
e.customOpenid&&"string"===typeof e.customOpenidOpxblob&&(q.opx_blob=e.customOpenidOpxblob);h+=Hb(q);(function(){janrain.events.onProviderLoginStart.fire({provider:c.name,width:c.width,height:c.height});var b;e.mobileDevice&&"event"!==e.tokenAction||!e.popup?wa(e.appUrl+"/signin/set_login_tab?login_tab="+c.name+"&origin_url="+window.location.href,function(){window.top.location.href=h}):(b=new Nc(h),b.setWidth(c.width).setHeight(c.height).setCallback(function(){var b={},h="";b.widget_type=e.widgetType;
b.provider=c.name||"";b.time=(new Date).getTime();h=Hb(b);"function"===typeof f&&f();wa(e.appUrl+"/signin/get_login_info"+h);janrain.events.onProviderLoginComplete.fire({provider:c.name})}).show())})()}function ta(b,c){if(!c||"undefined"===c||"welcome_info_name"!==b)return!1;c&&(ma=c)}function ab(b,c){var e=function(b){var f=function(){600>b&&setTimeout(function(){e(++b)},50)};if("object"!==typeof n)return f(),!1;"modal"===L?u.addContent(n.getReturnExperience(c,ma)):"embed"===L&&Pa(document.getElementById("janrainEngageEmbed"),
n.getReturnExperience(c,ma));"modal"===L&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==b||!c)return!1;"object"===typeof n&&n.removeReturnExperience();janrain.events.onAuthWidgetLoad.addHandler(function(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,welcomeName:ma})});e(0)}function Pa(b,c){janrain.settings.capture&&(b?b.appendChild(c):(b=document.createElement("div"),b.id="janrainEngageEmbed",b.style.display="none",document.body.appendChild(b)));b?b.appendChild(c):
B.log('Missing container div, please place this div where you want the embedded widget to be displayed on your page - <div id="janrainEngageEmbed"></div>.').show();return b}function Ua(b,c){xb=xb||oa;tokenUrl=c?xb:oa;var e="";if(!ha(tokenUrl).query)var e=e+"?",f=!0;for(var h in b)f?(e+=h+"="+b[h],f=!1):e+="&"+h+"="+b[h];xb=tokenUrl+e}function na(){h=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout(na,5),!1;Ub(ec()+"providers.css");
k&&9>=k&&Ub(ec()+"providers-ie.css");if(h.stop)return!0;Kb&&wa(h.appUrl+"/signin/establish_session");ca=h.tokenAction?h.tokenAction:ca;if(!h.tokenUrl&&"event"===ca)oa=window.location.href;else if(h.tokenUrl)oa=h.tokenUrl;else return B.log("Missing tokenUrl.  tokenUrl is required."),B.show(),!1;L=P("string",["modal","embed"],"embed",h.type?h.type:L);la=h.multi?h.multi:yb?!0:la;Da=h.custom?h.custom:Da;Ja=h.forceReauth?h.forceReauth:Ja;jb=h.bpChannel?h.bpChannel:jb;Ha=h.facebookPermissions?h.facebookPermissions:
Ha;Ba=h.storageType?P("string",["default","single cookie"],"default",h.storageType):Ba;bb="boolean"===typeof h.popup?h.popup:bb;yb&&"event"!==ca&&(bb=!1);Jb=h.returnExperienceTimeout?h.returnExperienceTimeout:Jb;la&&(setTimeout(function(){var b=ua("expected_tab");b?(ta("welcome_info_name",unescape(ua("welcome_info_name"))),ab("expected_tab",b)):"modal"===L?u.addContent(n.getContentsDiv()):"embed"===L&&Pa(embedDiv,n.getContentsDiv())},Jb),wa(h.appUrl+"/signin/get_cookies"));if(Da)return!0;ca=h.tokenAction?
h.tokenAction:ca;hb=E("customizable_auth_widget_styling")?h.modalBorderWidth:hb;ia=E("customizable_auth_widget_styling")?h.modalBorderColor:ia;Aa=E("customizable_auth_widget_styling")?h.modalBorderRadius:Aa;ib=E("customizable_auth_widget_styling")?h.modalBorderOpacity:ib;ea=E("customizable_auth_widget_styling")?h.backgroundColor:ea;Sa=E("customizable_auth_widget_styling")?h.borderRadius:Sa;Eb=E("customizable_auth_widget_styling")?h.borderColor:Eb;Pb=E("customizable_auth_widget_styling")?h.format:
Pb;Wa=E("customizable_auth_widget_styling")?h.fontColor:Wa;pb=E("customizable_auth_widget_styling")?h.fontSize:pb;q=E("customizable_auth_widget_styling")?h.fontFamily:q;db=E("customizable_auth_widget_styling")?h.width:db;Ra=E("customizable_auth_widget_styling")?h.rowHeight:Ra;Db=E("customizable_auth_widget_styling")?h.providersPerPage:Db;dc=E("customizable_auth_widget_styling")?h.providersNotPaged:dc;Cb=E("customizable_auth_widget_styling")?h.actionText:Cb;va=E("customizable_auth_widget_styling")?
h.buttonBorderColor:va;Ta=E("customizable_auth_widget_styling")?h.buttonBorderRadius:Ta;Z=E("customizable_auth_widget_styling")?h.buttonBackgroundStyle:Z;gb=E("customizable_auth_widget_hide_attribution")?h.showAttribution:gb;$=h.previewMode;ob=h.noReturnExperience;I=h.noReturnExperienceSwitchAccountLink;Qb=h.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate={});if(h.customOpenid&&E("customizable_auth_widget_styling")){Za=!0;if(!h.customOpenidFlow)return B.log("Missing customOpenidFlow. customOpenidFlow is required when adding a custom openid provider."),
B.show(),!1;if(!h.customOpenidIdentifier)return B.log("Missing customOpenidIdentifier. customOpenidIdentifier is required when adding a custom openid provider."),B.show(),!1;if(!h.customOpenidSmallLogo)return B.log("Missing customOpenidSmallLogo.  customOpenidSmallLogo is required and should be the full path to an image that has a width of 90px and height of 30px."),B.show(),!1;if(!h.customOpenidSmallIcon)return B.log("Missing customOpenidSmallIcon.  customOpenidSmallIcon is required and should be the full path to an image that is 30px x 30px."),
B.show(),!1;if(!h.customOpenidLargeLogo)return B.log("Missing customOpenidLargeLogo.  customOpenidLargeLogo is required and should be the full path to an image that has a width of 150px and height of 50px."),B.show(),!1;if(!h.customOpenidLargeIcon)return B.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),B.show(),!1;Ka={smallLogo:h.customOpenidSmallLogo,smallIcon:h.customOpenidSmallIcon,largeLogo:h.customOpenidLargeLogo,
largeIcon:h.customOpenidLargeIcon};kb.customopenid={flow:h.customOpenidFlow,identifier:h.customOpenidIdentifier}}h.previewMode?("modal"===L&&(janrain.ready?c():S(window,"load",c)),"embed"===L&&(janrain.ready?f():S(window,"load",f))):("modal"===L&&(janrain.ready?m():S(window,"load",m)),"embed"===L&&(janrain.ready?i():S(window,"load",i)))}var Ha,jb,Za=!1,Ja=!1,ca="url",oa,xb,L="embed",ma="unknown",la=!1,Jb=300,Ja=!1,bb=!0,Da=!1,Ba="default",Ka,Qa,u,hb,ia,Aa,ib,n,ka,ea,Sa,Eb,db,Ra,Pb,Qb=[],dc=!1,Db,
Cb,pb,q,Wa,va,Ta,Z,$,ob,I,gb,Bb=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=ba());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=ba());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=ba());janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===typeof janrainWidgetOnload&&(Da?janrainWidgetOnload():n?janrainWidgetOnload(n.getState()):janrainWidgetOnload())});for(var nb,qb=0,N="onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),
Xa=0;Xa<N.length;Xa++)"undefined"===typeof janrain.events[N[Xa]]&&(janrain.events[N[Xa]]=new Oa);janrain.events.onProviderLoginError.addHandler(function(b){if(Da)return!0;var c=ua("login_tab");if("modal"===L){var e=document.getElementById("janrainModal");e&&e.appendChild(n.getErrorPage(c,b.err))}"embed"===L&&(e=document.getElementById("janrainEngageEmbed"))&&Pa(e,n.getErrorPage(c,b.err))});na();return{appendTokenParams:function(b,c){Ua(b,c)},appendTokenParamsCumulative:function(b){Ua(b,!0)},setBackplaneChannel:function(b){jb=
b},setLoginCookie:function(b,c){ja(b,c)},loginHandler:function(b){var c=ca;b?("ok"===b.stat&&("event"===c||"hybrid"===c?wa(b.redirectUrl):(c=document.createElement("form"),c.action=b.redirectUrl,c.method="POST",janrain.settings.targetTop&&(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===b.stat&&(janrain.events.onProviderLoginError.fire(b),"undefined"!==typeof nb&&clearTimeout(nb))):Dc()},cancelLogin:function(b){Dc(b,h.appUrl);Da||n.removeNotice()},removeNotice:function(){n.removeNotice()},
setWelcomeInfoName:function(b,c){ta(b,c)},setReturnExperience:function(b,c){ab(b,c)},setNoReturnExperience:function(b){"boolean"===typeof b&&n?(n.setNoReturnExperience(b).refresh(),b=!0):b=!1;return b},setNoReturnExperienceSwitchAccountLink:function(b){"boolean"===typeof b&&n?(n.setNoReturnExperienceSwitchAccountLink(b).refresh(),b=!0):b=!1;return b},setPreviewMode:function(b){"boolean"===typeof b&&n?(n.setPreviewMode(b).refresh(),b=!0):b=!1;return b},setConfigureMode:function(b){"boolean"===typeof b&&
n?(n.setConfigureMode(b).refresh(),b=!0):b=!1;return b},setCustom:function(b){Da=b},getState:function(){return"object"===typeof n?n.getState():!1},setProviderFlow:function(b,c){var f;f=!E("customizable_auth_widget_styling")||!Da?!1:e().setProviderFlow(b,c);return f},triggerFlow:function(b){b=!E("customizable_auth_widget_styling")||!Da?!1:e().triggerFlow(b);return b},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+
document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);
console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var b in janrain.settings)if(console.log(" ---- "+b+": "+janrain.settings[b]),"object"===typeof janrain.settings[b])for(var c in janrain.settings[b])"function"!==typeof janrain.settings[b][c]&&console.log(" --- --- "+c+": "+janrain.settings[b][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){f()},setBackgroundColor:function(b){return z(b)},setBorderColor:function(b){return Q(b)},
setBorderRadius:function(b){return H(b)},setWidth:function(b){return F(b)},setActionText:function(b){return x(b)},setFontFamily:function(b){return sa(b)},setFontSize:function(b){return U(b)},setFontColor:function(b){return za(b)},setFormat:function(b){return o(b)},setButtonBorderColor:function(b){return T(b)},setButtonBorderRadius:function(b){return V(b)},setButtonBackgroundStyle:function(b){return Y(b)},setProviders:function(b){var c;"object"===typeof n&&(pa?n.setProviders(b):n.setProviders(b).refresh(),
c=!0);return c},setProvidersPerPage:function(b){return xa(b)},setShowAttribution:function(b){var c;E("customizable_auth_widget_hide_attribution")?"object"===typeof n&&n.setShowAttribution(b).refresh():c=!1;return c},refresh:function(){return n.refresh()},getWidth:function(){return n.getWidth()}},modal:{init:function(){c()},close:function(){"object"==typeof u&&u.close()},create:function(){return new kc},setBorder:function(b){E("customizable_auth_widget_styling")?("object"===typeof u&&(u.setBorder(b),
u.refresh()),b=!0):b=!1;return b},setBorderColor:function(b){E("customizable_auth_widget_styling")?("object"===typeof u&&(u.setBorderColor(b),u.refresh()),b=!0):b=!1;return b},setBorderOpacity:function(b){E("customizable_auth_widget_styling")?("object"===typeof u&&(u.setBorderOpacity(b),u.refresh()),b=!0):b=!1;return b},setBorderRadius:function(b){E("customizable_auth_widget_styling")?("object"==typeof u&&(u.setBorderRadius(b),u.refresh()),b=!0):b=!1;return b}}}};var V=new function(){return{status:"not loaded"}},
lb=new function(){return{status:"not loaded"}},eb=new function(){return{status:"not loaded"}},Tc=new function(){function b(a){function g(){tc=!0;var g=a||h();a&&(va=ha(a).queryKey.flow_path);wa(g,bb);o();na();janrain.events.onCaptureFailedLogin.addHandler(function(){Mb++;Ua()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){Mb=0;Ua()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){ka(Ea)});janrain.events.onCaptureSuccessfulRegistration.addHandler(function(){ka(Ea)});
janrain.events.onCaptureValidationComplete.addHandler(function(){for(var a=!1,g=r.length,b=0;b<g;b++){var d=r[b],A;for(A in d)if(d.hasOwnProperty(A))switch(A){case "render":d.render.screen&&!a&&(a=!0,(new Sa).setScreenData(d.render.screen,s.screens[d.render.screen]));break;case "setCookie":var c=d.setCookie.name,l=d.setCookie.value,e=d.setCookie.days;(new J).setExpiration(e).setUseLocalStorage(!0).setName(c).setValue(l).create()}}r=[]});janrain.events.onCaptureRenderComplete.addHandler(function(){if(sb){var a=
Va.savedProfileMessage||"Your profile has been saved",g=xa("capture_profileSavedMessage_container",N.div),b=g.length;if(b)for(var d=0,b=g.length;d<b;d++)g[d].innerHTML=a,g[d].style.display="";else if(yc&&(g=document.getElementById(I+yc+"_defaultSavedProfileMessage")))g.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+a+"</div>";sb=!1}Y()});janrain.events.onCaptureContentChange.addHandler(function(){"object"===typeof v&&v.isOpen()&&(v.setHeight(Za(v.getContent()).height),
v.setWidth(Za(v.getContent()).width).refresh())});janrain.settings.custom&&!yb&&ga()}function b(){janrain.settings.capture.redirectFlow?Da(g):g()}function d(){Rc&&(janrain.settings.capture.federate=!1);janrain.settings.capture.federate?hc(janrain.settings.capture.federateServer+"/sso.js",b).setTimeoutLimit(3E5).setTimeoutCallback(function(){janrain.settings.capture.federate=!1;b()}).load():b()}function c(){function a(){Backplane.expectMessages("identity/login")}fb=Backplane.getChannelID();janrain.events.onCaptureSuccessfulLogin.addHandler(a);
janrain.events.onCaptureSuccessfulRegistration.addHandler(a);janrain.events.onCaptureBackplaneReady.fire();d()}hb(u());janrain.settings.capture.noStyling||(Ub(ec()+"widgets.css"),Ac(ec()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&z(janrain.settings.capture.stylesheets))for(var e=janrain.settings.capture.stylesheets,f=e.length,j=0;j<f;j++)Ub(e[j]),B(e[j]);if(k&&9>k&&janrain.settings.capture.conditionalIEStylesheets&&z(janrain.settings.capture.conditionalIEStylesheets)){e=janrain.settings.capture.conditionalIEStylesheets;
f=e.length;for(j=0;j<f;j++)Ac(e[j]),B(e[j])}janrain.settings.capture.backplane?hc("http://backplane1.janrainbackplane.com/bus/test/channel/test?callback=janrain.capture.ui.noop",function(){wa("https://d134l0cdryxgwa.cloudfront.net/backplane.js",function(){Backplane(c);Backplane.init({serverBaseURL:"https://backplane1.janrainbackplane.com/v1.2",busName:janrain.settings.capture.backplaneBusName,channelExpires:janrain.settings.capture.backplaneChannelExpires||""})})}).setTimeoutLimit(3E5).setTimeoutCallback(function(){janrain.settings.capture.backplane=
!1;d()}).load():d()}function e(a,g,b,d){var c=[];d&&c.push({value:"",text:d,disabled:!0});if("desc"===b)for(b=g;b>a-1;b--)c.push({value:b,text:b});else for(b=a;b<g+1;b++)c.push({value:b,text:b});return c}function c(a){return"string"===typeof a?"capture_"+a+"_":"capture_"+f(a)+"_"}function f(a){var g=a.getAttribute("data-capturescreenname");if(g&&s.screens[g])return g;for(var g=xa("capture_screen_container"),b=0,d=g.length;b<d;b++){var c;a:{for(c=a.parentNode;null!=c;){if(c==g[b]){c=!0;break a}c=c.parentNode}c=
!1}if(c)return g=g[b].getAttribute("data-capturescreenname"),a.setAttribute("data-capturescreenname",g),g}}function h(){var a=Ta,g=janrain.settings.capture.flowVersion||"HEAD",b=janrain.settings.capture.flowName||"default",d=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=d?i()+"/widget_data/flow.js:"+d+":"+a+":"+g+":"+b:i()+"/widget_data/flow.js:"+a+":"+g+":"+b}function i(){return"https://dlzjvycct5xka.cloudfront.net"}function B(a){y(M,a)||M.push(a);xc=M.length}function E(a){return{name:"MissingLayoutDivError",
message:"The div containing the layout template code for '"+a+"' is missing."}}function p(a){a=H(a);P(a)}function P(a,g){var b=a.getAttribute("data-capturefield"),b=Wa.check(a,s.fields[b]),d=document.getElementById(a.id+"_errors");!b.valid&&b.reason?d&&(d.innerHTML=b.reason):d&&(d.innerHTML="");if(g)return"object"!==typeof b&&(b={valid:!0}),b}function R(a,g){var b=c(a),d=document.getElementById(b+g.name+"_dateselectmonth"),d=d.options[d.selectedIndex].value,l=document.getElementById(b+g.name+"_dateselectday"),
l=l.options[l.selectedIndex].value,b=document.getElementById(b+g.name+"_dateselectyear");return d+"/"+l+"/"+b.options[b.selectedIndex].value}function X(a,g){if(!a)return!1;for(var b=a.getElementsByTagName("input"),d=a.getElementsByTagName("select"),c=a.getElementsByTagName("textarea"),e=[],b=[b,d,c],g=g||!1,d={},c=0,f=b.length;c<f;c++)for(var h=b[c],j=h.length,i=0;i<j;i++){var k=h[i];"true"===k.getAttribute("data-capturecollection")?d[k.name]||(ta(k,!0,g)||e.push(k),d[k.name]=!0):"file"===k.type?
P(k,!0).valid||e.push(k):ta(k,!0,g)||e.push(k)}janrain.events.onCaptureValidationComplete.fire({fieldsWithError:e});return 0===e.length}function F(){}function x(){}function V(a){S(document.getElementById("captureIFrame_"+a),"load",pa)}function ba(a,g,b){if(!z(a)&&!g)return!1;z(a)||(a=[]);var d=a.length,c,e=new Sa,f="",h=[],j=document.getElementById(b+g);if(!j)return!1;for(g=0;g<d;g++)if(c=s.fields[a[g]])c.fieldPrefix=b,c.name=c.elementName=a[g],f+=e.renderField(c),h.push(c.name);if(!f.length&&j)return j.innerHTML=
"",!1;j.innerHTML=f;g=0;for(d=h.length;g<d;g++)(a=document.getElementById(b+h[g]))&&S(a,"blur",Oa)}function Y(){for(var a=N.div.getElementsByTagName("select"),g=a.length,b=0;b<g;b++)a[b].getElementsByTagName("option")[a[b].selectedIndex].disabled&&(w(a[b]).append("capture_disabled"),S(a[b],"change",function(){w(this).remove("capture_disabled")}))}function o(){S(document.body,"click",function(a){var g=janrain.settings.capture.logoutLinksClass||"capture_end_session",b=H(a);b&&b.nodeName&&"A"===b.nodeName&&
(w(b).has(g)&&(oa(),Q(a)),g=b.getAttribute("data-capturescreen"),b=b.getAttribute("data-captureuseruuid"),g&&(b&&(!s.userUUID||s.userUUID&&s.userUUID!==b?(ac=b,s.fused=!1):ac=""),janrain.capture.ui.renderScreen(g),Q(a)))})}function ga(){janrain.events.onProviderLoginToken.addHandler(function(a){a.linkAccounts?j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:a.currentScreen,needsResponse:!0,callback:function(){janrain.events.onCaptureProfileLink.fire({provider:a.janrainWidgetParameters.provider})},
fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",elementValue:a.token}]}):(janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience),pc&&(Zb=mb),mb=a.token,N.values=Eb(N.div.id),qb.push(N),xb(a.keepMeLoggedIn))});yb=!0}function pa(a){var g=H(a),b;if("formClicked"===g.className){var d=0,c=function(){var a=0;d++;if(400<d)return clearTimeout(b),!1;var g;a:{for(g in zb){g=
!1;break a}g=!0}if(g)return e(),!1;for(var f in zb)zb.hasOwnProperty(f)&&"pending"===zb[f].status&&a++;0===a?("function"===typeof b&&clearTimeout(b),e()):b=setTimeout(c,50)},e=function(){var a=g.getAttribute("data-transactionId");Ra("/widget/get_result.jsonp",{transactionId:a,cache:(new Date).getTime()},function(){function b(){c++;if(10<c)return ea("could not find transaction status"),!1;if(wb[a])ib(a),clearTimeout(g),g=wb[a],"success"===g.status?ab(d):ea("there was a problem with the response",g);
else var g=setTimeout(b,50)}var d=O.parse(g.getAttribute("next")),c=0;b()})};c()}else g.className="";g.className=""}function U(a,g){for(var b=H(a).getAttribute("id").split("_")[3],d=H(a),l=c(d),d=d.parentNode,e=w(d).has("capture_tab_toggle"),f=e?"capture_tab_toggle":"capture_radio_toggle",h=0;h<g.collection.length;h++)g.collection[h].elementName!==b&&(document.getElementById(l+g.collection[h].elementName).style.display="none");for(var f=xa(f,document.getElementById(l+g.elementName)),j=f.length,h=
0;h<j;h++)w(f[h]).remove("capture_toggled");w(d).append("capture_toggled");document.getElementById(l+b).style.display="block";janrain.events.onCaptureContentChange.fire();e&&Q(a)}function Na(){if(0===Ca)return!1;var a=(new Date).getTime()-Ca,a=Math.floor(a/1E3);if(60>a)return a+" seconds ago";a=Math.floor(a/60);if(1==a)return a+" minute ago";if(59>a)return a+" minutes ago"}function ua(a){qa=!0;var g=document.getElementById(a),a=janrain.settings.capture.autoSaveInterval||45E3,b=janrain.settings.capture.autoSaveUpdateInterval||
1E4;clearInterval(Ic);Ic=setInterval(function(){if(!qa)return!1;if(X(g,!0)){g.submit();g.getAttribute("next");var a=g.getAttribute("data-transactionId"),b=document.getElementById("captureIFrame_"+a);(new ja).setIframe(b).setTransactionId(a).setNext('{"noop": ""}').setForm(g).setEvent(null).process()}},a);clearInterval(W);W=setInterval(function(){if(!qa)return!1;janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:Na()})},b)}function Ha(a,g,b,d){b=d?O.stringify(d):b;Aa(g);a.className=
"formClicked";a.setAttribute("next",b)}function ja(){var a,g,b,d,l,e,f=!1;return{setIframe:function(g){a=g;return this},setTransactionId:function(a){g=a;return this},setNext:function(a){b=a;d=O.parse(b);return this},setForm:function(a){l=a;return this},setEvent:function(a){e=a;return this},process:function(){if(d.conditional){for(var h=d.conditional,j=h.length,k=0;k<j;k++){var i;a:{i=h[k];var n=s.fields[i.field],n=c(l)+(n.elementId||n.elementName),n=document.getElementById(n);switch(i.compare){case "=":if(n.value===
i.value){i=!0;break a}}i=void 0}if(i){f=h[k];break}}f?f.nosubmit?(Q(e),ab(f.next)):Ha(a,g,b,f.next):Ha(a,g,b)}else d.dontSubmit?(Q(e),d.storeValues&&Eb(l.id,!0),ab(d)):Ha(a,g,b)}}}function za(a){var g=H(a),b=H(a).getAttribute("data-transactionId"),d=document.getElementById("captureIFrame_"+b);g.getAttribute("next")||g.setAttribute("next",'{"noop":""}');var c=g.getAttribute("next");if("true"!==g.getAttribute("data-capturedomelement")||"true"===g.getAttribute("data-capturedomelementvalidate")){N.values=
Eb(N.div.id);if(!X(g))return Q(a),!1;var e=Mc(g),f=document.createElement("div");f.className="capture_btn capture_processing";f.innerHTML="Processing";e.parentNode.insertBefore(f,e);e.style.display="none"}(new ja).setIframe(d).setTransactionId(b).setNext(c).setForm(g).setEvent(a).process()}function Oa(a){a=$a(a);ta(a,!1)}function ta(a,g,b){if(a.type&&("hidden"===a.type||"submit"===a.type||"file"===a.type)||!a.getAttribute("data-capturefield"))return!0;var d=a.getAttribute("data-capturerendererfield")?
s.fields[a.getAttribute("data-capturerendererfield")]:s.fields[a.getAttribute("data-capturefield")],l=a.getAttribute("data-capturerendererchildfieldname"),e=l?d.elementName+"["+l+"]":d.elementName,f=c(a),h=!1;if(!d.validation||!a.value&&!d.validation.required||d.validation.type&&"server"===d.validation.type||l&&!d.validation[l]&&"dateselect"!==d.type||"dateselect"===d.type&&"dateselect_year"!==l)return!0;h=a.id||a.name;zb[h]={};zb[h].status="pending";e="multiCheckbox"===d.element||"multiRadio"===
d.element?document.getElementById(f+"form_collection_"+d.elementName):"dateselect"===d.type?document.getElementById(f+"form_item_"+d.name):document.getElementById(f+"form_item_"+e);b||w(e).append("capture_validating");f=new j.validation;f.setParentDiv(e);f.setElement(a);a=Wa.check(a,d,g);a.valid?(h=!0,b||(f.valid(),w(e).remove("capture_validating"))):a.pending?(b||f.pending(),h=!0):(h=!1,b||(f.notValid(a.reason),w(e).remove("capture_validating")));return h}function ab(a){qb.push(N);if(a.noop)return!1;
a.url&&(window.location.href=a.url);a.screen&&(new Sa).setScreenData(a.screen,s.screens[a.screen]);if(a.action&&N)janrain.capture.ui[a.action]();if(a["function"]&&"function"===typeof Lb[a["function"]])Lb[a["function"]]()}function Pa(a){(new J).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(a).create()}function Ua(){(new J).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(Mb).create()}function na(){var a=new J;a.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?
a.getCookie("janrainFailedLogins",function(a){ic(a)&&(Mb=parseInt(a,10))}):(a=a.getCookie("janrainFailedLogins"),ic(a)&&(Mb=parseInt(a,10)))}function kb(){var a=36E5*Ib+(new Date).getTime();return(new Date((new Date).setTime(a))).toUTCString()}function jb(){clearTimeout(Wb);Wb=setTimeout(Ja,1E4)}function tb(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var a,g,b=new J;b.setUseLocalStorage(!0);
if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureTokenRefresh",function(b){b&&(g=new Date,expiretime=new Date(b),g.getTime()>a.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):jb())});else if(b=b.getCookie("janrainCaptureTokenRefresh"))g=new Date,a=new Date(b),g.getTime()>a.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):jb()}}function Ja(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&
!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var a=new J;a.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?a.getCookie("janrainCaptureToken",function(a){a?tb():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}):a.getCookie("janrainCaptureToken")?tb():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}}function ca(a,g,b){var d=kb();Ma=a;g?(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&
Ja(),janrain.events.onCaptureSessionCreated.fire({accessToken:a}),janrain.events.onCaptureSessionFound.fire({accessToken:a})):(g=new J,g.setExpirationDirectly(d).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(Ma),janrain.settings.capture.cookieDomain&&g.setDomain(janrain.settings.capture.cookieDomain),g.create(),janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&(d=new J,g=36E5*Ib-6E5+(new Date).getTime(),g=(new Date((new Date).setTime(g))).toUTCString(),
d.setExpirationDirectly(g).setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(g),janrain.settings.capture.cookieDomain&&d.setDomain(janrain.settings.capture.cookieDomain),d.create(),Ja()),lb&&(janrain.events.onCaptureSuccessfulLogin.fire({accessToken:a}),lb=!1),b?janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:a}):janrain.events.onCaptureSessionCreated.fire({accessToken:a}))}function oa(){var a=new J,g="function"===typeof janrain.settings.capture.federateLogoutCallback?
janrain.settings.capture.federateLogoutCallback:function(){};a.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();a.setName("janrainCaptureProfileData");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();janrain.events.onCaptureSessionEnded.fire();janrain.settings.capture.federate&&JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,
logout_uri:janrain.settings.capture.federateLogoutUri},g)}function xb(a){var g=ia(),b=ma({capture_screen:janrain.settings.capture.registerFlow||"socialRegister",token:mb,capture_transactionId:g});Zb&&(b.merge_token=Zb,Zb=null);a&&(b.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(b.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var a=janrain.settings.capture.dataDefaults,d;for(d in a)a.hasOwnProperty(d)&&
"undefined"===typeof b[d]&&(b[d]=a[d])}Ra("/widget/token_url.jsonp",b);Aa(g);pc&&(pc=!1)}function L(){var a=new J;a.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)a.getCookie("janrainCaptureToken",function(a){a?ca(a,!0):janrain.events.onCaptureSessionNotFound.fire()});else{if(a.getCookie("janrainCaptureToken"))return ca(a.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function ma(a){var b={js_version:db,capture_screen:$,flow:s.flow,
client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:nc,locale:Ta};fb&&(b.bp_channel=fb);va&&(b.flow_path=va);if("object"===typeof a)for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function la(a){var b=ia();JANRAIN.SSO.CAPTURE.set_login({code:a,transaction_id:b,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});Aa(b)}function Jb(a){a||(a={});var b=ia(),a={sso_server:janrain.settings.capture.federateServer,
client_id:janrain.settings.capture.clientId,response_method:a.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:O.stringify(ma({capture_transactionId:b})),transaction_id:b,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver};fb&&(a.bp_channel=fb);JANRAIN.SSO.CAPTURE.check_login(a);Aa(b)}function bb(){if(janrain.settings.capture.federate)Jb();
else{var a;a:{if(a=ha(window.location.href).anchor)if(a=a.split("="),"access_token"===a[0]&&a[1]){lb=!0;ca(a[1]);a=!0;break a}a=!1}if(a||L())return Nb=!0,!1;Nb=!0}}function Da(a){var b=ha(window.location.href).anchor;if(!b)return a(),!1;var c=b.split(","),d=c.length,l,b={};if(1<d){for(var e=0;e<d;e++)l=c[e],l=l.split("="),b[l[0]]=l[1];if(!b.transactionId||!b.engageToken)return a(),!1;cb=a=b.transactionId;mb=b.engageToken;Ra("/widget/get_result.jsonp",{transactionId:a},function(){})}else return a(),
!1}function Ba(a,b){var c=a["if"].compare;if(!c||0>c.indexOf(":"))return!1;switch(c.split(":")[0]){case "cookie":var d=c.split(":")[1],c=new J;c.setUseLocalStorage(!0);"janrainLastAuthMethod"===d&&!gb&&(gb=$);if(janrain.settings.multiDomainLocalStorage)c.getCookie(d,function(c){l&&"janrainLastAuthMethod"===d&&(Bb=!0);Qa(Ka(a["if"],c)?a.then:a["else"],b)});else{var l=c.getCookie(d);l&&"janrainLastAuthMethod"===d&&(Bb=!0);Qa(Ka(a["if"],l)?a.then:a["else"],b)}}}function Ka(a,b){var c=ic(b)?parseInt(b,
10):b,d,l=ic(a.to)?parseInt(a.to,10):a.to;switch(a.withOperator){case "===":d=l===c;break;case "!==":d=l!==c;break;case "==":d=l==c;break;case "!=":d=l!==c;break;case ">":d=c>l;break;case "<":d=c<l}return d}function Qa(a,b){!a&&"function"===typeof b&&b();if(!a)return!1;if("undefined"===typeof a["if"]){if(a.render){var c=a.render.screen,d=s.screens[c];(new Sa).setScreenData(c,d)}}else Ba(a,b)}function u(){for(var a="",b=[],c=0;10>c;c++)a=fc(40),b.push(a);return b}function hb(a){if(!z(a))return!1;for(var b=
a.length,c=0;c<b;c++){var d=a[c];-1===qc.indexOf(d)&&qc.push(d)}}function ia(){var a=qc.pop();0===qc.length&&hb(u());-1===rc.indexOf(a)&&rc.push(a);return a}function Aa(a){var b=rc.indexOf(a);-1<b&&rc.splice(b,1);-1===sc.indexOf(a)&&sc.push(a)}function ib(a){var b=sc.indexOf(a);-1<b&&sc.splice(b,1);-1===Hb.indexOf(a)&&Hb.push(a)}function n(){if("object"!==typeof v)return!1;Va.modalConfirmText&&v.setConfirmMessageText(Va.modalConfirmText);Va.modalConfirmLinkText&&v.setConfirmLinkText(Va.modalConfirmLinkText);
Va.modalCancelLinkText&&v.setCancelLinkText(Va.modalCancelLinkText)}function ka(a){s=a;s.flow=janrain.settings.capture.flowName;"undefined"===typeof Ea&&(Ea=a);"object"!==typeof s.layouts&&(s.layouts={});"object"!==typeof s.layouts.captureAccessDeniedBuiltIn&&(s.layouts.captureAccessDeniedBuiltIn={});s.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:Fa.accessDenied;"object"!==typeof s.layouts.captureRetrievingUserDataBuiltIn&&
(s.layouts.captureRetrievingUserDataBuiltIn={});s.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:Fa.retrievingUserData;for(a=0;a<Xa.length;a++)s.fields[Xa[a].field][Xa[a].attribute]=Xa[a].value}function ea(){uc.push(arguments);if(window.console){var a=arguments;a.callee=a.callee.caller;a=[].slice.call(a);k?console.log(a):console.log.apply(console,a)}}function Sa(){function a(a,
b,g){b&&b.screenConditionals?Qa(b.screenConditionals,g):"function"===typeof g&&g()}function b(a){janrain.events.onCaptureAccessDenied.fire();$b=!0;e({layout:"captureAccessDeniedBuiltIn",modal:a.modal,source:"server"})}function c(a){var b,g=ia();switch(a){case "email":(a=ha(window.location.href).queryKey.verification_code)?(b=ma({capture_transactionId:g,verification_code:a}),Ra("/widget/email_code.jsonp",b),Aa(g),ea("need to verify "+a)):ea("no code supplied");break;case "password":(a=ha(window.location.href).queryKey.code)?
(ea("need to verify "+a),b=ma({capture_transactionId:g,code:a}),Ra("/widget/email_code.jsonp",b),Aa(g)):ea("no code supplied")}}function d(a){a&&(nb=a.validateOnRender);if(a&&"changePasswordLink"===a.dataType&&!a.errors)return c("password"),!1;if(a&&"verifyEmail"===a.dataType&&!a.errors)return c("email"),!1;if(a&&a.hasUserData&&!s.fused){var d=a.dataType&&"public"===a.dataType;!Ma&&!d?b(a):($b=!0,e({layout:"captureRetrievingUserDataBuiltIn",modal:a.modal,source:"server"}),Fb(d));h();return!1}if(!Ma&&
a&&a.requireAccessToken)return b(a),h(),!1;$b=!1;e(a);h();Bb&&(Bb=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function l(b,g){if(Kb&&g&&(s.noModalForMobile||g.noModalForMobile))g.modal=!1;if(Kb&&g&&(s.modalForMobile||g.modalForMobile))g.modal=!0;Nb?($=b,I="capture_"+$+"_",a(b,g,function(){d(g)})):setTimeout(function(){l(b,g)},50)}function e(a){if(N&&N.div&&(!a.modal||N.modal&&a.modal)&&!a.keepPreviousScreen)N.div.style.display="none";
var b=a.layout,g=a.source,d=a.modal,a=!!a.modalLoadOnLoad;if("server"===g){var c=document.getElementById(b);c||(c=document.createElement("div"),c.setAttribute("id",b));try{Ob[b]?m.html=Ob[b]:(m.html=s.layouts[b].html,Ob[b]=m.html)}catch(l){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+b+"' is missing."};}}if("client"===g)try{if(c=document.getElementById(b))Ob[b]?m.html=Ob[b]:(m.html=c.innerHTML,Ob[b]=m.html);else throw m.html="",E(b);}catch(A){throw ea(A.name+
": "+A.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}w(c).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");Kb&&(w(c).append("janrain-capture-ui-mobile"),sa.onOrientationChange.addHandler(function(a){w(c).append("janrain-capture-ui-mobile-"+a.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[a.orientation]);janrain.events.onCaptureContentChange.fire()}),sa.onOrientationChange.fire({orientation:sa.getOrientation()}));
m.div=c;$b||m.div.setAttribute("data-capturescreenname",$);bc=m.div;m.modalLoadOnLoad=a;m.source=g;m.modal=d;N=m;"undefined"===typeof ob[$]&&(ob[$]={});ob[$].layout=m}function f(a,b){if("object"===typeof a.displayCondition&&"undefined"!==typeof a.displayConditionPassed&&!1===a.displayConditionPassed)return!1;if(a.close)return p.render.htmlElement.close(a);if("data"==a.element){if("string"===a.type)return p.render.data.stringData(a);if("image"===a.type)return p.render.data.imageData(a);if("engageCookie"===
a.type)return p.render.data.engageCookieData(a)}if("multiRadio"==a.element)return p.render.htmlElement.multiRadio(a);if("multiCheckbox"==a.element)return p.render.htmlElement.multiCheckbox(a);if("textarea"==a.element)return p.render.htmlElement.textarea(a);if("select"==a.element)return p.render.htmlElement.select(a);if("input"==a.element)return p.render.htmlElement.input(a);if("form"==a.element)return p.render.htmlElement.form(a);if("div"==a.element)return p.render.htmlElement.div(a);if("anchor"==
a.element)return p.render.htmlElement.anchor(a);if("button"==a.element)return p.render.htmlElement.button(a);if("capture"==a.element){if("keepMeLoggedIn"==a.type)return p.render.captureElement.keepMeLoggedIn(a);if("countrySelect"==a.type)return p.render.captureElement.countrySelect(a);if("stateSelect"==a.type)return p.render.captureElement.stateSelect(a);if("publicProfileLink"==a.type)return p.render.captureElement.publicProfileLink(a,b);if("errorMessages"==a.type)return p.render.captureElement.errorMessages(a);
if("savedProfileMessage"==a.type)return p.render.captureElement.savedProfileMessage(a);if("captcha"==a.type)return p.render.captureElement.captcha(a);if("linkAccounts"==a.type)return p.render.captureElement.linkAccounts(a);if("mergeAccounts"==a.type)return p.render.captureElement.mergeAccounts(a,b);if("radioCollection"==a.type)return p.render.captureElement.collection.radio(a);if("tabCollection"==a.type)return p.render.captureElement.collection.tab(a);if("photoManager"==a.type)return p.render.captureElement.photoManager(a,
b);if("dateselect_public"==a.type)return p.render.captureElement.dateselect_public(a);if("dateselect"==a.type)return p.render.captureElement.dateselect(a);if("addressFull"==a.type)return p.render.captureElement.addressFull(a);if("addressFull_public"==a.type)return p.render.captureElement.addressFull_public(a);if("nameFull"==a.type)return p.render.captureElement.nameFull(a);if("nameFull_public"==a.type)return p.render.captureElement.nameFull_public(a);if("backButton"==a.type)return p.render.captureElement.backButton(a);
if("partial"==a.type)return p.render.captureElement.partial(a,b);if("slider"==a.type)return p.render.captureElement.slider(a,b);if("table"==a.type)return p.render.captureElement.table(a,b)}return"widget"==a.element?p.render.widget[a.type](a,b):!1}function h(){janrain.events.onCaptureRenderStart.fire(s);Z=[];s.fields.submitButton||(s.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});s.fields.loginWidget||
(s.fields.loginWidget={element:"widget",type:"login"});s.fields.shareWidget||(s.fields.shareWidget={element:"widget",type:"share"});s.fields.backButton||(s.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});s.fields.captcha||(s.fields.captcha={element:"capture",type:"captcha"});s.fields.keepMeLoggedIn||(s.fields.keepMeLoggedIn={element:"capture",type:"keepMeLoggedIn"});s.fields.errorMessages||(s.fields.errorMessages={element:"capture",type:"errorMessages"});s.fields.savedProfileMessage||
(s.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});m.originalHtml=m.html;m.flow=s;var a=cb||ia();cb=null;m.html=i(m.html,a);m.div.innerHTML=m.html;if("server"==m.source){if(!document.getElementById("janrainCaptureWidget")){var b=document.createElement("div");b.id="janrainCaptureWidget";document.body.appendChild(b)}document.getElementById("janrainCaptureWidget").appendChild(m.div)}if(!$b){for(var b=0,g=oc.length;b<g;b++)ta(document.getElementById(oc[b]),!1);oc=[]}o();k();
if(0<janrain.events.onCssLoad.firedEvents.length)for(var b=janrain.events.onCssLoad.firedEvents,g=0,d=b.length;g<d;g++)"object"==typeof b&&b[g].args&&b[g].args.source&&-1==Ga.indexOf(b[g].args.source)&&b[g].event.fire(b[g].args);j.domHelpers.createIFrame(a);for(b=0;b<Z.length;b++)g=document.getElementById(I+Z[b].elementName),Z[b].next&&Z[b].next.type&&"server"===Z[b].next.type?g.setAttribute("next",'{"noop":""}'):Z[b].next?(Z[b].next.conditional&&g.setAttribute("next",O.stringify(Z[b].next)),Z[b].next.screen&&
g.setAttribute("next",O.stringify(Z[b].next)),Z[b].next.url&&g.setAttribute("next",O.stringify(Z[b].next)),Z[b].next.action&&g.setAttribute("next",O.stringify(Z[b].next))):g.setAttribute("next",'{"noop":""}');t(a);N=m;janrain.events.onCaptureContentChange.fire()}function i(a,b){for(var g=/\{\*(.*?)\*\}/,d=/^\s*\/\s*/,c=/^\s*#\s*/,l=/\{(.*?)*\}\s*/,e=!1,A,h=[],j=[];A=g.exec(a);)try{var C=A[1].trim();if(l.test(C))var k=C.match(l),C=C.replace(k[0],"").trim(),n=k[0].match(/\{(.*?)*\}\s*/)[0];else n=null;
e=!1;c.test(C)&&(C=C.replace("#","").trim(),e=!0);if(d.test(C)){var p=C.replace("/",""),m={};if("undefined"==typeof s.fields[p])return ea("No field definition for"+p,"error"),!1;m.element=s.fields[p].element;m.close=!0}else{if("undefined"==typeof s.fields[C])return ea("No field definition named "+C+" for tag "+A[0],"error"),!1;m=s.fields[C];m.name=C;e&&(m.start=!0);"form"===m.element&&!m.transactionId&&(m.transactionId=b);m.elementName=m.elementName||C}var n=n||null,o=f(m,n);o||(o=" ");a=a.replace(A[0],
o);(m.next||"form"===m.element&&!m.close)&&Z.push({elementName:m.elementName,next:m.next});m.onclickHandler&&q.push({elementName:m.elementName,handler:m.onclickHandler,eventType:"click"});m.onchangeHandler&&q.push({elementName:m.elementName,handler:m.onchangeHandler,eventType:"change"});"string"===typeof m.element&&"form"===m.element&&!m.close&&(q.push({elementName:m.elementName,handler:za,eventType:"submit"}),janrain.settings.capture.autoSave&&q.push({elementName:m.elementName,handler:ua,eventType:"render"}));
if("form"===m.element&&("widget/traditional_register.jsonp"===m.action||"widget/social_register.jsonp"===m.action))j.push("widget/traditional_register.jsonp"===m.action?"traditionalRegister":"socialRegister");if("form"===m.element&&"widget/traditional_signin.jsonp"===m.action||"widget"===m.element&&"login"===m.type)h.push("widget/traditional_signin.jsonp"===m.action?"traditionalSignin":"socialSignin")}catch(r){return ea(r.name+": "+r.message,"error"),!1}h.length&&janrain.events.onCaptureStartLogin.fire({action:h.join(","),
screen:$});j.length&&janrain.events.onCaptureStartRegistration.fire({action:j.join(","),screen:$});return a}function k(){m.div.getAttribute("data-captureventadded")||(S(m.div,"click",function(a){var b=H(a);if(b&&b.nodeName&&"A"===b.nodeName){var g=b.getAttribute("data-capturecontrol");if(g){var d=ia(),g=ma({flow_control:g,token:Ma,capture_transactionId:d});Ra("/widget/control.jsonp",g);Aa(d);Q(a)}b.getAttribute("data-cancelcapturereturnexperience")&&gb&&(d=new J,d.setUseLocalStorage(!0).setName("janrainLastAuthMethod"),
d.remove(),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.capture.ui.renderScreen(gb),Q(a));if((b=b.getAttribute("data-modalwindow"))&&"object"===typeof v)"close"===b&&(janrain.capture.ui.modal.close(),Q(a)),"closeconfirm"===b&&(janrain.capture.ui.modal.closeConfirm(),Q(a))}}),m.div.setAttribute("data-captureventadded",!0));for(var a=m.div.getElementsByTagName("img"),b=a.length,g=0;g<b;g++)S(a[g],"load",function(){janrain.events.onCaptureContentChange.fire()});
a=xa(janrain.settings.capture.modalOpenClass||"capture_modal_open");b=a.length;if(!Sb){for(g=0;g<b;g++)S(a[g],"click",function(a){"object"===typeof v?(janrain.capture.ui.renderScreen(N.flow.defaultScreen),v.setShowContentOnLoad(!0).addContent(N.div).show(),janrain.events.onCaptureScreenShow.fire({screen:$}),janrain.events.onCaptureContentChange.fire()):Rb=!0;Q(a)});Sb=!0}}function o(){if(s.cssDependencies&&z(s.cssDependencies))for(var a=0;a<s.cssDependencies.length;a++)B(s.cssDependencies[a]);xc&&
tc&&!vb?janrain.events.onCssLoad.addHandler(function(a){m=N;Ga.push(a.source);for(a=0;a<xc;a++)if(-1==Ga.indexOf(M[a]))return!1;vb||(r(),vb=!0)}):r();janrain.events.onCaptureRenderComplete.fire({flow:s,screen:$})}function r(){var a=!1;if(m.modal){if("object"===typeof v){var a=!0,b=v.getContent();b&&document.body.appendChild(b);v.close(!0)}else v=new kc,n();Tb||(janrain.events.onCaptureModalReady.fire(),janrain.events.onModalClose.addHandler(function(){s&&s.mergeToken&&(s.mergeToken="")}),Tb=!0);v=
Cb(v);v.setShowContentOnLoad(!0).addContent(m.div);if(a||m.modalLoadOnLoad||Rb)v.show(),janrain.events.onCaptureScreenShow.fire({screen:$})}else"object"===typeof v&&v.close(!0),janrain.events.onCaptureScreenShow.fire({screen:$});m.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function t(a,b){for(var b=b||q,g=0;g<b.length;g++){if("function"===typeof b[g].handler)if("render"===b[g].eventType)b[g].handler(I+b[g].elementName);else{var d=document.getElementById(I+b[g].elementName);
S(d,b[g].eventType,b[g].handler)}a&&V(a)}q=[]}var m={},p;p=new x;Wa=new F;return{setScreenData:l,render:h,renderField:f,attachEventHandlers:t}}function Eb(a,b){for(var c=[],d=document.getElementById(a).getElementsByTagName("INPUT"),l=d.length,e=0;e<l;e++){var f={};f.id=d[e].id;f.placeholder=d[e].getAttribute("placeholder");if(ub||b)Yb[d[e].getAttribute("data-capturefield")]=d[e].value;f.value=f.placeholder?f.placeholder===d[e].value?"":d[e].value:d[e].value;"radio"===d[e].type&&(f.type="radio",f.checked=
d[e].checked);c.push(f)}return c}function Fb(a,b){var c="function"===typeof b?b:function(){};if(a){var d=ac||ha(window.location.href).queryKey.uuid;ac&&(ac="");d?(ea("need to get data for "+d),j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:d}]})):
ea("no uuid supplied")}else{if(!Ma)return!1;j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function Ra(a,b,c){var d=-1<a.indexOf("?")?"&":"?",e=0===a.indexOf("http")?"":janrain.settings.capture.captureServer,f=[],h;for(h in b)b.hasOwnProperty(h)&&f.push(h+"="+encodeURIComponent(b[h]));wa(e+a+d+f.join("&"),
c)}function Pb(a,b){var c=-1<a.indexOf("?")?"&":"?",d=[],e;for(e in b)b.hasOwnProperty(e)&&d.push(e+"="+encodeURIComponent(b[e]));return a+c+d.join("&")}function Qb(){oa();var a=Pb(Xb,{capture_social_registration:mb});window.location=a}function dc(a){function b(a){return'<li><a href="#" class="capture_suggestion">'+a+"</a></li>"}var a=a.result,e=c(a.submittedScreen),d=s.fields[a.field],l=document.getElementById(e+(d.elementId||d.elementName)),f=a.alternatives,h=d.validation.messages.unique||"",k=
document.getElementById(e+"form_item_"+d.elementName),i=new j.validation;i.setElement(l);i.setParentDiv(k);if(!1===a.unique)if(f){var f=f.map(b),m=function(a){var b=H(a);w(b).has("capture_suggestion")&&(l.value=b.innerHTML,gc(k,"click",m),i.valid(),Q(a))};i.notValid(h+'<ul class="capture_suggestions">'+f.join("")+"</ul>",function(){S(k,"click",m)})}else i.notValid(h);else i.valid()}function Db(a){var b=J();return y(["expected_tab","welcome_info_name","login_tab"],a)&&(a=b.getCookie(a))?unescape(a):
""}function Cb(a){var b=janrain.settings.capture.modalBorderWidth||10,c=janrain.settings.capture.modalBorderColor||"#000",d=janrain.settings.capture.modalBorderRadius||10,e=janrain.settings.capture.modalBorderOpacity||0.5;a.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(c).setBorder(b).setBorderOpacity(e).setBorderRadius(d);return a}function pb(a){if("object"!==typeof v)v=new kc,n();else{var b=v.getContent();b.style.display="none";b&&document.body.appendChild(b)}N&&N.modal&&
qb.push(N);v=Cb(v);v.addContent(a).show();v.setHeight(Za(a).height);v.setWidth(Za(a).width).refresh()}var q=[],Wa,va,Ta=janrain.settings.capture.language||janrain.settings.language||"en-US",Z=[],$,ob={},I,gb,Bb=!1,nb,qb=[],N={},Xa=[],Ea,Lb={},ub=janrain.settings.capture.mode13||!1,Xb=janrain.settings.capture.socialRegistrationRedirect,Ya=!1,Yb={},cb,La,$b=!1,mb,Zb,lb=!1,Ma,Nb=!1,eb=!1,Ab,rb=!1,sb=!1,vb=!1,s,Va={},bc,fb,Ob={},wb={},qc=[],rc=[],sc=[],Hb=[],tc=!1,Ib=1,cc="placeholder"in document.createElement("input"),
yb=!1,pc=!1,yc,v,Rb=!1,Sb=!1,Tb=!1,M=[],xc=0,oc=[],nc="HEAD",Vb=!1,Fa={},lc=["accessDenied","retrievingUserData"],G={},D=!1,Mb=0,r=[],K=!1,Wb,da=ha(window.location.href).queryKey,ac,Ga=[];"en"===Ta&&(Ta="en-US");Xb&&da&&da.capture_social_registration&&(mb=da.capture_social_registration,Ya=!0);G.publicPrivateTogglers=[];F.prototype.check=function(a,b,e){var b=b||s.fields[a.name],d=a.getAttribute("data-capturerendererchildfieldname");if(!b.validation)return!0;b.validation.temp=d&&b.validation&&b.validation[d]?
b.validation[d]:d&&"dateselect"!==b.type?!1:b.validation;if(!b.validation.temp)return!0;b.validation.temp.messages||(b.validation.temp.messages={});if(!this.hasValue(a,b))return{valid:!1,reason:b.validation.temp.messages.required||"Field not completed"};if(!this.isDate(a,b))return{valid:!1,reason:b.validation.temp.messages.isDate||"Not a valid date"};if(!this.isValidMaxFileSize(a,b))return{valid:!1,reason:b.validation.temp.messages.maxFileSize||"File is too large"};if(!this.isValidFileType(a,b))return{valid:!1,
reason:b.validation.temp.messages.validFileTypes||"File is not a valid file type"};if(!this.isValidMinYears(a,b))return{valid:!1,reason:b.validation.temp.messages.minYears||"Not old enough"};if(!this.isValidMinLength(a,b))return{valid:!1,reason:b.validation.temp.messages.minLength||"Invalid length"};if(!this.isValidMaxLength(a,b))return{valid:!1,reason:b.validation.temp.messages.maxLength||"Invalid length"};if(!this.isValidMaxNumericLength(a,b))return{valid:!1,reason:b.validation.temp.messages.maxNumericLength||
"Invalid number of numeric characters"};if(!this.isValidFormat(a,b))return{valid:!1,reason:b.validation.temp.messages.format||"Invalid format"};if(!this.isValidMatch(a,b))return{valid:!1,reason:b.validation.temp.messages.match||"Invalid match"};if(!this.custom(a,b))return"undefined"===typeof this.custom(a,b)?{pending:!0}:{valid:!1,reason:b.validation.temp.messages.custom||"Invalid"};return b.validation.temp.unique&&!e?(e=document.getElementById(c(a)+"form_item_"+a.getAttribute("name")),this.isUnique(a,
e,b,function(){}),{pending:!0}):{valid:!0}};F.prototype.custom=function(a,b){if(!b||!b.validation.temp.custom||"function"!==typeof t[b.validation.temp.custom])return!0;var e=new j.validation,d=document.getElementById(c(a)+"form_item_"+b.elementName);e.setParentDiv(d);e.setElement(a);return t[b.validation.temp.custom](a.name,a.value,e)};F.prototype.getRating=function(a){var a=a.value,b=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],c=0,d;d=Math.min(8,Math.floor(3*Math.log(a.length+1)));for(var e=0;e<b.length;e++)b[e].test(a)&&
c++;return d+=Math.floor(Math.pow(2,c)/2)};F.prototype.isValidMaxNumericLength=function(a,b){if(!b)return!0;var c=b.validation.temp.maxNumericLength;if(!c)return!0;var d=a.value.match(/(\d)/g);z(d)&&d.length>c&&b.validation.temp.actions&&b.validation.temp.actions.maxNumericLength&&r.push(b.validation.temp.actions.maxNumericLength);return z(d)?d.length<=c:!0};F.prototype.isValidMaxLength=function(a,b){var c=a.value;if(!b)return!0;var d=b.validation.temp.maxLength;if(!d)return!0;c.length>d&&b.validation.temp.actions&&
b.validation.temp.actions.maxLength&&r.push(b.validation.temp.actions.maxLength);return c.length<=d};F.prototype.isValidMinLength=function(a,b){var c=a.value;if(!b)return!0;var d=b.validation.temp.minLength;if(!d)return!0;c.length<d&&b.validation.temp.actions&&b.validation.temp.actions.minLength&&r.push(b.validation.temp.actions.minLength);return c.length>=d};F.prototype.isValidMaxFileSize=function(a,b){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!b||"file"!==a.type)return!0;
var c=b.validation.temp.maxFileSize;return!c?!0:a.files[0].size<c};F.prototype.isValidFileType=function(a,b){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!b||"file"!==a.type)return!0;var c=b.validation.temp.validFileTypes;return!z(c)?!0:y(c,a.files[0].type)};F.prototype.isDate=function(a,b){if(!b||"dateselect"!==b.type)return!0;var c=b.validation.temp.isDate,d=R(a,b);return!c?!0:Bc(d)};F.prototype.isValidMinYears=function(a,b){if(!b||"dateselect"!==b.type)return!0;var c=R(a,
b),d=b.validation.temp.minYears;if(!Bc(c)||!d)return!0;var e=new Date,c=Math.abs(((new Date(c)).getTime()-e.getTime())/864E5),c=Math.floor(c/365.242199);c>=d||b.validation.temp.actions&&b.validation.temp.actions.minYears&&r.push(b.validation.temp.actions.minYears);return c>=d};F.prototype.hasValue=function(a,b){var c;if("select"===b.element)c=a.options[a.selectedIndex].value;else if("checkbox"===b.type&&!("multiCheckbox"===b.element||"multiRadio"===b.element))c=a.checked;else if("multiCheckbox"===
b.element||"multiRadio"===b.element)if(c=b.elementName){c=document.getElementsByName(c);for(var d=c.length,e=[],f=0;f<d;f++)c[f].checked&&e.push(c[f]);c=e.length}else c=!1;else c=a.value;if(!b||!b.validation.temp.required)return!0;if("dateselect"===b.type)return c=R(a,b),8>c.length&&b.validation.temp.actions&&b.validation.temp.actions.required&&r.push(b.validation.temp.actions.required),7<c.length;c||b.validation.temp.actions&&b.validation.temp.actions.required&&r.push(b.validation.temp.actions.required);
return c};F.prototype.isUnique=function(a,b,c,d){b=a.form.getAttribute("data-capturefield");c=a.getAttribute("data-capturefield");a=ma({value:a.value,form:b,capture_screen:f(a),field:c});Ma&&(a.access_token=Ma);va&&(a.flow_path=va);Ra("/widget/unique.jsonp",a,d)};F.prototype.isBlacklisted=function(a,b,c){function d(){var b=a.value,g=response;if(!g||0===g.length)return!0;for(var d,c=0;c<g.length;c++)if(d=RegExp("^"+g[c]+"$","i"),d.test(b))return!0;return!1}captureUIBlacklistCallback=function(a){c(d(a))};
z(b)?c(d(b)):"string"===typeof b?captureUIBlacklistCallback(["chad"]):c(!0)};F.prototype.isValidFormat=function(a,b){var c={alpha:/^[a-z]+$/i,alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!b||!b.validation.temp.format)return!0;var d=b.validation.temp.format;if("string"===typeof d&&
c[d])d=c[d];else return!1;d.test(a.value)||b.validation.temp.actions&&b.validation.temp.actions.format&&r.push(b.validation.temp.actions.format);return d.test(a.value)};F.prototype.isValidMatch=function(a,b){if(!b)return!0;var e=b.validation.temp.match;if(!e)return!0;e=s.fields[e];e=c(a)+(e.elementId||e.elementName);e=document.getElementById(e);a.value!==e.value&&b.validation.temp.actions&&b.validation.temp.actions.match&&r.push(b.validation.temp.actions.match);return a.value===e.value};var j={attachFieldEventHandlers:function(a){a.type||
(a.type="");"password"===a.type&&(q.push({elementName:a.elementName,handler:j.togglePasswordInput,eventType:"click"}),q.push({elementName:a.elementName,handler:j.togglePasswordInput,eventType:"focus"}),a.validation&&("function"===typeof a.validation.rating?q.push({elementName:a.elementName,handler:function(b){var b=$a(b),c=Wa.getRating(b);a.validation.rating(b,c)},eventType:"keyup"}):a.validation.rating&&q.push({elementName:a.elementName,handler:function(a){a=$a(a);a=Wa.getRating(a);ea("Password Strength",
a)},eventType:"keyup"})));if("text"===a.type||"password"===a.type||"email"===a.type)q.push({elementName:a.elementName,handler:j.clearPlaceHolder,eventType:"focus"}),q.push({elementName:a.elementName,handler:j.restorePlaceHolder,eventType:"blur"});q.push({elementName:a.elementName,handler:function(b){b=H(b);b=c(b);b=document.getElementById(b+"form_item_"+a.elementName);w(b).append("capture_focused").remove("capture_error");Kb&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()},eventType:"focus"});
q.push({elementName:a.elementName,handler:function(b){b=H(b);b=c(b);b=document.getElementById(b+"form_item_"+a.elementName);w(b).remove("capture_focused")},eventType:"blur"});a.validation&&q.push({elementName:a.elementName,handler:Oa,eventType:a.validation.eventType||"blur"});a.rendererFieldName&&a.rendererChildFieldName&&s.fields[a.rendererFieldName].validation&&s.fields[a.rendererFieldName].validation[a.rendererChildFieldName]&&q.push({elementName:a.rendererFieldName+"_"+a.rendererChildFieldName,
handler:Oa,eventType:"blur"})},wrapStringData:function(a,b,c){var d="",e=["capture_data_item"];c&&e.push(c);d+=j.createDiv({elementId:"stringdata_"+a.name,classes:e});a.label&&(d+=j.createLabel({elementId:a.name,label:a.label,classes:["capture_data_label"]}));d+=j.createDiv({elementId:a.name,classes:["capture_data"]});return d+b+"</div></div>"},wrapFormItemStart:function(a){var b="",c=[],d=a.classes||[],e="elementCollection"===a.type?"form_collection":"form_item";if(a.justElement||"submit"===a.type||
"button"===a.type)return"";-1===d.indexOf("capture_"+e)&&d.push("capture_"+e);a.errors&&-1===d.indexOf("capture_error")&&!a.collection&&d.push("capture_error");!a.collection&&a.type&&-1===d.indexOf("capture_"+a.type)&&("checkbox"===a.type||"radio"===a.type?c.push("capture_"+a.type):d.push("capture_"+a.type));"elementCollection"===a.type&&a.displayInline&&-1===d.indexOf("capture_form_collection_inline")&&d.push("capture_form_collection_inline");a.collection?(-1===d.indexOf("capture_"+e+"_"+a.elementName)&&
d.push("capture_"+e+"_"+a.elementName),a.checked&&d.push("capture_toggled"),b+=j.createDiv({elementName:e+"_"+a.elementId,hide:a.hide,classes:d})):b+=j.createDiv({elementName:e+"_"+a.elementName,hide:a.hide,classes:d});if(("checkbox"===a.type||"radio"===a.type)&&!a.collection)b+=j.createDiv({elementName:e+"_inner_"+a.elementName,classes:c});return b},wrapFormItemEnd:function(a){return a.justElement||"submit"===a.type||"button"===a.type?"":"</div>"},createPublicPrivateToggle:function(a){function b(){for(var a=
G.publicPrivateTogglers,g=a.length,d=0;d<g;d++)a[d]&&(a[d].style.display="none");G.publicPrivateTogglers=[]}function e(b){var g=H(b),d=c(g),l=document.getElementById(d+"display_toggle_options_"+a.elementName),f=document.getElementById(d+"display["+(a.rendererFieldName||a.elementName)+"]"),A=document.getElementById(d+"display_indicator_public_"+a.elementName),h=document.getElementById(d+"display_indicator_private_"+a.elementName),j=d+"display_option_public_"+a.elementName,i=d+"display_option_private_"+
a.elementName;document.getElementById(d+"display_toggle_options_"+a.elementName);if(g.parentNode&&g.parentNode.id&&(g.parentNode.id===j||g.parentNode.id===i))g=g.parentNode;if(!g.id)return!1;g.id===j?(w(document.getElementById(j)).append("capture_checked"),w(document.getElementById(i)).remove("capture_checked"),f.value="public",w(A).append("capture_toggled"),w(h).remove("capture_toggled")):(w(document.getElementById(j)).remove("capture_checked"),w(document.getElementById(i)).append("capture_checked"),
f.value="private",w(A).remove("capture_toggled"),w(h).append("capture_toggled"));l.style.display="none";Q(b)}var d;d=""+j.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+a.elementName});d+=j.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+a.elementName});var l=["capture_display_option"];a.displayPublic&&l.push("capture_checked");d+=j.createDiv({classes:l,elementId:"display_option_public_"+a.elementName});d+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';
l=["capture_display_option"];a.displayPublic||l.push("capture_checked");d+=j.createDiv({classes:l,elementId:"display_option_private_"+a.elementName});d+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';l=["capture_display_toggle","capture_public"];a.disablePublicPrivate&&l.push("capture_display_toggle_disabled");a.displayPublic&&l.push("capture_toggled");d+=j.createDiv({classes:l,
elementId:"display_indicator_public_"+a.elementName});d+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';l=["capture_display_toggle","capture_private"];a.disablePublicPrivate&&l.push("capture_display_toggle_disabled");a.displayPublic||l.push("capture_toggled");d+=j.createDiv({classes:l,elementId:"display_indicator_private_"+a.elementName});d=d+'<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+
j.createInput({type:"hidden",elementName:"display["+(a.rendererFieldName||a.elementName)+"]",value:a.displayPublic?"public":"private"});q.push({elementName:"display_toggle_wrap_"+a.elementName,eventType:"click",handler:function(d){var e=H(d),l=c(e),l=document.getElementById(l+"display_toggle_options_"+a.elementName),f="none"===l.style.display||""===l.style.display?"block":"none";e.parentNode&&w(e.parentNode).has("capture_display_toggle")&&(e=e.parentNode);w(e).has("capture_display_toggle")&&!w(e).has("capture_display_toggle_disabled")&&
("block"===f&&(b(),G.publicPrivateTogglers.push(l)),l.style.display=f);Q(d)}});q.push({elementName:"display_option_public_"+a.elementName,handler:e,eventType:"click"});q.push({elementName:"display_option_private_"+a.elementName,handler:e,eventType:"click"});Vb||(S(document.body,"click",function(a){a=H(a);a.parentNode&&w(a.parentNode).has("capture_display_toggle")&&(a=a.parentNode);!w(a).has("capture_display_toggle")&&!w(a).has("capture_display_option")&&b()}),Vb=!0);return d},createAnchor:function(a){var b=
"",c=a.fieldPrefix||I,d=a.elementId||a.elementName,e="object"===typeof a.elementAttributes?a.elementAttributes:{},f=a.elementClasses&&z(a.elementClasses)?a.elementClasses:[];y(f,"capture_"+d)||f.push("capture_"+d);b=b+"<a "+("id='"+c+d+"' ");a.target&&(b+="target='"+a.target+"' ");b+="class='"+f.join(" ")+"' ";b+=jc(e)+" ";b+="data-capturefield='"+a.name+"' ";b+="href='"+a.elementHref+"' ";b+="name='"+a.elementName+"' ";b+=">";a.elementText&&(b+=a.elementText);return b+"</a>"},createTextarea:function(a){var b=
"",c=a.fieldPrefix||I,d=a.elementId||a.elementName,e=a.elementClasses&&z(a.elementClasses)?a.elementClasses:[],f=a.rows||"5",b=b+j.createLabel(a);y(e,"capture_"+d)||e.push("capture_"+d);y(e,"capture_textarea")||e.push("capture_textarea");b=b+"<textarea "+("id='"+c+d+"' ")+("class='"+e.join(" ")+"' ");b+="data-capturefield='"+a.name+"' ";b=b+("rows='"+f+"' ")+("name='"+a.elementName+"' ");a.placeholder&&cc&&(b+="placeholder='"+a.placeholder+"'");b+=">";a.value&&(b+=a.value);b+="</textarea>";a.publicPrivateToggle&&
(b+=j.createPublicPrivateToggle(a));return b+=j.createTip(a)},createTip:function(a){var b;b="<div class='capture_tip' ";a.tip||(b+="style='display:none;' ");b+=">"+("undefined"!==typeof a.tip?a.tip:"")+"</div>";b=b+"<div class='capture_tip_validating'"+(" data-elementName='"+a.elementName+"'>");b=b+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+a.elementName+"'>");a.errors&&z(a.errors)&&(b+=a.errors.join(" "));return b+"</div>"},createLabel:function(a,b){var c,d=a.fieldPrefix||
I,e=a.elementId||a.elementName;if(!a.label)return b?b:"";c="<label ";"elementCollection"!==a.type&&(c+=" for='"+d+e+"'");c+=">";b&&(c+=b);a.label&&(c+=a.label);return c+"</label>"},createSelect:function(a){var b="",e=a.fieldPrefix||I,d=a.rendererFieldName,l=a.rendererChildFieldName,f,h=a.justElement,i=a.elementClasses&&z(a.elementClasses)?a.elementClasses:[],k=a.elementId||a.elementName;y(i,"capture_"+k)||i.push("capture_"+k);y(i,"capture_select")||i.push("capture_select");b+=j.createLabel(a);b=b+
'<span class="capture_select_arrow"><select '+("id='"+e+k+"' ")+("class='"+i.join(" ")+"' ");d&&(b+="data-capturerendererfield='"+d+"' ");a.showFieldWhere&&(b+='data-showFieldWhere="'+a.showFieldWhere+'" ');l&&(b+="data-capturerendererchildfieldname='"+l+"' ");b+="data-capturefield='"+a.name+"' ";b+="name='"+a.elementName+"' ";b+=">";d=a.options||[];l=d.length;for(i=0;i<l;i++){var k=d[i],m=k.value||""===k.value?k.value:k.text,b=b+('<option value="'+m+'"');k.disabled&&(b+=' disabled="true"');z(k.showField)&&
(b+=' data-showField="'+k.showField.join(",")+'"');m===a.value&&(b+=' selected="selected"',f=k.showField);b+=">"+k.text+"</option>"}b+="</select></span>";a.publicPrivateToggle&&(b+=j.createPublicPrivateToggle(a));h||(b+=j.createTip(a));q.push({handler:function(){f&&ba(f,a.showFieldWhere,e)},eventType:"render"});q.push({elementName:a.elementName,handler:function(a){var b=H(a),a=c(b),g=b.getElementsByTagName("option")[b.selectedIndex].getAttribute("data-showField"),b=b.getAttribute("data-showFieldWhere");
g&&g.length&&(g=g.split(","));ba(g,b,a)},eventType:"change"});return b},createButton:function(a){var b="",c=a.fieldPrefix||I,d=a.elementId||a.elementName,e=a.elementClasses&&z(a.elementClasses)?a.elementClasses:[],f=a.type?a.type:"submit";y(e,"capture_"+d)||e.push("capture_"+d);y(e,"capture_btn")||e.push("capture_btn");y(e,"capture_primary")||e.push("capture_primary");b+="<button ";a.hide&&(b+="style='display:none' ");b=b+("id='"+c+d+"' ")+("class='"+e.join(" ")+"' ");b=b+("type='"+f+"' ")+("data-capturefield='"+
a.name+"' ");a.value&&(b+="value='"+a.value+"' ");b+="name='"+a.elementName+"' ";b+=">";a.elementContent&&(b+=a.elementContent);return b+"</button>"},createInput:function(a){var b="",c="",d=a.fieldPrefix||I,e=a.elementId||a.elementName,f=a.elementClasses&&z(a.elementClasses)?a.elementClasses:[],h="object"===typeof a.elementAttributes?a.elementAttributes:{},i="button"===a.type||"submit"===a.type||"checkbox"===a.type||"radio"===a.type||"hidden"===a.type,k=a.justElement||a.collection||"hidden"===a.type||
"button"===a.type||"submit"===a.type,m="password"===a.type&&!cc&&a.placeholder?"text":a.type,n=("checkbox"===a.type&&!a.collection||"radio"===a.type&&!a.collection)&&!a.justElement,p=a.rendererFieldName,q=a.rendererChildFieldName,o=nb&&!a.collection;y(f,"capture_"+e)||f.push("capture_"+e);i||(c+=j.createLabel(a));b+="<input ";a.hide&&(b+="style='display:none' ");b=b+("id='"+d+e+"' ")+(jc(h)+" ");"text"===a.type||"email"===a.type||"password"===a.type||"file"===a.type?y(f,"capture_text_input")||f.push("capture_text_input"):
"checkbox"===a.type||"radio"===a.type?y(f,"capture_input_"+a.type)||f.push("capture_input_"+a.type):"submit"===a.type&&(y(f,"capture_btn")||f.push("capture_btn"),y(f,"capture_primary")||f.push("capture_primary"));b+="class='"+f.join(" ")+"' ";b+="data-capturefield='"+a.name+"' ";a.collection&&(b+="data-capturecollection='true' ");p&&(b+="data-capturerendererfield='"+p+"' ");q&&(b+="data-capturerendererchildfieldname='"+q+"' ");b+="type='"+m+"' ";("checkbox"===a.type||"radio"===a.type)&&a.elementValue?
b+="value='"+a.elementValue+"' ":a.value?(f=a.value,a.displaySavedValue&&Yb[a.value]&&(f=Yb[a.value]),("password"===a.type||"text"===a.type||"email"===a.type)&&!a.errors&&o&&oc.push(d+e),b+="value='"+f+"' "):b=a.placeholder&&!cc?b+("value='"+a.placeholder+"' "):b+"value='' ";a.placeholder&&(b+="placeholder='"+a.placeholder+"' ");if(a.checked||a.elementValue&&a.value===a.elementValue)b+="checked='checked' ";b+="name='"+a.elementName+"' ";b+="/>";c="checkbox"===a.type||"radio"===a.type?c+j.createLabel(a,
b):c+b;a.publicPrivateToggle&&(c+=j.createPublicPrivateToggle(a));n&&(c+="</div>");k||(c+=j.createTip(a));return c},createDiv:function(a){var b="<div ",c=a.fieldPrefix||I,d=a.elementId||a.elementName,e="object"===typeof a.elementAttributes?a.elementAttributes:{},f=a.classes||[];y(f,"capture_"+d)||f.push("capture_"+d);b+="id='"+c+d+"'";if("option"===a.type&&!a["default"]||a.hide)b+=" style='display:none'";"radioCollection"===a.type&&f.push("radio_set");z(f)&&f.length&&(b=b+' class="'+f.join(" ").replace(/\[/g,
"_").replace(/\]/g,"_"),b+='" ');b+=jc(e)+" ";b+="data-capturefield='"+a.name+"' ";b+=">";a.elementText&&(b+=a.elementText);a.closeDiv&&(b+="</div>");return b},createImage:function(a){var b,c=a.fieldPrefix||I,d=a.classes||[],e=a.elementId||a.imageId||a.elementName||"";b="<img "+('src="'+a.src+'"');e&&!y(d,"capture_"+e)&&d.push("capture_"+e);a.hide&&(b+=" style='display:none'");a.alt&&(b+=" alt='"+a.alt+"'");"undefined"!==typeof a.width&&(b+=" width='"+a.width+"'");"undefined"!==typeof a.height&&(b+=
" height='"+a.height+"'");e&&(b+=' id="'+c+a.imageId+'" ');z(d)&&d.length&&(b=b+'class="'+d.join(" "),b+='" ');return b+"/>"},domHelpers:{createIFrame:function(a){var b,c="captureIFrame_"+a;if(document.getElementById(c))return!1;if(k){b="";var d=document.createElement("div");d.innerHTML=b+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+a+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(d)}else b=document.createElement("iframe"),b.setAttribute("name",
c),b.setAttribute("data-transactionId",a),b.id=c,b.setAttribute("src","about:blank"),b.style.display="none",b.className="",document.body.appendChild(b)},createAnchor:function(a){var b=a.fieldPrefix||I,c=document.createElement("a");if(!a.classes||a.classes&&!z(a.classes))a.classes=[];a.elementId&&!y(a.classes,b+a.elementId)&&a.classes.push(b+a.elementId);c.setAttribute("href",a.elementHref);c.innerHTML=a.elementText;a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display=
"none");return c},createDiv:function(a){var b=a.fieldPrefix||I,c=document.createElement("div");if(!a.classes||a.classes&&!z(a.classes))a.classes=[];a.elementId&&!y(a.classes,b+a.elementId)&&a.classes.push(b+a.elementId);a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display="none");return c},createImage:function(a){var b=a.fieldPrefix||I,c=document.createElement("img");if(!a.classes||a.classes&&!z(a.classes))a.classes=[];a.elementId&&!y(a.classes,b+a.elementId)&&
a.classes.push(b+a.elementId);a.alt&&c.setAttribute("alt",a.alt);"undefined"!==typeof a.width&&c.setAttribute("width",a.width);"undefined"!==typeof a.height&&c.setAttribute("height",a.height);c.src=a.elementSrc;a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display="none");return c},createInput:function(a){var b=document.createElement("input"),c=a.fieldPrefix||I,d="object"===typeof a.elementAttributes?a.elementAttributes:{},e=a.containerDivClasses||[],f;
"submit"===a.elementType&&a.containerDiv&&(f=this.createDiv({elementName:a.elementName+"_containverDiv",classes:e}));if(!a.classes||a.classes&&!z(a.classes))a.classes=[];for(var h in d)d.hasOwnProperty(h)&&b.setAttribute(h,d[h]);a.elementId&&!y(a.classes,c+a.elementId)&&a.classes.push(c+a.elementId);a.elementType&&b.setAttribute("type",a.elementType);a.name&&b.setAttribute("data-capturefield",a.name);a.elementValue&&(b.value=a.elementValue);a.elementName&&(b.name=a.elementName);a.elementId&&(b.id=
c+a.elementId);a.hideElement&&(b.style.display="none");b.className=a.classes.join(" ");return f?(f.appendChild(b),f):b},createForm:function(a){a.transactionId||(a.transactionId=ia());var b=a.transactionId,e=a.captureScreen||$,d=c(e),f=document.createElement("form"),h=z(a.fields)?a.fields:[],i=h.length;j.domHelpers.createIFrame(b);a.needsResponse&&V(b);if(!a.classes||a.classes&&!z(a.classes))a.classes=[];a.elementId&&!y(a.classes,d+a.elementId)&&a.classes.push(d+a.elementId);f.id=d+a.elementId+"_"+
b;f.className=a.classes.join(" ");f.setAttribute("target","captureIFrame_"+b);f.setAttribute("data-transactionId",b);a.name&&f.setAttribute("data-capturefield",a.name);f.setAttribute("action",a.elementAction);f.setAttribute("method","POST");f.setAttribute("data-capturedomelement","true");a.validate&&f.setAttribute("data-capturedomelementvalidate","true");f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:"\u2713",elementName:"utf8"}));s&&s.mergeToken&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",
fieldPrefix:d,elementValue:s.mergeToken,elementName:"merge_token",elementId:"merge_token_"+b}));fb&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:fb,elementName:"bp_channel",elementId:"bp_channel_"+b}));va&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:va,elementName:"flow_path",elementId:"flow_path_"+b}));Ab?f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:Ab,elementName:"access_token",
elementId:"access_token_"+b})):Ma&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:Ma,elementName:"access_token",elementId:"access_token_"+b}));$&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:e,elementName:"capture_screen",elementId:"screen_"+b}));db&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:db,elementName:"js_version",elementId:"js_version_"+b}));a.serverNextScreen&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",
fieldPrefix:d,elementValue:a.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+b}));a.engageTokenRequired&&f.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:mb,fieldPrefix:d,elementName:"token",elementId:"token_"+b}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:b,fieldPrefix:d,elementName:"capture_transactionId",elementId:"transactionId_"+b}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,
elementValue:a.name,elementName:"form",elementId:"form_"+b}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:s.flow,elementName:"flow",elementId:"flow_"+b}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementName:"client_id",elementId:"client_id_"+b,elementValue:janrain.settings.capture.clientId}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementName:"redirect_uri",elementId:"redirect_uri_"+
b,elementValue:janrain.settings.capture.redirectUri}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:janrain.settings.capture.responseType,elementName:"reponse_type",elementId:"response_type_"+b}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:nc,elementName:"flow_version",elementId:"flow_version_"+b}));f.appendChild(j.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:Ta,elementName:"locale",
elementId:"locale_"+b}));for(e=0;e<i;e++)switch(b=h[e],b.elementType){case "div":b.fieldPrefix=b.fieldPrefix||d;f.appendChild(j.domHelpers.createDiv(b));break;case "anchor":b.fieldPrefix=b.fieldPrefix||d;f.appendChild(j.domHelpers.createAnchor(b));break;case "hidden":b.fieldPrefix=b.fieldPrefix||d;f.appendChild(j.domHelpers.createInput(b));break;case "file":b.fieldPrefix=b.fieldPrefix||d;f.setAttribute("enctype","multipart/form-data");f.appendChild(j.domHelpers.createInput(b));break;case "submit":b.fieldPrefix=
b.fieldPrefix||d,f.appendChild(j.domHelpers.createInput(b))}j.domHelpers.createFormHandler(f,a);return f},createFormHandler:function(a,b){"function"===typeof b.callback&&(a.setAttribute("next",'{"function":"'+b.elementId+'"}'),Lb[b.elementId]=b.callback);S(a,"submit",za)},createFormAndPost:function(a){var b=a.fieldPrefix||I,c=ia();a.fieldPrefix=a.fieldPrefix||b;a.transactionId=c;var d=j.domHelpers.createForm(a),b=j.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:b,
elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});d.appendChild(b);document.body.appendChild(d);j.domHelpers.createFormHandler(d,a);b.click()}},createListOfLinks:function(a,b){var c=a.fieldPrefix||I,d;optionsLength=a.length;d="<ul";z(b)&&b.length&&(d=d+' class="'+b.join(" "),d+='"');d+=">";for(var e=0;e<optionsLength;e++){d+="<li";"string"===typeof a[e].listItemId&&(d+=' id="'+c+a[e].listItemId+'" ');a[e].hide&&(d+=' style="display: none;" ');if(!a[e].listItemClasses||
!z(a[e].listItemClasses))a[e].listItemClasses=[];"string"===typeof a[e].listItemId&&!y(a[e].listItemClasses,"capture_"+a[e].listItemId)&&a[e].listItemClasses.push("capture_"+a[e].listItemId);z(a[e].listItemClasses)&&a[e].listItemClasses.length&&(d+=' class="',d+=a[e].listItemClasses.join(" "),d+='"');d+=">";d+='<a href="'+a[e].anchorHref+'"';"string"===typeof a[e].anchorId&&(d+=' id="'+c+a[e].anchorId+'" ');if(!a[e].anchorClasses||!z(a[e].anchorClasses))a[e].anchorClasses=[];"string"===typeof a[e].anchorId&&
!y(a[e].anchorClasses,"capture_"+a[e].anchorId)&&a[e].anchorClasses.push("capture_"+a[e].anchorId);z(a[e].anchorClasses)&&a[e].anchorClasses.length&&(d+=' class="',d+=a[e].anchorClasses.join(" "),d+='"');d+=">";d+=a[e].anchorText;d+="</a>";d+="</li>"}return d+"</ul>"},togglePasswordInput:function(a){var a=$a(a),b=c(a);a.getAttribute("value")===a.getAttribute("placeholder")&&a.setAttribute("value","");if(k&&"text"===a.type){for(var e=[],d=0,f=q.length;d<f;d++)b+q[d].elementName==a.id&&(q[d].elementName=
q[d].elementName,e.push(q[d]));b=document.createElement("span");d=a.parentElement;d.insertBefore(b,a);d.removeChild(a);f=document.createElement("input");f.id=a.id;f.setAttribute("data-capturefield",a.name);f.className="capture_password";f.name=a.name;f.setAttribute("type","password");d.insertBefore(f,b);d.removeChild(b);Sa().attachEventHandlers(null,e);f.focus()}else a.setAttribute("type","password")},clearPlaceHolder:function(a){if(cc)return!0;a=$a(a);a.getAttribute("value")===a.getAttribute("placeholder")&&
(k?a.value="":a.setAttribute("value",""))},restorePlaceHolder:function(a){if(cc)return!0;var a=$a(a),b=a.getAttribute("placeholder");"password"===a.getAttribute("type")&&""===a.value&&a.setAttribute("type","text");b&&""===a.value&&(k?a.value=b:a.setAttribute("value",b))},validation:function(){function a(a){d=a;zb[b.id||b.name].status=d}var b,e,d;return{getElement:function(){return b},getParentDiv:function(){return e},getState:function(){return d},setState:function(b){a(b)},setParentDiv:function(a){(e=
a)&&e.className.split(" ")},setElement:function(a){b=a;e&&e.className.split(" ")},valid:function(){w(e).append("capture_validated").remove("capture_validating").remove("capture_error");a("valid");var d={};b&&(d.field=b);janrain.events.onCaptureValidationSuccess.fire(d);janrain.events.onCaptureContentChange.fire()},pending:function(){a("pending");w(e).append("capture_validating").remove("capture_validated");janrain.events.onCaptureContentChange.fire()},notValid:function(d,f){a("invalid");w(e).append("capture_error").remove("capture_validated");
if(d){for(var h,j=c(e),i=e.getElementsByTagName("div"),k=i.length,m=0;m<k;m++)if("capture_tip_error"===i[m].className){var n=0===e.id.indexOf(j+"form_collection_")?j+"form_collection_":j+"form_item_";if(e.id.split(n)[1]===i[m].getAttribute("data-elementName")||e.id.split(n)[1]+"[dateselect_year]"===i[m].getAttribute("data-elementName")){h=i[m];break}}h&&(h.innerHTML=d);"function"===typeof f&&f();janrain.events.onCaptureContentChange.fire()}h={};b&&(h.field=b);janrain.events.onCaptureValidationFailed.fire(h)}}}},
mc={createSelect:j.createSelect,createTextarea:j.createTextarea,createAnchor:j.createAnchor,createInput:j.createInput,createLabel:j.createLabel,createDiv:j.createDiv,createImage:j.createImage,createListOfLinks:j.createListOfLinks,toggelPassword:j.togglePasswordInput,clearPlaceHolder:j.clearPlaceHolder,restorePlaceHolder:j.restorePlaceHolder,getElementByEventAttribute:$a};x.prototype.render={data:{engageCookieData:function(a){return Db(a.cookieName)},stringData:function(a){if("undefined"!==typeof a.displayPublic&&
!1===a.displayPublic)return"";var b="",b=a.displaySavedValue&&ub&&Yb[a.value]?Yb[a.value]:a.value;return b=a.justString?b:j.wrapStringData(a,b)},imageData:function(a){var b;a.value&&(a.returnImageTag?(b={elementName:a.elementname,hide:a.hide,src:a.value},a.classes&&(b.classes=a.classes),a.elementId&&(b.elementId=a.elementId),b=j.createImage(b)):b=a.value);return b}},htmlElement:{parent:x.prototype.render,anchor:function(a){return a=""+j.createAnchor(a)},textarea:function(a){var b;b=""+j.wrapFormItemStart(a);
b+=j.createTextarea(a);return b+=j.wrapFormItemEnd(a)},select:function(a){var b;b=""+j.wrapFormItemStart(a);b+=j.createSelect(a);b+=j.wrapFormItemEnd(a);j.attachFieldEventHandlers(a);return b},multi:function(a,b){var e,d,f=a.options.length;a.type="elementCollection";e=""+j.wrapFormItemStart(a);e+=j.createLabel(a);for(var h=0;h<f;h++)d=a.options[h],d.value=d.value||d.label,d.label=d.label||d.value,e+=this.input({elementName:a.elementName,type:b,elementId:a.elementName+"_"+d.value+"_"+h,name:a.name,
value:d.value,collection:!0,label:d.label,checked:y(a.value,d.value)}),q.push({elementName:a.elementName+"_"+d.value+"_"+h,handler:function(b,d){return function(){for(var g=c(this),e=document.getElementById(g+"form_collection_"+a.elementName),e=xa("capture_form_item_"+a.elementName,e),g=document.getElementById(g+"form_item_"+a.elementName+"_"+b+"_"+d),f=0,h=e.length;f<h;f++)w(e[f]).remove("capture_toggled");g&&w(g).append("capture_toggled")}}(d.value,h),eventType:"click"});e+=j.createTip(a);return e+=
j.wrapFormItemEnd(a)},multiCheckbox:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},multiRadio:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},input:function(a){var b;b=""+j.wrapFormItemStart(a);b+=j.createInput(a);b+=j.wrapFormItemEnd(a);j.attachFieldEventHandlers(a);return b},button:function(a){var b;b=""+j.wrapFormItemStart(a);b+=j.createButton(a);b+=j.wrapFormItemEnd(a);j.attachFieldEventHandlers(a);return b},form:function(a){var b="<form ",
c="object"===typeof a.elementAttributes?a.elementAttributes:{},d=a.localFieldPrefix||I,e=a.classes||[];e.indexOf("capture_form"===-1)&&e.push("capture_form");e.indexOf(-1==="capture_"+a.elementName)&&e.push("capture_"+a.elementName);b+="id='"+d+a.elementName+"' ";b+=jc(c)+" ";b+="name='"+a.elementName+"' ";b+="data-capturefield='"+a.name+"' ";b+="action='"+janrain.settings.capture.captureServer+"/"+a.action+"' ";z(e)&&(b+="class='"+e.join(" ")+"' ");var b=b+"method='POST' novalidate='novalidate' "+
("data-transactionId='"+a.transactionId+"' "),b=b+("target='captureIFrame_"+a.transactionId+"' "),b=b+">"+('<div id="'+d+a.elementName+'_defaultSavedProfileMessage"></div>'),b=b+('<div id="'+d+a.elementName+'_errorMessages"></div>'),f="";if(a.errors){janrain.events.onCaptureFormError.fire(a.errors);for(var h in a.errors)a.errors.hasOwnProperty(h)&&(f+=j.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),f+=a.errors[h]+"</div>")}q.push({handler:function(){var b=
document.getElementById(d+a.elementName);if(!b)return!1;var c=xa("capture_form_error_container",b),c=c.length?c[0]:document.getElementById(d+a.elementName+"_errorMessages");f?(c.innerHTML=f,w(b).append("capture_form_level_error")):c.innerHTML=""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,i;for(i in c)c.hasOwnProperty(i)&&(b+=j.createInput({elementName:i,type:"hidden",value:c[i]}))}b+=
j.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});fb&&(b+=j.createInput({elementName:"bp_channel",elementId:"bp_channel"+a.transactionId,type:"hidden",value:fb}));va&&(b+=j.createInput({elementName:"flow_path",elementId:"flow_path_"+a.transactionId,type:"hidden",value:va}));s&&s.mergeToken&&(b+=j.createInput({elementName:"merge_token",elementId:"merge_token_"+a.transactionId,type:"hidden",value:s.mergeToken}));Ab?b+=j.createInput({elementName:"access_token",elementId:"accessToken_"+
a.transactionId,type:"hidden",value:Ab}):Ma&&(b+=j.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,type:"hidden",value:Ma}));$&&(b+=j.createInput({elementName:"capture_screen",elementId:"screen_"+a.transactionId,type:"hidden",value:$}));db&&(b+=j.createInput({elementName:"js_version",elementId:"js_version_"+a.transactionId,type:"hidden",value:db}));a.serverNextScreen&&(b+=j.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+a.transactionId,type:"hidden",
value:a.serverNextScreen}));if(a.engageTokenRequired||Ya)Ya=!1,b+=j.createInput({elementName:"token",elementId:"token_"+a.transactionId,type:"hidden",value:mb});b+=j.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+a.transactionId,type:"hidden",value:a.transactionId});b+=j.createInput({elementName:"form",elementId:"form_"+a.transactionId,type:"hidden",value:a.name});b+=j.createInput({elementName:"flow",elementId:"flow_"+a.transactionId,type:"hidden",value:s.flow});b+=j.createInput({elementName:"client_id",
elementId:"client_id_"+a.transactionId,type:"hidden",value:janrain.settings.capture.clientId});b+=j.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+a.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});b+=j.createInput({elementName:"response_type",elementId:"response_type_"+a.transactionId,type:"hidden",value:janrain.settings.capture.responseType});b+=j.createInput({elementName:"flow_version",elementId:"flow_version_"+a.transactionId,type:"hidden",value:nc});
return b+=j.createInput({elementName:"locale",elementId:"locale_"+a.transactionId,type:"hidden",value:Ta})},div:function(a){return j.createDiv(a)},close:function(a){return"</"+a.element+">"}},captureElement:{table:function(a){var b='<table class="capture_table">',c=x.prototype.render.htmlElement;if(a.th.display){var b=b+"<tr>",d;for(d in a.th.cols)b+="<th>"+a.th.cols[d]+"</th>";b+="</tr>"}for(var e in a.rows){var b=b+"<tr>",f;for(f in a.rows[e].cells)a.rows[e].cells[f].type&&"radio"===a.rows[e].cells[f].type?
(d=a.rows[e].cells[f],d.name="table",a.value&&d.elementValue===a.value[d.rendererChildFieldName]&&(d.checked=!0),b+="<td>",b+=j.wrapFormItemStart(a),b+=c.input(d),b+=j.wrapFormItemEnd(a),b+="</td>"):b+="<td>"+a.rows[e].cells[f]+"</td>";b+="</tr>"}return b+"</table>"},countrySelect:function(a){a.options=[{text:"country",value:"country",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},
{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",
value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",
value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},
{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},{text:"Cyprus",
value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",
value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},
{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},
{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",
value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",
value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},
{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",
value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},
{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",
value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},
{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},
{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return x.prototype.render.htmlElement.select(a)},
stateSelect:function(a){a.options=[{text:"state",value:"state",disabled:!0},{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",
value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",
value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"},{text:"AB",value:"AB"},{text:"BC",value:"BC"},{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",
value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];return x.prototype.render.htmlElement.select(a)},keepMeLoggedIn:function(a){var b=a.fieldPrefix||I,a=""+j.createInput({label:a.label||"Keep me logged in",type:"checkbox",name:a.name,justElement:!0,value:"yes",checked:a.checked||!1,elementName:"capture_keep_me_logged_in"});q.push({elementName:"capture_keep_me_logged_in",handler:function(){loggedInElement=document.getElementById(b+"capture_keep_me_logged_in");loggedInElement.checked?janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},
!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},!0)},eventType:"render"});q.push({elementName:"capture_keep_me_logged_in",handler:function(a){H(a).checked?janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},!0)},eventType:"click"});return a},captcha:function(a){D||wa("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){D=!0});q.push({elementName:a.name,handler:function(){function a(){if("undefined"===
typeof Recaptcha)setTimeout(a,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});var b;b=""+j.wrapFormItemStart(a);a.label&&(b+=j.createLabel(a));b=b+'<div id="recaptcha_container"></div>'+j.createTip(a);return b+=j.wrapFormItemEnd(a)},mergeAccounts:function(a,
b){var b=b?O.parse(b):{custom:!1},c=x.prototype.render,d=a.value,e="";d.existing_provider="legacy"===d.existing_provider?"email":d.existing_provider;a.customText||(a.customText={});var f=a.customText.connectRadio||'Connect this session with your existing account <br /><span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',
h=a.customText.connectLegacyRadio||'Connect this session with your existing account <br /><span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',j=a.customText.createRadio||"Create a new account using Google sign-in.",i=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",k=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',
m=a.customText.moreInfo||"More Info ?",n=a.customText.createButton||"Create",p=a.customText.connectButton||"Connect";d.connectRadioText=T(d,f);d.connectLegacyRadioText=T(d,h);d.createRadioText=T(d,j);d.foundExistingAccountText=T(d,i);d.moreInfoHoverText=T(d,k);d.moreInfoText=T(d,m);d.createButtonText=T(d,n);d.connectButtonText=T(d,p);d.connect_button=c.htmlElement.button({elementContent:'<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+d.existing_provider.toLowerCase()+
'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+d.current_provider.toLowerCase()+'"></span>'+p,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});d.create_button=c.htmlElement.button({elementContent:n,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});d.merge_radio=c.htmlElement.multiRadio({element:"multiRadio",value:[1],elementName:a.name+"_mergeRadio",
classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===d.existing_provider?T(d,h):T(d,f),value:1},{label:j,value:2}]});d.rendered_current_photo=d.current_photo?'<img src="'+d.current_photo+'" height="25" width="25" />':"";d.rendered_existing_provider_photo=d.existing_provider_photo?'<div class="capture_icon_col"><img src="'+d.existing_provider_photo+'" height="25" width="25" /></div>':"";d.current_provider_lowerCase=d.current_provider.toLowerCase();d.existing_provider_lowerCase=
d.existing_provider.toLowerCase();b.custom?q.push({handler:function(){var b=document.getElementById(a.name);b.innerHTML=T(d,b.innerHTML)},eventType:"render"}):e+=T(d,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}          </div>         <span class="capture_mergeProvider janrain-provider-icon-30 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
q.push({elementName:a.name+"_connectButton",handler:function(){"email"===d.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(pc=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(d.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});q.push({elementName:a.name+"_createButton",handler:function(){Xb?Qb():(Zb=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});q.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(I+a.name+"_connectButton").style.display="block";document.getElementById(I+a.name+"_createButton").style.display="none"},eventType:"click"});q.push({elementName:a.name+"_mergeRadio_2_1",handler:function(){document.getElementById(I+a.name+"_connectButton").style.display="none";document.getElementById(I+a.name+"_createButton").style.display=
"block"},eventType:"click"});return e},publicProfileLink:function(a,b){var c="",d=b?O.parse(b).elementHref:a.elementHref;a.elementAttributes="object"===typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=d+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return c+=j.createAnchor(a)},linkAccounts:function(a){a.value||(a.value={});a.customText||(a.customText={});var b=$,c=a.fieldPrefix||I,d='<div class="capture_linkAccounts" id="'+
c+a.name+'_currentlinkedaccounts">',e=s.fields[a.linkAccountContainer].elementName||s.fields[a.linkAccountContainer].name||a.linkAccountContainer,f=a.customText.linkAnotherAccount||"Link Another Account",h=z(a.value.providers)?a.value.providers.length:0,i=c+a.name+"_linkaccountsscreen",k=a.providerIconSize&&y(Qc,a.providerIconSize)?a.providerIconSize:16,m=x.prototype.render;z(a.customProviders)&&(a.customProviders=a.customProviders.filter(function(b){return!y(a.value.providers,b)}));for(var d=d+('<ul class="capture_provider" id="'+
c+a.name+'_linkedproviderlist">'),n=0;n<h;n++){d+='<li class="capture_provider_linked"><span class="';d+="janrain-provider-icon-"+k+" janrain-provider-icon-"+a.value.providers[n]+(a.customIcons?"-custom":"")+'">';d+='</span><span class="';d+="janrain-provider-text-"+a.value.providers[n]+(a.customIcons?"-custom":"")+'">'+(a.displayFormat?T({provider:a.value.providers[n],displayName:a.value.displayNames[n]},a.displayFormat):a.value.providers[n]);d+="</span>";if(K||0!==n)d+='<span class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+
a.value.providers[n]+'" data-captureidentifier="'+a.value.identifiers[n]+'"></span>';d+="</li>"}if(a.customAddLinks){n=0;for(f=a.customProviders.length;n<f;n++)d+='<li class="capture_custom_add_linkedaccount" data-captureprovider="'+a.customProviders[n]+'">',d+=T({provider:a.customProviders[n]},a.customAddLinkFormat)+"</li>";q.push({elementName:a.name+"_linkedproviderlist",handler:function(a){a=H(a);a=Cc(a,"li");w(a).has("capture_custom_add_linkedaccount")&&(a=a.getAttribute("data-captureprovider"),
janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:b},!0),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.triggerFlow(a))},eventType:"click"})}else d+='<li class="capture_linkAccount"><a href="#" id="'+c+a.name+'_linknewlink">'+f+"</a></li>";d+="</ul></div>";q.push({elementName:a.name+"_linknewlink",handler:function(a){janrain.engage&&janrain.engage.signin&&
janrain.engage.signin.setNoReturnExperience(!0);janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:b},!0);pb(document.getElementById(i));Q(a)},eventType:"click"});q.push({elementName:a.name+"_currentlinkedaccounts",handler:function(d){var e=H(d);if(w(e).has("capture_remove_linkedaccount")){var f=e.getAttribute("data-captureidentifier");j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",
elementId:"getUserData_form",fieldPrefix:c,captureScreen:b,needsResponse:!0,callback:function(){var b=e.getAttribute("data-captureprovider");janrain.events.onCaptureProfileUnlink.fire({provider:b});if(a.customAddLinks){var d=document.createElement("li");d.className="capture_custom_add_linkedaccount";d.setAttribute("data-captureprovider",b);d.innerHTML=T({provider:b},a.customAddLinkFormat);document.getElementById(c+a.name+"_linkedproviderlist").appendChild(d)}Gb(e.parentNode)},fields:[{elementName:"identifier[]",
elementType:"hidden",elementValue:f},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:f}]})}Q(d)},eventType:"click"});d=d+'<div style="display: none;">'+('<div id="'+i+'" class="janrain-capture-ui capture-ui-content capture_addLinkedAccount">');N&&N.modal&&(d+=m.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));d+='<div  id="'+c+a.name+'_linkAccountContainerContainer">';d+="</div></div></div>";a.customAddLinks||
q.push({handler:function(){var b=document.getElementById(c+e);document.getElementById(c+a.name+"_linkAccountContainerContainer").appendChild(b)},eventType:"render"});return d},errorMessages:function(){var a;a=""+x.prototype.render.htmlElement.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+x.prototype.render.htmlElement.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),
hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",b="";a.value.firstname&&(b+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&(b+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");
a.value.lastname&&(b+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+a.value.lastname+"</span>");return b=a.justString?b:j.wrapStringData(a,b,"capture_stringdata_nameBlock")},nameFull:function(a){var b,c=x.prototype.render.htmlElement;b='<div class="capture_form_item capture_nameBlock">'+c.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",
rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:""});b+=c.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&
a.placeholder.middlename?a.placeholder.middlename:""});b+=c.input({elementName:a.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return b+"</div>"},dateselect_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic||!a.value.dateselect_month||
!a.value.dateselect_year||!a.value.dateselect_day)return"";var b="",c="",b=parseInt(a.value.dateselect_month,10),c=parseInt(a.value.dateselect_year,10),d=parseInt(a.value.dateselect_day,10);a.format?(b=new Date(c,b-1,d),c=a.format,c=c.replace("{yyyy}",b.getFullYear()),c=c.replace("{month}",Pc[b.getMonth()]),c=c.replace("{day}",Oc[b.getDay()]),c=c.replace("{m}",b.getMonth()+1),c=c.replace("{d}",b.getDate())):c=b+"/"+d+"/"+c;return b=a.justString?c:j.wrapStringData(a,c,"capture_stringdata_dateselectBlock")},
dateselect:function(a){function b(d){d=H(d);d=c(d);d=document.getElementById(d+"form_item_"+a.elementName);w(d).append("capture_focused").remove("capture_error");Kb&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()}function f(b){b=H(b);b=c(b);b=document.getElementById(b+"form_item_"+a.elementName);w(b).remove("capture_focused")}a.customText||(a.customText={});var d=a.customText.dayLabelDateSelect||"day",h=a.customText.monthLabelDateSelect||"month",i=a.customText.yearLabelDateSelect||
"year",k='<div id="'+(a.fieldPrefix||I)+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',m,n=z(a.format)&&3===a.format.length?a.format:["month","day","year"],p=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):"",o=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"";m=a.value&&a.value.dateselect_month?parseInt(a.value.dateselect_month):"";var r=[{text:h,value:"",disabled:!0},{text:"January",value:1},{text:"February",value:2},{text:"March",
value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},{text:"August",value:8},{text:"September",value:9},{text:"October",value:10},{text:"November",value:11},{text:"December",value:12}],s=a.monthStart||1,t=a.monthEnd||13,u=a.dayStart||1,y=a.dayEnd||31,h=a.yearStart||1929,x=a.yearEnd||2012;m={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],
justElement:!0,value:m,options:r.slice(0,1).concat(r.slice(s,t))};d={elementName:a.name+"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:p,options:e(u,y,"asc",d)};h=parseInt(h,10);x=parseInt(x,10);i={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],
value:o,options:e(h,x,"desc",i)};for(o=0;3>o;o++){var v;switch(n[o]){case "month":v=m;break;case "day":v=d;break;case "year":v=i}0===o&&(v.label=a.label);2===o&&(v.publicPrivateToggle=a.publicPrivateToggle,v.displayPublic=a.displayPublic,v.tip=a.tip,v.justElement=!1);k+=j.createSelect(v)}k+="</div>";q.push({elementName:a.name+"_dateselectyear",handler:b,eventType:"focus"});q.push({elementName:a.name+"_dateselectyear",handler:f,eventType:"blur"});q.push({elementName:a.name+"_dateselectday",handler:b,
eventType:"focus"});q.push({elementName:a.name+"_dateselectday",handler:f,eventType:"blur"});q.push({elementName:a.name+"_dateselectmonth",handler:b,eventType:"focus"});q.push({elementName:a.name+"_dateselectmonth",handler:f,eventType:"blur"});return k},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",b="";a.value.streetaddress&&(b+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&
(b+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(b+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&(b+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(b+='<span class="capture_stringdata_addressBlock_zippostalcode">'+
a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+="</div>";a.value.country&&(b+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return b=j.wrapStringData(a,b,"capture_stringdata_addressBlock")},addressFull:function(a){var b,e=x.prototype.render.htmlElement;a.value||(a.value={});a.value.country||(a.value.country="United States");b='<div class="capture_form_item capture_addressBlock">'+e.input({elementName:a.name+"[streetaddress]",
elementId:a.name+"_streetaddress",label:"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});b+=e.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,
value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});b+=e.input({elementName:a.name+"[city]",elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});b+=x.prototype.render.captureElement.stateSelect({elementName:a.name+
"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:""});q.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});b+=e.input({elementName:a.name+"[zippostalcode]",elementId:a.name+
"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});b+=x.prototype.render.captureElement.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],
value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});q.push({elementName:a.name+"_country",handler:function(b){var b=H(b),b=c(b),e=this.options[this.selectedIndex].value||"",g=document.getElementById(b+a.name+"_stateprovince");"United States"===e||"Canada"===e?document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="inline-block":(g.selectedIndex=0,document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display=
"none")},eventType:"change"});return b+"</div>"},backButton:function(a){var b;a.type="button";b=""+j.createInput(a);a.type="backButton";q.push({elementName:a.elementName,handler:function(){tc=!1;var a=qb.pop();a&&janrain.capture.ui.render(a.flow,a.values)},eventType:"click"});return b},partial:function(a){var b=document.getElementById(a.layout);if(b)return b.innerHTML;throw E(a.layout);},photoManager:function(a,b){function e(b){qa=!1;var c=document.getElementById(o+a.name+"_profile_pic_uploadform_container"),
d=document.getElementById(o+a.name+"_upload_photo_form");c.innerHTML="";var g=document.createElement("div");g.innerHTML=X;var f=document.createElement("div");f.innerHTML=aa;c.appendChild(g);c.appendChild(d);c.appendChild(f);pb(document.getElementById(E));c=document.getElementById(o+"photo_chooser");S(c,"change",p);janrain.events.onModalClose.addHandler(function(){qa=!0});b&&Q(b)}function d(b){if(0<parseInt(b.unscaled.width)){u=b;var c=b.unscaled.height/b.sizedHeight,d=Math.round(r/(b.unscaled.width/
b.sizedWidth)),e=document.getElementById(o+a.name+"_profile_pic_image_edit"),c=Math.round(s/c);"none"===e.style.display&&(e.style.display="block");e.style.width=d+"px";e.style.height=c+"px";e.style.marginLeft="-"+Math.round(b.unscaled.left/b.sizedWidth*d)+"px";e.style.marginTop="-"+Math.round(b.unscaled.top/b.sizedHeight*c)+"px"}}function f(){if(w)return!1;var b=document.getElementById(o+a.name+"_profile_pic_image_edit_crop");crop(b,d,v,t,function(){janrain.events.onCaptureContentChange.fire()});
b.style.display="inline";w=!0}function h(a){if(!u)return!1;H(a);var a=u.sizedWidth/u.originalWidth,b=u.sizedHeight/u.originalHeight;document.getElementById(o+"width").value=Math.round(u.unscaled.width/a);document.getElementById(o+"height").value=Math.round(u.unscaled.height/b);document.getElementById(o+"x").value=Math.round(u.unscaled.left/a);document.getElementById(o+"y").value=Math.round(u.unscaled.top/b)}var b=b?O.parse(b):{custom:!1},i={};if(z(a.value)&&a.value.length){La={};for(var k=0,m=a.value.length;k<
m;k++)La[a.value[k].type]=a.value[k]}else La=!1;var k=j.createDiv({elementName:a.elementName+"_parent"}),n=$,o=a.fieldPrefix||I,m=x.prototype.render.htmlElement,r=a.previewSizeWidth||100,s=a.previewSizeHeight||100,t=a.originalMaxWidth||450,v=a.originalMaxHeight||450,u,w=!1,B="object"===typeof La,D=B?"":"capture_profile_pic ",E=o+a.name+"_uploadphotoscreen",F=o+a.name+"_editphotoscreen";i.profilePicClass=D;i.uploadPhotoScreenId=E;i.editPhotoScreenId=F;var r=parseInt(r,10),s=parseInt(s,10),t=parseInt(t,
10),v=parseInt(v,10),G={elementName:a.elementName};B&&La.large&&(G.classes=["capture_userphoto"]);i.mainDiv=j.createDiv(G);i.closeDiv="</div>";a.customText||(a.customText={});var G=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",J=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",K=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",L=a.customText.removePhotoLinkPhotoManager||"Remove photo",M=a.customText.editPhotoLinkPhotoManager||
"Edit Photo",N=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo",P=a.customText.editPhotoButtonTextPhotoManager||"Save",R=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",U=a.customText.removePhotoButtonTextPhotoManager||"Remove",W=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",X=a.customText.uploadNewPhotoInstructionPhotoManager||"",aa=a.customText.uploadNextStepInstructionPhotoManager||"",ba=a.customText.editPhotoPreviewTitlePhotoManager||"";i.editProfilePhotoTitle=
a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo";i.editProfileInstruction=J;i.profilePhotoTitle=G;i.prefixFieldName=o+a.name;i.editPhotoPreviewTitle=ba;Gb(document.getElementById(E));Gb(document.getElementById(F));i.profileImage='<div id="'+o+a.name+'_profile_pic" class="'+D+'capture_profile_pic_display capture_default">';B&&La.large&&(i.profileImage+=j.createImage({src:La.large.value,imageId:a.name+"_profile_pic_image"}));i.profileImage+="</div>";i.photoLinks=j.createListOfLinks([{listItemId:"upload_photo",
listItemClasses:[],anchorText:K,anchorHref:"#",anchorClasses:["capture_upload_photo_link"],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:M,anchorHref:"#",anchorClasses:["capture_edit_photo_link"],anchorId:"edit_photo_link",hide:!B},{listItemId:"remove_photo",listItemClasses:[],anchorText:L,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!B}],["options"]);i.uploadImage=B&&La.large?j.createImage({src:La.large.value,
imageId:a.name+"_profile_pic_image_upload"}):"";i.editImage=B&&La.original?j.createImage({src:La.original.value+"?"+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit"}):"";i.cropImage=B&&La.original?j.createImage({src:La.original.value+"?"+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}):"";i.photoChooserErrors=j.createDiv({elementId:"photo_chooser_errors"});i.photoChooserErrors+="</div>";var Y=ia();j.domHelpers.createIFrame(Y);
i.uploadFormOpen=m.form({action:"widget/photo/upload_photo.jsonp",elementAttributes:{enctype:"multipart/form-data"},transactionId:Y,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form"});i.uploadFileField=j.createInput({elementName:"photo",elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});i.uploadSubmitButton=j.createInput({elementName:"photo_submit",elementId:"photo_submit",value:R,classes:["capture_btn","capture_primary"],justElement:!0,
type:"submit"});i.uploadFormClose="</form>";var Z=ia();j.domHelpers.createIFrame(Z);i.editFormOpen=m.form({action:"widget/photo/crop_photo.jsonp",transactionId:Z,name:a.name+"_crop_photo_form",elementName:a.name+"_crop_photo_form"});i.editFormOpen+=j.createDiv({elementName:"",classes:["capture_popup-arrow"],type:"div"});i.editFormOpen+="</div>";i.editFormOpen+=j.createInput({elementName:"width",elementId:"width",justElement:!0,type:"hidden"});i.editFormOpen+=j.createInput({elementName:"height",elementId:"height",
justElement:!0,type:"hidden"});i.editFormOpen+=j.createInput({elementName:"x",elementId:"x",justElement:!0,type:"hidden"});i.editFormOpen+=j.createInput({elementName:"y",elementId:"y",justElement:!0,type:"hidden"});i.editSubmitButton=j.createInput({elementName:"edit_photo_submit",elementId:"edit_photo_submit",value:P,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});i.editFormClose="</form>";i.chooseDifferentPhotoLink=j.createAnchor({elementHref:"#",elementText:N,elementId:a.name+
"_different_photo_link"});b.custom?q.push({handler:function(){var b=document.getElementById(o+a.name+"_parent");b.innerHTML=T(i,b.innerHTML);q.push({elementName:a.name+"_upload_photo_form",handler:za,eventType:"submit"});q.push({elementName:a.name+"_crop_photo_form",handler:za,eventType:"submit"});V(Y);V(Z)},eventType:"render"}):(k+=T(i,'{| mainDiv |}      {| profileImage |}     {| photoLinks |}     &nbsp;  {| closeDiv |}  <\!-- hidden crop form --\> <div style="display: none;">     {| editFormOpen |}     <div class="capture_footer">         {| chooseDifferentPhotoLink |}         {| editSubmitButton |}     </div>     {| editFormClose |} </div>  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| photoChooserErrors |}             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div>  <\!-- hidden edit photo screen --\> <div style="display: none;">     <div id="{| editPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| editProfilePhotoTitle |}</h1>         </div>         <div class="{| profilePicClass |}profile_pic_edit_container">             <h2>{| editPhotoPreviewTitle |}</h2>             <div id="{| prefixFieldName |}_profile_pic_edit" class="{| profilePicClass |}capture_profile_pic_edit capture_default">                 {| editImage |}                 &nbsp;             </div>         </div>         <div id="{| prefixFieldName |}_profile_pic_editPhoto_container" class="capture_editPhoto_container">             <h2>{| editProfileInstruction |}</h2>             {| cropImage |}         </div>     </div> </div> '),
k+="</div>",q.push({elementName:a.name+"_upload_photo_form",handler:za,eventType:"submit"}),q.push({elementName:a.name+"_crop_photo_form",handler:za,eventType:"submit"}),V(Y),V(Z));q.push({eventType:"render",handler:function(){var b=document.getElementById(o+a.name+"_different_photo_link");S(b,"click",e);b=document.getElementById(o+a.name+"_crop_photo_form");document.getElementById(o+a.name+"_profile_pic_editPhoto_container").appendChild(b);S(b,"submit",h)}});q.push({elementName:"upload_photo_link",
handler:e,eventType:"click"});q.push({elementName:"edit_photo_link",handler:function(a){"function"!==typeof crop?wa("http://janrain-widgets.s3.amazonaws.com/crop/crop.js",f):setTimeout(f,50);qa=!1;pb(document.getElementById(F));janrain.events.onModalClose.addHandler(function(){qa=!0});Q(a)},eventType:"click"});q.push({elementName:"remove_photo_link",handler:function(a){var b=H(a),d=c(b);if(!document.getElementById(d+"remove_photo_contain")){var e=j.domHelpers.createDiv({elementId:"remove_photo_contain",
fieldPrefix:d,classes:["capture_popup_container pad"]}),b=j.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementText:U,elementId:"confirm_remove_photo_link"}),g=j.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementId:"cancel_remove_photo_link",elementText:W});e.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';e.appendChild(b);e.appendChild(g);document.getElementById(d+"remove_photo").appendChild(e);var f=function(a){var b=[d+"createFormAndPostSubmit",d+
"confirm_remove_photo_link",d+"remove_photo_link"],c=H(a).getAttribute("id")||"";!y(b,H(a).getAttribute("id"))&&0>c.indexOf(d+"createFormAndPostSubmit_")&&(e.innerHTML="",Gb(e),gc(document,"click",f),Q(a))};S(g,"click",f);S(document,"click",f);S(b,"click",function(a){j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:d,captureScreen:n,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});Q(a)});Q(a)}},
eventType:"click"});return k},slider:function(a){for(var b=j.createDiv({elementName:"slider capture_form_item"}),c=x.prototype.render.htmlElement,d=a.fieldPrefix||I,e=a.value&&a.value.score?a.value.score:0,b=b+("<label>"+a.label+"</label>"),b=b+j.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),b=b+j.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),b=b+j.createDiv({elementName:a.elementName+"_marker",classes:["capture_slider_marker"]}),
b=b+'</div></div><div class="capture_slider_list"><ul>',f=0,h;h=a.legend_items[f];f++)b+="<li>"+h+"</li> ";b=b+"</ul></div></div>"+c.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&a.value.score?a.value.score:""});b+="</div>";q.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(d+a.elementName+
"_marker").style.left=e+"%"}});if(!0===a.enabled){var i=!1;q.push({elementName:a.elementName+"_marker",eventType:"mousedown",handler:function(b){i=!0;var c=document.getElementById(d+a.elementName+"_base"),e=document.getElementById(d+a.elementName+"_score"),f=c.getBoundingClientRect().width;(new wc).setElement(document.getElementById(d+a.elementName+"_marker")).setElementBoundry(document.getElementById(d+a.elementName+"_container")).setCallback(function(a){e.value=Math.round(100*(a.pos_x/f))}).drag(b)}});
q.push({elementName:a.elementName+"_marker",eventType:"mouseup",handler:function(){var b=document.getElementById(d+a.elementName+"_marker"),c=document.getElementById(d+a.elementName+"_base"),e=document.getElementById(d+a.elementName+"_score"),f=c.getBoundingClientRect().width,b=parseInt(zc(b.id,"left")),f=c.getBoundingClientRect().width;e.value=Math.round(100*(b/f))}});q.push({elementName:a.elementName+"_container",eventType:"mouseover",handler:function(){document.getElementById(d+a.elementName+"_container").style.cursor=
"pointer"}});q.push({elementName:a.elementName+"_container",eventType:"click",handler:function(b){if(!0===i)i=!1;else{var c=document.getElementById(d+a.elementName+"_marker"),e=document.getElementById(d+a.elementName+"_base"),f=document.getElementById(d+a.elementName+"_score"),g=e.getBoundingClientRect().width,h=b.clientX-Fc(e).x;_marker_left_style=parseInt(zc(c.id,"left"));_marker_left=isNaN(_marker_left_style)?0:_marker_left_style;_time=500;(new wc).setElement(c).setAcceleration("sinusoidal").setDuration(_time).startPosition(_marker_left).endPosition(h).setDirection("horizontal").setCallback(function(){f.value=
Math.round(100*(h/g))}).animate()}}})}return b},collection:{radio:function(a){for(var b=a.fieldPrefix||I,c=j.createDiv({elementName:a.elementName,classes:a.classes||""}),d=0;d<a.collection.length;d++)c+="<div class='capture_radio_toggle",c+=(0===d?" capture_toggled":"")+"'>",c+="<input type='radio' id='"+b+"radio_"+a.collection[d].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===d?"checked='true' ":"")+"/>",c+="<label ",c+="class='capture_radio_label' ",c+="for='"+
b+"radio_"+a.collection[d].elementName+"'>"+a.collection[d].label+" ",c+="</label></div>",q.push({elementName:"radio_"+a.collection[d].elementName,handler:function(b){U(b,a)},eventType:"click"});return c+"</div>"},accordion:function(){return"<div>"},tab:function(a){for(var b,c=[],d=j.createDiv({elementName:a.elementName,classes:a.classes||""}),e=0;e<a.collection.length;e++)b={},b.listItemId="tab_li_"+a.collection[e].elementName,b.listItemClasses=["capture_tab_toggle"],0===e&&b.listItemClasses.push("capture_toggled"),
b.anchorId="tab_"+a.collection[e].elementName,b.anchorText=a.collection[e].label,b.anchorHref="#",c.push(b),q.push({elementName:"tab_"+a.collection[e].elementName,handler:function(b){U(b,a)},eventType:"click"});d+=j.createListOfLinks(c,["capture_tabs"]);return d+"</div>"}}},widget:{login:function(){q.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),b=document.getElementById(I+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=
ia();janrain.engage.signin.appendTokenParams({capture_transactionId:c});cb=c}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());yb||ga()},eventType:"render"});var a=j.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(a,b){b=b?O.parse(b):{text:"Share"};q.push({elementName:"share_widget",
eventType:"click",handler:function(){janrain.engage.share.show()}});var c=j.createDiv({elementName:"share_widget",classes:["share_widget"]});return c+=b.text+" </div>"}}};var Ic,W,Ca=0,qa=!0,zb={};Fa.accessDenied='<div class="capture_access">'+(Va.accessDenied||"Sorry. Access denied.")+"</div>";Fa.retrievingUserData='<div class="capture_retrieving">'+(Va.retrievingUserData||"Please wait while we retrieve your user data.")+"</div>";var uc=[],t={};return{modal:{close:function(){"object"==typeof v&&
v.close()},closeConfirm:function(){"object"==typeof v&&v.closeConfirm()},open:function(a){a=a||N.flow.defaultScreen;if("object"==typeof v&&(janrain.capture.ui.renderScreen(a),a=document.getElementById(s.screens[a].layout)))v.setShowContentOnLoad(!0),v.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof v&&(v.setBorder(a),v.refresh());return!0},setBorderColor:function(a){"object"===typeof v&&(v.setBorderColor(a),v.refresh());return!0},setBorderOpacity:function(a){"object"===
typeof v&&(v.setBorderOpacity(a),v.refresh());return!0},setBorderRadius:function(a){"object"==typeof v&&(v.setBorderRadius(a),v.refresh());return!0}},start:function(a,c){b(a,c)},hasActiveSession:function(){return!!Ma},render:function(a,b){a.i18nStrings&&(Va=a.i18nStrings);if(a.version)nc=a.version;else throw Error("MissingVersionError: Missing version.");ka(a);K=a.hasTraditionalAccount;yc=a.form;if(K)for(var c=xa("janrain_traditional_account_only"),d=c.length,e=0;e<d;e++)c[e].style.display="";c=new Sa;
d=!1;Xb&&Ya&&(d=janrain.settings.capture.registerFlow||"socialRegister");screenToRender=s.oneTimeRender||d||janrain.settings.capture.screenToRender||s.defaultScreen;c.setScreenData(screenToRender,s.screens[screenToRender]);if(b)for(var f in b)b[f].id&&b[f].value&&(c=document.getElementById(b[f].id),c.value=b[f].value,"radio"===b[f].type&&(c.checked=b[f].checked,b[f].checked&&c.click()))},renderScreen:function(a,b){tc=!1;b||qb.push(N);(new Sa).setScreenData(a,s.screens[a])},setHandler:function(a,b,
c){this.setFieldAttribute(a,b+"Handler",c)},setFieldAttribute:function(a,b,c){Xa.push({field:a,attribute:b,value:c})},setRenderer:function(a,b,c){x.prototype.render[a].helpers=mc;x.prototype.render[a][b]=c},setValidator:function(a,b){F.prototype[a]=b},registerFunction:function(a,b){t[a]=b},addRenderer:function(a,b,c){this.setRenderer(a,b,c)},trackLoadedCssFiles:function(a){Ga.push(a)},handleCaptureUniqueResponse:function(a){dc(a)},handleCaptureResponse:function(a,b){var c=!1,d;if(eb)eb=!1;else{if("ok"===
a.stat){d=a.result;d.accessToken&&d.oneTime&&(Ab=d.accessToken,rb=!0);d.accessToken&&!d.oneTime&&ca(d.accessToken);if(d&&d.status){wb[d.transactionId]=d;"success"===d.status?(janrain.events.onCaptureSuccessfulSave.fire(d),Ab&&!rb?Ab="":rb=!1):janrain.events.onCaptureFailedSave.fire(d);if("emailCode"===d.action&&d.statusMessage&&("verified"===d.statusMessage||"invalidVerificationCode"===d.statusMessage))"success"===d.status?(janrain.events.onCaptureSuccessfulEmailVerification.fire(d),(d.accessToken||
d.authorizationCode)&&janrain.settings.capture.federate&&d.sso&&d.ssoCode&&la(d.ssoCode)):janrain.events.onCaptureFailedEmailVerification.fire(d);"profile"===d.action&&d.statusMessage&&"profileFound"!==d.statusMessage&&("success"===d.status?(sb=!0,Ca=(new Date).getTime(),janrain.events.onCaptureSuccessfulProfileSave.fire(d)):janrain.events.onCaptureFailedProfileSave.fire(d));if("traditionalSignin"===d.action||"socialSignin"===d.action||"ssoSignin"===d.action)if("success"===d.status){if(d.authorizationCode){var e=
Pb(janrain.settings.capture.redirectUri,{code:d.authorizationCode});d.redirectUri=e}if(d.accessToken||d.authorizationCode)janrain.events.onCaptureSuccessfulLogin.fire(d),("traditionalSignin"===d.action||"socialSignin"===d.action)&&Pa(d.action),janrain.settings.capture.federate&&d.sso&&d.ssoCode&&la(d.ssoCode),janrain.settings.capture.federate&&d.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(d),ib(d.transactionId),Nb=!0);d.authorizationCode&&janrain.settings.capture.redirectOnLogin&&
(window.location=e)}else janrain.events.onCaptureFailedLogin.fire(d);if("traditionalRegister"===d.action||"socialRegister"===d.action)if("success"===d.status){if(janrain.events.onCaptureSuccessfulRegistration.fire(d),d.accessToken||d.authorizationCode)"socialRegister"===d.action?Pa("socialSignin"):Pa("traditionalSignin"),janrain.settings.capture.federate&&d.sso&&d.ssoCode&&la(d.ssoCode)}else janrain.events.onCaptureFailedRegistration.fire(d);if(d.userData&&janrain.settings.capture.setProfileCookie){var e=
d.userData,f=kb();(new J).setExpirationDirectly(f).setName("janrainCaptureProfileData").setValue(O.stringify(e)).create()}}"socialSignin"===d.action&&"success"===d.status&&"noUserForIdentifier"===d.statusMessage&&Xb&&(c=!0,Qb())}"function"===typeof b&&!c&&b()}},handleErrorResponse:function(a,b){a.result&&a.result.error&&"access_token_expired"===a.result.error&&(oa(),janrain.events.onCaptureExpiredToken.fire());var c=a.result.error+": "+a.result.errorDescription;if("linkError"===a.result.error&&s.fields.linkedAccounts&&
s.fields.linkedAccounts.messages&&s.fields.linkedAccounts.messages.errors&&s.fields.linkedAccounts.messages.errors.linkError){var c=s.fields.linkedAccounts.messages.errors.linkError,d=J().getCookie("expected_tab");janrain.events.onCaptureLinkAccountError.fire({message:c,provider:d})}else bc&&(d=j.domHelpers.createDiv({classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()}),d.innerHTML=c,bc.insertBefore(d,bc.firstChild),janrain.events.onCaptureContentChange.fire()),bc||alert(c),
ea(a),"function"===typeof b&&b()},createCaptureSession:function(a){ca(a)},endCaptureSession:function(){oa()},addTransactionIds:function(a){hb(a)},getFailedLogins:function(){return Mb},setCustomHtml:function(a,b){y(lc,a)&&(Fa[a]=b)},getEngageCookie:function(a){return Db(a)},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);ib(a.transactionId);L();Nb=!0},federateSetLoginSuccess:function(a){ib(a);eb||(eb=!0,Jb({nologin_callback:"noFunc"}))},federateRefreshToken:function(a){a&&
"ok"===a.stat&&(ca(a.accessToken,!1,!0),jb())},scriptLoader:function(a,b){return hc(a,b)},noop:function(){},validationHandler:function(a){var b=document.getElementById(a.elementId),c=new j.validation;c.setParentDiv(b);c.setElement(b);c.valid();a.valid?c.valid():c.notValid(a.reason)}}};return{engage:{signin:janrain&&janrain.engage&&janrain.engage.signin?janrain.engage.signin:Y,share:janrain&&janrain.engage&&janrain.engage.share?janrain.engage.share:V,publish:janrain&&janrain.engage&&janrain.engage.publish?
janrain.engage.publish:lb,simpleshare:janrain&&janrain.engage&&janrain.engage.simpleshare?janrain.engage.simpleshare:eb},capture:{ui:Tc}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;