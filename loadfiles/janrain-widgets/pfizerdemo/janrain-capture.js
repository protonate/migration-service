/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: master
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var Ca,Ea;function cc(){return"http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.0.3/":"https://d3hmp0045zy3cs.cloudfront.net/2.0.3/"}function nc(a,d,c){var e;if(document.getElementById(a))return!1;if(h){e="";var X=document.createElement("div");X.innerHTML=e+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+d+'" ')+'style="display: none;"></iframe>';document.body.appendChild(X)}else e=document.createElement("iframe"),e.setAttribute("name",a),e.id=a,e.setAttribute("src",
d),e.style.display="none",e.className="",document.body.appendChild(e);"function"===typeof c&&c()}function Ob(a){for(var d="",d="",c=0;c<a;c++)d+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return d}function Gb(){function a(a,c,e,d){c={action:a,key:c,messageId:e};"set"===a&&(c.value=d);return"janrainCapture:"+A.stringify(c)}function d(a,c){function e(){d++;if(10<d)return!1;if("undefined"!==typeof f[a])return clearTimeout(k),"get"===f[a].action&&"function"===typeof c&&
c(f[a].storedValue),!0;var k=setTimeout(e,50)}var d=0;e()}function c(c,e){_xdomainStorageIframeLoaded;var k=Ob(40);window.setTimeout(function(){h.contentWindow.postMessage(a("get",c,k),t)});return d(k,e)}function e(a,d){if(k)_xdomainStorageIframeLoaded?c(a,d):setTimeout(function(){e(a,d)},50);else return window.localStorage.getItem(a)}function X(a){if(0!==a.data.indexOf("janrainCapture:")||!F(J,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=A.parse(a.data.replace("janrainCapture:",
""));f[a.messageId]=a}var k=!1,f={},h,t,J=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,e){if(k){var X=Ob(40);window.setTimeout(function(){h.contentWindow.postMessage(a("set",c,X,e),t)});return d(X)}return window.localStorage.setItem(c,e)},removeItem:function(c){if(k){var e=Ob(40);window.setTimeout(function(){h.contentWindow.postMessage(a("remove",c,e),t)});return d(e)}return window.localStorage.removeItem(c)},getItem:e,setMultiDomain:function(a){if(k=
a)window.addEventListener?window.addEventListener("message",X,!1):window.attachEvent?window.attachEvent("onmessage",X):document.attachEvent&&document.attachEvent("onmessage",X),h=document.getElementById("xDomainLocalStorageJanrain"),t=janrain.settings.storageServerDomain}}}function K(){function a(){if(X&&mb){var a=new Gb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(e);a.removeItem(e+"_Expires")}else{var a=f?"; domain="+f:"",c=new Date;c.setTime(c.getTime()+-864E6);document.cookie=
e+"="+k+";expires="+c.toUTCString()+a+"; path="+h}}function d(c,d){var k,f,h,va,Y;if(X&&mb)if(Y=new Gb,janrain.settings.multiDomainLocalStorage)Y.setMultiDomain(!0),Y.getItem(c,function(k){k?Y.getItem(c+"_Expires",function(o){o?Math.round((new Date).getTime()/1E3)>Math.round((new Date(o)).getTime()/1E3)?(e=c,a(),"function"===typeof d&&d(!1)):"function"===typeof d&&d(k):(new K).getCookie(c+"_session")?"function"===typeof d&&d(k):(e=c,a())}):"function"===typeof d&&d(!1)});else if(va=Y.getItem(c),k=
Y.getItem(c+"_Expires"),va){if(!(k&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(k)).getTime()/1E3))&&(k||(new K).getCookie(c+"_session")))return va;e=c;a()}else return!1;else{k=document.cookie.split(";");f=k.length;for(var p=0;p<f;p++)if(h=k.pop(),va=h.split("="),h=va[0],va=va[1],h.trim()===c)return va;return!1}}var c,e,X=!1,k,f,h="/";return{create:function(){if(X&&mb){var a=new Gb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(e,k);c?a.setItem(e+"_Expires",c):
(new K).setName(e+"_session").setValue("session").create()}else document.cookie=e+"="+k+";expires="+c+(f?"; domain="+f:"")+"; path="+h},remove:a,setExpirationDirectly:function(a){a&&(c=a);return this},setExpiration:function(a){if(a){var d=new Date;d.setTime(d.getTime()+864E5*a);c=d.toUTCString()}return this},setName:function(a){a&&(e=a);return this},setValue:function(a){"undefined"!==typeof a&&(k=a);return this},setUseLocalStorage:function(a){X=a;return this},setPath:function(a){a&&(h=a);return this},
setDomain:function(a){a&&(f=a);return this},getCookie:function(a,c){return d(a,c)}}}function tb(){return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)?parseFloat(RegExp.$1):!1}function Ib(){var a;return navigator.userAgent&&(a=navigator.userAgent.match(/(\d)[\d.]+ Safari/))&&a[1]?1*a[1]:0}function fa(a,d,c,e,X,k){"number"===typeof c&&"number"===typeof e&&"number"===typeof X&&"number"===typeof k?("undefined"!==typeof a.style.borderRadius&&
(a.style.borderRadius=c+"px "+e+"px "+X+"px "+k+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px "+e+"px "+X+"px "+k+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px "+e+"px "+X+"px "+k+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=d+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=d+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=d+"px"));
return a}function Qa(a,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;var c=a-d;0>c&&(c=0);c>a&&(c=a);return c}function Pb(a,d){if(h&&9>=h)return a.style.backgroundImage="url('"+ub("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;if(Ib()&&4>=Ib()||ra.getMobileDevice()){var c="",e="",X="",k=d.split(","),f={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};k[0]&&f[k[0]]&&(c=f[k[0]]);k[1]&&(e="from("+k[1]+")");
k[k.length-1]&&(X="to("+k[k.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+c+","+e+","+X+")"}a.style.backgroundImage="-moz-linear-gradient("+d+")";a.style.backgroundImage="-webkit-linear-gradient("+d+")";a.style.backgroundImage="-ms-linear-gradient("+d+")";a.style.backgroundImage="-o-linear-gradient("+d+")";a.style.backgroundImage="linear-gradient("+d+")"}function Ra(a,d,c,e){var f=Jb(c),k=Jb(c,e);if(c=pc(c))c.a=e,k="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<d){a.style.backgroundColor=
f;a.style.padding=d+"px";if(0<h&&8>=h||h&&V)return!1;a.style.backgroundColor=k;a.style.padding=d+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function pc(a){var d={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;d.r=a[0];d.g=a[1];d.b=a[2];d.a=a[3]?a[3]:1;return d}function Jb(a,d){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);
var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,4),16),f=parseInt(a.substring(4,6),16);return isNaN(d)?"rgb("+c+","+e+","+f+")":"rgba("+c+","+e+","+f+","+d+")"}function D(a,d,c){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+d,c):a.addEventListener(d,c,!1)}function kc(a,d,c){"object"===typeof window.detachEvent?a.detachEvent("on"+d,c):a.removeEventListener(d,c,!1)}function Qb(){return document.documentElement.scrollTop>=document.body.scrollTop?
document.documentElement.scrollTop:document.body.scrollTop}function ga(a){return{width:parseInt(a.style.width||a.offsetWidth),height:parseInt(a.style.height||a.offsetHeight)}}function E(a,d,c,e,f){var k=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,h=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!v(e))return f||p.log(e+" is wrong type, must be array, using default value instead"),c;if(d&&v(d))for(var Y=0;Y<e.length;Y++)if(0>d.indexOf(e[Y]))return f||p.log(e+
" is not within the valid range, using default value instead"),c;return e}if("url"===a){if("string"!==typeof e)return c;e&&(e=e.trim());if(/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(e))return e;f||p.log(e+" is not the valid format, using default value instead");return c}if("text"===a){if(d){if(0<=d.indexOf(e))return e;f||p.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return k.test(e)?e:c}if("usertext"===
a){if("string"!==typeof e&&"number"!==typeof e)return c;if(v(d)){if(1===d.length){if(e.length<=d[0])return e;f||p.log(e+" is too long, using default value instead");return c}if(2===d.length){if(e.length<=d[1]&&e.length>=d[0])return e;f||p.log(e+" is not within the valid range, using default value instead");return c}f||p.log("usertext range is invalid, using default value instead");return c}return e}"string"===typeof e&&0==e.length&&(e=" ");if(!k.test(e))return f||p.log(e+" contains invalid character(s)"),
c;if("boolean"===a){if("boolean"===typeof e)return e;f||p.log(e+" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return e;if("number"===a){if(isNaN(parseInt(e)))return f||p.log(e+" is wrong type, must be a valid number"),c;e=parseFloat(e)}if("color"===a){e&&(e=e.trim());if("transparent"===e||h.test(e))return e;f||p.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof e!=a&&
"color"!=a)return f||p.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+a),c;if("object"===typeof d&&"string"===a){if(0<=d.indexOf(e))return e;f||p.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof d&&"number"===a){2===d.length?(k=d[0],h=d[1]):(k=d.shift(),h=d.pop(),Y=d);if(e<k)return f||p.log("Value of "+e+" for "+arguments.callee.caller.name+" is below minimum of "+k+", using minimum value of "+
k+" instead"),k;if(e>h)return f||p.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+h+", using maximum value of "+h+" instead"),h;if(Y&&"number"===typeof Y.indexOf(e)||e==k||e==h)return e;return Y?(f||p.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):e}return 0!=e&&!e?c:e}function nb(a){for(var d=nb.options,a=d.parser[d.strictMode?"strict":"loose"].exec(a),c={},e=14;e--;)c[d.key[e]]=a[e]||"";c[d.q.name]=
{};c[d.key[12]].replace(d.q.parser,function(a,e,f){e&&(c[d.q.name][e]=f)});return c}function Ja(a){return document.getElementById(Q(a).getAttribute("id"))}function Q(a){return a.target?a.target:a.srcElement}function sa(a,d){var c=document.createElement("script"),e=document.getElementsByTagName("script")[0];c.src=a;c.setAttribute("type","text/javascript");"function"===typeof d&&(c.addEventListener?c.addEventListener("load",d,!1):c.readyState&&(c.onreadystatechange=function(){("complete"==c.readyState||
"loaded"==c.readyState)&&d()}));e.parentNode.insertBefore(c,e)}function lc(a,d){h&&9>h&&Rb(a,d)}function Rb(a,d){"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new Ha);if(h){var c=document.createElement("link");c.rel="stylesheet";c.href=a;c.type="text/css"}else c=document.createElement("style"),c.textContent='@import "'+a+'";';if(h)c.onload=function(){"function"===typeof d&&d();janrain.events.onCssLoad.fire({source:a})},c.onreadystatechange=function(){if("complete"==c.readyState||
"loaded"==c.readyState)"function"===typeof d&&d(),janrain.events.onCssLoad.fire({source:a})};else var e=setInterval(function(){try{c.sheet.cssRules,"function"===typeof d&&d(),janrain.events.onCssLoad.fire({source:a}),clearInterval(e)}catch(f){}},10);document.getElementsByTagName("head")[0].appendChild(c)}function r(a){var d;d=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===d.indexOf(c)&&(d.push(c),a&&(a.className=d.join(" ")));return this},remove:function(c){-1!==d.indexOf(c)&&
(d.splice([d.indexOf(c)],1),a&&(a.className=d.join(" ").trim()));return this},has:function(a){return-1!==d.indexOf(a)}}}function v(a){return"[object Array]"===Object.prototype.toString.call(a)}function F(a,d){return!v(a)?!1:-1<a.indexOf(d)}function vb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function wb(a){var d="",c;for(c in a)d+="&"+encodeURIComponent(c)+"="+encodeURIComponent(a[c]);return d="?"+d.substr(1)}function N(a){if(!a)return!1;a.preventDefault?a.preventDefault():a.returnValue=!1}
function qc(a){if(!a)return!1;var d=a.getElementsByTagName("input");d||(d=a.getElementsByTagName("button"));if(!d)return!1;for(var c=d.length,e=0;e<c;e++)if("submit"===d[e].type)return d[e];d=a.getElementsByTagName("button");for(e=0;e<c;e++)if("submit"===d[e].type)return d[e]}function Sb(a){return!isNaN(parseFloat(a))&&isFinite(a)}function dc(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var d=a.split("/"),a=parseInt(d[1],10),c=parseInt(d[0],10),d=parseInt(d[2],10),e=new Date(d,c-1,a);return e.getFullYear()==
d&&e.getMonth()==c-1&&e.getDate()==a?!0:!1}return!1}function Tb(a,d){for(var c=d,e=/\{\|(.*?)\|\}/,f;f=e.exec(c);)try{var k=f[1].trim(),c=c.replace(f[0],"undefined"!==typeof a[k]?a[k]:"")}catch(h){return window.console&&window.console.log&&console.log(h.name+": "+h.message,"error"),!1}return c}function Ub(){function a(a){var a=a||"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",
Ta&&(c.innerHTML=Ta)):(c.src=Ka,da||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=ja?e:d;return c}function d(a){ka||(o.style.display="none",pa.style.display="none",R.style.display="none");H&&ra.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&wa.fire();"object"===typeof a&&N(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),e=document.createElement("a"),f=document.createElement("a"),
k=document.createElement("h3");e.innerHTML=O;f.innerHTML=Fa;k.innerHTML=sa;e.setAttribute("href","#");f.setAttribute("href","#");a.className="janrain_close_confirm_container";c.className="janrain_close_confirm";e.className="janrain_modal_confirm";f.className="janrain_modal_cancel";D(e,"click",function(a){d();o.removeChild(ma);ma=null;N(a)});D(f,"click",function(a){o.removeChild(ma);ma=null;N(a)});c.appendChild(k);c.appendChild(f);c.appendChild(e);a.appendChild(c);return a}function e(a){ma||(ma=c(),
o.appendChild(ma));N(a)}function f(a){var c=Qb(),e=ga(a),d=-1*e.width/2,e=-1*e.height/2;a.style.left="50%";a.style.marginLeft=d+"px";a.style.marginTop=e+c+"px";a.style.top="50%";0>a.offsetLeft&&(a.style.left=0,a.style.marginLeft=0);0>a.offsetTop&&(a.style.marginTop=0,a.style.top="10px");R.style.height=Ca+c+"px";"absolute"!==a.style.position&&(a.style.position="absolute")}function k(){if(ka){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(o)}else f(o);ka||p.show()}
function va(a){$||(aa=E("number",[0,20],10,a),xa.fire({radius:Qa(K,aa)}))}function Y(a){$||(T=E("color",null,"#000000",a))}function t(a){$||(K=E("number",[0,20],10,a),ba.fire({radius:Qa(K,aa),refresh:!0}))}function J(a){$||(Q=E("number",[0,1],0.5,a),"object"==typeof o&&Ra(o,aa,T,Q))}function Hb(a){if("portrait"===a){ca="portrait";var c="one column"}"landscape"===a&&(ca="landscape",c="two column");Va.fire({orientation:ca,format:c,width:F,height:jc});k()}function oc(a){a&&(na=a);h&&V&&(na+=aa-2);"object"==
typeof o&&(o.style.width=na+"px");return this}function v(a){a&&(La=a);h&&V&&(La=La+2*aa-4);a&&"object"==typeof o&&(o.style.height=La+"px");return this}function ic(){Ea>=Ca&&"undefined"===typeof window.orientation?"landscape"!==ca&&Hb("landscape"):90===window.orientation||-90===window.orientation?"landscape"!==ca&&Hb("landscape"):"portrait"!==ca&&Hb("portrait");k()}function r(){var a,c=o;a="undefined"!=typeof window.innerWidth?window.innerHeight:document.documentElement.offsetHeight;var e=Qb();ga(c);
R.style.height=a+e+"px"}var F=380,jc=131,o,Vb="janrainModal",pa,R,A,na=F,La=jc,aa=10,T="#000000",K=10,Q=0.5,ja=!1,Ka=ub("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),Ta="",$=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,da=!1,sa="Are you sure you want to quit?",O="Yes, quit",Fa="No, stay",ma,ca="landscape",Da=!0,H="boolean"===typeof H?H:"number"===typeof window.orientation?!0:!1,ya="boolean"===typeof ya?ya:janrain.settings.previewMode,ka=ya,oa=oa||!1;
janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(Ka=janrain.settings.capture.modalCloseImage,da=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(Ta=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=Z());var wa=Z(),ta=Z(),ba=Z(),xa=Z(),Va=Z();ra&&ra.onOrientationChange&&ra.onViewportChange&&(ra.onOrientationChange.addHandler(function(a){Hb(a.orientation)}),ra.onViewportChange.addHandler(function(){f(o)}));
return{isOpen:function(){return"object"===typeof o&&"none"!==o.style.display},setWidth:function(a){oc(a);return this},setHeight:function(a){v(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&va(a);$||"object"==typeof o&&Ra(o,aa,T,Q);return this},setBorderColor:function(a){a&&Y(a);$||"object"==typeof o&&Ra(o,aa,T,Q);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&t(a);$||"object"==typeof o&&fa(o,K);return this},setBorderOpacity:function(a){("number"===
typeof a||"string"===typeof a)&&J(a);return this},setZIndex:function(a){R.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(ka=a);return this},setId:function(a){Vb=a;o&&(o.id=a);return this},show:function(){H||(o.style.display="block");"object"==typeof pa&&Da&&(pa.style.display="block");ka?H&&(o.style.display="block"):(R.style.display="block",H?(ra.setElement(o).activate(),o.style.display="block"):(D(window,"resize",ic),D(window,"resize",r),D(window,"scroll",r),ic(),r()));$||ba.fire({radius:Qa(K,
aa),refresh:!1});ta.fire();o.focus()},close:function(a){d(a)},closeConfirm:function(){e()},refresh:function(){oa||o.appendChild(A);k()},remove:function(){if(ka){var a=document.getElementById("previewMode");"object"===typeof A&&o.removeChild(A);"object"===typeof o&&a.removeChild(o);"object"===typeof R&&document.body.removeChild(R);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";R=o=""}else"object"===typeof A&&o.removeChild(A),"object"===typeof R&&document.body.removeChild(R),
"object"===typeof o&&document.body.removeChild(o)},addContent:function(c){pa=c;if(!o){o=document.createElement("div");o.id=Vb;if("number"===typeof na||"string"===typeof na)o.style.width=na+"px";o.style.height=La+"px";o.style.position="absolute";$||(o.style.padding=aa+"px",fa(o,K),Ra(o,aa,T,Q));o.style.zIndex=1E3;o.style.display="none";R=document.createElement("div");R.style.width="100%";R.style.left=0;R.style.top=0;R.style.backgroundColor="#000000";R.style.position="absolute";c=R;"undefined"!==typeof c.style.filter&&
(c.style.filter="alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");R.style.display="none";R.style.zIndex=1E3;A=Ta?a("a"):a();o.appendChild(A);document.body.appendChild(R);document.body.appendChild(o)}o.appendChild(pa);ka&&k();return this},getContent:function(){return pa},getBorderWidth:function(){return aa},getState:function(){return{borderWidth:aa,
borderColor:T,borderRadius:K,borderOpacity:Q,orientation:ca}},setState:function(a){z("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&va(a.borderWidth),"undefined"!==typeof a.borderColor&&Y(a.borderColor),"undefined"!==typeof a.borderOpacity&&J(a.borderOpacity),"undefined"!==typeof a.orientation&&Hb(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&t(a.borderRadius),"object"==typeof o&&fa(o,K)))},setConfirmClose:function(a){ja=
a;return this},setShowContentOnLoad:function(a){Da=a;return this},setConfirmMessageText:function(a){sa=a},setConfirmLinkText:function(a){O=a},setCancelLinkText:function(a){Fa=a},onClose:wa,onShow:ta,onOrientationChange:Va,onBorderRadiusChange:ba,onBorderWidthChange:xa}}function rc(a){function d(){var a=window.open(c,"","width="+e+", height="+f+", status=1, location=1, resizable=yes"),d=window.setInterval(function(){if(a&&a.closed||"undefined"===typeof a.closed)window.clearInterval(d),"function"===
typeof k&&k()},500)}var c=a,e=400,f=400,k;return{show:function(){d()},setWidth:function(a){a&&(e=a);return this},setHeight:function(a){a&&(f=a);return this},setCallback:function(a){a&&(k=a);return this}}}function sc(){function a(){p=(new Date).getTime()-e;if(p<c){var a=Math.round(d()*t+k);f.style[Y]=a+"px"}else clearInterval(J),f.style[Y]=h+"px",r()}function d(){if("flat"==v)return p*(1/c);if("sinusoidal"==v)return Math.abs(Math.sin(p*(Math.PI/(2*c))))}var c="1000",e,f,k,h,Y="left",t,J,p,v="flat",
r;return{setAcceleration:function(a){v=a;return this},setCallback:function(a){r=a;return this},setDuration:function(a){c=a;return this},setDirection:function(a){"horizontal"===a&&(Y="left");"vertical"===a&&(Y="top");return this},setElement:function(a){f=a;return this},startPosition:function(a){k=a;return this},endPosition:function(a){h=a;return this},animate:function(){t=h-k;e=(new Date).getTime();J=setInterval(a,10);return this}}}function Z(){return new Ha}function Ha(){this.eventHandlers=[];this.firedEvents=
[]}function Wb(){if(function(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onCustomizationChange,onProviderLoginComplete,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}())clearTimeout(a),
janrain.events.onAuthWidgetLoad.fire();else var a=setTimeout(Wb,5)}function Kb(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,e=janrain.events.captureEvents.length;a<e;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;return!janrain.ready?!1:!0}if("function"===typeof janrainCaptureWidgetOnLoad)if(a())clearTimeout(d),janrainCaptureWidgetOnLoad();else var d=
setTimeout(Kb,5)}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var d in this)if(this[d]===a)return parseInt(d);return-1});Array.prototype.map||(Array.prototype.map=function(a,d){if(null===this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var f=Array(e),k=0;k<e;k++)k in c&&(f[k]=a.call(d,c[k],k,c));return f});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var da=window.innerWidth?
window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;Ca=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;Ea=da;var mb=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,
V="CSS1Compat"!==document.compatMode,Wa=!1,ja=!1,f=[],Xa="fa3a084",da=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),yb=null!==da?da[0]:!1,ec="number"===typeof window.orientation||null!==da;janrain.settings.storageServer&&
nc("xDomainLocalStorageJanrain",janrain.settings.storageServer,function(){D(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){_xdomainStorageIframeLoaded=!0})});var h=tb(),z=function(){var a=function(a){for(var e=[],d=0;d<a.length;d++)e.push(a[d]);return e},d={};janrain.settings&&janrain.settings.permissions&&(d.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(d.share=a(janrain.settings.share.permissions));
return function(a,e){e=e||"login";return!d[e]?!1:0<=d[e].indexOf(a)}}();nb.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
for(var Ya=function(a,d,c){Ya=document.getElementsByClassName?function(a,c,d){for(var a=(c||document).getElementsByClassName(a),d=d?RegExp("\\b"+d+"\\b","i"):null,c=[],f,h=0,t=a.length;h<t;h+=1)f=a[h],(!d||d.test(f.nodeName))&&c.push(f);return c}:function(a,c,d){var d=d||"*",c=c||document,f=a.split(" "),a=[],c="*"===d&&c.all?c.all:c.getElementsByTagName(d),d=[],h;h=0;for(var t=f.length;h<t;h+=1)a.push(RegExp("(^|\\s)"+f[h]+"(\\s|$)"));for(var t=0,J=c.length;t<J;t+=1){f=c[t];h=!1;for(var p=0,v=a.length;p<
v&&!(h=a[p].test(f.className),!h);p+=1);h&&d.push(f)}return d};return Ya(a,d,c)},tc="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),uc="January,February,March,April,May,June,July,August,September,October,November,December".split(","),ra=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;e(document.body,z);r=p().content;v();t();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===
typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){K(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});h()},!1),setTimeout(h,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,h,!1)},!1));E.addHandler(function(){d({height:window.innerHeight,width:window.innerWidth},0)});F.addHandler(function(a){Ca=a.height;Ea=a.width});window.addEventListener("beforeunload",
function(){window.removeEventListener(eventName,h,!1)},!1)}function d(a,c){var e=window.innerHeight,f=window.innerWidth,h=!0,k=!0;e!=a.height&&(h=!1);f!=a.width&&(k=!1);h&&k?20>c?setTimeout(function(){d({height:e,width:f},++c)},100):F.fire({height:e,width:f}):setTimeout(function(){d({height:e,width:f},0)},100)}function c(){setTimeout(function(){J(r)},20);e(z,document.body)}function e(a,c){for(var d=0;d<a.style.length;d++){var e=a.style[d];c.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}
function f(){var a;a=(0===window.orientation||180===window.orientation)&&Ea>Ca||(90===window.orientation||-90===window.orientation)&&Ca>Ea?!1:!0;var c="landscape";if(a&&(0===window.orientation||180===window.orientation))c="portrait";if(!a&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function h(){var a=f();J("width=device-width, initial-scale=1, maximum-scale=1");E.fire({orientation:a})}function p(){var a=document.getElementsByTagName("meta"),c;for(c in a)if("viewport"===
a[c].name)return a[c];return!1}function v(){if("undefined"===typeof document.getElementsByTagName||p())return!1;var a=document.getElementsByTagName("head")[0],c=document.createElement("meta");c.setAttribute("name","viewport");a.appendChild(c);return!0}function t(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function J(a){var c=p();if(!c||c.content==
a)return!1;if("undefined"===typeof a){var d=p();document.getElementsByTagName("head")[0].removeChild(d)}c.content=a;return!0}var r,z=document.createElement("div"),D=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),A=null!==D?
D[0]:!1,E=Z(),F=Z();A&&A[0].match(/android|\Wsilk\W/);var K=function(){var a=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},d={height:window.innerHeight,width:window.innerWidth},e=!1;return function(f,h,k){var t=!1,p=function(a,c){return a.height>=a.width&&c.height>=c.width||a.width>a.height&&c.width>c.height?!0:!1},J=a===f,v=p(h,c),r=p(k,d);if(!J&&(!v||!r))t=!0;!J&&!v&&(e=!0);t&&(e&&!p(h,k)&&(t=k.height,k.height=k.width,k.width=t),Ca=k.height,Ea=k.width);a=f;c={height:h.height,
width:h.width};d={height:k.height,width:k.width}}}();return{setElement:function(){return this},onOrientationChange:E,onViewportChange:F,getMobileDevice:function(){return A},getOrientation:function(){return f()},activate:function(){a()},deactivate:function(){c()}}}(),ub=function(a){var d;d="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";d=d.replace(/\/$/,"");return d+"/"+a},da={openId:{aol:{identifier:"aol",flow:"openid1",width:514,height:550,
color:"#0FD6FF"},blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",flow:"openid",
width:500,height:500,color:"#FF0084"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5"},hyves:{identifier:"http://hyves.nl/",flow:"openid",width:800,height:600,color:"#659BC8"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665"},verisign:{identifier:"http://pip.verisignlabs.com/",
flow:"openid",width:945,height:600,color:"#B8004D"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:1050,height:550,color:"#3B5998",publishSettings:{},shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,
media:!0,actionLink:!0}},contact:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#009DDC",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,
color:"#666666"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333"},orkut:{flow:"orkut",width:800,height:600,color:"#333"},vzn:{flow:"vzn",width:600,height:450,color:"#333"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333"},mixi:{flow:"mixi",width:950,height:550,color:"#333",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},pb={},qb=["openId","openId2","oauth"];0<qb.length;){var Za=qb.pop(),O;for(O in da[Za])pb[O]=da[Za][O]}var p=function(){var a=[];return{log:function(d){var c={};c.id=a.length+1;c.message=d;a.push(c);return this},
show:function(){if(0!=a.length){for(var d in a)if("undefined"!==typeof a[d].id){var c=a[d];"object"===typeof console&&console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message)}a=[]}}}}();Ha.prototype.addHandler=function(a){this.eventHandlers.push(a);return this.eventHandlers.length-1};Ha.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};Ha.prototype.fire=function(a){for(var d=this.eventHandlers.length,c=0;c<d;c++)try{if("function"===typeof this.eventHandlers[c])this.eventHandlers[c](a)}catch(e){p.log(e),
p.show()}this.firedEvents.push({event:this,args:a})};"undefined"===typeof janrain.events&&(janrain.events={});var A;A||(A={});(function(){function a(a){return 10>a?"0"+a:a}function d(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var c=v[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,e){var f,v,r,z,D=h,A,o=e[a];o&&"object"===typeof o&&"function"===typeof o.toJSON&&(o=o.toJSON(a));"function"===typeof t&&(o=t.call(e,a,
o));switch(typeof o){case "string":return d(o);case "number":return isFinite(o)?""+o:"null";case "boolean":case "null":return""+o;case "object":if(!o)return"null";h+=p;A=[];if("[object Array]"===Object.prototype.toString.apply(o)){z=o.length;for(f=0;f<z;f+=1)A[f]=c(f,o)||"null";r=0===A.length?"[]":h?"[\n"+h+A.join(",\n"+h)+"\n"+D+"]":"["+A.join(",")+"]";h=D;return r}if(t&&"object"===typeof t){z=t.length;for(f=0;f<z;f+=1)"string"===typeof t[f]&&(v=t[f],(r=c(v,o))&&A.push(d(v)+(h?": ":":")+r))}else for(v in o)Object.prototype.hasOwnProperty.call(o,
v)&&(r=c(v,o))&&A.push(d(v)+(h?": ":":")+r);r=0===A.length?"{}":h?"{\n"+h+A.join(",\n"+h)+"\n"+D+"}":"{"+A.join(",")+"}";h=D;return r}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});
var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,p,v={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;"function"!==typeof A.stringify&&(A.stringify=function(a,d,e){var f;p=h="";if("number"===typeof e)for(f=0;f<e;f+=1)p+=" ";else"string"===typeof e&&(p=e);if((t=d)&&"function"!==
typeof d&&("object"!==typeof d||"number"!==typeof d.length))throw Error("JSON.stringify");return c("",{"":a})});"function"!==typeof A.parse&&(A.parse=function(a,c){function d(a,e){var f,h,k=a[e];if(k&&"object"===typeof k)for(f in k)Object.prototype.hasOwnProperty.call(k,f)&&(h=d(k,f),void 0!==h?k[f]=h:delete k[f]);return c.call(a,e,k)}var f,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),"function"===typeof c?d({"":f},""):f;throw new SyntaxError("JSON.parse");})})();janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=Z());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=Z());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=Z());janrain.events.onProviderLoginError||
(janrain.events.onProviderLoginError=Z());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=Z());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=Z());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=Z());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=Z());Wb();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureStartRegistration,onCaptureStartLogin,onCaptureSuccessfulLogin,onCaptureSuccessfulProfileSave,onCaptureFailedProfileSave,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFailedLogin,onCaptureSuccessfulRegistration,onCaptureFailedRegistration,onCaptureSuccessfulSave,onCaptureFailedSave,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureFormError,onCaptureExpiredToken,onCaptureCustomEvent".split(",");
O=0;for(da=janrain.events.captureEvents.length;O<da;O++)"undefined"===typeof janrain.events[janrain.events.captureEvents[O]]&&(janrain.events[janrain.events.captureEvents[O]]=new Ha);Kb();O=new function(){var a;function d(){function a(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){if(Ga){var b=document.createElement("div");b.style.backgroundColor=
fb?"aqua":$a;b.style.width=U+"px";b.style.height=sa+"px";b.style.position="absolute";b.style.left="0px";b.style.paddingLeft=w+"px";b.style.paddingRight=w+"px";b.style.paddingBottom=w+"px";b.style.bottom="0px";b.style.fontSize="10px";b.style.textAlign="left";b.style.color=Ab;fa(b,null,0,0,M,M);var g=document.createElement("div");g.appendChild(document.createTextNode(janrain.settings.translate.POWERED_BY_PREFIX||"Powered by "));g.style.paddingLeft="1px";var i=document.createElement("a");i.setAttribute("href",
"http://www.janrain.com/products/engage/engage-introduction?utm_source=login.janrain.com&utm_medium=partner&utm_campaign=attribution");i.setAttribute("target","_blank");i.appendChild(document.createTextNode("Janrain"));g.appendChild(i);b.appendChild(g);Ba=b}P=m();b=document.createElement("div");b.style.backgroundColor=fb?"orange":$a;b.className="janrainHeader";b.style.fontSize=rb+"px";b.style.color=Ab;b.style.position="relative";b.style.height=T+"px";40===O&&(b.style.cssFloat="left");b.style.left=
40===O?"-6px":"-5px";b.style.paddingLeft=w+"px";b.style.paddingRight=w+"px";b.style.paddingTop=w+"px";b.style.paddingBottom="0px";b.style.whiteSpace="nowrap";b.style.width=40===O?"81px":U+"px";b.style.zIndex="100";40===O?fa(b,null,M,0,0,M):fa(b,null,M,M,0,0);40===O&&(b.style.marginTop="-3px");b.style.textAlign="one column"===u?"center":"left";g=e();ea=document.createElement("div");ea.style.paddingLeft="1px";ea.style.fontFamily=Bb;" "!==g&&ea.appendChild(document.createTextNode(g));b.appendChild(ea);
Aa=b;C=document.createElement("div");C.className="janrainContent";C.style.width=U+"px";C.style.height=k()+"px";C.style.paddingLeft=w+"px";C.style.paddingRight=w+"px";C.style.boxSizing="content-box";40===O&&(C.style.paddingTop=w-1+"px");ja||(C.style.backgroundColor=$a);ja||(C.style.border=fc?"1px solid "+gc:"1px solid "+$a);C=fa(C,M);ja||(C.style.overflow="hidden");C.style.position=fc?"relative":"absolute";la=v();2==P||0==P?(ba=(new s).setSide("right").create(),ga=(new s).setSide("left").create()):
(ba=(new s).setSide("top").create(),ga=(new s).setSide("bottom").create());b=document.createElement("div");b.id="janrainView";" "!==e()&&b.appendChild(Aa);g=F("blank");g.style.display="none";b.appendChild(g);b.appendChild(la);!ja&&ba&&ga&&(b.appendChild(ba),b.appendChild(ga));0<P&&Ga&&b.appendChild(Ba);C.appendChild(b);z("customizable_auth_widget_styling")||d(C);Wa||p.show()}function d(b){function g(b){var i="string"===typeof b.getAttribute("style")?b.getAttribute("style"):null;i&&(i.cssText&&(i=
i.cssText),b.style.setAttribute?b.style.setAttribute("cssText",i.replace(/(((?!!important).)+?);/g,"$1 !important;")):b.setAttribute("style",i.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var i=b.getElementsByTagName("*"),a=0,l=i.length;a<l;a++)"janrainProviderPages"===i[a].id||"janrainSlideControl"===i[a].className||"janrainSlideControl"===i[a].parentNode.className||g(i[a]);g(b)}function e(){return G?ua:f.translate.HEADER?f.translate.HEADER:"two column"===u?a().twoColumn.actionText:
"one column"===u?a().oneColumn.actionText:"one row"===u?a().oneRow.actionText:ua}function m(){var b=u;if("default"==b||"two column"==b)return 2;if("one column"==b)return 1;if("one row"==b)return 0}function k(){var b=" "===ua?0:T+w,g=Ga&&"one row"!==u?sa+w:0;return o()+b+g}function q(){var b=parseInt(la.style.left),g=parseInt(la.style.top),i;1==P?parseInt(la.style.height):parseInt(la.style.width);2==P&&(i=(U-3*w-(2==P?10:0))/P);if("one column"===u){if(" "===ua&&(g+=11,0<g||-9<=g))return 0;if(9>g)return 1;
if(0<g||g>=-(T-(w+1)))return 0}0==P&&(i=U-100);if(0>b&&b<-i)return 1;if(0<b||b>=-w)return 0}function o(){if("two column"===u)var b=qa/2;"one column"===u&&(b=qa);"one row"===u&&(b=1);var g="one row"===u?0:2*b,i="one column"===u?3*w:0;if(7===h||6===h||h&&V){if("two column"===u&&(i=w,7===h||6===h))i=2*w;if("one column"===u&&(i=3*w,(7===h||6===h)&&!V))i+=w;if("one row"===u&&(7===h||6===h))i=w}"one column"===u&&Ma<=qa&&(i=h&&V?i+2*w:i-2*w);return W*b+w*(b+1)+g+i}function s(){function b(){var g;n="over";
var c=q();if(0==c&&"left"===l||0==c&&"top"===l||1==c&&"right"===l||1==c&&"bottom"===l)return this.style.cursor="default",f.onclick="",!1;var e=this;setTimeout(function(){if(1===S){if("over"!==n)return!1;h&&(a.style.display="block");d.style.display="block";f.onclick=i;e.style.cursor="pointer";var b=document.getElementById("janrainProviderPages");g="top"==l||"bottom"==l?parseInt(b.style.top):parseInt(b.style.left);var c="right"===l||"bottom"===l?g-ra:g+ra;"top"===l||"bottom"===l?b.style.top=c+"px":
b.style.left=c+"px";S=2}},h?50:100)}function g(){var b;n="out";var i=q();if(1==i&&"right"===l||0==i&&"left"===l||0==i&&"top"===l||1==i&&"bottom"===l)return!1;setTimeout(function(){if(2===S){if("out"!==n)return!1;h&&(a.style.display="none");d.style.display="none";var g=document.getElementById("janrainProviderPages");b="top"==l||"bottom"==l?parseInt(g.style.top):parseInt(g.style.left);var i="right"===l||"bottom"===l?b+ra:b-ra;"top"===l||"bottom"===l?g.style.top=i+"px":g.style.left=i+"px";S=1}},h?200:
400)}function i(){d.style.display="none";f.style.cursor="default";t(l,function(b){r(b);S=1})}var a,l,c,d,e={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},n="",S=1,f;return{setSide:function(b){l=b;return this},create:function(){var n;if(Ma<=qa)n=!1;else{n=document.createElement("div");n.setAttribute("id","janrainShim_"+l);n.style.background="black";"top"===l||"bottom"===l?(n.style.height="19px",n.style.width="100%"):(n.style.height="100%",n.style.width="17px");n.style.filter=
fb?"alpha(opacity=100)":"alpha(opacity=0)";n.style.position="absolute";n.style.zindex="99";if("top"===l||"bottom"===l)n.style.left="0";n.style[l]=w+"px";n.style.top="one column"!==u?w+1+"px":"top"===l?"10px":"0px";n.style.display="none";a=n;n=document.createElement("div");n.style.backgroundColor=fb?"green":$a;n.className="janrainSlideControllerMask";n.style.position="absolute";"one column"!==u&&(n.style.width=w+"px",n.style.height="100%",n.style.top="0px",n.style[l]="0px",n.style.borderWidth="1px",
"right"===l&&(!Ga||"one row"===u)&&fa(n,null,0,0,M,0),"left"===l&&(!Ga||"one row"===u)&&fa(n,null,0,0,0,M),"right"===l&&" "===ua&&fa(n,null,0,M,M,0),"left"===l&&" "===ua&&fa(n,null,M,0,0,M));"one column"===u&&(n.style.height=w+"px",n.style.fontSize="0px",n.style.width="100%",n.style.padding="0px",n.style[l]="0px","top"===l&&" "===ua?fa(n,null,M,M,0,0):"bottom"===l&&!Ga&&fa(n,null,0,0,M,M));"one row"===u&&(n.style.height="105.5%");c=n;n=document.createElement("div");n.setAttribute("id","janrainArrow_"+
l);n.style.background="url("+ub("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+") no-repeat scroll "+e[l]+" transparent";n.style.height="19px";n.style.width="17px";n.style.position="absolute";if("top"===l||"bottom"===l)n.style.left=U/2+"px";n.style[l]=w+"px";n.style.top="one column"!==u?o()/2-2*w+1+"px":"top"===l?"10px":"0px";n.style.display="none";d=n;n=document.createElement("div");n.className="janrainSlideControl";n.style.backgroundColor=fb?"purple":"transparent";"one column"===u?(n.style.width=
U+4+"px",n.style.left="3px","top"==l?(n.style.height=w+"px"," "===ua&&(n.style.left="0px",n.style.width=U+10+"px")):(n.style.height="20px",n.style.bottom=(Ga?sa+w:0)+"px",fa(n,null,0,0,M,M))):(n.style.width="right"===l?"20px":"0px",n.style[l]="0px",n.style.height=o()-(w*(" "===ua)?1:2)+"px",40===O&&"one row"===u&&"left"===l&&(n.style.left=va+"px"),"right"===l&&!Ga&&fa(n,null,0,0,M,0),"left"===l&&!Ga&&fa(n,null,0,0,0,M));n.style.position="absolute";n.style.zIndex="100";n.style.cursor="pointer";n.onmouseover=
b;n.onmouseout=g;n.onclick=i;f=n;f.appendChild(c);f.appendChild(a);f.appendChild(d);n=f}return n}}}function t(b,g){var i=document.getElementById("janrainProviderPages"),a=new sc;if("top"===b||"bottom"===b){if(" "===ua)var l=-(o()-W),c=0;else l=-(o()-W-T-w),c=T+w;50===W&&(l-=20);h&&V&&(l+=w," "!==ua&&(c+=w));a.setElement(i).setAcceleration("sinusoidal").setDuration(100*qa).startPosition(parseInt(i.style.top)).endPosition("bottom"===b?l:c).setDirection("vertical").setCallback(function(){g(b)}).animate()}else h&&
V?(l=-(U-2*w-39),"one row"===u&&(l=-(va-1*w))):(l=-(U-32),"one row"===u&&(l=-(U-24))),a.setElement(i).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(i.style.left)).endPosition("right"==b?l:w).setDirection("horizontal").setCallback(function(){g(b)}).animate()}function v(){var b,g;function i(a){a.preventDefault();a=a.touches[0];a="one column"===u?b-a.pageY:g-a.pageX;if(35<a||-35>a)"one column"===u?(l.style.top=parseInt(l.style.top)-a+"px",a=0<a?"bottom":"top"):(l.style.left=parseInt(l.style.left)-
a+"px",a=0<a?"right":"left"),t(a,function(){r()}),l.ontouchmove=""}var a,l,c,n,d,e=P,S=[];n=y();d=ja?1:Math.ceil(Ma/qa);2<d&&p.log("Either reduce the number of providers, or increase the setting for providersPerPage.");l=document.createElement("div");l.setAttribute("id","janrainProviderPages");ja&&(l.className="janrainConfigureMode");l.style.paddingTop=(6===h||7===h)&&h&&V?2*w:w+"px";if((6===h||7===h)&&!V)l.style.paddingTop=w+4+"px";l.ontouchstart=function(i){i=i.touches[0];"one column"===u?b=i.pageY:
g=i.pageX};l.ontouchmove=i;l.ontouchend=function(){l.ontouchmove=i};40===O&&"one row"===u?l.style.left=va+w+"px":h&&V?"one column"!==u&&(l.style.left=w+"px"):l.style.left=w+"px";40===O&&"one row"===u&&(l.style.cssFloat="left");40===O&&"one row"===u&&(l.style.marginTop="1px");"one column"===u&&(l.style.top=(h&&V?1:0)+T+w+"px");"one row"!==u&&" "===ua&&(l.style.top="0px");"one column"===u&&" "===ua&&(l.style.top="0px");a=U*d;l.style.position="absolute";"two column"===u&&!(Ma<=qa)&&(l.style.width=a+
"px");"one row"===u&&(l.style.width=(!0===ja?U+w:2*U)+"px");ja&&(e=0);g=0;b=0;for(var f=0;f<d;f++){for(c=0;c<=e;c++)S[c]=document.createElement("ul"),S[c].className="providers",S[c].id="janrainProviders_"+c,1<e&&(S[c].style.cssFloat="left"),1<e&&(S[c].style.styleFloat="left"),S[c].style.listStyleType="none",S[c].style.marginTop="0px",S[c].style.marginLeft="0px",S[c].style.marginRight="0px",S[c].style.marginBottom="0px",S[c].style.padding="0px";a=document.createElement("div");a.className="janrainPage";
a.setAttribute("pageIndex",f);h&&V&&1===d&&(a.style.width="110%");for(c=0;c<=e;c++)a.appendChild(S[c]);for(var Nb=n.length%2,rb=ja?Ma:qa,j=0;j<rb&&!(0==n.length);j++){if(2==e)var zb=1==Nb?S[n.length%2?0:1]:S[n.length%2];if(1==e||0==e)zb=S[0];c=n.shift();zb.appendChild(c)}l.appendChild(a)}return l}function r(b){0==q()?("left"===b&&(ga.style.width=w+"px",ba.style.display="block",ba.style.width="20px"),"top"===b&&(ba.style.height=w+"px",ga.style.display="block",ga.style.height="20px")):("right"===b&&
(ba.style.width=w+"px",ga.style.display="block",ga.style.width="20px"),"bottom"===b&&(ga.style.height=w+"px",ba.style.display="block",ba.style.height="20px"))}function y(){for(var b=[],g=0;g<Ma;g++){var i=F(ia[g]);b.push(i)}return b}function A(b,g){g.style.cursor="pointer";g.setAttribute("id","janrain-"+b);g.setAttribute("role","button");"one row"===u?g.style.background="transparent":("gradient"===$&&Pb(g,"bottom, #eeeeee, #ffffff"),"gray"===$&&(g.style.backgroundColor="#eeeeee"),"white"===$&&(g.style.backgroundColor=
"#ffffff"));D(g,"mouseover",function(){tb();"one row"===u?g.style.background="transparent":(g.style.backgroundColor="#E3E3E3",g.style.backgroundImage="")});D(g,"mouseout",function(){tb();"one row"===u?g.style.background="transparent":("gradient"===$&&Pb(g,"bottom, #eeeeee, #ffffff"),"gray"===$&&(g.style.backgroundColor="#eeeeee"),"white"===$&&(g.style.backgroundColor="#ffffff"))});Wa||J(g,b);return g}function F(b){var g=document.createElement("li");g.style.listStyle="none";0==P&&!1===ja&&(g.style.cssFloat=
"left");0==P&&!1===ja&&(g.style.styleFloat="left");g.style.textAlign="center";g.style.height=h&&V?W-2:W+"px";if("two column"==u){var i=ja?3*w:Ma<=qa?0:3*w;g.style.width=6===h||tb&&V?(U-i-4*w)/P+"px":(U-i-(2==P?10:0))/P+"px"}g.style.marginTop="0px";if("one column"==u){if(7==h||6==h)g.style.marginTop="-1px";h&&V?g.style.marginRight="0px":g.style.width=U-w/2+"px";g.style.marginLeft="0px"}else g.style.marginRight=w+"px";0==P&&(g.style.width=W+"px");g.style.marginBottom=(7===h||6===h||h&&V?3:w)+"px";g.style.position=
"relative";0!=P&&(g.style.border="1px solid "+Yb);0!=P&&fa(g,ha);if("customopenid"===b){i=document.createElement("img");if(1==P||2==P)30==W&&(i.src=xa.smallLogo),50==W&&(i.src=xa.largeLogo);0==P&&(30==W&&(i.src=xa.smallIcon),50==W&&(i.src=xa.largeIcon))}else if(i=document.createElement("span"),"blank"!==b){if(1==P||2==P)30==W&&(i.className="janrain-provider100-"+b),50==W&&(i.className="janrain-provider150-"+b);0==P&&(30==W&&(i.className="janrain-provider30-"+b),50==W&&(i.className="janrain-provider50-"+
b))}i.style.backgroundColor="transparent";h&&V&&(i.style.height=W-2+"px");if(6===h&&"one row"!==u){var a=document.createElement("div");a.style.height=i.style.height;a.style.width="90px";a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+i.src+"')";i.style.filter="alpha(opacity=0)";a.appendChild(i);g.appendChild(a)}else g.appendChild(i);return A(b,g)}function I(b,g){var i=document.createElement("div"),a=f.translate.SIGN_IN_AS||"Sign in as {name}",
a=a.replace("{name}",g),a=document.createTextNode(a),l=document.createElement("div");l.style.cssFloat="right";l.style.styleFloat="right";l.style.fontFamily=Bb;l.style.position="relative";l.style.top=W/4-3+"px";l.appendChild(a);var c=document.createElement("div"),n=7.5*a.length+30,d=k();c.style.fontSize="16px";c.style.height="100%";c.style.position="relative";if(0==P||120>d)15<=a.length&&(c.style.fontSize="14px",n=7*a.length+30),20<=a.length&&(c.style.fontSize="12px",n=6*a.length+30),24<=a.length&&
(c.style.fontSize="10px",n=5*a.length+25),30<=a.length&&(a.textContent=a.textContent.substr(0,26)+"...",n=162);c.style.width=n+"px";if(0==P||116>d)if("customopenid"===b){var e=document.createElement("img");e.src=xa.smallIcon;e.style.width="20px";e.style.height="20px";e.style.cssFloat="left";e.style.styleFloat="left"}else e=document.createElement("span"),e.style.margin="2px 0",e.className="janrain-provider16-"+b;i.style.overflow="hidden";i.style.position="relative";i.style.height=("one row"!==u?W:
25)+"px";i.style.marginBottom="one row"===u?"-4px":"4px";"one row"===u&&(i.style.top="-4px");i.style.left="0px";h&&V&&(i.style.marginRight="5px");h&&V&&(i.style.marginLeft="3px");i.style.border="1px solid "+Yb;i.style.color=pb[b].color;fa(i,ha);if(0==P||116>d)c.style.paddingTop=(50===W?16:2)+"px",c.appendChild(e);6===h||7===h||h&&V?c.style.left="0px":c.style.margin="0 auto";c.appendChild(l);0==P||116>d?i.appendChild(c):(50===W&&parseInt(i.style.height),l.style.cssFloat="none",l.style.styleFloat="none",
i.appendChild(l));return A(b,i)}function J(b,g){D(b,"click",function(){L(g)})}function L(b){var g=pb[b],i={appUrl:f.appUrl,mobileDevice:yb,language:f.language,popup:wa,tokenUrl:Da||f.tokenUrl||window.location.href,facebookPermissions:Xa,forceReauth:Fa,widgetType:"auth",tokenAction:ma,bpChannel:ob,customOpenid:xb,customOpenidOpxblob:f.customOpenidOpxblob};g.name=b;new Ea(g,i,function(){ta||(ab=setTimeout(function(){mc(g)},300))})}function K(b){var g=document.createElement("div");if("customopenid"===
b){var i=document.createElement("img");i.src=xa.largeLogo;i.style.width="150px";i.style.height="50px"}else i=document.createElement("span"),i.className="janrain-provider150-"+b;g.style.position="absolute";g.style.top="0px";if(!h||!V)g.style.left="0px",g.style.width=U+"px";g.style.zIndex="102";g.style.textAlign="center";g.style.padding=w+"px";g.style.backgroundColor="transparent"===$a?"#ffffff":$a;g.style.height=k()-(h&&V?0:2*w)+"px";fa(g,M);"one row"!==u&&116<=k()&&g.appendChild(i);return g}function N(b){var g=
document.createElement("a"),i=document.createTextNode(f.translate.USE_ANOTHER_ACCOUNT||"switch accounts");g.setAttribute("class","janrainSwitchAccountLink");g.setAttribute("href","");g.style.fontSize="12px";g.style.fontFamily=Bb;g.style.color=Ab;g.onclick=b;g.appendChild(i);return g}function X(){return"modal"===H?document.getElementById("janrainModal"):"embed"===H?document.getElementById("janrainEngageEmbed"):!1}function Q(){var b=parseInt(C.style.width);return b=b+2*w+2}function R(){var b=X();null!==
b&&"object"===typeof C&&C.parentNode===b&&b.removeChild(C)}function Y(){var b="";"object"===typeof x&&(b=x.getState());return{type:H,width:Q(),fontFamily:Bb,fontSize:rb,fontColor:Ab,backgroundColor:$a,borderColor:gc,borderRadius:M,format:u,providersPerPage:qa,providers:ia,buttonBackgroundStyle:$,buttonBorderColor:Yb,buttonBorderRadius:ha,actionText:e(),showAttribution:Ga,modalState:b}}function ca(b){u=E("string",["default","two column","one column","one row"],"two column",b);"default"===u&&(u="two column");
"one row"==b&&(M=E("number",[0,5],5,M));i()}function aa(b){"two column"===u&&(U=E("number",[225,600],380,b));"one column"===u&&(U=E("number",[160,600],200,b));"one row"===u&&(W=30,b=Ma<=qa?w*(parseInt(qa)-1):w*(parseInt(qa)+2),40===O&&(b+=va-w),U=W*qa+b);if(("two column"===u||"one column"===u)&&!ja)U=U-2*w-2;h&&V&&(U=U+2*w+2);"one row"!==u&&(W=380<U?50:30)}function Z(b){"string"===typeof b&&(G=!0,ua=E("text",null,ua,b)," "===ua?M=E("number",[0,5],5,M,!0):T="two column"!==u?a().headerHeight-5:a().headerHeight)}
function j(b){$=E("string",["gray","white","gradient"],"gradient",b)}function ka(b){Yb=E("color",null,"#CCCCCC",b)}function oa(b){$a=E("color",null,"#ffffff",b)}function da(b){"undefined"===typeof b&&(b=5);M=" "===ua||!Ga||"one row"===u?E("number",[0,5],5,b,!0):E("number",[0,10],10,b)}function b(b){Ga=E("boolean",null,!0,b);k();M=b?E("number",[0,10],5,M,!0):E("number",[0,5],5,M,!0)}function g(b){gc=E("color",null,"#C0C0C0",b)}function i(){"two column"===u&&(rb=18);if("one column"===u||"one row"===
u)rb=14}function l(b){Ab=E("color",null,"#333333",b)}function S(b){if("object"==typeof b){P=m();for(var g=0,i=b.length;g<i;g++)if(!pb[b[g]])return Nb(4),p.log(b[g]+" is not a valid provider, using default providers instead"),this;ia=b;Ma=b.length;"object"===typeof x&&x.setHeight(k()-2*w).refresh()}}function Nb(b){"two column"===u&&(qa=E("number",[4,6,8],6,b));"one column"===u&&(qa=E("number",[1,6],6,b));"one row"===u&&(qa=gb?Ma:E("number",[4,8],6,b),aa(U))}function mc(b){var g=document.createTextNode(f.translate.SIGNING_IN||
"Signing in ..."),i=document.createElement("div");pa=K(b.name);i.appendChild(g);pa.appendChild(i);C&&C.appendChild(pa)}var fb=!1,U=380,G=!1,Bb="lucida grande, Helvetica, Verdana, sans-serif",rb=18,Ab="#666666",$a="#ffffff",gc="#C0C0C0",M=10,C,ea,u="two column",P,fc,qa=6,ia=["aol","google","yahoo","openid"],Ma=4,Yb="#CCCCCC",ha=5,$="gradient",W=30,T=a().headerHeight,O=60,va=89,sa=a().footerHeight,w=5,ra=10,ua="Sign in using your account with",pa,la,ba,ga,Ga=!0,ya=!1,za=!1,Aa,Ba;janrain.events.onProviderLoginStart.addHandler(function(b){La("login_tab",
b.provider,1)});return{build:c,setFormat:function(b){b&&ca(b);"two column"!==u&&(T=a().headerHeight-5);"two column"===u&&(qa=a().twoColumn.providersPerPage,T=a().headerHeight);return this},setActionText:function(b){"string"===typeof b&&Z(b);return this},setFontSize:function(b){b&&i(b);return this},setFontFamily:function(b){b&&b&&(Bb=b);return this},setFontColor:function(b){b&&l(b);return this},setButtonBorderColor:function(b){b&&ka(b);return this},setButtonBorderRadius:function(b){if("string"==typeof b||
"number"==typeof b)ha=E("number",[0,20],5,b);return this},setButtonBackgroundStyle:function(b){b&&j(b);return this},setWidth:function(b){("string"==typeof b||"number"==typeof b)&&aa(b);return this},refresh:function(){R();var b=X();c();var g=na("expected_tab");g&&!Eb?eb("expected_tab",g):(null!==b&&"object"===typeof C&&b.appendChild(C),"object"===typeof x&&x.setHeight(parseInt(C.style.height)+2).refresh());janrain.events.onCustomizationChange.fire(Y());return this},remove:function(){R();return this},
setRowHeight:function(b){if(0!==m())return this;b||(b=60);oneRowHeaderHeight=E("number",[40,60,90],60,b);40===oneRowHeaderHeight&&(W=30,O=40);60===oneRowHeaderHeight&&(W=30);90===oneRowHeaderHeight&&(W=50);return this},setHeight:function(b){"object"==typeof C&&(C.style.height=b+"px");return this},setBackgroundColor:function(b){b&&oa(b);return this},setBorderColor:function(b){b&&g(b);return this},setBorderRadius:function(b){("string"==typeof b||"number"==typeof b)&&da(b);return this},setProviders:function(b){"object"==
typeof b&&S(b);return this},setProvidersPerPage:function(b){if("string"==typeof b||"number"==typeof b)Nb(b),"object"===typeof x&&x.setHeight(k()).refresh("janrainModal");return this},setShowAttribution:function(g){"boolean"===typeof g&&b(g);return this},setPreviewMode:function(b){"boolean"===typeof b&&(Wa=b);return this},setProviderFlow:function(b,g){return J(b,g)},triggerFlow:function(b){return L(b)},setNoReturnExperience:function(b){"boolean"===typeof b&&(ya=b);return this},setNoReturnExperienceSwitchAccountLink:function(b){"boolean"===
typeof b&&(za=b);return this},setConfigureMode:function(b){"boolean"===typeof b&&(ja=b,P=m());return this},embed:function(b){if((fc=b)&&"object"==typeof C)C.style.position="relative";return this},getContentsDiv:function(){return C},getErrorPage:function(b,g){var i=document.createTextNode(g.msg),a=document.createElement("div");a.appendChild(i);a.style.color=Ab;a.style.fontSize=rb+"px";a.style.width="100%";var l=K(b);l.appendChild(a);l.appendChild(N(function(){C.removeChild(l);C.removeChild(pa);Fa=
!0;return!1},b));C.appendChild(l);return C},getReturnExperience:function(b,g){if(Wa||ya||-1===ia.indexOf(b))return C;var i=I(b,g),a=K(b),l=function(){Fa=Eb=!0;C.removeChild(a);return!1};a.id="janrainAuthReturnExperience";a.appendChild(i);za||a.appendChild(N(l,b));C.appendChild(a);return C},getWidth:function(){return Q()},getActualHeight:function(){return parseInt(C.style.height)+2},getHeight:function(){return k()-2*w},getState:function(){return Y()},setState:function(c){if(z("customizable_auth_widget_styling")){var d=
c.fontFamily;d&&(Bb=d);i(c.fontSize);l(c.fontColor);oa(c.backgroundColor);g(c.borderColor);"embed"===H&&c.format&&(c.format&&ca(c.format),"two column"!==u&&(T=a().headerHeight-5),"two column"===u&&(qa=a().twoColumn.providersPerPage,T=a().headerHeight));if("string"==typeof c.providersPerPage||"number"==typeof c.providersPerPage)Nb(c.providersPerPage),"object"===typeof x&&x.setHeight(k()).refresh("janrainModal");j(c.buttonBackgroundStyle);ka(c.buttonBorderColor);ha=E("number",[0,20],5,c.buttonBorderRadius);
Z(c.actionText);b(c.showAttribution);da(c.borderRadius);"embed"===H&&("string"==typeof width||"number"==typeof width)&&aa(c.width)}S(c.providers)},showNotice:function(){mc()},removeNotice:function(){vb(pa)},removeReturnExperience:function(){var b=document.getElementById("janrainAuthReturnExperience");vb(b)}}}function c(){if("object"===typeof q)if("object"===typeof I){var a=q.getState();a.width=I.width;I=a}else I=q.getState();"object"===typeof q&&q.remove();"object"===typeof x&&x.remove();F();H="modal";
"object"===typeof q&&I&&z("customizable_auth_widget_styling")&&q.setState(I);"object"===typeof x&&Va&&z("customizable_auth_widget_styling")&&x.setState(Va);"object"===typeof x&&x.show();"object"===typeof q&&q.refresh()}function e(){if("object"===typeof q){if("object"===typeof I){var a=q.getState();a.borderRadius=I.borderRadius;a.format=I.format;a.width=I.width;I=a}else I=q.getState();Va=I.modalState;delete Va.orientation}"object"===typeof q&&q.remove();"object"===typeof x&&x.remove();"object"===typeof x&&
(x="");k();H="embed";"object"===typeof q&&I&&z("customizable_auth_widget_styling")&&q.setState(I);"object"===typeof q&&q.refresh()}function v(){var a,c;F();c=document.getElementsByTagName("a");var d=RegExp("(\\s|^)"+f.linkClass+"(\\s|$)");for(a in c)d.test(c[a].className)&&(c[a].onclick=r)}function k(){var a=na("expected_tab");q=new d;q.setBackgroundColor(m).embed(!0).setPreviewMode(ha).setShowAttribution(hb).setNoReturnExperience(za).setNoReturnExperienceSwitchAccountLink(Aa).setFormat(L).setRowHeight(bb).setFontSize(Na).setFontFamily(cb).setFontColor(ea).setActionText(sb).setProviders(db).setProvidersPerPage(ib).setWidth(Fb).setBorderColor(jb).setBorderRadius(kb).setButtonBorderColor(Ba).setButtonBorderRadius(Oa).setButtonBackgroundStyle(lb).build();
var c=document.getElementById("janrainEngageEmbed");null===c&&(c=document.getElementById("janrainModal"));ka||(a?(ga("welcome_info_name",unescape(na("welcome_info_name"))),eb("expected_tab",a)):Ka(c,q.getContentsDiv()))}function r(){"object"===typeof x&&x.show();return!1}function F(){var a=Qa(Ua,Sa),c=na("expected_tab");if("undefined"===typeof a||0>a)a=5;q=new d;q.setBackgroundColor(m).setPreviewMode(ha).setShowAttribution(hb).setNoReturnExperience(za).setNoReturnExperienceSwitchAccountLink(Aa).setFontSize(Na).setFontFamily(cb).setFontColor(ea).setActionText(sb).setProviders(db).setProvidersPerPage(ib).setBorderRadius(a).setButtonBorderColor(Ba).setButtonBorderRadius(Oa).setButtonBackgroundStyle(lb).build();
if("object"!==typeof x){x=new Ub;x.ready=!1;var e=x.addContent;x.addContent=function(a){x.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}x.setHeight(q.getActualHeight()).setWidth(q.getWidth()).setPreviewMode(ha).setBorderColor(y).setBorder(Sa).setBorderOpacity(la).setBorderRadius(Ua);ka||(c?(ga("welcome_info_name",unescape(na("welcome_info_name"))),eb("expected_tab",c)):x.addContent(q.getContentsDiv()));x.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&q.setFormat(a.format).setWidth(200).refresh();
"landscape"===a.orientation&&q.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh();x.setHeight(q.getActualHeight());x.setWidth(q.getWidth())});x.onShow.addHandler(function(){"object"==typeof q&&x.setWidth(q.getWidth())});x.onBorderWidthChange.addHandler(function(a){"object"===typeof x&&"object"===typeof q&&(q.setBorderRadius(a.radius).refresh(),a=q.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&x.setBorderRadius(a.borderRadius+a.modalState.borderWidth))});
x.onBorderRadiusChange.addHandler(function(a){"object"===typeof q&&(q.setBorderRadius(a.radius).refresh(),a=q.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&x.setBorderRadius(a.borderRadius+a.modalState.borderWidth))})}function t(a,c){if(!z("customizable_auth_widget_styling"))return!1;if("object"===typeof q)return c(a),!0}function J(a){return t(a,function(a){q.setBackgroundColor(a).refresh()})}function N(a){return t(a,function(a){q.setBorderRadius(a).refresh()})}function Q(a){return t(a,
function(a){q.setBorderColor(a).refresh()})}function da(a){return"modal"===H?!1:t(a,function(a){q.setWidth(a).refresh()})}function O(a){return t(a,function(a){q.setActionText(a).refresh()})}function ra(a){return t(a,function(a){q.setButtonBorderColor(a).refresh()})}function Ja(a){return t(a,function(a){q.setButtonBorderRadius(a).refresh()})}function Ca(a){return t(a,function(a){q.setButtonBackgroundStyle(a).refresh()})}function o(a){return"modal"==H?!1:t(a,function(a){q.setFormat(a).refresh()})}function Vb(a){return t(a,
function(a){q.setProvidersPerPage(a).refresh()})}function pa(a){return t(a,function(a){q.setFontFamily(a).refresh()})}function R(a){return t(a,function(a){q.setFontSize(a).refresh()})}function Ya(a){return t(a,function(a){q.setFontColor(a).refresh()})}function na(a){var c;if("single cookie"===ba){c=K().getCookie("janrain_engage_login_data");if(!c)return;c=A.parse(c);return!c[a]?void 0:a=c[a]}if("default"===ba)return a=K().getCookie(a),!a?void 0:a}function La(a,c,d){var e;if(!a||!c)return!1;d||(d=
1);if("single cookie"===ba)return(oldCookieJSON=K().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),d=A.parse(oldCookieJSON),d[a]=c,e=new K,e.setName("janrain_engage_login_data").setValue(A.stringify(d)).setExpiration(1826).create(),!0;return"default"===ba?(e=new K,e.setName(a).setValue(c).setExpiration(d).create(),!0):!1}function aa(a,c){if(za)return!1;if("expected_tab"===a&&!c){var d=na("login_tab");d&&aa("expected_tab",d);return!1}if(!c||"undefined"===c||"expected_tab"!==a&&"expected_user_input"!==
a&&"welcome_info_name"!==a)return!1;c="welcome_info_name"===a?escape(c):c;La(a,c,1826)}function T(c,d){var e;d||(d=a);if(h&&3>s)return(void 0).time=(new Date).getTime(),e=wb(void 0),sa(d+"/signin/get_login_info"+e),s++,!0;"undefined"!==typeof ab&&clearTimeout(ab);return!1}function Ea(c,d,e){var f=d.appUrl+"/"+c.flow+"/start",h=window.location.href;d.mobileDevice&&(h="mobile");var m=d.language||"en",k=d.popup?"xdr":"xdrsw",q=d.tokenUrl||window.location.href,o={};a=d.appUrl;o.language_preference=m;
o.token_url=q;o.display="popup";o.widget=!0;"object"===typeof d.facebookPermissions&&(o.ext_perm=d.facebookPermissions.toString());o.openid_identifier=c.identifier;o.origin_url=h;o.provider_name=c.name;o.force_reauth=d.forceReauth;o.xdReceiver=d.appUrl+"/"+k;o.callback="none";o.widget_type=d.widgetType;o.token_action="url";if("event"===d.tokenAction||"hybrid"===d.tokenAction)o.token_action="event";d.mobileDevice&&"hybrid"===d.tokenAction&&(o.token_action="url");d.bpChannel&&(o.bpChannel=d.bpChannel);
d.customOpenid&&"string"===typeof d.customOpenidOpxblob&&(o.opx_blob=d.customOpenidOpxblob);f+=wb(o);(function(){janrain.events.onProviderLoginStart.fire({provider:c.name,width:c.width,height:c.height});var a;d.mobileDevice&&"event"!==d.tokenAction||!d.popup?sa(d.appUrl+"/signin/set_login_tab?login_tab="+c.name+"&origin_url="+window.location.href,function(){window.top.location.href=f}):(a=new rc(f),a.setWidth(c.width).setHeight(c.height).setCallback(function(){var a={},f="";a.widget_type=d.widgetType;
a.provider=c.name||"";a.time=(new Date).getTime();f=wb(a);"function"===typeof e&&e();sa(d.appUrl+"/signin/get_login_info"+f);janrain.events.onProviderLoginComplete.fire({provider:c.name})}).show())})()}function ga(a,c){if(!c||"undefined"===c||"welcome_info_name"!==a)return!1;c&&(ya=c)}function eb(a,c){var d=function(a){var e=function(){600>a&&setTimeout(function(){d(++a)},50)};if("object"!==typeof q)return e(),!1;"modal"===H?x.addContent(q.getReturnExperience(c,ya)):"embed"===H&&Ka(document.getElementById("janrainEngageEmbed"),
q.getReturnExperience(c,ya));"modal"===H&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!c)return!1;"object"===typeof q&&q.removeReturnExperience();janrain.events.onAuthWidgetLoad.addHandler(function(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,welcomeName:ya})});d(0)}function Ka(a,c){janrain.settings.capture&&(a?a.appendChild(c):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?a.appendChild(c):
p.log('Missing container div, please place this div where you want the embedded widget to be displayed on your page - <div id="janrainEngageEmbed"></div>.').show();return a}function Ta(a,c){Da=Da||ca;tokenUrl=c?Da:ca;var d="";if(!nb(tokenUrl).query)var d=d+"?",e=!0;for(var f in a)e?(d+=f+"="+a[f],e=!1):d+="&"+f+"="+a[f];Da=tokenUrl+d}function $(){f=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout($,5),!1;Rb(cc()+"providers.css");
if(f.stop)return!0;ec&&sa(f.appUrl+"/signin/establish_session");ma=f.tokenAction?f.tokenAction:ma;if(!f.tokenUrl&&"event"===ma)ca=window.location.href;else if(f.tokenUrl)ca=f.tokenUrl;else return p.log("Missing tokenUrl.  tokenUrl is required."),p.show(),!1;H=E("string",["modal","embed"],"embed",f.type?f.type:H);ka=f.multi?f.multi:yb?!0:ka;ta=f.custom?f.custom:ta;Fa=f.forceReauth?f.forceReauth:Fa;ob=f.bpChannel?f.bpChannel:ob;Xa=f.facebookPermissions?f.facebookPermissions:Xa;ba=f.storageType?E("string",
["default","single cookie"],"default",f.storageType):ba;wa="boolean"===typeof f.popup?f.popup:wa;yb&&"event"!==ma&&(wa=!1);oa=f.returnExperienceTimeout?f.returnExperienceTimeout:oa;ka&&(setTimeout(function(){var a=na("expected_tab");a?(ga("welcome_info_name",unescape(na("welcome_info_name"))),eb("expected_tab",a)):"modal"===H?x.addContent(q.getContentsDiv()):"embed"===H&&Ka(embedDiv,q.getContentsDiv())},oa),sa(f.appUrl+"/signin/get_cookies"));if(ta)return!0;ma=f.tokenAction?f.tokenAction:ma;Sa=z("customizable_auth_widget_styling")?
f.modalBorderWidth:Sa;y=z("customizable_auth_widget_styling")?f.modalBorderColor:y;Ua=z("customizable_auth_widget_styling")?f.modalBorderRadius:Ua;la=z("customizable_auth_widget_styling")?f.modalBorderOpacity:la;m=z("customizable_auth_widget_styling")?f.backgroundColor:m;kb=z("customizable_auth_widget_styling")?f.borderRadius:kb;jb=z("customizable_auth_widget_styling")?f.borderColor:jb;L=z("customizable_auth_widget_styling")?f.format:L;ea=z("customizable_auth_widget_styling")?f.fontColor:ea;Na=z("customizable_auth_widget_styling")?
f.fontSize:Na;cb=z("customizable_auth_widget_styling")?f.fontFamily:cb;Fb=z("customizable_auth_widget_styling")?f.width:Fb;bb=z("customizable_auth_widget_styling")?f.rowHeight:bb;ib=z("customizable_auth_widget_styling")?f.providersPerPage:ib;gb=z("customizable_auth_widget_styling")?f.providersNotPaged:gb;sb=z("customizable_auth_widget_styling")?f.actionText:sb;Ba=z("customizable_auth_widget_styling")?f.buttonBorderColor:Ba;Oa=z("customizable_auth_widget_styling")?f.buttonBorderRadius:Oa;lb=z("customizable_auth_widget_styling")?
f.buttonBackgroundStyle:lb;hb=z("customizable_auth_widget_hide_attribution")?f.showAttribution:hb;ha=f.previewMode;za=f.noReturnExperience;Aa=f.noReturnExperienceSwitchAccountLink;db=f.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate={});if(f.customOpenid&&z("customizable_auth_widget_styling")){xb=!0;if(!f.customOpenidFlow)return p.log("Missing customOpenidFlow. customOpenidFlow is required when adding a custom openid provider."),p.show(),!1;if(!f.customOpenidIdentifier)return p.log("Missing customOpenidIdentifier. customOpenidIdentifier is required when adding a custom openid provider."),
p.show(),!1;if(!f.customOpenidSmallLogo)return p.log("Missing customOpenidSmallLogo.  customOpenidSmallLogo is required and should be the full path to an image that has a width of 90px and height of 30px."),p.show(),!1;if(!f.customOpenidSmallIcon)return p.log("Missing customOpenidSmallIcon.  customOpenidSmallIcon is required and should be the full path to an image that is 30px x 30px."),p.show(),!1;if(!f.customOpenidLargeLogo)return p.log("Missing customOpenidLargeLogo.  customOpenidLargeLogo is required and should be the full path to an image that has a width of 150px and height of 50px."),
p.show(),!1;if(!f.customOpenidLargeIcon)return p.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),p.show(),!1;xa={smallLogo:f.customOpenidSmallLogo,smallIcon:f.customOpenidSmallIcon,largeLogo:f.customOpenidLargeLogo,largeIcon:f.customOpenidLargeIcon};pb.customopenid={flow:f.customOpenidFlow,identifier:f.customOpenidIdentifier}}f.previewMode?("modal"===H&&(janrain.ready?c():D(window,"load",c)),"embed"===H&&(janrain.ready?
e():D(window,"load",e))):("modal"===H&&(janrain.ready?v():D(window,"load",v)),"embed"===H&&(janrain.ready?k():D(window,"load",k)))}var Xa,ob,xb=!1,Fa=!1,ma="url",ca,Da,H="embed",ya="unknown",ka=!1,oa=300,Fa=!1,wa=!0,ta=!1,ba="default",xa,Va,x,Sa,y,Ua,la,q,I,m,kb,jb,Fb,bb,L,db=[],gb=!1,ib,sb,Na,cb,ea,Ba,Oa,lb,ha,za,Aa,hb,Eb=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=Z());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=Z());janrain.events.onReturnExperienceFound||
(janrain.events.onReturnExperienceFound=Z());janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===typeof janrainWidgetOnload&&(ta?janrainWidgetOnload():q?janrainWidgetOnload(q.getState()):janrainWidgetOnload())});for(var ab,s=0,ia="onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),Pa=0;Pa<ia.length;Pa++)"undefined"===typeof janrain.events[ia[Pa]]&&(janrain.events[ia[Pa]]=
new Ha);janrain.events.onProviderLoginError.addHandler(function(a){if(ta)return!0;var c=na("login_tab");if("modal"===H){var d=document.getElementById("janrainModal");d&&d.appendChild(q.getErrorPage(c,a.err))}"embed"===H&&(d=document.getElementById("janrainEngageEmbed"))&&Ka(d,q.getErrorPage(c,a.err))});$();return{appendTokenParams:function(a,c){Ta(a,c)},appendTokenParamsCumulative:function(a){Ta(a,!0)},setBackplaneChannel:function(a){ob=a},setLoginCookie:function(a,c){aa(a,c)},loginHandler:function(a){var c=
ma;a?("ok"===a.stat&&("event"===c||"hybrid"===c?sa(a.redirectUrl):(c=document.createElement("form"),c.action=a.redirectUrl,c.method="POST",janrain.settings.targetTop&&(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===a.stat&&(janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof ab&&clearTimeout(ab))):T()},cancelLogin:function(a){T(a,f.appUrl);ta||q.removeNotice()},removeNotice:function(){q.removeNotice()},setWelcomeInfoName:function(a,c){ga(a,c)},setReturnExperience:function(a,
c){eb(a,c)},setNoReturnExperience:function(a){"boolean"===typeof a&&q?(q.setNoReturnExperience(a).refresh(),a=!0):a=!1;return a},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&q?(q.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&q?(q.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&q?(q.setConfigureMode(a).refresh(),a=!0):a=!1;return a},setCustom:function(a){ta=
a},getState:function(){return"object"===typeof q?q.getState():!1},setProviderFlow:function(a,c){var e;e=!z("customizable_auth_widget_styling")||!ta?!1:d().setProviderFlow(a,c);return e},triggerFlow:function(a){a=!z("customizable_auth_widget_styling")||!ta?!1:d().triggerFlow(a);return a},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+
document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");
for(var a in janrain.settings)if(console.log(" ---- "+a+": "+janrain.settings[a]),"object"===typeof janrain.settings[a])for(var c in janrain.settings[a])"function"!==typeof janrain.settings[a][c]&&console.log(" --- --- "+c+": "+janrain.settings[a][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){e()},setBackgroundColor:function(a){return J(a)},setBorderColor:function(a){return Q(a)},setBorderRadius:function(a){return N(a)},setWidth:function(a){return da(a)},
setActionText:function(a){return O(a)},setFontFamily:function(a){return pa(a)},setFontSize:function(a){return R(a)},setFontColor:function(a){return Ya(a)},setFormat:function(a){return o(a)},setButtonBorderColor:function(a){return ra(a)},setButtonBorderRadius:function(a){return Ja(a)},setButtonBackgroundStyle:function(a){return Ca(a)},setProviders:function(a){var c;"object"===typeof q&&(ja?q.setProviders(a):q.setProviders(a).refresh(),c=!0);return c},setProvidersPerPage:function(a){return Vb(a)},setShowAttribution:function(a){var c;
z("customizable_auth_widget_hide_attribution")?"object"===typeof q&&q.setShowAttribution(a).refresh():c=!1;return c},refresh:function(){return q.refresh()},getWidth:function(){return q.getWidth()}},modal:{init:function(){c()},close:function(){"object"==typeof x&&x.close()},create:function(){return new Ub},setBorder:function(a){z("customizable_auth_widget_styling")?("object"===typeof x&&(x.setBorder(a),x.refresh()),a=!0):a=!1;return a},setBorderColor:function(a){z("customizable_auth_widget_styling")?
("object"===typeof x&&(x.setBorderColor(a),x.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){z("customizable_auth_widget_styling")?("object"===typeof x&&(x.setBorderOpacity(a),x.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){z("customizable_auth_widget_styling")?("object"==typeof x&&(x.setBorderRadius(a),x.refresh()),a=!0):a=!1;return a}}}};var da=new function(){return{status:"not loaded"}},qb=new function(){return{status:"not loaded"}},Za=new function(){return{status:"not loaded"}},
vc=new function(){function a(b){function g(){Za=!0;var g=b||c();b&&(la=nb(b).queryKey.flow_path);sa(g,Ta);V();La();janrain.events.onCaptureFailedLogin.addHandler(function(){Db++;na()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){Db=0;na()});janrain.events.onCaptureSuccessfulLogin.addHandler(function(){ka(gb)});janrain.events.onCaptureSuccessfulRegistration.addHandler(function(){ka(gb)});janrain.events.onCaptureValidationComplete.addHandler(function(){for(var b=!1,g=Ia.length,a=0;a<
g;a++){var i=Ia[a],c;for(c in i)if(i.hasOwnProperty(c))switch(c){case "render":i.render.screen&&!b&&(b=!0,(new wa).setScreenData(i.render.screen,s.screens[i.render.screen]));break;case "setCookie":var l=i.setCookie.name,d=i.setCookie.value,e=i.setCookie.days;(new K).setExpiration(e).setUseLocalStorage(!0).setName(l).setValue(d).create()}}Ia=[]});janrain.events.onCaptureRenderComplete.addHandler(function(){if(Eb){for(var b=ia.savedProfileMessage||"Your profile has been saved",g=Ya("capture_profileSavedMessage_container",
L.div),a=0,i=g.length;a<i;a++)g[a].innerHTML=b;Eb=!1}O()});janrain.events.onCaptureContentChange.addHandler(function(){"object"===typeof B&&B.isOpen()&&(B.setHeight(ga(B.getContent()).height),B.setWidth(ga(B.getContent()).width).refresh())});janrain.settings.custom&&!mb&&Z()}janrain.settings.capture.noStyling||(Rb(cc()+"widgets.css"),lc(cc()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&v(janrain.settings.capture.stylesheets))for(var a=janrain.settings.capture.stylesheets,l=a.length,
d=0;d<l;d++)Rb(a[d]),f(a[d]);if(h&&9>h&&janrain.settings.capture.conditionalIEStylesheets&&v(janrain.settings.capture.conditionalIEStylesheets)){a=janrain.settings.capture.conditionalIEStylesheets;l=a.length;for(d=0;d<l;d++)lc(a[d]),f(a[d])}janrain.settings.capture.federate?sa(janrain.settings.capture.federateServer+"/sso.js",function(){janrain.settings.capture.redirectFlow?$(g):g()}):janrain.settings.capture.redirectFlow?$(g):g()}function d(b,g,a,c){var d=[];c&&d.push({value:"",text:c,disabled:!0});
if("desc"===a)for(a=g;a>b-1;a--)d.push({value:a,text:a});else for(a=b;a<g+1;a++)d.push({value:a,text:a});return d}function c(){var b=q,g=janrain.settings.capture.flowVersion||"HEAD",a=janrain.settings.capture.flowName||"default",c=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=c?e()+"/widget_data/flow.js:"+c+":"+b+":"+g+":"+a:e()+"/widget_data/flow.js:"+b+":"+g+":"+a}function e(){return"https://dlzjvycct5xka.cloudfront.net"}function f(b){F(Zb,b)||Zb.push(b);hc=Zb.length}
function k(b){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+b+"' is missing."}}function p(b){var g=document.getElementById("capture_"+m+"_"+b.name+"_dateselectmonth"),g=g.options[g.selectedIndex].value,a=document.getElementById("capture_"+m+"_"+b.name+"_dateselectday"),a=a.options[a.selectedIndex].value,b=document.getElementById("capture_"+m+"_"+b.name+"_dateselectyear");return g+"/"+a+"/"+b.options[b.selectedIndex].value}function z(b){if(!b)return!1;
for(var g=b.getElementsByTagName("input"),a=b.getElementsByTagName("select"),c=b.getElementsByTagName("textarea"),b=[],g=[g,a,c],a={},c=0,d=g.length;c<d;c++)for(var e=g[c],f=e.length,j=0;j<f;j++){var h=e[j];"true"===h.getAttribute("data-capturecollection")?a[h.name]||(pa(h,!0)||b.push(h),a[h.name]=!0):pa(h,!0)||b.push(h)}janrain.events.onCaptureValidationComplete.fire({fieldsWithError:b});return 0===b.length}function t(){}function J(){}function E(b,g){if(!v(b)&&!g)return!1;v(b)||(b=[]);var a=b.length,
c,d=new wa,e="",f=[],j=document.getElementById("capture_"+m+"_"+g);if(!j)return!1;for(var h=0;h<a;h++)if(c=s.fields[b[h]])c.name=c.elementName=b[h],e+=d.renderField(c),f.push(c.name);if(!e.length&&j)return j.innerHTML="",!1;j.innerHTML=e;h=0;for(c=f.length;h<c;h++)(a=document.getElementById("capture_"+m+"_"+f[h]))&&D(a,"blur",Ca)}function O(){for(var b=L.div.getElementsByTagName("select"),g=b.length,a=0;a<g;a++)b[a].getElementsByTagName("option")[b[a].selectedIndex].disabled&&(r(b[a]).append("capture_disabled"),
D(b[a],"change",function(){r(this).remove("capture_disabled")}))}function V(){D(document.body,"click",function(b){var g=janrain.settings.capture.logoutLinksClass||"capture_end_session",a=Q(b);a&&a.nodeName&&"A"===a.nodeName&&r(a).has(g)&&(Ha(),N(b))})}function Z(){janrain.events.onProviderLoginToken.addHandler(function(b){b.linkAccounts?j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",needsResponse:!0,callback:function(){},
fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",elementValue:b.token}]}):(janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience),Xb&&(Oa=Ba),Ba=b.token,L.values=ta(L.div.id),bb.push(L),pb())});mb=!0}function da(b){var g=Q(b);if("formClicked"===g.className){var a=g.getAttribute("data-transactionId");xa("/widget/get_result.jsonp",{transactionId:a,cache:(new Date).getTime()},
function(){function b(){d++;if(10<d)return oa("could not find transaction status"),!1;if(zb[a])H(a),clearTimeout(g),g=zb[a],"success"===g.status?R(c):oa("there was a problem with the response",g);else var g=setTimeout(b,50)}var c=A.parse(g.getAttribute("next")),d=0;b()})}else g.className="";g.className=""}function fa(b,g){for(var a=Q(b).getAttribute("id").split("_")[3],c=Q(b).parentNode,d=r(c).has("capture_tab_toggle"),e=d?"capture_tab_toggle":"capture_radio_toggle",f=0;f<g.collection.length;f++)g.collection[f].elementName!==
a&&(document.getElementById("capture_"+m+"_"+g.collection[f].elementName).style.display="none");for(var e=Ya(e,document.getElementById("capture_"+m+"_"+g.elementName)),h=e.length,f=0;f<h;f++)r(e[f]).remove("capture_toggled");r(c).append("capture_toggled");document.getElementById("capture_"+m+"_"+a).style.display="block";janrain.events.onCaptureContentChange.fire();d&&N(b)}function ja(b){function g(b){b=b?A.stringify(b):a;Da(d);e.className="formClicked";e.setAttribute("next",b)}var a=Q(b).getAttribute("next"),
c=Q(b),d=Q(b).getAttribute("data-transactionId"),e=document.getElementById("captureIFrame_"+d),f=A.parse(a),h=!1;if("true"!==c.getAttribute("data-capturedomelement")){L.values=ta(L.div.id);if(!z(c))return N(b),!1;var j=qc(c),m=x();j.parentNode.insertBefore(m,j);j.style.display="none"}if(f.conditional){c=f.conditional;f=c.length;for(j=0;j<f;j++)if(o(c[j])){h=c[j];break}h?h.nosubmit?(N(b),R(h.next)):g(h.next):g()}else f.dontSubmit?(N(b),f.storeValues&&ta(c.id,!0),R(f)):g()}function o(b){var g=s.fields[b.field],
g=document.getElementById("capture_"+m+"_"+(g.elementId||g.elementName));switch(b.compare){case "=":if(g.value===b.value)return!0}}function Ca(b){b=Ja(b);pa(b)}function pa(b,g){if(b.type&&("hidden"===b.type||"submit"===b.type)||!b.getAttribute("data-capturefield"))return!0;var a=b.getAttribute("data-capturerendererfield")?s.fields[b.getAttribute("data-capturerendererfield")]:s.fields[b.getAttribute("data-capturefield")],c=b.getAttribute("data-capturerendererchildfieldname"),d=c?a.elementName+"["+
c+"]":a.elementName,e=!1;if(!a.validation||c&&!a.validation[c]&&"dateselect"!==a.type||"dateselect"===a.type&&"dateselect_year"!==c)return!0;c="multiCheckbox"===a.element||"multiRadio"===a.element?document.getElementById("capture_"+m+"_form_collection_"+a.elementName):"dateselect"===a.type?document.getElementById("capture_"+m+"_form_item_"+a.name):document.getElementById("capture_"+m+"_form_item_"+d);r(c).append("capture_validating");e=new j.validation;e.setParentDiv(c);e.setElement(b);a=Ua.check(b,
a,g);a.valid?(e.valid(),e=!0,r(c).remove("capture_validating")):a.pending?(e.pending(),e=!0):(e.notValid(a.reason),e=!1,r(c).remove("capture_validating"));return e}function R(b){bb.push(L);if(b.noop)return!1;b.url&&(window.location.href=b.url);b.screen&&(new wa).setScreenData(b.screen,s.screens[b.screen]);if(b.action&&L)janrain.capture.ui[b.action]();if(b["function"]&&"function"===typeof ib[b["function"]])ib[b["function"]]()}function Ea(b){(new K).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(b).create()}
function na(){(new K).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(Db).create()}function La(){var b=new K;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainFailedLogins",function(b){Sb(b)&&(Db=parseInt(b,10))}):(b=b.getCookie("janrainFailedLogins"),Sb(b)&&(Db=parseInt(b,10)))}function aa(){var b=36E5*Gb+(new Date).getTime();return(new Date((new Date).setTime(b))).toUTCString()}function T(b,g){var a=aa();ha=b;if(g)janrain.events.onCaptureSessionCreated.fire({accessToken:b}),
janrain.events.onCaptureSessionFound.fire({accessToken:b});else{var c=new K;c.setExpirationDirectly(a).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(ha);janrain.settings.capture.cookieDomain&&c.setDomain(janrain.settings.capture.cookieDomain);c.create();lb&&(janrain.events.onCaptureSuccessfulLogin.fire({accessToken:b}),lb=!1);janrain.events.onCaptureSessionCreated.fire({accessToken:b})}}function Ha(){var b=new K,g="function"===typeof janrain.settings.capture.federateLogoutCallback?
janrain.settings.capture.federateLogoutCallback:function(){};b.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove();b.setName("janrainCaptureProfileData");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove();janrain.events.onCaptureSessionEnded.fire();janrain.settings.capture.federate&&JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,
logout_uri:janrain.settings.capture.federateLogoutUri},g)}function pb(){var b=ca(),g={token:Ba,redirect_uri:janrain.settings.capture.redirectUri,client_id:janrain.settings.capture.clientId,response_type:janrain.settings.capture.responseType,locale:q,flow_version:Cb,capture_transactionId:b,flow:s.flow,capture_screen:janrain.settings.capture.registerFlow||"socialRegister"};Oa&&(g.merge_token=Oa,Oa=null);la&&(g.flow_path=la);xa("/widget/token_url.jsonp",g);Da(b);Xb&&(Xb=!1)}function eb(){var b=new K;
b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureToken",function(b){b?T(b,!0):janrain.events.onCaptureSessionNotFound.fire()});else{if(b.getCookie("janrainCaptureToken"))return T(b.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function Ka(b){var g=ca();JANRAIN.SSO.CAPTURE.set_login({code:b,transaction_id:g,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});Da(g)}function Ta(){if(janrain.settings.capture.federate){var b=
void 0,b={},g=ca(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:b.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:A.stringify({js_version:Xa,capture_screen:m,capture_transactionId:g,flow:s.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,
flow_version:Cb,locale:q}),transaction_id:g,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver};JANRAIN.SSO.CAPTURE.check_login(b);Da(g)}else{a:{if(g=nb(window.location.href).anchor)if(g=g.split("="),"access_token"===g[0]&&g[1]){lb=!0;T(g[1]);g=!0;break a}g=!1}if(g||eb())return za=!0,!1;za=!0}}function $(b){var g=nb(window.location.href).anchor;if(!g)return b(),!1;var a=g.split(","),c=a.length,d,g={};if(1<
c){for(var e=0;e<c;e++)d=a[e],d=d.split("="),g[d[0]]=d[1];if(!g.transactionId||!g.engageToken)return b(),!1;cb=b=g.transactionId;Ba=g.engageToken;xa("/widget/get_result.jsonp",{transactionId:b},function(){})}else return b(),!1}function tb(b,g){var a=b["if"].compare;if(!a||0>a.indexOf(":"))return!1;switch(a.split(":")[0]){case "cookie":var c=a.split(":")[1],a=new K;a.setUseLocalStorage(!0);"janrainLastAuthMethod"===c&&!kb&&(kb=m);if(janrain.settings.multiDomainLocalStorage)a.getCookie(c,function(a){d&&
"janrainLastAuthMethod"===c&&(jb=!0);xb(ob(b["if"],a)?b.then:b["else"],g)});else{var d=a.getCookie(c);d&&"janrainLastAuthMethod"===c&&(jb=!0);xb(ob(b["if"],d)?b.then:b["else"],g)}}}function ob(b,g){var a=Sb(g)?parseInt(g,10):g,c,d=Sb(b.to)?parseInt(b.to,10):b.to;switch(b.withOperator){case "===":c=d===a;break;case "!==":c=d!==a;break;case "==":c=d==a;break;case "!=":c=d!==a;break;case ">":c=a>d;break;case "<":c=a<d}return c}function xb(b,a){!b&&"function"===typeof a&&a();if(!b)return!1;if("undefined"===
typeof b["if"]){if(b.render){var i=b.render.screen,c=s.screens[i];(new wa).setScreenData(i,c)}}else tb(b,a)}function Fa(){for(var b="",a=[],i=0;10>i;i++)b=Ob(40),a.push(b);return a}function ma(b){if(!v(b))return!1;for(var a=b.length,i=0;i<a;i++){var c=b[i];-1===Qa.indexOf(c)&&Qa.push(c)}}function ca(){var b=Qa.pop();0===Qa.length&&ma(Fa());-1===Ra.indexOf(b)&&Ra.push(b);return b}function Da(b){var a=Ra.indexOf(b);-1<a&&Ra.splice(a,1);-1===Wa.indexOf(b)&&Wa.push(b)}function H(b){var a=Wa.indexOf(b);
-1<a&&Wa.splice(a,1);-1===qb.indexOf(b)&&qb.push(b)}function ya(){if("object"!==typeof B)return!1;ia.modalConfirmText&&B.setConfirmMessageText(ia.modalConfirmText);ia.modalConfirmLinkText&&B.setConfirmLinkText(ia.modalConfirmLinkText);ia.modalCancelLinkText&&B.setCancelLinkText(ia.modalCancelLinkText)}function ka(b){s=b;s.flow=janrain.settings.capture.flowName;"undefined"===typeof gb&&(gb=b);"object"!==typeof s.layouts&&(s.layouts={});"object"!==typeof s.layouts.captureAccessDeniedBuiltIn&&(s.layouts.captureAccessDeniedBuiltIn=
{});s.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:Mb.accessDenied;"object"!==typeof s.layouts.captureRetrievingUserDataBuiltIn&&(s.layouts.captureRetrievingUserDataBuiltIn={});s.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:Mb.retrievingUserData;for(b=0;b<db.length;b++)s.fields[db[b].field][db[b].attribute]=
db[b].value}function oa(){Wb.push(arguments);if(window.console){var b=arguments;b.callee=b.callee.caller;newArray=[].slice.call(b);h?console.log(newArray):console.log.apply(console,newArray)}}function wa(){function b(b,a,g){a&&a.screenConditionals?xb(a.screenConditionals,g):"function"===typeof g&&g()}function a(c,l){za?(m=c,b(c,l,function(){l&&(Fb=l.validateOnRender);if(l&&l.hasUserData&&!s.fused){var b=l.dataType&&"public"===l.dataType;!ha&&!b?(janrain.events.onCaptureAccessDenied.fire(),i({layout:"captureAccessDeniedBuiltIn",
modal:l.modal,source:"server"})):(i({layout:"captureRetrievingUserDataBuiltIn",modal:l.modal,source:"server"}),ba(b));d()}else i(l),d(),jb&&(jb=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))})):setTimeout(function(){a(c,l)},50)}function i(b){L&&L.div&&(L.div.style.display="none");var a=b.layout,g=b.source,i=b.modal,b=!!b.modalLoadOnLoad;if("server"===g){var c=document.getElementById(a);c||(c=document.createElement("div"),c.setAttribute("id",
a));try{n[a]?G.html=n[a]:(G.html=s.layouts[a].html,n[a]=G.html)}catch(l){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===g)try{if(c=document.getElementById(a))n[a]?G.html=n[a]:(G.html=c.innerHTML,n[a]=G.html);else throw G.html="",k(a);}catch(d){throw oa(d.name+": "+d.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}r(c).append("janrain-capture-ui").append("capture-ui-content");ec&&(r(c).append("janrain-capture-ui-mobile"),
ra.onOrientationChange.addHandler(function(b){r(c).append("janrain-capture-ui-mobile-"+b.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[b.orientation]);janrain.events.onCaptureContentChange.fire()}),ra.onOrientationChange.fire({orientation:ra.getOrientation()}));G.div=c;Pa=G.div;G.modalLoadOnLoad=b;G.source=g;G.modal=i;L=G}function c(b,a){if(b.close)return p.render.htmlElement.close(b);if("data"==b.element){if("string"===b.type)return p.render.data.stringData(b);
if("image"===b.type)return p.render.data.imageData(b)}if("multiRadio"==b.element)return p.render.htmlElement.multiRadio(b);if("multiCheckbox"==b.element)return p.render.htmlElement.multiCheckbox(b);if("textarea"==b.element)return p.render.htmlElement.textarea(b);if("select"==b.element)return p.render.htmlElement.select(b);if("input"==b.element)return p.render.htmlElement.input(b);if("form"==b.element)return p.render.htmlElement.form(b);if("div"==b.element)return p.render.htmlElement.div(b);if("button"==
b.element)return p.render.htmlElement.button(b);if("capture"==b.element){if("publicProfileLink"==b.type)return p.render.captureElement.publicProfileLink(b);if("errorMessages"==b.type)return p.render.captureElement.errorMessages(b);if("savedProfileMessage"==b.type)return p.render.captureElement.savedProfileMessage(b);if("captcha"==b.type)return p.render.captureElement.captcha(b);if("traditionalPasswordChange"==b.type)return p.render.captureElement.traditionalPasswordChange(b);if("linkAccounts"==b.type)return p.render.captureElement.linkAccounts(b);
if("mergeAccounts"==b.type)return p.render.captureElement.mergeAccounts(b);if("radioCollection"==b.type)return p.render.captureElement.collection.radio(b);if("tabCollection"==b.type)return p.render.captureElement.collection.tab(b);if("photoManager"==b.type)return p.render.captureElement.photoManager(b);if("dateselect_public"==b.type)return p.render.captureElement.dateselect_public(b);if("dateselect"==b.type)return p.render.captureElement.dateselect(b);if("addressFull"==b.type)return p.render.captureElement.addressFull(b);
if("addressFull_public"==b.type)return p.render.captureElement.addressFull_public(b);if("nameFull"==b.type)return p.render.captureElement.nameFull(b);if("nameFull_public"==b.type)return p.render.captureElement.nameFull_public(b);if("backButton"==b.type)return p.render.captureElement.backButton(b);if("partial"==b.type)return p.render.captureElement.partial(b,a)}return"widget"==b.element?p.render.widget[b.type](b):!1}function d(){var b=/\{\*(.*?)\*\}/,a=/^\s*\/\s*/,g=/^\s*#\s*/,i=/\stemplateVariables\={(.*?)*\}\s*/,
f=!1;janrain.events.onCaptureRenderStart.fire(s);I=[];s.fields.submitButton||(s.fields.submitButton={element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});s.fields.loginWidget||(s.fields.loginWidget={element:"widget",type:"login"});s.fields.backButton||(s.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});s.fields.captcha||(s.fields.captcha={element:"capture",type:"captcha"});s.fields.errorMessages||
(s.fields.errorMessages={element:"capture",type:"errorMessages"});s.fields.savedProfileMessage||(s.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});G.originalHtml=G.html;G.flow=s;var S=cb||ca();cb=null;for(var k,o=[],p=[];k=b.exec(G.html);)try{var n=k[1].trim();if(i.test(n))var fb=n.match(i),n=n.replace(fb[0],"").trim(),t=fb[0].match(/\{(.*?)*\}\s*/)[0];f=!1;g.test(n)&&(n=n.replace("#","").trim(),f=!0);if(a.test(n)){var v=n.replace("/",""),r={};if("undefined"==typeof s.fields[v])return oa("No field definition for"+
v,"error"),!1;r.element=s.fields[v].element;r.close=!0}else{if("undefined"==typeof s.fields[n])return oa("No field definition named "+n+" for tag "+k[0],"error"),!1;r=s.fields[n];r.name=n;f&&(r.start=!0);"form"===r.element&&!r.transactionId&&(r.transactionId=S);r.elementName=r.elementName||n}var t=t||null,x=c(r,t);x||(x=" ");G.html=G.html.replace(k[0],x);(r.next||"form"===r.element&&!r.close)&&I.push({elementName:r.elementName,next:r.next});r.onclickHandler&&y.push({elementName:r.elementName,handler:r.onclickHandler,
eventType:"click"});r.onchangeHandler&&y.push({elementName:r.elementName,handler:r.onchangeHandler,eventType:"change"});"string"===typeof r.element&&"form"===r.element&&!r.close&&y.push({elementName:r.elementName,handler:ja,eventType:"submit"});if("form"===r.element&&("widget/traditional_register.jsonp"===r.action||"widget/social_register.jsonp"===r.action))p.push("widget/traditional_register.jsonp"===r.action?"traditionalRegister":"socialRegister");if("form"===r.element&&"widget/traditional_signin.jsonp"===
r.action||"widget"===r.element&&"login"===r.type)o.push("widget/traditional_signin.jsonp"===r.action?"traditionalSignin":"socialSignin")}catch(z){return oa(z.name+": "+z.message,"error"),!1}o.length&&janrain.events.onCaptureStartLogin.fire({action:o.join(","),screen:m});p.length&&janrain.events.onCaptureStartRegistration.fire({action:p.join(","),screen:m});G.div.innerHTML=G.html;"server"==G.source&&(document.getElementById("janrainCaptureWidget")||(b=document.createElement("div"),b.id="janrainCaptureWidget",
document.body.appendChild(b)),document.getElementById("janrainCaptureWidget").appendChild(G.div));b=0;for(a=$b.length;b<a;b++)pa(document.getElementById($b[b]));$b=[];h();e();if(0<janrain.events.onCssLoad.firedEvents.length){b=janrain.events.onCssLoad.firedEvents;a=0;for(g=b.length;a<g;a++)"object"==typeof b&&b[a].args&&b[a].args.source&&-1==bc.indexOf(b[a].args.source)&&b[a].event.fire(b[a].args)}j.domHelpers.createIFrame(S);for(b=0;b<I.length;b++)a=document.getElementById("capture_"+m+"_"+I[b].elementName),
I[b].next&&I[b].next.type&&"server"===I[b].next.type?a.setAttribute("next",'{"noop":""}'):I[b].next?(I[b].next.conditional&&a.setAttribute("next",A.stringify(I[b].next)),I[b].next.screen&&a.setAttribute("next",A.stringify(I[b].next)),I[b].next.url&&a.setAttribute("next",A.stringify(I[b].next)),I[b].next.action&&a.setAttribute("next",A.stringify(I[b].next))):a.setAttribute("next",'{"noop":""}');q(S);L=G;janrain.events.onCaptureContentChange.fire()}function e(){G.div.getAttribute("data-captureventadded")||
(D(G.div,"click",function(b){var a=Q(b);if(a&&a.nodeName&&"A"===a.nodeName){var g=a.getAttribute("data-capturescreen");g&&(janrain.capture.ui.renderScreen(g),N(b));a.getAttribute("data-cancelcapturereturnexperience")&&kb&&(g=new K,g.setUseLocalStorage(!0).setName("janrainLastAuthMethod"),g.remove(),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.capture.ui.renderScreen(kb),N(b));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof B)"close"===
a&&(janrain.capture.ui.modal.close(),N(b)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),N(b))}}),G.div.setAttribute("data-captureventadded",!0));for(var b=G.div.getElementsByTagName("img"),a=b.length,g=0;g<a;g++)D(b[g],"load",function(){janrain.events.onCaptureContentChange.fire()});b=Ya(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=b.length;if(!wb){for(g=0;g<a;g++)D(b[g],"click",function(b){"object"===typeof B?(janrain.capture.ui.renderScreen(L.flow.defaultScreen),
B.setShowContentOnLoad(!0).addContent(L.div).show(),janrain.events.onCaptureScreenShow.fire({screen:m}),janrain.events.onCaptureContentChange.fire()):ub=!0;N(b)});wb=!0}}function h(){if(s.cssDependencies&&v(s.cssDependencies))for(var b=0;b<s.cssDependencies.length;b++)f(s.cssDependencies[b]);hc&&Za&&!ab?janrain.events.onCssLoad.addHandler(function(b){bc.push(b.source);for(b=0;b<hc;b++)if(-1==bc.indexOf(Zb[b]))return!1;ab||(o(),ab=!0)}):o();janrain.events.onCaptureRenderComplete.fire({flow:s,screen:m})}
function o(){var b=!1,a=janrain.settings.capture.modalBorderWidth||10,g=janrain.settings.capture.modalBorderColor||"#000",i=janrain.settings.capture.modalBorderRadius||10,c=janrain.settings.capture.modalBorderOpacity||0.5;if(G.modal){if("object"===typeof B){var b=!0,l=B.getContent();l&&document.body.appendChild(l);B.close(!0)}else B=new Ub,ya();yb||(janrain.events.onCaptureModalReady.fire(),janrain.events.onModalClose.addHandler(function(){s&&s.mergeToken&&(s.mergeToken="")}),yb=!0);B.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(g).setBorder(a).setBorderOpacity(c).setBorderRadius(i).setShowContentOnLoad(!0).addContent(G.div);
if(b||G.modalLoadOnLoad||ub)B.show(),janrain.events.onCaptureScreenShow.fire({screen:m})}else"object"===typeof B&&B.close(!0),janrain.events.onCaptureScreenShow.fire({screen:m});G.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function q(b,a){for(var a=a||y,g=0;g<a.length;g++){if("function"===typeof a[g].handler)if("render"===a[g].eventType)a[g].handler();else{var i=document.getElementById("capture_"+m+"_"+a[g].elementName);D(i,a[g].eventType,a[g].handler)}b&&D(document.getElementById("captureIFrame_"+
b),"load",da)}y=[]}var G={},p;p=new J;Ua=new t;return{setScreenData:a,render:d,renderField:c,attachEventHandlers:q}}function ta(b,a){for(var i=[],c=document.getElementById(b).getElementsByTagName("INPUT"),d=c.length,e=0;e<d;e++){var f={};f.id=c[e].id;f.placeholder=c[e].getAttribute("placeholder");if(sb||a)Na[c[e].getAttribute("data-capturefield")]=c[e].value;f.value=f.placeholder?f.placeholder===c[e].value?"":c[e].value:c[e].value;"radio"===c[e].type&&(f.type="radio",f.checked=c[e].checked);i.push(f)}return i}
function ba(b,a){var i="function"===typeof a?a:function(){};if(b){var c=nb(window.location.href).queryKey.uuid;c?(oa("need to get data for "+c),j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:i,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:c}]})):oa("no uuid supplied")}else{if(!ha)return!1;
j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:i,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function xa(b,a,i){var c=-1<b.indexOf("?")?"&":"?",d=0===b.indexOf("http")?"":janrain.settings.capture.captureServer,e=[],f;for(f in a)a.hasOwnProperty(f)&&e.push(f+"="+encodeURIComponent(a[f]));sa(d+b+c+e.join("&"),i)}function Va(b){function a(b){return'<li><a href="#" class="capture_suggestion">'+
b+"</a></li>"}var b=b.result,i=s.fields[b.field],c=document.getElementById("capture_"+m+"_"+(i.elementId||i.elementName)),d=b.alternatives,e=i.validation.messages.unique||"",f=document.getElementById("capture_"+m+"_form_item_"+i.elementName),h=new j.validation;h.setElement(c);h.setParentDiv(f);if(!1===b.unique)if(d){var d=d.map(a),k=function(b){var a=Q(b);r(a).has("capture_suggestion")&&(c.value=a.innerHTML,kc(f,"click",k),h.valid(),N(b))};h.notValid(e+'<ul class="capture_suggestions">'+d.join("")+
"</ul>",function(){D(f,"click",k)})}else h.notValid(e);else h.valid()}function x(){var b=document.createElement("div");b.className="capture_btn capture_processing";b.innerHTML="Processing";return b}function Sa(b){if("object"!==typeof B)B=new Ub,ya();else{var a=B.getContent();a.style.display="none";a&&document.body.appendChild(a)}L&&L.modal&&bb.push(L);B.addContent(b).show();B.setHeight(ga(b).height);B.setWidth(ga(b).width).refresh()}var y=[],Ua,la,q=janrain.settings.capture.language||janrain.settings.language||
"en-US",I=[],m,kb,jb=!1,Fb,bb=[],L={},db=[],gb,ib={},sb=janrain.settings.capture.mode13||!1,Na={},cb,ea,Ba,Oa,lb=!1,ha,za=!1,Aa,hb=!1,Eb=!1,ab=!1,s,ia={},Pa,n={},zb={},Qa=[],Ra=[],Wa=[],qb=[],Za=!1,Gb=1,Lb="placeholder"in document.createElement("input"),mb=!1,Xb=!1,B,ub=!1,wb=!1,yb=!1,Zb=[],hc=0,$b=[],Cb="HEAD",Ib=!1,Mb={},Pb=["accessDenied","retrievingUserData"],ac={},Jb=!1,Db=0,Ia=[],bc=[];"en"===q&&(q="en-US");ac.publicPrivateTogglers=[];t.prototype.check=function(b,a,i){var a=a||s.fields[b.name],
c=b.getAttribute("data-capturerendererchildfieldname");a.validation.temp=c&&a.validation&&a.validation[c]?a.validation[c]:c&&"dateselect"!==a.type?!1:a.validation;if(!a.validation.temp)return!0;a.validation.temp.messages||(a.validation.temp.messages={});if(!this.hasValue(b,a))return{valid:!1,reason:a.validation.temp.messages.required||"Field not completed"};if(!this.isValidMinYears(b,a))return{valid:!1,reason:a.validation.temp.messages.minYears||"Not old enough"};if(!this.isValidMinLength(b,a))return{valid:!1,
reason:a.validation.temp.messages.minLength||"Invalid length"};if(!this.isValidMaxLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxLength||"Invalid length"};if(!this.isValidMaxNumericLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxNumericLength||"Invalid number of numeric characters"};if(!this.isValidFormat(b,a))return{valid:!1,reason:a.validation.temp.messages.format||"Invalid format"};if(!this.isValidMatch(b,a))return{valid:!1,reason:a.validation.temp.messages.match||
"Invalid match"};return a.validation.temp.unique&&!i?(i=document.getElementById("capture_"+m+"_form_item_"+b.getAttribute("name")),this.isUnique(b,i,a,function(){}),{pending:!0}):{valid:!0}};t.prototype.getRating=function(b){var b=b.value,a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],c=0,d;d=Math.min(8,Math.floor(3*Math.log(b.length+1)));for(var e=0;e<a.length;e++)a[e].test(b)&&c++;return d+=Math.floor(Math.pow(2,c)/2)};t.prototype.isValidMaxNumericLength=function(b,a){if(!a)return!0;var c=a.validation.temp.maxNumericLength;
if(!c)return!0;var d=b.value.match(/(\d)/g);v(d)&&d.length>c&&a.validation.temp.actions&&a.validation.temp.actions.maxNumericLength&&Ia.push(a.validation.temp.actions.maxNumericLength);return v(d)?d.length<=c:!0};t.prototype.isValidMaxLength=function(b,a){var c=b.value;if(!a)return!0;var d=a.validation.temp.maxLength;if(!d)return!0;c.length>d&&a.validation.temp.actions&&a.validation.temp.actions.maxLength&&Ia.push(a.validation.temp.actions.maxLength);return c.length<=d};t.prototype.isValidMinLength=
function(b,a){var c=b.value;if(!a)return!0;var d=a.validation.temp.minLength;if(!d)return!0;c.length<d&&a.validation.temp.actions&&a.validation.temp.actions.minLength&&Ia.push(a.validation.temp.actions.minLength);return c.length>=d};t.prototype.isValidMinYears=function(b,a){if(!a||"dateselect"!==a.type)return!0;var c=p(a),d=a.validation.temp.minYears;if(!dc(c)||!d)return!0;var e=new Date,c=Math.abs(((new Date(c)).getTime()-e.getTime())/864E5),c=Math.floor(c/365.242199);c>=d||a.validation.temp.actions&&
a.validation.temp.actions.minYears&&Ia.push(a.validation.temp.actions.minYears);return c>=d};t.prototype.hasValue=function(b,a){var c;if("select"===a.element)c=b.options[b.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=b.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var d=c.length,e=[],f=0;f<d;f++)c[f].checked&&e.push(c[f]);c=e.length}else c=!1;else c=b.value;
if(!a||!a.validation.temp.required)return!0;if("dateselect"===a.type)return c=p(a),dc(c)||a.validation.temp.actions&&a.validation.temp.actions.required&&Ia.push(a.validation.temp.actions.required),dc(c);c||a.validation.temp.actions&&a.validation.temp.actions.required&&Ia.push(a.validation.temp.actions.required);return c};t.prototype.isUnique=function(b,a,c,d){a=b.form.getAttribute("data-capturefield");c=b.getAttribute("data-capturefield");b={value:b.value,form:a,field:c,client_id:janrain.settings.capture.clientId,
flow_version:Cb,locale:janrain.settings.capture.language||"en-US",flow:s.flow};ha&&(b.access_token=ha);la&&(b.flow_path=la);xa("/widget/unique.jsonp",b,d)};t.prototype.isBlacklisted=function(b,a,c){function d(){var a=b.value,g=response;if(!g||0===g.length)return!0;for(var c,i=0;i<g.length;i++)if(c=RegExp("^"+g[i]+"$","i"),c.test(a))return!0;return!1}captureUIBlacklistCallback=function(b){c(d(b))};v(a)?c(d(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):c(!0)};t.prototype.isValidFormat=
function(b,a){var c={alpha:/^[a-z]+$/i,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!a.validation.temp.format)return!0;var d=a.validation.temp.format;if("string"===typeof d&&c[d])d=c[d];else return!1;d.test(b.value)||a.validation.temp.actions&&a.validation.temp.actions.format&&Ia.push(a.validation.temp.actions.format);return d.test(b.value)};t.prototype.isValidMatch=
function(b,a){if(!a)return!0;var c=a.validation.temp.match;if(!c)return!0;c=s.fields[c];c=document.getElementById("capture_"+m+"_"+(c.elementId||c.elementName));b.value!==c.value&&a.validation.temp.actions&&a.validation.temp.actions.match&&Ia.push(a.validation.temp.actions.match);return b.value===c.value};var j={attachFieldEventHandlers:function(b){b.type||(b.type="");"password"===b.type&&(y.push({elementName:b.elementName,handler:j.togglePasswordInput,eventType:"click"}),y.push({elementName:b.elementName,
handler:j.togglePasswordInput,eventType:"focus"}),b.validation&&("function"===typeof b.validation.rating?y.push({elementName:b.elementName,handler:function(a){var a=Ja(a),c=Ua.getRating(a);b.validation.rating(a,c)},eventType:"keyup"}):b.validation.rating&&y.push({elementName:b.elementName,handler:function(b){b=Ja(b);b=Ua.getRating(b);oa("Password Strength",b)},eventType:"keyup"})));if("text"===b.type||"password"===b.type||"email"===b.type)y.push({elementName:b.elementName,handler:j.clearPlaceHolder,
eventType:"focus"}),y.push({elementName:b.elementName,handler:j.restorePlaceHolder,eventType:"blur"});y.push({elementName:b.elementName,handler:function(){var a=document.getElementById("capture_"+m+"_form_item_"+b.elementName);r(a).append("capture_focused").remove("capture_error");ec&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()},eventType:"focus"});y.push({elementName:b.elementName,handler:function(){var a=document.getElementById("capture_"+m+"_form_item_"+b.elementName);r(a).remove("capture_focused")},
eventType:"blur"});b.validation&&y.push({elementName:b.elementName,handler:Ca,eventType:"blur"});b.rendererFieldName&&b.rendererChildFieldName&&s.fields[b.rendererFieldName].validation&&s.fields[b.rendererFieldName].validation[b.rendererChildFieldName]&&y.push({elementName:b.rendererFieldName+"_"+b.rendererChildFieldName,handler:Ca,eventType:"blur"});b.validation&&b.validation.custom&&y.push({elementName:b.elementName,handler:function(a){var a=Ja(a),c=document.getElementById("capture_"+m+"_form_item_"+
b.elementName);r(c).append("capture_validating");var d=new j.validation;d.setParentDiv(c);d.setElement(a);Kb[b.validation.custom](a.name,a.value,d);r(c).remove("capture_validating")},eventType:"blur"})},wrapStringData:function(b,a,c){var d="",e=["capture_data_item"];c&&e.push(c);d+=j.createDiv({elementId:"stringdata_"+b.name,classes:e});b.label&&(d+=j.createLabel({elementId:b.name,label:b.label,classes:["capture_data_label"]}));d+=j.createDiv({elementId:b.name,classes:["capture_data"]});return d+
a+"</div></div>"},wrapFormItemStart:function(b){var a="",c=[],d=b.classes||[],e="elementCollection"===b.type?"form_collection":"form_item";if(b.justElement||"submit"===b.type||"button"===b.type)return"";-1===d.indexOf("capture_"+e)&&d.push("capture_"+e);b.errors&&-1===d.indexOf("capture_error")&&!b.collection&&d.push("capture_error");!b.collection&&b.type&&-1===d.indexOf("capture_"+b.type)&&("checkbox"===b.type||"radio"===b.type?c.push("capture_"+b.type):d.push("capture_"+b.type));"elementCollection"===
b.type&&b.displayInline&&-1===d.indexOf("capture_form_collection_inline")&&d.push("capture_form_collection_inline");b.collection?(-1===d.indexOf("capture_"+e+"_"+b.elementName)&&d.push("capture_"+e+"_"+b.elementName),b.checked&&d.push("capture_toggled"),a+=j.createDiv({elementName:e+"_"+b.elementId,hide:b.hide,classes:d})):a+=j.createDiv({elementName:e+"_"+b.elementName,hide:b.hide,classes:d});if(("checkbox"===b.type||"radio"===b.type)&&!b.collection)a+=j.createDiv({elementName:e+"_inner_"+b.elementName,
classes:c});return a},wrapFormItemEnd:function(b){return b.justElement||"submit"===b.type||"button"===b.type?"":"</div>"},createPublicPrivateToggle:function(b){function a(){for(var b=ac.publicPrivateTogglers,g=b.length,c=0;c<g;c++)b[c]&&(b[c].style.display="none");ac.publicPrivateTogglers=[]}function c(a){var g=Q(a),i=document.getElementById("capture_"+m+"_display_toggle_options_"+b.elementName),d=document.getElementById("capture_"+m+"_display["+(b.rendererFieldName||b.elementName)+"]"),e=document.getElementById("capture_"+
m+"_display_indicator_public_"+b.elementName),l=document.getElementById("capture_"+m+"_display_indicator_private_"+b.elementName),f="capture_"+m+"_display_option_public_"+b.elementName,h="capture_"+m+"_display_option_private_"+b.elementName;document.getElementById("capture_"+m+"_display_toggle_options_"+b.elementName);if(!g.id)return!1;g.id===f?(r(document.getElementById(f)).append("capture_checked"),r(document.getElementById(h)).remove("capture_checked"),d.value="public",r(e).append("capture_toggled"),
r(l).remove("capture_toggled")):(r(document.getElementById(f)).remove("capture_checked"),r(document.getElementById(h)).append("capture_checked"),d.value="private",r(e).remove("capture_toggled"),r(l).append("capture_toggled"));i.style.display="none";N(a)}var d;d=""+j.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+b.elementName});d+=j.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+b.elementName});var e=["capture_display_option"];
b.displayPublic&&e.push("capture_checked");d+=j.createDiv({classes:e,elementId:"display_option_public_"+b.elementName});d+='<span class="janrain-icon-check janrain-icon-16"></span>public <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_option"];b.displayPublic||e.push("capture_checked");d+=j.createDiv({classes:e,elementId:"display_option_private_"+b.elementName});d+='<span class="janrain-icon-check janrain-icon-16"></span>private <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';
e=["capture_display_toggle","capture_public"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic&&e.push("capture_toggled");d+=j.createDiv({classes:e,elementId:"display_indicator_public_"+b.elementName});d+='&nbsp;public <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_toggle","capture_private"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic||e.push("capture_toggled");d+=j.createDiv({classes:e,
elementId:"display_indicator_private_"+b.elementName});d=d+'private <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+j.createInput({type:"hidden",elementName:"display["+(b.rendererFieldName||b.elementName)+"]",value:b.displayPublic?"public":"private"});y.push({elementName:"display_toggle_wrap_"+b.elementName,eventType:"click",handler:function(c){var i=document.getElementById("capture_"+m+"_display_toggle_options_"+b.elementName),d="none"===i.style.display||""===i.style.display?
"block":"none",e=Q(c);r(e).has("capture_display_toggle")&&!r(e).has("capture_display_toggle_disabled")&&("block"===d&&(a(),ac.publicPrivateTogglers.push(i)),i.style.display=d);N(c)}});y.push({elementName:"display_option_public_"+b.elementName,handler:c,eventType:"click"});y.push({elementName:"display_option_private_"+b.elementName,handler:c,eventType:"click"});Ib||(D(document.body,"click",function(b){b=Q(b);!r(b).has("capture_display_toggle")&&!r(b).has("capture_display_option")&&a()}),Ib=!0);return d},
createAnchor:function(b){var a="",c=b.elementId||b.elementName,d=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[];F(d,"capture_"+c)||d.push("capture_"+c);a=a+"<a "+("id='capture_"+m+"_"+c+"' ");b.target&&(a+="target='"+b.target+"' ");a+="class='"+d.join(" ")+"' ";a+="data-capturefield='"+b.name+"' ";a+="href='"+b.elementHref+"' ";a+="name='"+b.elementName+"' ";a+=">";b.elementText&&(a+=b.elementText);return a+"</a>"},createTextarea:function(b){var a="",c=b.elementId||b.elementName,d=b.elementClasses&&
v(b.elementClasses)?b.elementClasses:[],e=b.rows||"5",a=a+j.createLabel(b);F(d,"capture_"+c)||d.push("capture_"+c);a=a+"<textarea "+("id='capture_"+m+"_"+c+"' ");a+="class='"+d.join(" ")+"' ";a+="data-capturefield='"+b.name+"' ";a=a+("rows='"+e+"' ")+("name='"+b.elementName+"' ");b.placeholder&&Lb&&(a+="placeholder='"+b.placeholder+"'");a+=">";b.value&&(a+=b.value);a+="</textarea>";b.publicPrivateToggle&&(a+=j.createPublicPrivateToggle(b));return a+=j.createTip(b)},createTip:function(b){var a;a="<div class='capture_tip' ";
b.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof b.tip?b.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+b.elementName+"'>");a=a+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+b.elementName+"'>");b.errors&&v(b.errors)&&(a+=b.errors.join(" "));return a+"</div>"},createLabel:function(b,a){var c,d=b.elementId||b.elementName;if(!b.label)return a?a:"";c="<label ";"elementCollection"!==b.type&&(c+=" for='capture_"+m+"_"+d+"'");
c+=">";a&&(c+=a);b.label&&(c+=b.label);return c+"</label>"},createSelect:function(b){var a="",c=b.rendererFieldName,d=b.rendererChildFieldName,e=b.justElement,f=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],h=b.elementId||b.elementName;F(f,"capture_"+h)||f.push("capture_"+h);a+=j.createLabel(b);a=a+'<span class="capture_select"><select '+("id='capture_"+m+"_"+h+"' ");a+="class='"+f.join(" ")+"' ";c&&(a+="data-capturerendererfield='"+c+"' ");b.showFieldWhere&&(a+='data-showFieldWhere="'+
b.showFieldWhere+'" ');d&&(a+="data-capturerendererchildfieldname='"+d+"' ");a+="data-capturefield='"+b.name+"' ";a+="name='"+b.elementName+"' ";a+=">";c=b.options||[];d=c.length;for(f=0;f<d;f++){var h=c[f],k=h.value||""===h.value?h.value:h.text,a=a+('<option value="'+k+'"');h.disabled&&(a+=' disabled="true"');v(h.showField)&&(a+=' data-showField="'+h.showField.join(",")+'"');k===b.value&&(a+=' selected="selected"',selectedShowField=h.showField);a+=">"+h.text+"</option>"}a+="</select></span>";b.publicPrivateToggle&&
(a+=j.createPublicPrivateToggle(b));e||(a+=j.createTip(b));y.push({handler:function(){E(selectedShowField,b.showFieldWhere)},eventType:"render"});y.push({elementName:b.elementName,handler:function(b){var a=Q(b),b=a.getElementsByTagName("option")[a.selectedIndex].getAttribute("data-showField"),a=a.getAttribute("data-showFieldWhere");b&&b.length&&(b=b.split(","));E(b,a)},eventType:"change"});return a},createButton:function(b){var a="",c=b.elementId||b.elementName,d=b.elementClasses&&v(b.elementClasses)?
b.elementClasses:[],e=b.type?b.type:"submit";F(d,"capture_"+c)||d.push("capture_"+c);F(d,"capture_btn")||d.push("capture_btn");F(d,"capture_primary")||d.push("capture_primary");a+="<button ";b.hide&&(a+="style='display:none' ");a+="id='capture_"+m+"_"+c+"' ";a+="class='"+d.join(" ")+"' ";a=a+("type='"+e+"' ")+("data-capturefield='"+b.name+"' ");b.value&&(a+="value='"+b.value+"' ");a+="name='"+b.elementName+"' ";a+=">";b.elementContent&&(a+=b.elementContent);return a+"</button>"},createInput:function(b){var a=
"",c="",d=b.elementId||b.elementName,e=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],f="button"===b.type||"submit"===b.type||"checkbox"===b.type||"radio"===b.type||"hidden"===b.type,h=b.justElement||b.collection||"hidden"===b.type||"button"===b.type||"submit"===b.type,k="password"===b.type&&!Lb&&b.placeholder?"text":b.type,n=("checkbox"===b.type&&!b.collection||"radio"===b.type&&!b.collection)&&!b.justElement,o=b.rendererFieldName,p=b.rendererChildFieldName,q=Fb&&!b.collection;F(e,"capture_"+
d)||e.push("capture_"+d);f||(c+=j.createLabel(b));a+="<input ";b.hide&&(a+="style='display:none' ");a+="id='capture_"+m+"_"+d+"' ";"text"===b.type?F(e,"capture_text")||e.push("capture_text"):"submit"===b.type&&(F(e,"capture_btn")||e.push("capture_btn"),F(e,"capture_primary")||e.push("capture_primary"));a+="class='"+e.join(" ")+"' ";a+="data-capturefield='"+b.name+"' ";b.collection&&(a+="data-capturecollection='true' ");o&&(a+="data-capturerendererfield='"+o+"' ");p&&(a+="data-capturerendererchildfieldname='"+
p+"' ");a+="type='"+k+"' ";if(("checkbox"===b.type||"radio"===b.type)&&b.elementValue)a+="value='"+r+"' ";else if(b.value){var r=b.value;b.displaySavedValue&&Na[b.value]&&(r=Na[b.value]);("password"===b.type||"text"===b.type||"email"===b.type)&&!b.errors&&q&&$b.push("capture_"+m+"_"+d);a+="value='"+r+"' "}else a=b.placeholder&&!Lb?a+("value='"+b.placeholder+"' "):a+"value='' ";b.placeholder&&(a+="placeholder='"+b.placeholder+"' ");if(b.checked||b.value===b.elementValue)a+="checked='checked' ";a+=
"name='"+b.elementName+"' ";a+="/>";c="checkbox"===b.type||"radio"===b.type?c+j.createLabel(b,a):c+a;b.publicPrivateToggle&&(c+=j.createPublicPrivateToggle(b));n&&(c+="</div>");h||(c+=j.createTip(b));return c},createDiv:function(b){var a="<div ",c=b.elementId||b.elementName,d=b.classes||[];F(d,"capture_"+c)||d.push("capture_"+c);a+="id='capture_"+m+"_"+c+"'";if("option"===b.type&&!b["default"]||b.hide)a+=" style='display:none'";"radioCollection"===b.type&&d.push("radio_set");v(d)&&d.length&&(a=a+
' class="'+d.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=">";b.closeDiv&&(a+="</div>");return a},createImage:function(b){var a,c=b.classes||[];elementId=b.elementId||b.imageId||b.elementName||"";a="<img "+('src="'+b.src+'"');elementId&&!F(c,"capture_"+elementId)&&c.push("capture_"+elementId);b.hide&&(a+=" style='display:none'");b.alt&&(a+=" alt='"+b.alt+"'");"undefined"!==typeof b.width&&(a+=" width='"+b.width+"'");"undefined"!==typeof b.height&&(a+=" height='"+b.height+"'");elementId&&
(a+=' id="capture_'+m+"_"+b.imageId+'" ');v(c)&&c.length&&(a=a+'class="'+c.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(b){var a,c="captureIFrame_"+b;if(document.getElementById(c))return!1;if(h){a="";var d=document.createElement("div");d.innerHTML=a+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+b+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(d)}else a=document.createElement("iframe"),a.setAttribute("name",c),a.setAttribute("data-transactionId",
b),a.id=c,a.setAttribute("src","about:blank"),a.style.display="none",a.className="",document.body.appendChild(a)},createAnchor:function(b){var a=document.createElement("a");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!F(b.classes,"capture_"+m+"_"+b.elementId)&&b.classes.push("capture_"+m+"_"+b.elementId);a.setAttribute("href",b.elementHref);a.innerHTML=b.elementText;b.elementId&&(a.id="capture_"+m+"_"+b.elementId);a.className=b.classes.join(" ");b.hideElement&&(a.style.display=
"none");return a},createDiv:function(b){var a=document.createElement("div");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!F(b.classes,"capture_"+m+"_"+b.elementId)&&b.classes.push("capture_"+m+"_"+b.elementId);b.elementId&&(a.id="capture_"+m+"_"+b.elementId);a.className=b.classes.join(" ");b.hideElement&&(a.style.display="none");return a},createImage:function(b){var a=document.createElement("img");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!F(b.classes,
"capture_"+m+"_"+b.elementId)&&b.classes.push("capture_"+m+"_"+b.elementId);b.alt&&a.setAttribute("alt",b.alt);"undefined"!==typeof b.width&&a.setAttribute("width",b.width);"undefined"!==typeof b.height&&a.setAttribute("height",b.height);a.src=b.elementSrc;b.elementId&&(a.id="capture_"+m+"_"+b.elementId);a.className=b.classes.join(" ");b.hideElement&&(a.style.display="none");return a},createInput:function(b){var a=document.createElement("input"),c=b.containerDivClasses||[],d;"submit"===b.elementType&&
b.containerDiv&&(d=this.createDiv({elementName:b.elementName+"_containverDiv",classes:c}));if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!F(b.classes,"capture_"+m+"_"+b.elementId)&&b.classes.push("capture_"+m+"_"+b.elementId);b.elementType&&a.setAttribute("type",b.elementType);b.name&&a.setAttribute("data-capturefield",b.name);b.elementValue&&(a.value=b.elementValue);b.elementName&&(a.name=b.elementName);b.elementId&&(a.id="capture_"+m+"_"+b.elementId);b.hideElement&&(a.style.display=
"none");a.className=b.classes.join(" ");return d?(d.appendChild(a),d):a},createForm:function(b){b.transactionId||(b.transactionId=ca());var a=b.transactionId,c=document.createElement("form"),d=v(b.fields)?b.fields:[],e=d.length;j.domHelpers.createIFrame(a);b.needsResponse&&D(document.getElementById("captureIFrame_"+a),"load",da);if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!F(b.classes,"capture_"+m+"_"+b.elementId)&&b.classes.push("capture_"+m+"_"+b.elementId);c.id="capture_"+
m+"_"+b.elementId+"_"+a;c.className=b.classes.join(" ");c.setAttribute("target","captureIFrame_"+a);c.setAttribute("data-transactionId",a);b.name&&c.setAttribute("data-capturefield",b.name);c.setAttribute("action",b.elementAction);c.setAttribute("method","POST");c.setAttribute("data-capturedomelement","true");c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:"\u2713",elementName:"utf8"}));s&&s.mergeToken&&c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:s.mergeToken,
elementName:"merge_token",elementId:"merge_token_"+a}));la&&c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:la,elementName:"flow_path",elementId:"flow_path_"+a}));Aa?c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:Aa,elementName:"access_token",elementId:"access_token_"+a})):ha&&c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:ha,elementName:"access_token",elementId:"access_token_"+a}));m&&c.appendChild(j.domHelpers.createInput({elementType:"hidden",
elementValue:m,elementName:"capture_screen",elementId:"screen_"+a}));Xa&&c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:Xa,elementName:"js_version",elementId:"js_version_"+a}));b.serverNextScreen&&c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:b.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+a}));b.engageTokenRequired&&c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:Ba,elementName:"token",
elementId:"token_"+a}));c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:a,elementName:"capture_transactionId",elementId:"transactionId_"+a}));c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:b.name,elementName:"form",elementId:"form_"+a}));c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:s.flow,elementName:"flow",elementId:"flow_"+a}));c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementName:"client_id",elementId:"client_id_"+
a,elementValue:janrain.settings.capture.clientId}));c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementName:"redirect_uri",elementId:"redirect_uri_"+a,elementValue:janrain.settings.capture.redirectUri}));c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:janrain.settings.capture.responseType,elementName:"reponse_type",elementId:"response_type_"+a}));c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:Cb,elementName:"flow_version",elementId:"flow_version_"+
a}));c.appendChild(j.domHelpers.createInput({elementType:"hidden",elementValue:q,elementName:"locale",elementId:"locale_"+a}));for(var f=0;f<e;f++)switch(a=d[f],a.elementType){case "div":c.appendChild(j.domHelpers.createDiv(a));break;case "anchor":c.appendChild(j.domHelpers.createAnchor(a));break;case "hidden":c.appendChild(j.domHelpers.createInput(a));break;case "file":c.setAttribute("enctype","multipart/form-data");c.appendChild(j.domHelpers.createInput(a));break;case "submit":c.appendChild(j.domHelpers.createInput(a))}j.domHelpers.createFormHandler(c,
b);return c},createFormHandler:function(b,a){"function"===typeof a.callback&&(b.setAttribute("next",'{"function":"'+a.elementId+'"}'),ib[a.elementId]=a.callback);D(b,"submit",ja)},createFormAndPost:function(b){var a=ca();b.transactionId=a;var c=j.domHelpers.createForm(b),a=j.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+a,elementId:"createFormAndPostSubmit_"+a,elementValue:"submit",hideElement:!0});c.appendChild(a);document.body.appendChild(c);j.domHelpers.createFormHandler(c,
b);a.click()}},createListOfLinks:function(b,a){var c;optionsLength=b.length;c="<ul";v(a)&&a.length&&(c=c+' class="'+a.join(" "),c+='"');c+=">";for(var d=0;d<optionsLength;d++){c+="<li";"string"===typeof b[d].listItemId&&(c+=' id="capture_'+m+"_"+b[d].listItemId+'" ');b[d].hide&&(c+=' style="display: none;" ');if(!b[d].listItemClasses||!v(b[d].listItemClasses))b[d].listItemClasses=[];"string"===typeof b[d].listItemId&&!F(b[d].listItemClasses,"capture_"+b[d].listItemId)&&b[d].listItemClasses.push("capture_"+
b[d].listItemId);v(b[d].listItemClasses)&&b[d].listItemClasses.length&&(c+=' class="',c+=b[d].listItemClasses.join(" "),c+='"');c+=">";c+='<a href="'+b[d].anchorHref+'"';"string"===typeof b[d].anchorId&&(c+=' id="capture_'+m+"_"+b[d].anchorId+'" ');if(!b[d].anchorClasses||!v(b[d].anchorClasses))b[d].anchorClasses=[];"string"===typeof b[d].anchorId&&!F(b[d].anchorClasses,"capture_"+b[d].anchorId)&&b[d].anchorClasses.push("capture_"+b[d].anchorId);v(b[d].anchorClasses)&&b[d].anchorClasses.length&&(c+=
' class="',c+=b[d].anchorClasses.join(" "),c+='"');c+=">";c+=b[d].anchorText;c+="</a>";c+="</li>"}return c+"</ul>"},togglePasswordInput:function(b){b=Ja(b);b.getAttribute("value")===b.getAttribute("placeholder")&&b.setAttribute("value","");if(h&&"text"===b.type){for(var a=[],c=0,d=y.length;c<d;c++)"capture_"+m+"_"+y[c].elementName==b.id&&(y[c].elementName=y[c].elementName,a.push(y[c]));c=document.createElement("span");d=b.parentElement;d.insertBefore(c,b);d.removeChild(b);var e=document.createElement("input");
e.id=b.id;e.setAttribute("data-capturefield",b.name);e.className="capture_password";e.name=b.name;e.setAttribute("type","password");d.insertBefore(e,c);d.removeChild(c);wa().attachEventHandlers(null,a);e.focus()}else b.setAttribute("type","password")},clearPlaceHolder:function(b){if(Lb)return!0;b=Ja(b);b.getAttribute("value")===b.getAttribute("placeholder")&&(h?b.value="":b.setAttribute("value",""))},restorePlaceHolder:function(b){if(Lb)return!0;var b=Ja(b),a=b.getAttribute("placeholder");"password"===
b.getAttribute("type")&&""===b.value&&b.setAttribute("type","text");a&&""===b.value&&(h?b.value=a:b.setAttribute("value",a))},validation:function(){var b,a;return{setParentDiv:function(b){(a=b)&&a.className.split(" ")},setElement:function(c){b=c;a&&a.className.split(" ")},valid:function(){r(a).append("capture_validated").remove("capture_error");var c={};b&&(c.field=b);janrain.events.onCaptureValidationSuccess.fire(c);janrain.events.onCaptureContentChange.fire()},pending:function(){janrain.events.onCaptureContentChange.fire()},
notValid:function(c,d){r(a).append("capture_error").remove("capture_validated");if(c){for(var e,f=a.getElementsByTagName("div"),h=f.length,j=0;j<h;j++)if("capture_tip_error"===f[j].className){var k=0===a.id.indexOf("capture_"+m+"_form_collection_")?"capture_"+m+"_form_collection_":"capture_"+m+"_form_item_";if(a.id.split(k)[1]===f[j].getAttribute("data-elementName")||a.id.split(k)[1]+"[dateselect_year]"===f[j].getAttribute("data-elementName")){e=f[j];break}}e&&(e.innerHTML=c);"function"===typeof d&&
d();janrain.events.onCaptureContentChange.fire()}e={};b&&(e.field=b);janrain.events.onCaptureValidationFailed.fire(e)}}}},Qb={createSelect:j.createSelect,createTextarea:j.createTextarea,createAnchor:j.createAnchor,createInput:j.createInput,createLabel:j.createLabel,createDiv:j.createDiv,createImage:j.createImage,createListOfLinks:j.createListOfLinks,toggelPassword:j.togglePasswordInput,clearPlaceHolder:j.clearPlaceHolder,restorePlaceHolder:j.restorePlaceHolder,getElementByEventAttribute:Ja};J.prototype.render=
{data:{stringData:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",a=b.displaySavedValue&&sb&&Na[b.value]?Na[b.value]:b.value;return a=b.justString?a:j.wrapStringData(b,a)},imageData:function(b){var a;b.value&&(b.returnImageTag?(a={elementName:b.elementname,hide:b.hide,src:b.value},b.classes&&(a.classes=b.classes),b.elementId&&(a.elementId=b.elementId),a=j.createImage(a)):a=b.value);return a}},htmlElement:{parent:J.prototype.render,textarea:function(b){var a;
a=""+j.wrapFormItemStart(b);a+=j.createTextarea(b);return a+=j.wrapFormItemEnd(b)},select:function(b){var a;a=""+j.wrapFormItemStart(b);a+=j.createSelect(b);a+=j.wrapFormItemEnd(b);j.attachFieldEventHandlers(b);return a},multi:function(b,a){var c,d,e=b.options.length;b.type="elementCollection";c=""+j.wrapFormItemStart(b);c+=j.createLabel(b);for(var f=0;f<e;f++)d=b.options[f],d.value=d.value||d.label,d.label=d.label||d.value,c+=this.input({elementName:b.elementName,type:a,elementId:b.elementName+"_"+
d.value+"_"+f,name:b.name,value:d.value,collection:!0,label:d.label,checked:F(b.value,d.value)}),y.push({elementName:b.elementName+"_"+d.value+"_"+f,handler:function(a,c){return function(){for(var d=document.getElementById("capture_"+m+"_form_collection_"+b.elementName),d=Ya("capture_form_item_"+b.elementName,d),g=document.getElementById("capture_"+m+"_form_item_"+b.elementName+"_"+a+"_"+c),e=0,i=d.length;e<i;e++)r(d[e]).remove("capture_toggled");g&&r(g).append("capture_toggled")}}(d.value,f),eventType:"click"});
c+=j.createTip(b);return c+=j.wrapFormItemEnd(b)},multiCheckbox:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},multiRadio:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},input:function(b){var a;a=""+j.wrapFormItemStart(b);a+=j.createInput(b);a+=j.wrapFormItemEnd(b);j.attachFieldEventHandlers(b);return a},button:function(b){var a;a=""+j.wrapFormItemStart(b);a+=j.createButton(b);a+=j.wrapFormItemEnd(b);j.attachFieldEventHandlers(b);return a},
form:function(b){var a="<form ",c=b.classes||[];c.indexOf("capture_form"===-1)&&c.push("capture_form");c.indexOf(-1==="capture_"+b.elementName)&&c.push("capture_"+b.elementName);a+="id='capture_"+m+"_"+b.elementName+"' ";a+="name='"+b.elementName+"' ";a+="data-capturefield='"+b.name+"' ";a+="action='"+janrain.settings.capture.captureServer+"/"+b.action+"' ";v(c)&&(a+="class='"+c.join(" ")+"' ");var a=a+"method='POST' novalidate='novalidate'"+("data-transactionId='"+b.transactionId+"'"),a=a+("target='captureIFrame_"+
b.transactionId+"'"),a=a+">"+('<div id="capture_'+m+"_"+b.elementName+'_errorMessages"></div>'),d="";if(b.errors){janrain.events.onCaptureFormError.fire(b.errors);for(var e in b.errors)b.errors.hasOwnProperty(e)&&(d+=j.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),d+=b.errors[e]+"</div>")}y.push({handler:function(){var a=Ya("capture_form_error_container",document.getElementById("capture_"+m+"_"+b.elementName)),a=a.length?a[0]:document.getElementById("capture_"+
m+"_"+b.elementName+"_errorMessages");a.innerHTML=d},eventType:"render"});a+=j.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});la&&(a+=j.createInput({elementName:"flow_path",elementId:"flow_path_"+b.transactionId,type:"hidden",value:la}));s&&s.mergeToken&&(a+=j.createInput({elementName:"merge_token",elementId:"merge_token_"+b.transactionId,type:"hidden",value:s.mergeToken}));Aa?a+=j.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,type:"hidden",value:Aa}):
ha&&(a+=j.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,type:"hidden",value:ha}));m&&(a+=j.createInput({elementName:"capture_screen",elementId:"screen_"+b.transactionId,type:"hidden",value:m}));Xa&&(a+=j.createInput({elementName:"js_version",elementId:"js_version_"+b.transactionId,type:"hidden",value:Xa}));b.serverNextScreen&&(a+=j.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+b.transactionId,type:"hidden",value:b.serverNextScreen}));
b.engageTokenRequired&&(a+=j.createInput({elementName:"token",elementId:"token_"+b.transactionId,type:"hidden",value:Ba}));a+=j.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+b.transactionId,type:"hidden",value:b.transactionId});a+=j.createInput({elementName:"form",elementId:"form_"+b.transactionId,type:"hidden",value:b.name});a+=j.createInput({elementName:"flow",elementId:"flow_"+b.transactionId,type:"hidden",value:s.flow});a+=j.createInput({elementName:"client_id",elementId:"client_id_"+
b.transactionId,type:"hidden",value:janrain.settings.capture.clientId});a+=j.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+b.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});a+=j.createInput({elementName:"response_type",elementId:"response_type_"+b.transactionId,type:"hidden",value:janrain.settings.capture.responseType});a+=j.createInput({elementName:"flow_version",elementId:"flow_version_"+b.transactionId,type:"hidden",value:Cb});return a+=j.createInput({elementName:"locale",
elementId:"locale_"+b.transactionId,type:"hidden",value:q})},div:function(b){return j.createDiv(b)},close:function(b){return"</"+b.element+">"}},captureElement:{captcha:function(b){Jb||sa("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Jb=!0});y.push({elementName:b.name,handler:function(){function b(){if("undefined"===typeof Recaptcha)setTimeout(b,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,
"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}b()},eventType:"render"});return'<div id="recaptcha_container" class="capture_form_item"></div>'},traditionalPasswordChange:function(b){var a;a=ia.currentPasswordText||"Current Password";var c=ia.changePasswordText||"Change Password",d=ia.createANewPasswordText||"Create a new password.",e="capture_"+m+"_"+b.name+"_changepasswordscreen",f=J.prototype.render;a='<div class="capture_traditionalPasswordChange"><div class="capture_form_item">'+
('<label class="form_label">'+a+"</label>")+'<div class="capture_inputPlaceholder">\u2022 \u2022 \u2022 \u2022 \u2022 \u2022 \u2022 \u2022 </div>'+('<div class="capture_tip"><a href="#" id="capture_'+m+"_"+b.name+'_changepasswordlink">'+c+"</a></div>");a+="</div></div>";y.push({elementName:b.name+"_changepasswordlink",handler:function(b){Sa(document.getElementById(e));N(b)},eventType:"click"});a=a+'<div style="display: none;">'+('<div id="'+e+'" class="janrain-capture-ui capture-ui-content capture_changeTraditionalPassword capture_med_footer">');
L&&L.modal&&(a+=f.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));a+=f.htmlElement.form({name:b.name,elementName:b.name,action:"widget/profile.jsonp"});a=a+('<div class="capture_header"><h1>'+d+"</h1></div>")+f.htmlElement.input({elementName:"newpassword",label:"New Password",tip:"Desired Password",type:"password"});a+=f.htmlElement.input({elementName:"newpasswordConfirm",label:"Password Confirm",tip:"Re-type your password",type:"password"});
a=a+'<div class="capture_footer">'+f.htmlElement.input({name:"submitButton",elementName:"submitButton",value:"Save",type:"submit"});return a+"</div></form></div></div>"},mergeAccounts:function(b){var a=J.prototype.render,c=b.value,d,e="";c.existing_provider="legacy"===c.existing_provider?"email":c.existing_provider;for(var f in s.fields)s.fields.hasOwnProperty(f)&&"form"===s.fields[f].element&&"merge"===s.fields[f].type&&(d=s.fields[f].elementName||s.fields[f].name||f);b.customText||(b.customText=
{});f=b.customText.connectRadio||'Connect this session with your existing account <br /><span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>';var h=b.customText.connectLegacyRadio||'Connect this session with your existing account <br /><span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',
k=b.customText.createRadio||"Create a new account using Google sign-in.",n=b.customText.traditionalMergeHeader||"Sign in to complete account merge",o=b.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",p=b.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',
q=b.customText.moreInfo||"More Info ?",r=b.customText.createButton||"Create",t=b.customText.connectButton||"Connect",e=e+j.createDiv({elementName:b.name+"_mergeOptionsContainer"}),e=e+'<div class="capture_header"><div class="capture_icon_col">';c.current_photo&&(e+='<img src="'+c.current_photo+'" height="25" width="25" />');e=e+'</div><div class="capture_displayName_col">'+(c.current_displayName+"<br />");e+=c.current_emailAddress;e=e+"</div>"+('<span class="capture_mergeProvider janrain-provider30-'+
c.current_provider.toLowerCase()+'"></span>');e=e+'</div><div class="capture_dashed"><div class="capture_mergeCol capture_centerText capture_left">'+('<p class="capture_bigText">'+Tb(c,o)+"</b>.</p>");e=e+'<div class="capture_hover">'+('<div class="capture_popup_container"><span class="capture_popup-arrow"></span>'+Tb(c,p)+"</div>");e=e+q+'</div></div><div class="capture_mergeCol capture_mergeExisting_col capture_right"><div class="capture_shadow capture_backgroundColor capture_border">';c.existing_provider_photo&&
(e+='<div class="capture_icon_col"><img src="'+c.existing_provider_photo+'" height="25" width="25" /></div>');e=e+'<div class="capture_displayName_col">'+(c.existing_displayName+"<br />");e+=c.existing_provider_emailAddress;e=e+"</div>"+('<span class="capture_mergeProvider janrain-provider16-'+c.existing_provider.toLowerCase()+'"></span>');e+='<div class="capture_centerText capture_smallText">Created '+c.existing_createdDate+" at "+c.existing_siteName+"</div>";e=e+"</div></div></div>"+a.htmlElement.multiRadio({element:"multiRadio",
value:[1],elementName:b.name+"_mergeRadio",classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===c.existing_provider?Tb(c,h):Tb(c,f),value:1},{label:k,value:2}]});e+=a.htmlElement.button({elementContent:'<span class="capture_mergeProvider janrain-provider16-'+c.existing_provider.toLowerCase()+'"></span><span class="capture_mergeProvider janrain-provider16-'+c.current_provider.toLowerCase()+'"></span>'+t,elementName:b.name+"_connectButton",name:b.name+"_connectButton",
element:"button",type:"button"});e+=a.htmlElement.button({elementContent:r,hide:!0,elementName:b.name+"_createButton",name:b.name+"_createButton",element:"button",type:"submit"});e=e+"</div>"+j.createDiv({hide:!0,elementName:b.name+"_tradMergeContainerWrapper"});e+='<div class="capture_header"><input type="button" id="capture_'+m+"_"+b.name+'_traditionalMergeCancel" class="capture_backButton" /><h1>'+n+"</h1></div>";e+=j.createDiv({elementName:b.name+"_tradMergeContainer"});e+="</div></div>";y.push({handler:function(){var a=
document.getElementById("capture_"+m+"_"+d);document.getElementById("capture_"+m+"_"+b.name+"_tradMergeContainer").appendChild(a)},eventType:"render"});y.push({elementName:b.name+"_connectButton",handler:function(){if("email"===c.existing_provider){var a=document.getElementById("capture_"+m+"_"+b.name+"_mergeOptionsContainer"),d=document.getElementById("capture_"+m+"_"+b.name+"_tradMergeContainerWrapper");a.style.display="none";d.style.display="block";janrain.events.onCaptureContentChange.fire()}else Xb=
!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(c.existing_provider),janrain.engage.signin.setCustom(!1)},eventType:"click"});y.push({elementName:b.name+"_traditionalMergeCancel",handler:function(){var a=document.getElementById("capture_"+m+"_"+b.name+"_mergeOptionsContainer"),c=document.getElementById("capture_"+m+"_"+b.name+"_tradMergeContainerWrapper");a.style.display="block";c.style.display="none";janrain.events.onCaptureContentChange.fire()},eventType:"click"});y.push({elementName:b.name+
"_createButton",handler:function(){Oa=null;janrain.apps.capture.ui.renderScreen(janrain.settings.capture.registerFlow||"socialRegister")},eventType:"click"});y.push({elementName:b.name+"_mergeRadio_1_0",handler:function(){document.getElementById("capture_"+m+"_"+b.name+"_connectButton").style.display="block";document.getElementById("capture_"+m+"_"+b.name+"_createButton").style.display="none"},eventType:"click"});y.push({elementName:b.name+"_mergeRadio_2_1",handler:function(){document.getElementById("capture_"+
m+"_"+b.name+"_connectButton").style.display="none";document.getElementById("capture_"+m+"_"+b.name+"_createButton").style.display="block"},eventType:"click"});return e},publicProfileLink:function(b){b.elementHref=b.elementHref+"?uuid="+b.value;b.elementText=b.elementText||"Public Profile";return b=""+j.createAnchor(b)},linkAccounts:function(b){b.value||(b.value={});b.customText||(b.customText={});for(var a='<div class="capture_linkAccounts" id="capture_'+m+"_"+b.name+'_currentlinkedaccounts">',c=
b.customText.linkAnotherAccount||"Link Another Account",d=b.customText.linkAnotherAccountDescription||"<h2>Link any of these providers with your account.</h2><h3>Allows you to sign in to your example.com account using that provider in the future.</h3>",e=v(b.value.providers)?b.value.providers.length:0,f="capture_"+m+"_"+b.name+"_linkaccountsscreen",h=J.prototype.render,a=a+'<ul class="capture_provider">',k=0;k<e;k++)a+='<li><span class="janrain-provider16-'+b.value.providers[k]+'"></span>'+b.value.providers[k],
0<k&&(a+='<span class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" style="position: absolute; right: 0; cursor: pointer" data-captureidentifier="'+b.value.identifiers[k]+'"></span>'),a+="</li>";a+='<li class="capture_linkAccount"><a href="#" id="capture_'+m+"_"+b.name+'_linknewlink">'+c+"</a></li>";a+="</ul></div>";y.push({elementName:b.name+"_linknewlink",handler:function(b){janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);janrain.engage&&
janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0});Sa(document.getElementById(f));N(b)},eventType:"click"});y.push({elementName:b.name+"_currentlinkedaccounts",handler:function(b){var a=Q(b);if(r(a).has("capture_remove_linkedaccount")){var c=a.getAttribute("data-captureidentifier");j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:function(){vb(a.parentNode)},
fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:c},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:c}]})}N(b)},eventType:"click"});a=a+'<div style="display: none;">'+('<div id="'+f+'" class="janrain-capture-ui capture-ui-content capture_addLinkedAccount">');L&&L.modal&&(a+=h.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));a=a+('<div class="capture_header"><h1>'+c+"</h1></div>")+d+h.widget.login();
return a+"</div></div>"},errorMessages:function(){var b;b=""+J.prototype.render.htmlElement.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return b+"</div>"},savedProfileMessage:function(){var b;b=""+J.prototype.render.htmlElement.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),classes:["capture_save_success","capture_profileSavedMessage_container"]});return b+"</div>"},nameFull_public:function(b){if("undefined"!==
typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",a="";b.value.firstname&&(a+=b.justString?b.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+b.value.firstname+"</span> ");b.value.middlename&&(a+=b.justString?b.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+b.value.middlename+"</span> ");b.value.lastname&&(a+=b.justString?b.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+b.value.lastname+"</span>");return a=
b.justString?a:j.wrapStringData(b,a,"capture_stringdata_nameBlock")},nameFull:function(b){var a,c=J.prototype.render.htmlElement;a='<div class="capture_form_item capture_nameBlock">'+c.input({elementName:b.name+"[firstname]",elementId:b.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:b.name,publicPrivateToggle:b.publicPrivateToggle,displayPublic:b.displayPublic,value:b.value&&b.value.firstname?b.value.firstname:
"",placeholder:b.placeholder&&b.placeholder.firstname?b.placeholder.firstname:""});a+=c.input({elementName:b.name+"[middlename]",elementId:b.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:b.name,value:b.value&&b.value.middlename?b.value.middlename:"",placeholder:b.placeholder&&b.placeholder.middlename?b.placeholder.middlename:""});a+=c.input({elementName:b.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],
elementId:b.name+"_lastname",type:"text",rendererFieldName:b.name,rendererChildFieldName:"lastname",value:b.value&&b.value.lastname?b.value.lastname:"",placeholder:b.placeholder&&b.placeholder.lastname?b.placeholder.lastname:""});return a+"</div>"},dateselect_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic||!a.value.dateselect_month||!a.value.dateselect_year||!a.value.dateselect_day)return"";var c="",d="",c=parseInt(a.value.dateselect_month,10),d=parseInt(a.value.dateselect_year,
10),e=parseInt(a.value.dateselect_day,10);a.format?(c=new Date(d,c-1,e),d=a.format,d=d.replace("{yyyy}",c.getFullYear()),d=d.replace("{month}",uc[c.getMonth()]),d=d.replace("{day}",tc[c.getDay()]),d=d.replace("{m}",c.getMonth()+1),d=d.replace("{d}",c.getDate())):d=c+"/"+e+"/"+d;return c=a.justString?d:j.wrapStringData(a,d,"capture_stringdata_dateselectBlock")},dateselect:function(a){var c='<div id="capture_'+m+"_form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',e=a.value&&
a.value.dateselect_day?a.value.dateselect_day:"",f=a.value&&a.value.dateselect_year?a.value.dateselect_year:"",h=[{text:"month",value:"",disabled:!0},{text:"January",value:1},{text:"February",value:2},{text:"March",value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},{text:"August",value:8},{text:"September",value:9},{text:"October",value:10},{text:"November",value:11},{text:"December",value:12}],k=a.monthStart||1,n=a.monthEnd||13,o=a.dayStart||1,p=a.dayEnd||
31,q=a.yearStart||1929,r=a.yearEnd||2012,c=c+j.createSelect({elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",label:a.label,rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],publicPrivateToggle:a.publicPrivateToggle,justElement:!0,displayPublic:a.displayPublic,value:a.value&&a.value.dateselect_month?a.value.dateselect_month:"",options:h.slice(0,1).concat(h.slice(k,n))}),c=c+j.createSelect({elementName:a.name+"[dateselect_day]",
elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:e,options:d(o,p,"asc","day")}),q=parseInt(q,10),r=parseInt(r,10),c=c+j.createSelect({elementName:a.name+"[dateselect_year]",elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],tip:a.tip,value:f,options:d(q,r,"desc","year")});return c+"</div>"},addressFull_public:function(a){if("undefined"!==
typeof a.displayPublic&&!1===a.displayPublic)return"";var c="",c="";a.value.streetaddress&&(c+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&(c+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(c+='<span class="capture_stringdata_addressBlock_city">'+
a.value.city+"</span>, ");a.value.stateprovince&&(c+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(c+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+="</div>";a.value.country&&(c+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return c=j.wrapStringData(a,c,"capture_stringdata_addressBlock")},
addressFull:function(a){var c,d=J.prototype.render.htmlElement;a.value||(a.value={});a.value.country||(a.value.country="United States");c='<div class="capture_form_item capture_addressBlock">'+d.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&
a.placeholder.streetaddress?a.placeholder.streetaddress:""});c+=d.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});c+=d.input({elementName:a.name+"[city]",elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],rendererChildFieldName:"city",
rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});c+=d.select({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&a.value.stateprovince?
a.value.stateprovince:"",options:[{text:"state",value:"",disabled:!0},{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},
{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},
{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"},{text:"AB",value:"AB"},{text:"BC",value:"BC"},{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},
{text:"SK",value:"SK"},{text:"YT",value:"YT"}]});y.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});c+=d.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});c+=d.select({elementName:a.name+
"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:"",options:[{text:"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},
{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",
value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",
value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",
value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},
{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",
value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",
value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",
value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},
{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},
{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},
{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},
{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},
{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",
value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",
value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},
{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}]});y.push({elementName:a.name+"_country",handler:function(){var c=this.options[this.selectedIndex].value||"",d=document.getElementById("capture_"+
m+"_"+a.name+"_stateprovince");"United States"===c||"Canada"===c?document.getElementById("capture_"+m+"_form_item_"+a.name+"[stateprovince]").style.display="inline-block":(d.selectedIndex=0,document.getElementById("capture_"+m+"_form_item_"+a.name+"[stateprovince]").style.display="none")},eventType:"change"});return c+"</div>"},backButton:function(a){var c;a.type="button";c=""+j.createInput(a);a.type="backButton";y.push({elementName:a.elementName,handler:function(){Za=!1;var a=bb.pop();a&&janrain.capture.ui.render(a.flow,
a.values)},eventType:"click"});return c},partial:function(a){var c=document.getElementById(a.layout);if(c)return c.innerHTML;throw k(a.layout);},photoManager:function(a){function c(d){var e=document.getElementById(m+"_"+a.name+"_profile_pic_uploadform_container"),g=j.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+"/widget/photo/upload_photo.jsonp",classes:[],needsResponse:!0,elementId:"upload_photo_form",callback:function(){},fields:[{elementName:"photo",elementId:"photo_chooser",
elementType:"file"},{elementName:"photo_submit",elementId:"photo_submit",elementValue:"Upload",classes:["capture_btn","capture_primary"],hideElement:!1,containerDiv:!0,containerDivClasses:["capture_footer"],elementType:"submit"}]});e.innerHTML="";e.appendChild(g);Sa(document.getElementById(q));d&&N(d)}function d(c){if(0<parseInt(c.unscaled.width)){n=c;var e=c.unscaled.height/c.sizedHeight,g=Math.round(100/(c.unscaled.width/c.sizedWidth)),f=document.getElementById("capture_"+m+"_"+a.name+"_profile_pic_image_edit"),
e=Math.round(100/e);"none"===f.style.display&&(f.style.display="block");f.style.width=g+"px";f.style.height=e+"px";f.style.marginLeft="-"+Math.round(c.unscaled.left/c.sizedWidth*g)+"px";f.style.marginTop="-"+Math.round(c.unscaled.top/c.sizedHeight*e)+"px"}}function e(){if(o)return!1;var c=document.getElementById("capture_"+m+"_"+a.name+"_profile_pic_image_edit_crop");crop(c,d,450,450,function(){janrain.events.onCaptureContentChange.fire()});c.style.display="inline";o=!0}function f(){var a=n.sizedWidth/
n.originalWidth,b=n.sizedHeight/n.originalHeight;document.getElementById("capture_"+m+"_width").value=Math.round(n.unscaled.width/a);document.getElementById("capture_"+m+"_height").value=Math.round(n.unscaled.height/b);document.getElementById("capture_"+m+"_x").value=Math.round(n.unscaled.left/a);document.getElementById("capture_"+m+"_y").value=Math.round(n.unscaled.top/b)}if(v(a.value)&&a.value.length){ea={};for(var h=0,k=a.value.length;h<k;h++)ea[a.value[h].type]=a.value[h]}else ea=!1;var h=j.createDiv({elementName:a.elementName}),
n,o=!1,p=(k="object"===typeof ea)?"":"capture_profile_pic ",q="capture_"+m+"_"+a.name+"_uploadphotoscreen",r="capture_"+m+"_"+a.name+"_editphotoscreen";a.customText||(a.customText={});var s=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",t=a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo",x=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",z=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",A=a.customText.removePhotoLinkPhotoManager||
"Remove photo",B=a.customText.editPhotoLinkPhotoManager||"Edit Photo",u=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo";vb(document.getElementById(q));vb(document.getElementById(r));h+='<div id="'+m+"_"+a.name+'_profile_pic" class="'+p+'capture_profile_pic_display capture_default">';k&&ea.large&&(h+=j.createImage({src:ea.large.value,imageId:a.name+"_profile_pic_image"}));h=h+"&nbsp;</div>"+j.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:z,
anchorHref:"#",anchorClasses:[],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:B,anchorHref:"#",anchorClasses:["three","four"],anchorId:"edit_photo_link",hide:!k},{listItemId:"remove_photo",listItemClasses:[],anchorText:A,anchorHref:"#",anchorClasses:["three","four"],anchorId:"remove_photo_link",hide:!k}],["options"]);h=h+'</div><div style="display: none;">'+('<div id="'+q+'" class="janrain-capture-ui capture-ui-content capture_med_footer">')+'<div class="capture_header">'+
("<h1>"+s+"</h1>")+"</div>"+('<div id="'+m+"_"+a.name+'_profile_pic_upload" class="'+p+'capture_profile_pic_upload capture_default">');k&&ea.normal&&(h+=j.createImage({src:ea.normal.value,imageId:a.name+"_profile_pic_image_upload"}));h=h+"&nbsp;</div>"+('<div id="'+m+"_"+a.name+'_profile_pic_uploadform_container" class="capture_uploadPhoto_container">');h=h+'</div></div></div><div style="display: none;">'+('<div id="'+r+'" class="janrain-capture-ui capture-ui-content capture_med_footer">')+'<div class="capture_header">'+
("<h1>"+t+"</h1>")+"</div>"+('<div id="'+m+"_"+a.name+'_profile_pic_edit" class="'+p+'capture_profile_pic_edit capture_default">');k&&ea.original&&(h+=j.createImage({src:ea.original.value,imageId:a.name+"_profile_pic_image_edit"}));h=h+"&nbsp;</div>"+('<div id="'+m+"_"+a.name+'_profile_pic_editPhoto_container" class="capture_editPhoto_container">');h+="<h2>"+x+"</h2>";k&&ea.original&&(h+=j.createImage({src:ea.original.value,imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}));
var h=h+"</div></div></div>",E=j.domHelpers.createForm({elementAction:janrain.settings.capture.captureServer+"/widget/photo/crop_photo.jsonp",needsResponse:!0,elementId:"crop_photo_form",fields:[{elementName:"",classes:["capture_popup-arrow"],elementType:"div"},{elementId:"width",elementName:"width",elementType:"hidden"},{elementId:"height",elementName:"height",elementType:"hidden"},{elementId:"x",elementName:"x",elementType:"hidden"},{elementId:"y",elementName:"y",elementType:"hidden"},{elementValue:"Save",
elementId:a.name+"_edit_photo_submit",elementName:"edit_photo_submit",hideElement:!1,containerDiv:!0,containerDivClasses:["capture_footer"],classes:["capture_btn","capture_primary"],elementType:"submit"}],callback:function(){}});y.push({eventType:"render",handler:function(){var d=document.createElement("a");d.innerHTML=u;d.setAttribute("href","#");D(d,"click",c);document.getElementById(m+"_"+a.name+"_profile_pic_editPhoto_container").appendChild(E);var e=document.getElementById("capture_"+m+"_"+a.name+
"_edit_photo_submit");e.parentNode.insertBefore(d,e);D(E,"submit",f)}});y.push({elementName:"upload_photo_link",handler:c,eventType:"click"});y.push({elementName:"edit_photo_link",handler:function(a){"function"!==typeof crop?sa("http://janrain-widgets.s3.amazonaws.com/crop/crop.js",e):setTimeout(e,50);Sa(document.getElementById(r));N(a)},eventType:"click"});y.push({elementName:"remove_photo_link",handler:function(a){if(!document.getElementById("capture_"+m+"_remove_photo_contain")){var b=j.domHelpers.createDiv({elementId:"remove_photo_contain",
classes:["capture_popup_container pad"]}),c=j.domHelpers.createAnchor({elementHref:"#",elementText:"Remove",elementId:"confirm_remove_photo_link"}),d=j.domHelpers.createAnchor({elementHref:"#",elementText:"Cancel"});b.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';b.appendChild(c);b.appendChild(d);document.getElementById("capture_"+m+"_remove_photo").appendChild(b);var e=function(a){!F(["capture_"+m+"_createFormAndPostSubmit","capture_"+m+"_confirm_remove_photo_link","capture_"+
m+"_remove_photo_link"],Q(a).getAttribute("id"))&&0>Q(a).getAttribute("id").indexOf("capture_editProfileLayout_createFormAndPostSubmit_")&&(b.innerHTML="",vb(b),kc(document,"click",e),N(a))};D(d,"click",e);D(document,"click",e);D(c,"click",function(a){j.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});N(a)});N(a)}},eventType:"click"});return h},collection:{radio:function(a){for(var c=
j.createDiv({elementName:a.elementName,classes:a.classes||""}),d=0;d<a.collection.length;d++)c+="<div class='capture_radio_toggle",c+=(0===d?" capture_toggled":"")+"'>",c+="<input type='radio' id='capture_"+m+"_radio_"+a.collection[d].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===d?"checked='true' ":"")+"/>",c+="<label ",c+="class='capture_radio_label' ",c+="for='capture_"+m+"_radio_"+a.collection[d].elementName+"'>"+a.collection[d].label+" ",c+="</label></div>",
y.push({elementName:"radio_"+a.collection[d].elementName,handler:function(c){fa(c,a)},eventType:"click"});return c+"</div>"},accordion:function(){return"<div>"},tab:function(a){for(var c,d=[],e=j.createDiv({elementName:a.elementName,classes:a.classes||""}),f=0;f<a.collection.length;f++)c={},c.listItemId="tab_li_"+a.collection[f].elementName,c.listItemClasses=["capture_tab_toggle"],0===f&&c.listItemClasses.push("capture_toggled"),c.anchorId="tab_"+a.collection[f].elementName,c.anchorText=a.collection[f].label,
c.anchorHref="#",d.push(c),y.push({elementName:"tab_"+a.collection[f].elementName,handler:function(c){fa(c,a)},eventType:"click"});e+=j.createListOfLinks(d,["capture_tabs"]);return e+"</div>"}}},widget:{login:function(){y.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),b=document.getElementById("capture_"+m+"_login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=ca();janrain.engage.signin.appendTokenParams({capture_transactionId:c});
cb=c}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());mb||Z()},eventType:"render"});var a=j.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(){}}};Mb.accessDenied='<div class="capture_access">'+(ia.accessDenied||"Sorry. Access denied.")+"</div>";Mb.retrievingUserData=
'<div class="capture_retrieving">'+(ia.retrievingUserData||"Please wait while we retrieve your user data.")+"</div>";var Wb=[],Kb={};return{modal:{close:function(){"object"==typeof B&&B.close()},closeConfirm:function(){"object"==typeof B&&B.closeConfirm()},open:function(a){a=a||L.flow.defaultScreen;"object"==typeof B&&(janrain.capture.ui.renderScreen(a),B.setShowContentOnLoad(!0).addContent(L.div).show(),janrain.events.onCaptureContentChange.fire())},setBorder:function(a){"object"===typeof B&&(B.setBorder(a),
B.refresh());return!0},setBorderColor:function(a){"object"===typeof B&&(B.setBorderColor(a),B.refresh());return!0},setBorderOpacity:function(a){"object"===typeof B&&(B.setBorderOpacity(a),B.refresh());return!0},setBorderRadius:function(a){"object"==typeof B&&(B.setBorderRadius(a),B.refresh());return!0}},start:function(b,c){a(b,c)},hasActiveSession:function(){return!!ha},render:function(a,c){ma(Fa());a.i18nStrings&&(ia=a.i18nStrings);if(a.version)Cb=a.version;else throw Error("MissingVersionError: Missing version.");
ka(a);var d=new wa,e=s.oneTimeRender||janrain.settings.capture.screenToRender||s.defaultScreen;d.setScreenData(e,s.screens[e]);if(c)for(var f in c)c[f].id&&c[f].value&&(d=document.getElementById(c[f].id),d.value=c[f].value,"radio"===c[f].type&&(d.checked=c[f].checked,c[f].checked&&d.click()))},renderScreen:function(a,c){Za=!1;c||bb.push(L);(new wa).setScreenData(a,s.screens[a])},setHandler:function(a,c,d){this.setFieldAttribute(a,c+"Handler",d)},setFieldAttribute:function(a,c,d){db.push({field:a,
attribute:c,value:d})},setRenderer:function(a,c,d){J.prototype.render[a].helpers=Qb;J.prototype.render[a][c]=d},setValidator:function(a,c){t.prototype[a]=c},registerFunction:function(a,c){Kb[a]=c},addRenderer:function(a,c,d){this.setRenderer(a,c,d)},trackLoadedCssFiles:function(a){bc.push(a)},handleCaptureUniqueResponse:function(a){Va(a)},handleCaptureResponse:function(a,c){var d;if("ok"===a.stat&&(d=a.result,d.accessToken&&d.oneTime&&(Aa=d.accessToken,hb=!0),d.accessToken&&!d.oneTime&&T(d.accessToken),
d&&d.status)){zb[d.transactionId]=d;"success"===d.status?(janrain.events.onCaptureSuccessfulSave.fire(d),Aa&&!hb?Aa="":hb=!1):janrain.events.onCaptureFailedSave.fire(d);"profile"===d.action&&d.statusMessage&&"profileFound"!==d.statusMessage&&("success"===d.status?(Eb=!0,janrain.events.onCaptureSuccessfulProfileSave.fire(d)):janrain.events.onCaptureFailedProfileSave.fire(d));if("traditionalSignin"===d.action||"socialSignin"===d.action||"ssoSignin"===d.action)if("success"===d.status){if(d.authorizationCode){var e;
e=janrain.settings.capture.redirectUri;var f={code:d.authorizationCode},h=-1<e.indexOf("?")?"&":"?",j=[],k;for(k in f)f.hasOwnProperty(k)&&j.push(k+"="+encodeURIComponent(f[k]));e=e+h+j.join("&");d.redirectUri=e}if(d.accessToken||d.authorizationCode)janrain.events.onCaptureSuccessfulLogin.fire(d),("traditionalSignin"===d.action||"socialSignin"===d.action)&&Ea(d.action),janrain.settings.capture.federate&&d.sso&&d.ssoCode&&Ka(d.ssoCode),janrain.settings.capture.federate&&d.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(d),
H(d.transactionId),za=!0);d.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=e)}else janrain.events.onCaptureFailedLogin.fire(d);if("traditionalRegister"===d.action||"socialRegister"===d.action)if("success"===d.status){if(janrain.events.onCaptureSuccessfulRegistration.fire(d),d.accessToken||d.authorizationCode)"socialRegister"===d.action?Ea("socialSignin"):Ea("traditionalSignin"),janrain.settings.capture.federate&&d.sso&&d.ssoCode&&Ka(d.ssoCode)}else janrain.events.onCaptureFailedRegistration.fire(d);
d.userData&&janrain.settings.capture.setProfileCookie&&(d=d.userData,k=aa(),(new K).setExpirationDirectly(k).setName("janrainCaptureProfileData").setValue(A.stringify(d)).create())}"function"===typeof c&&c()},handleErrorResponse:function(a,c){a.result&&a.result.error&&"access_token_expired"===a.result.error&&(Ha(),janrain.events.onCaptureExpiredToken.fire());var d=a.result.error+": "+a.result.errorDescription;if(Pa){var e=j.domHelpers.createDiv({classes:["capture_fatal_error"],elementId:"fatalerror_"+
(new Date).getTime()});e.innerHTML=d;Pa.insertBefore(e,Pa.firstChild);janrain.events.onCaptureContentChange.fire()}Pa||alert(d);oa(a);"function"===typeof c&&c()},createCaptureSession:function(a){T(a)},endCaptureSession:function(){Ha()},addTransactionIds:function(a){ma(a)},getFailedLogins:function(){return Db},setCustomHtml:function(a,c){F(Pb,a)&&(Mb[a]=c)},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);H(a.transactionId);eb();za=!0},federateSetLoginSuccess:function(a){H(a)},
validationHandler:function(a){var c=document.getElementById(a.elementId),d=new j.validation;d.setParentDiv(c);a.valid?d.valid():d.notValid(a.reason)}}};return{engage:{signin:janrain&&janrain.engage&&janrain.engage.signin?janrain.engage.signin:O,share:janrain&&janrain.engage&&janrain.engage.share?janrain.engage.share:da,publish:janrain&&janrain.engage&&janrain.engage.publish?janrain.engage.publish:qb,simpleshare:janrain&&janrain.engage&&janrain.engage.simpleshare?janrain.engage.simpleshare:Za},capture:{ui:vc}}}();
janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;