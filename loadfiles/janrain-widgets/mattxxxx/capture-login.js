/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2013.17
 -*- Capture UI Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2013.17
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var yb,zb,Dc,hd,he,ie,Ab,Hd,je,ke,le,me,pb,lb;function id(){var a;a="http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.1.10/":"https://d3hmp0045zy3cs.cloudfront.net/2.1.10/";if(janrain.settings.capture&&janrain.settings.capture.quiltVersion){a=a.split("/");if("cdn.quilt.janrain.com"===a[2]||"d3hmp0045zy3cs.cloudfront.net"===a[2])a[a.length-2]=janrain.settings.capture.quiltVersion;a=a.join("/")}return a}function Id(a,c,d){var e;if(document.getElementById(a))return!1;
if(g){e="";var s=document.createElement("div");s.innerHTML=e+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+c+'" ')+'style="display: none;"></iframe>';document.body&&document.body.appendChild(s);e=document.getElementById(a)}else e=document.createElement("iframe"),e.setAttribute("name",a),e.id=a,e.setAttribute("src",c),e.style.display="none",document.body&&document.body.appendChild(e);"function"===typeof d&&d();return e}function ia(a){for(var c="",d=0;d<a;)c+=ia.possible[Math.floor(Math.random()*
ia.possible.length)],d++;return c}function kc(){function a(a,c,d,e){c={action:a,key:c,messageId:d};"set"===a&&(c.value=e);return"janrainCapture:"+K.stringify(c)}function c(a,c){function d(){e++;if(10<e)return!1;if("undefined"!==typeof u[a])return clearTimeout(h),"get"===u[a].action&&"function"===typeof c&&c(u[a].storedValue),!0;var h=setTimeout(d,50)}var e=0;d()}function d(d,e){var h=ia(40);window.setTimeout(function(){f.contentWindow.postMessage(a("get",d,h),B)});c(h,e)}function e(a,c){if(h)Ec?d(a,
c):setTimeout(function(){e(a,c)},50);else return window.localStorage.getItem(a)}function s(a){if(0!==a.data.indexOf("janrainCapture:")||!C(Ge,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=K.parse(a.data.replace("janrainCapture:",""));u[a.messageId]=a}var h=!1,u={},f,B,Ge=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(d,e){if(h){var s=ia(40);window.setTimeout(function(){f.contentWindow.postMessage(a("set",
d,s,e),B)});return c(s)}return window.localStorage.setItem(d,e)},removeItem:function(d){if(h){var e=ia(40);window.setTimeout(function(){f.contentWindow.postMessage(a("remove",d,e),B)});return c(e)}return window.localStorage.removeItem(d)},getItem:e,setMultiDomain:function(a){if(h=a)window.addEventListener?window.addEventListener("message",s,!1):window.attachEvent?window.attachEvent("onmessage",s):document.attachEvent&&document.attachEvent("onmessage",s),f=document.getElementById("xDomainLocalStorageJanrain"),
B=janrain.settings.storageServerDomain}}}function E(){function a(){if(s&&Fc){var a=new kc;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(e);a.removeItem(e+"_Expires")}else{var a=u?"; domain="+u:"",c=new Date;c.setTime(c.getTime()+-864E6);document.cookie=e+"="+h+";expires="+c.toUTCString()+a+"; path="+f}}function c(c,d,h){var u,f,jd,g,k,h="undefined"===typeof h?!0:h;if(s&&Fc)if(k=new kc,janrain.settings.multiDomainLocalStorage)k.setMultiDomain(!0),k.getItem(c,function(u){u?
h?k.getItem(c+"_Expires",function(h){h?Math.round((new Date).getTime()/1E3)>Math.round((new Date(h)).getTime()/1E3)?(e=c,a(),"function"===typeof d&&d(!1)):"function"===typeof d&&d(u):(new E).getCookie(c+"_session")?"function"===typeof d&&d(u):(e=c,a())}):"function"===typeof d&&d(u):"function"===typeof d&&d(!1)});else if(g=k.getItem(c),u=k.getItem(c+"_Expires"),g){if(!h||!(u&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(u)).getTime()/1E3))&&(u||(new E).getCookie(c+"_session")))return g;
e=c;a()}else return!1;else{u=document.cookie.split(";");f=u.length;for(var R=0;R<f;R++)if(jd=u.pop(),g=jd.split("="),jd=g[0],g=g[1],jd.trim()===c)return g;return!1}}var d,e,s=!1,h,u,f="/";return{create:function(){if(s&&Fc){var a=new kc;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(e,h);d?a.setItem(e+"_Expires",d):(new E).setName(e+"_session").setValue("session").create()}else document.cookie=e+"="+h+(d?"; expires="+d:"")+(u?"; domain="+u:"")+"; path="+f},remove:a,setExpirationDirectly:function(a){a&&
(d=a);return this},setExpiration:function(a){if(a){var c=new Date;c.setTime(c.getTime()+864E5*a);d=c.toUTCString()}return this},setName:function(a){a&&(e=a);return this},setValue:function(a){"undefined"!==typeof a&&(h=a);return this},setUseLocalStorage:function(a){s=a;return this},setPath:function(a){a&&(f=a);return this},setDomain:function(a){a&&(u=a);return this},getCookie:function(a,d,e){return c(a,d,e)}}}function Jb(a,c){a=a||navigator.appName;c=c||ja;return"Microsoft Internet Explorer"===a&&
null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(c)?parseFloat(RegExp.$1):!1}function kd(a){return!/Chrome\//.test(a||ja)&&/Safari\//.test(a||ja)}function Gc(a){a=a||ja;return-1<a.indexOf("iPod")?"iPod":-1<a.indexOf("iPhone")?"iPhone":-1<a.indexOf("iPad")?"iPad":0}function pa(a,c,d,e,s,h){"number"===typeof d&&"number"===typeof e&&"number"===typeof s&&"number"===typeof h?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=d+"px "+e+"px "+s+"px "+h+"px"),"undefined"!==typeof a.style.MozBorderRadius&&
(a.style.MozBorderRadius=d+"px "+e+"px "+s+"px "+h+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=d+"px "+e+"px "+s+"px "+h+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=c+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px"));return a}function lc(a,c){if("undefined"===typeof a||"undefined"===typeof c)return!1;var d=a-c;
0>d&&(d=0);d>a&&(d=a);return d}function Hc(a,c){if(g&&(9>=g||document.documentMode&&9>=document.documentMode))return a.style.backgroundImage="url('"+Ic("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;var d;if(d=kd()){a:{if(ja&&(d=ja.match(/(\d)[\d.]+ Safari/))&&d[1]){d=1*d[1];break a}d=0}d=4>=d}if(d||za.getMobileDevice()){var e=d="",s="",h=c.split(","),u={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};h[0]&&u[h[0]]&&
(d=u[h[0]]);h[1]&&(e="from("+h[1]+")");h[h.length-1]&&(s="to("+h[h.length-1]+")");a.style.backgroundImage="-webkit-gradient(linear,"+d+","+e+","+s+")"}a.style.backgroundImage="-moz-linear-gradient("+c+")";a.style.backgroundImage="-webkit-linear-gradient("+c+")";a.style.backgroundImage="-ms-linear-gradient("+c+")";a.style.backgroundImage="-o-linear-gradient("+c+")";a.style.backgroundImage="linear-gradient("+c+")"}function mc(a,c,d,e){var s=ld(d),h=ld(d,e);if(d=Jd(d))d.a=e,h="rgba("+d.r+", "+d.g+", "+
d.b+", "+d.a+")";if(0<c){a.style.backgroundColor=s;a.style.padding=c+"px";if(0<g&&8>=g||g&&ca)return!1;a.style.backgroundColor=h;a.style.padding=c+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function Jd(a){var c={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;c.r=a[0];c.g=a[1];c.b=a[2];c.a=a[3]?a[3]:1;return c}function ld(a,c){var d=a.split("");if("#"!==d[0])return a;
4===a.length&&(a=d[0]+d[1]+d[1]+d[2]+d[2]+d[3]+d[3]);var a=a.substring(1,7),d=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,4),16),s=parseInt(a.substring(4,6),16);return isNaN(c)?"rgb("+d+","+e+","+s+")":"rgba("+d+","+e+","+s+","+c+")"}function v(a,c,d){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+c,d):a.addEventListener(c,d,!1)}function Bb(a,c,d){"object"===typeof window.detachEvent?a.detachEvent("on"+c,d):a.removeEventListener(c,d,!1)}function nc(){var a,
c;"undefined"!=typeof window.innerWidth?(a=window.innerWidth,c=window.innerHeight):(a=document.documentElement.offsetWidth,c=document.documentElement.offsetHeight);return{width:a,height:c}}function md(){var a,c,d,e,s,h,u,f;c=document.documentElement?document.documentElement:{clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,offsetWidth:0,offsetHeight:0};u=c.scrollWidth?c.scrollWidth:0;f=c.scrollHeight?c.scrollHeight:0;s=c.offsetWidth?c.offsetWidth:0;h=c.offsetHeight?c.offsetHeight:0;d=document.body.scrollWidth?
document.body.scrollWidth:0;e=document.body.scrollHeight?document.body.scrollHeight:0;a=document.body.offsetWidth?document.body.offsetWidth:0;c=document.body.offsetHeight?document.body.offsetHeight:0;s=Math.max(d,u,a,s);return{height:Math.max(e,f,c,h),width:s}}function Cb(a){return{width:a.style&&a.style.width?parseInt(a.style.width):a.offsetWidth?parseInt(a.offsetWidth):0,height:a.style&&a.style.height?parseInt(a.style.height):a.offsetHeight?parseInt(a.offsetHeight):0}}function oe(a,c){var d=document.getElementById(a);
if(!d)return null;if("object"===typeof d.currentStyle)var e=d.currentStyle[c];else window.getComputedStyle&&(e=document.defaultView.getComputedStyle(d,null).getPropertyValue(c));return e}function O(a,c,d,e,s){var h=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,u=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===a){if(!r(e))return s||t.log(e+" is wrong type, must be array, using default value instead"),d;if(c&&r(c))for(var f=0;f<e.length;f++)if(0>c.indexOf(e[f]))return s||
t.log(e+" is not within the valid range, using default value instead"),d;return e}if("url"===a){if("string"!==typeof e)return d;e&&(e=e.trim());if(/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(e))return e;s||t.log(e+" is not the valid format, using default value instead");return d}if("text"===a){if(c){if(0<=c.indexOf(e))return e;s||t.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+d+'" instead');return d}return h.test(e)?e:d}if("usertext"===
a){if("string"!==typeof e&&"number"!==typeof e)return d;if(r(c)){if(1===c.length){if(e.length<=c[0])return e;s||t.log(e+" is too long, using default value instead");return d}if(2===c.length){if(e.length<=c[1]&&e.length>=c[0])return e;s||t.log(e+" is not within the valid range, using default value instead");return d}s||t.log("usertext range is invalid, using default value instead");return d}return e}"string"===typeof e&&0==e.length&&(e=" ");if(!h.test(e))return s||t.log(e+" contains invalid character(s)"),
d;if("boolean"===a){if("boolean"===typeof e)return e;s||t.log(e+" is wrong type, must be boolean, using default value instead");return d}if("text"===a)return e;if("number"===a){if(isNaN(parseInt(e)))return s||t.log(e+" is wrong type, must be a valid number"),d;e=parseFloat(e)}if("color"===a){e&&(e=e.trim());if("transparent"===e||u.test(e))return e;s||t.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+d+'" instead');return d}if(typeof e!=a&&
"color"!=a)return s||t.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+a),d;if("object"===typeof c&&"string"===a){if(0<=c.indexOf(e))return e;s||t.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+d+'" instead');return d}if("object"===typeof c&&"number"===a){2===c.length?(h=c[0],u=c[1]):(h=c.shift(),u=c.pop(),f=c);if(e<h)return s||t.log("Value of "+e+" for "+arguments.callee.caller.name+" is below minimum of "+h+", using minimum value of "+
h+" instead"),h;if(e>u)return s||t.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+u+", using maximum value of "+u+" instead"),u;if(f&&"number"===typeof f.indexOf(e)||e==h||e==u)return e;return f?(s||t.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+d+" instead"),d):e}return 0!=e&&!e?d:e}function Vb(a){for(var c=Vb.options,a=c.parser[c.strictMode?"strict":"loose"].exec(a),d={},e=14;e--;)d[c.key[e]]=a[e]||"";d[c.q.name]=
{};d[c.key[12]].replace(c.q.parser,function(a,e,u){e&&(d[c.q.name][e]=u)});return d}function qb(a){return document.getElementById(L(a).getAttribute("id"))}function L(a){return a.target?a.target:a.srcElement}function Kd(a,c){function d(a){v=!0;"undefined"!==typeof g&&clearTimeout(g);if("string"===typeof a)return"function"===typeof f&&f(a),!0;if("object"===typeof a||"undefined"===typeof a)return"object"===typeof a&&"error"===a.type?"function"===typeof f&&f(a):"function"===typeof s&&s(),!0}function e(){B++;
if(v)return!0;B<h?g=setTimeout(e,50):d("Load Timeout Error")}var s=c,h=200,u=!1,f,B=0,g,k=document.createElement("script"),r=document.getElementsByTagName("script")[0],v=!1;k.src=a;k.setAttribute("type","text/javascript");k.onload=k.onerror=k.onreadystatechange=function(a){!v&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&d(a)};return{setTimeoutCallback:function(a){u=!0;f=a;return this},setCallback:function(a){s=a;return this},setTimeoutLimit:function(a){h=a;return this},
load:function(){r.parentNode.insertBefore(k,r);u&&e()}}}function Aa(a,c){Kd(a,c).load()}function pe(a,c){g&&9>g&&oc(a,c)}function oc(a,c,d){function e(d){B=!1;"function"===typeof c&&c();janrain.events.onCssLoad.fire({source:a,noload:d,save:!0})}function s(){if(B){for(k=g.length;0<=--k;)if(g[k].href===u.href){e();break}f+=1;B&&(200>f?setTimeout(s,50):e(!0))}}function h(){var a;try{a=!!u.sheet.cssRules}catch(c){f+=1;200>f?setTimeout(h,50):a&&e(!0);return}e()}if(C(nd,a))d&&"function"===typeof c&&c();
else{nd.push(a);var u,f=0,B=!0,g=document.styleSheets,k;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new Db);Jc?(u=document.createElement("style"),u.innerHTML='@import "'+a+'";'):(u=document.createElement("link"),u.rel="stylesheet",u.href=a,u.type="text/css");od||Jc?(od&&s(),Jc&&h()):(u.onload=function(){e()},u.onerror=function(){e(!0)});document.getElementsByTagName("head")[0].appendChild(u)}}function k(a){var c;c=a&&a.className?a.className.split(" "):[];return{append:function(d){-1===
c.indexOf(d)&&(c.push(d),a&&(a.className=c.join(" ")));return this},remove:function(d){-1!==c.indexOf(d)&&(c.splice([c.indexOf(d)],1),a&&(a.className=c.join(" ").trim()));return this},has:function(a){return-1!==c.indexOf(a)}}}function qe(a,c){Ba(a.style,c)}function ra(a,c){a.appendChild(document.createTextNode(c))}function ub(a,c){a.innerHTML="";ra(a,c)}function Ld(a){for(var c=a.lastChild;c;)a.removeChild(c),c=a.lastChild}function Md(a){var c=typeof a;return("number"===c||"string"===c&&0<a.length)&&
vb(a)?parseFloat(a):null}function Ua(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getMonth())}function r(a){return"[object Array]"===Object.prototype.toString.call(a)}function pd(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)}function C(a,c){return!r(a)?!1:-1<a.indexOf(c)}function ka(a,c){for(var d in a)Ca(a,d)&&c.call(a[d],d,a[d]);return a}function fb(a,c){if("undefined"===typeof c||0===c.length||!pd(a)&&!r(a))return a;for(var d=c.split("."),e=a,s=0,
h=d.length;s<h&&!(e=e[d[s]],void 0===e||null===e);++s);return e}function Kb(a,c,d){for(var e=0,s=a.length;e<s;e++)c.call(d,a[e],e,a)}function Wb(a){a&&a.parentNode&&a.parentNode.removeChild(a);return a}function re(a,c){for(var d=c.parentNode;null!=d;){if(d==a)return!0;d=d.parentNode}return!1}function qa(a){var c=r(a)?[]:{},d;for(d in a)Ca(a,d)&&(c[d]=qa.isCloneable(a[d])?qa(a[d]):a[d]);return c}function Kc(a,c){var d=[],e=!(c&&!1===c.encode),s=c&&!0===c.allowDupes;ka(a,function(a,c){var f=s&&r(c)?
c:[c];d.push.apply(d,f.map(function(c){return e?encodeURIComponent(a)+"="+encodeURIComponent(c):a+"="+c}))});return(d.length?"?":"")+d.join("&")}function He(a,c){for(var d,e={},s=a.split(c||"&"),h=0,u=s.length;h<u;h++)d=s[h].split("="),d[0]&&(e[d[0]]=d[1]);return e}function qd(a,c,d){if(!a)return"";if(!c)return a;var e=Vb(a),a=e.protocol+"://"+e.authority+e.path,s=e.anchor?"#"+e.anchor:"",h={};ka(c,function(a,c){var e=d&&r(c)?c:[c];h[encodeURIComponent(a)]=e.map(encodeURIComponent)});c=Kc(Ba(e.queryKey,
h),{encode:!1,allowDupes:d});return a+c+s}function Nd(a,c){ka(c,function(c,e){Ca(a,c)?r(a[c])?a[c].push(e):a[c]=[a[c],e]:a[c]=e});return a}function P(a){if(!a)return!1;if(a.preventDefault)a.preventDefault();else try{a.returnValue=!1}catch(c){}}function Lc(a){if(!a)return!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Ie(a){var c;a&&(c=Ea(a.getElementsByTagName("input")),c=c.concat(Ea(a.getElementsByTagName("button"))),c=se(c,{type:"submit"})[0]);return c}function vb(a){return!isNaN(parseFloat(a))&&
isFinite(a)}function te(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var c=a.split("/"),a=parseInt(c[1],10),d=parseInt(c[0],10),c=parseInt(c[2],10),e=new Date(c,d-1,a);return e.getFullYear()==c&&e.getMonth()==d-1&&e.getDate()==a?!0:!1}return!1}function mb(a,c,d){var e,s=ue,h=Je;void 0===a&&(a="{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}");void 0===c&&(c=new Date);d&&(d.monthNames&&r(d.monthNames)&&12===d.monthNames.length&&(s=d.monthNames),d.dayNames&&r(d.dayNames)&&7===d.dayNames.length&&(h=
d.dayNames));d=function(){var a=c.getHours();12<a&&(a-=12);0===a&&(a=12);return a};e=function(a){return 10>a?"0"+a:a};a=a.replace(/{yyyy}/g,c.getFullYear());a=a.replace(/{month}/g,s[c.getMonth()]);a=a.replace(/{mmm}/g,s[c.getMonth()].substring(0,3));a=a.replace(/{day}/g,h[c.getDay()]);a=a.replace(/{0m}/g,e(c.getMonth()+1));a=a.replace(/{m}/g,c.getMonth()+1);a=a.replace(/{0d}/g,e(c.getDate()));a=a.replace(/{d}/g,c.getDate());a=a.replace(/{ord}/g,function(){var a=["th","st","nd","rd"],d=c.getDate()%
100;return a[(d-20)%10]||a[d]||a[0]}());a=a.replace(/{0hour}/g,e(d()));a=a.replace(/{hour}/g,d());a=a.replace(/{0h}/g,e(c.getHours()));a=a.replace(/{h}/g,c.getHours());a=a.replace(/{minute}/g,e(c.getMinutes()));a=a.replace(/{second}/g,e(c.getSeconds()));return a=a.replace(/{ampm}/g,11<c.getHours()?"PM":"AM")}function ve(a,c,d){function e(){var a=B.search(k);if(-1===a)return!1;var c=B.substring(a,a+2);isNaN(c)||12<c?(g.setMonth(B.substring(a,a+1)-1),B=B.substring(a+1)):(g.setMonth(c-1),B=B.substring(a+
2));return bb=!0}function s(){var a=B.search(k);if(-1===a)return!1;var c=B.substring(a,a+2);isNaN(c)||31<c?(g.setDate(B.substring(a,a+1)),B=B.substring(a+1)):(g.setDate(c),B=B.substring(a+2));return Xa=!0}function h(){var a;a=B.search(k);if(-1===a)return!1;B=B.substring(a);a=B.match(r)[0];g.setFullYear(a);B=B.substring(a.length);return Ib=!0}function f(){var a,c,d=-1,e;for(e=0;12>e;++e)a=B.search(v[e]),-1===d&&-1<a&&(d=a,c=e),-1<a&&a<d&&(d=a,c=e);if(-1===d)return!1;g.setMonth(c);B=B.substring(d);
a=B.search(t);-1===a&&(a=B.length);B=B.substring(a);return bb=!0}var g=new Date,a=a.match(/\{+([a-z0])+\}/g),B=c,k=/[0-9]{1}/,r=/[0-9]+/,v=[/jan/i,/feb/i,/mar/i,/apr/i,/may/i,/jun/i,/jul/i,/aug/i,/sep/i,/oct/i,/nov/i,/dec/i],t=/[^a-zA-Z]/,bb=!1,Ib=!1,Xa=!1;"undefined"===typeof d&&(d=!1);g.setMonth(0);g.setFullYear(0);g.setDate(1);g.setMinutes(0);g.setSeconds(0);g.setHours(0);g.setMilliseconds(0);for(var c=0,R=a.length;c<R;++c){var G=!0;switch(a[c]){case "{m}":bb||(G=!1,d||(G=f()),G||(G=e()));break;
case "{0m}":bb||(G=!1,d||(G=f()),G||(G=e()));break;case "{month}":bb||(G=f(),!G&&!d&&(G=e()));break;case "{mmm}":bb||(G=f(),!G&&!d&&(G=e()));break;case "{d}":Xa||(G=s());break;case "{0d}":Xa||(G=s());break;case "{yyyy}":Ib||(G=h())}if(!G){g=new Date("Invalid Date");break}if(bb&&Ib&&Xa)break}return g}function Ba(a,c){for(var d in c)Ca(c,d)&&(a[d]=c[d]);return a}function we(a,c){if(!qa.isCloneable(a)||!qa.isCloneable(c))return a;for(var d in c)Ca(c,d)&&(a[d]="undefined"===typeof a[d]||!qa.isCloneable(a[d])?
qa.isCloneable(c[d])?qa(c[d]):c[d]:qa.isCloneable(c[d])?we(a[d],c[d]):c[d]);return a}function U(a,c){for(var d=c,e=/\{\|(.*?)\|\}/,f;f=e.exec(d);)try{var h=f[1].trim(),d=d.replace(f[0],"undefined"!==typeof a[h]?a[h]:"")}catch(u){return window.console&&window.console.log&&console.log(u.name+": "+u.message,"error"),!1}return d}function Eb(a,c){if(a){if(a.nodeName.toLowerCase()===c.toLowerCase())return a;if(!a.parentNode)return!1;var d=a.parentNode.nodeName.toLowerCase();return"body"===d?!1:d===c.toLowerCase()?
a.parentNode:Eb(a.parentNode,c)}}function rd(a,c){return!a?!1:"body"===a.nodeName.toLowerCase()?!1:k(a).has(c)?a:rd(a.parentNode,c)}function sd(a){var c=[],d;for(d in a)Ca(a,d)&&c.push(d+'="'+a[d]+'"');return c.join(" ")}function Ea(a){return"string"===typeof a?a.split(""):Array.prototype.map.call(a,function(a){return a})}function xe(a){if(a&&0<a.length)for(var a=a[0].children,c=a.length,d=0;d<c;++d)a[d].blur&&a[d].blur()}function Ke(a,c){for(var d=[],e=0,f=a.length;e<f;e++)c(a[e])&&d.push(a[e]);
return d}function se(a,c){return Ke(a,function(a){for(var e in c)if(Ca(c,e)&&a[e]!==c[e])return!1;return!0})}function ye(a){var c,d;if(a&&(a.blur&&a.blur(),a.children)){d=a.children;a=0;for(c=d.length;a<c;a++)ye(d[a])}}function Ca(a,c){return Object.prototype.hasOwnProperty.call(a,c)}function td(){function a(a){var a=a||"img",d=document.createElement(a);d.style.position="absolute";d.style.cursor="pointer";d.style.zIndex=1E3;"a"===a?(d.setAttribute("href","#"),d.className="janrain_modal_closebutton",
ka&&(d.innerHTML=ka)):(d.src=Ba,ra||(d.style.right="-6px",d.style.top="-7px",d.style.height="31px",d.style.width="28px"));d.onclick=Aa?e:c;return d}function c(a){va||(D.style.display="none",K.style.display="none",V.style.display="none");la&&za.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&cb.fire();"object"===typeof a&&P(a)}function d(){var a=document.createElement("div"),d=document.createElement("div"),e=document.createElement("a"),h=document.createElement("a"),
f=document.createElement("h3");e.innerHTML=qa;h.innerHTML=Pa;f.innerHTML=Ca;e.setAttribute("href","#");h.setAttribute("href","#");a.className="janrain_close_confirm_container";d.className="janrain_close_confirm";e.className="janrain_modal_confirm";h.className="janrain_modal_cancel";v(e,"click",function(a){c();D.removeChild(Fa);Fa=null;P(a)});v(h,"click",function(a){D.removeChild(Fa);Fa=null;P(a)});d.appendChild(f);d.appendChild(h);d.appendChild(e);a.appendChild(d);return a}function e(a){Fa||(Fa=d(),
D.appendChild(Fa));P(a)}function f(a){var c=document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,d=document.documentElement.scrollLeft>=document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,e=nc(),h=Cb(a),s=e.height-h.height,e=e.width-h.width,c=c+s/2,d=d+e/2;G()&&(0>s&&(document.documentElement.scrollTop=0,document.body.scrollTop=0,c=10),0>e&&(document.documentElement.scrollLeft=0,d=document.body.scrollLeft=
0),a.style.top=c+"px",a.style.left=d+"px");"absolute"!==a.style.position&&(a.style.position="absolute")}function h(){if(va){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(D)}else f(D);va||t.show()}function u(a){Ga||($=O("number",[0,20],10,a),A.fire({radius:lc(xa,$)}))}function k(a){Ga||(Ya=O("color",null,"#000000",a))}function B(a){Ga||(xa=O("number",[0,20],10,a),Qa.fire({radius:lc(xa,$),refresh:!0}))}function r(a){Ga||(Ma=O("number",[0,1],0.5,a),"object"==
typeof D&&mc(D,$,Ya,Ma))}function C(){if("undefined"===typeof sa)return!0;var a=nc();return!!Math.floor(sa)!==!!Math.floor(a.width/a.height)}function ne(){var a=nc();sa=a.width/a.height}function Ta(a){if("portrait"===a){nb="portrait";var c="one column"}"landscape"===a&&(nb="landscape",c="two column");Na.fire({orientation:nb,format:c,width:ga,height:L});setTimeout(R,100);C()&&h();ne()}function bb(a){a&&(Y=a);g&&ca&&(Y+=$-2);"object"==typeof D&&(D.style.width=Y+"px");return this}function Ib(a){a&&(Z=
a);g&&ca&&(Z=Z+2*$-4);a&&"object"==typeof D&&(D.style.height=Z+"px");return this}function Xa(){var a=nc(),a=a.width>=a.height,c="undefined"===typeof window.orientation,a=90===window.orientation||-90===window.orientation||c&&a?"landscape":"portrait";nb!==a&&Ta(a);h()}function R(){var a=md();V.style.height=a.height+"px";V.style.width=a.width+"px"}function G(){return"object"===typeof D&&"none"!==D.style.display}var ga=380,L=131,D,E="janrainModal",K,V,U,Y=ga,Z=L,$=10,Ya="#000000",xa=10,Ma=0.5,Aa=!1,Ba=
Ic("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),ka="",Ga=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,ra=!1,Ca="Are you sure you want to quit?",qa="Yes, quit",Pa="No, stay",Fa,nb="landscape",W=!0,la="boolean"===typeof la?la:"number"===typeof window.orientation?!0:!1,Ha="boolean"===typeof Ha?Ha:janrain.settings.previewMode,va=Ha,ja=ja||!1,sa,Oa=!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(Ba=janrain.settings.capture.modalCloseImage,
ra=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(ka=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=X());window.janrain.events.onModalOpen||(window.janrain.events.onModalOpen=X());var cb=X(),hb=X(),Qa=X(),A=X(),Na=X();za&&za.onOrientationChange&&za.onViewportChange&&(za.onOrientationChange.addHandler(function(a){Ta(a.orientation)}),za.onViewportChange.addHandler(function(){C()&&f(D);ne()}));
"undefined"!==typeof janrain.events.onCaptureRenderComplete&&(janrain.events.onCaptureRenderComplete.addHandler(function(){G()&&(Oa=!0)}),janrain.events.onCaptureContentChange.addHandler(function(){G()&&Oa&&(h(),setTimeout(R,500),Oa=!1)}));return{isOpen:function(){return G()},setWidth:function(a){bb(a);return this},setHeight:function(a){Ib(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&u(a);Ga||"object"==typeof D&&mc(D,$,Ya,Ma);return this},setBorderColor:function(a){a&&
k(a);Ga||"object"==typeof D&&mc(D,$,Ya,Ma);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&B(a);Ga||"object"==typeof D&&pa(D,xa);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&r(a);return this},setZIndex:function(a){V.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(va=a);return this},setId:function(a){E=a;D&&(D.id=a);return this},show:function(){la||(D.style.display="block");"object"==typeof K&&W&&(K.style.display=
"block");va?la&&(D.style.display="block"):(V.style.display="block",la?(za.setElement(D).activate(),D.style.display="block"):(v(window,"resize",Xa),v(window,"resize",R),Xa(),R()));Ga||Qa.fire({radius:lc(xa,$),refresh:!1});hb.fire();janrain.events.onModalOpen.fire();yb.fire();D.focus()},close:function(a){c(a)},closeConfirm:function(){e()},refresh:function(a){ja||D.appendChild(U);a&&a.center&&h()},remove:function(){if(va){var a=document.getElementById("previewMode");"object"===typeof U&&D.removeChild(U);
"object"===typeof D&&a.removeChild(D);"object"===typeof V&&document.body.removeChild(V);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";V=D=""}else"object"===typeof U&&D.removeChild(U),"object"===typeof V&&document.body.removeChild(V),"object"===typeof D&&document.body.removeChild(D)},addContent:function(c){var d=janrain.events.onAuthWidgetContentPlaced;d&&d.fire();K=c;if(!D){D=document.createElement("div");D.id=E;if("number"===typeof Y||"string"===typeof Y)D.style.width=
Y+"px";D.style.height=Z+"px";D.style.position="absolute";Ga||(D.style.padding=$+"px",pa(D,xa),mc(D,$,Ya,Ma));D.style.zIndex=1E3;D.style.display="none";c=md();V=document.createElement("div");janrain.settings&&janrain.settings.capture&&janrain.settings.capture.captureServer&&(V.id="janrainModalOverlay");V.style.width=c.width+"px";V.style.height=c.height+"px";V.style.left=0;V.style.top=0;V.style.backgroundColor="#000000";V.style.position="absolute";c=V;"undefined"!==typeof c.style.filter&&(c.style.filter=
"alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");V.style.display="none";V.style.zIndex=1E3;U=ka?a("a"):a();D.appendChild(U);document.body.appendChild(V);document.body.appendChild(D)}D.appendChild(K);setTimeout(R,500);va&&h();return this},getContent:function(){return K},getBorderWidth:function(){return $},getState:function(){return{width:Y,
borderWidth:$,borderColor:Ya,borderRadius:xa,borderOpacity:Ma,orientation:nb}},setState:function(a){H("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&u(a.borderWidth),"undefined"!==typeof a.borderColor&&k(a.borderColor),"undefined"!==typeof a.borderOpacity&&r(a.borderOpacity),"undefined"!==typeof a.orientation&&Ta(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&B(a.borderRadius),"object"==typeof D&&
pa(D,xa)))},setConfirmClose:function(a){Aa=a;return this},setShowContentOnLoad:function(a){W=a;return this},setConfirmMessageText:function(a){Ca=a},setConfirmLinkText:function(a){qa=a},setCancelLinkText:function(a){Pa=a},onClose:cb,onShow:hb,onOrientationChange:Na,onBorderRadiusChange:Qa,onBorderWidthChange:A}}function Le(a){function c(a){"janrainReadyToClose:True"===a.data&&(top.focus(),u=!0,Bb(window,"message",c))}function d(){var a=window.open(e,"","width="+f+", height="+h+", status=1, location=1, resizable=yes, scrollbars=1");
("iPod"===Mc||"iPhone"===Mc)&&6<=Me&&v(window,"message",c);var d=window.setInterval(function(){u&&a&&(a.close(),u=!1);if(a&&a.closed||a&&"undefined"===typeof a.closed||"undefined"===typeof a)window.clearInterval(d),"function"===typeof g&&g()},500)}var e=a,f=400,h=400,u=!1,g;return{show:function(){d()},setWidth:function(a){a&&(f=a);return this},setHeight:function(a){a&&(h=a);return this},setCallback:function(a){a&&(g=a);return this}}}function Ne(){function a(a){"function"===typeof a&&(C=a);return this}
function c(){u=[];t.innerHTML="";Kb(arguments,function(a,c){var d=document.createElement("button");d.className="capture_btn capture_secondary";ub(d,a);d.setAttribute("data-index",c.toString());v(d,"click",function(a){a.index=parseInt(L(a).getAttribute("data-index"));C(a)});u.push(d);t.appendChild(d)});d(u.length-1);return this}function d(a){var c=u[Ta];c&&k(c).remove("capture_primary").append("capture_secondary");Ta=a;(c=u[Ta])&&k(c).remove("capture_secondary").append("capture_primary");return this}
function e(){janrain.capture.ui.modal.close();return this}var f,h,u,g,B,r,t,C,Ta;f="Notice";h="This is a notice.";Ta=0;(function(){g=document.createElement("div");var a=document.createElement("div"),c=document.createElement("h1"),d=document.createElement("h2"),e=document.createElement("div");a.className="capture_header";c.className="capture_dialog_title";d.className="capture_dialog_message";e.className="capture_footer";ub(c,f);ub(d,h);a.appendChild(c);g.appendChild(a);g.appendChild(d);g.appendChild(e);
B=c;r=d;t=e;return this})();c("OK");a(e);return{open:function(){janrain.capture.ui.renderScreen("janrainDialog");var a=document.getElementById("captureDialogBuiltIn");a.innerHTML="";a.appendChild(g);return this},close:e,setTitle:function(a){f=a;ub(B,f);return this},setMessage:function(a){h=a;ub(r,h);return this},setPrimaryIndex:d,setButtons:c,setCallback:a}}function Od(){function a(){Ta=(new Date).getTime()-f;if(Ta<e){var a=Math.round(c()*t+g);h.style[r]=a+"px"}else clearInterval(C),h.style[r]=k+
"px",L()}function c(){if("flat"==K)return Ta*(1/e);if("sinusoidal"==K)return Math.abs(Math.sin(Ta*(Math.PI/(2*e))))}function d(a){return{x:function(){var c=a.event.clientX-ze(a.boundary).x,c=c<this.boundary_x()?c:this.boundary_x();return 0<c?c:0},boundary_x:function(){var c=a.boundary.getBoundingClientRect();return c.width||c.right-c.left}}}var e="1000",f,h,u=document,g,k,r="left",t,C,Ta,K="flat",L,E;return{setAcceleration:function(a){K=a;return this},setCallback:function(a){L=a;return this},setDuration:function(a){e=
a;return this},setDirection:function(a){"horizontal"===a&&(r="left");"vertical"===a&&(r="top");return this},setElement:function(a){h=a;return this},setElementBoundary:function(a){u=a;return this},startPosition:function(a){g=a;return this},endPosition:function(a){k=a;return this},animate:function(){t=k-g;f=(new Date).getTime();C=setInterval(a,10);return this},drag:function(a){var c=this;this.moveHandler=function(a){var c=d({event:a.targetTouches&&a.targetTouches.length?a.targetTouches[0]:a,boundary:u}).x();
h.style.left=c+"px";Lc(a);P(a);E&&clearTimeout(E);E=setTimeout(function(){L({pos_x:c})},500)};this.upHandler=function(a){c.unbindDragHandlers();Lc(a);P(a)};v(document,Dc,this.moveHandler);v(document,hd,this.upHandler);Lc(a);P(a)},unbindDragHandlers:function(){Bb(document,hd,this.upHandler);Bb(document,Dc,this.moveHandler);return this}}}function ze(a){var c=curtop=0;if(a.offsetParent){do c+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return{x:c,y:curtop}}}function X(){return new Db}function Db(){this.eventHandlers=
[];this.firedEvents=[]}function Nc(){if(function(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onAuthWidgetContentPlaced,onCustomizationChange,onProviderLoginComplete,onProviderLoginCancel,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),d=0;d<a.length;d++)if("object"!==
typeof janrain.events[a[d]])return!1;return!0}())clearTimeout(a),janrain.events.onAuthWidgetLoad.fire();else var a=setTimeout(Nc,5)}function Oc(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,c=janrain.events.captureEvents.length;a<c;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;return janrain.settings.capture.federate&&!janrain.federateJSLoaded||!janrain.ready?
!1:!0}if("function"===typeof janrainCaptureWidgetOnLoad)if(a())clearTimeout(c),janrainCaptureWidgetOnLoad();else var c=setTimeout(Oc,5);else Pa.error("No such function 'janrainCaptureWidgetOnLoad'")}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var c=Object(this),d=c.length>>>0;if(0===d)return-1;var e=0;0<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&Infinity!=e&&-Infinity!=e&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=d)return-1;for(e=
0<=e?e:Math.max(d-Math.abs(e),0);e<d;e++)if(e in c&&c[e]===a)return e;return-1});Array.prototype.map||(Array.prototype.map=function(a,c){if(null===this)throw new TypeError;var d=Object(this),e=d.length>>>0;if("function"!==typeof a)throw new TypeError;for(var f=Array(e),h=0;h<e;h++)h in d&&(f[h]=a.call(c,d[h],h,d));return f});Array.prototype.filter||(Array.prototype.filter=function(a,c){if(null==this)throw new TypeError;var d=Object(this),e=d.length>>>0;if("function"!=typeof a)throw new TypeError;
for(var f=[],h=0;h<e;h++)if(h in d){var u=d[h];a.call(c,u,h,d)&&f.push(u)}return f});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});janrain.settings.debug=janrain.settings.debug||{};var Pc={enabled:!1,logLevel:"log"};window.localStorage&&("true"===localStorage.janrainDebugEnabled&&(janrain.settings.debug.enabled=!0),localStorage.janrainDebugLogLevel&&(janrain.settings.debug.logLevel=localStorage.janrainDebugLogLevel));Ba(Pc,janrain.settings.debug);
janrain.settings.debug=Pc;var Oe=function(){function a(c,d){var e;if(c.caller){e=a;var f=c.caller,h=c.caller.toString(),u=h.indexOf(")")+1,h=h.substring(0,u).split(/\s+/).slice(1).join(" ");"("===h.charAt(0)&&(h="(anonymous)"+h);e=e(f,d+h+"\n")}else e=d;return e}return function(c){var c=c&&0<c.length?"Error: "+c+" at:\n":"",d=Error(c);return"string"===typeof d.stack?0===d.stack.indexOf("Error:")?d.stack:c+d.stack:a(arguments.callee,c)}}(),Pa=function(){function a(a){var c=a.level>=f[janrain.settings.debug.logLevel];
if(window.console&&c){c=Ea(a.messages);c.unshift("#"+a.id);try{console[a.type].apply(console,c)}catch(d){console[a.type](c.join(" "))}}}function c(c){return function(){if(janrain.settings.debug.enabled){var g=arguments;e++;g={stack:Oe(Ea(g).join(" ")),level:f[c],id:e,type:c,date:new Date,messages:g};d.push(g);a(g)}}}var d=[],e=0,f={};Kb(["log","info","warn","error"],function(a,c){f[a]=c});return{log:c("log"),info:c("info"),warn:c("warn"),error:c("error"),trace:function(a){var c=d[a-1];c?console.log(c.stack):
console.error("No such log entry #"+a)},dump:function(){Kb(d,a)}}}();janrain.debug={dump:Pa.dump,trace:Pa.trace,$__UNSUPPORTED_MODULE__$:"This module is not provided for customer use, but is intended only for debugging purposes."};var Pe=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;pb=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?
document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;lb=Pe;var Fc=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,nd=[],Ec=!1,ca="CSS1Compat"!==document.compatMode,Ob=!1,Y=!1,f=[],Qc="f063046",Ae=!1;document.createElement("input");var qc=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
Rc=null!==qc?qc[0]:!1,Yb="number"===typeof window.orientation||null!==qc,Je="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),ue="January,February,March,April,May,June,July,August,September,October,November,December".split(","),Qe=[16,20,30,32,48,50,64],Be=[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},
{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},
{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"}],Re=[{text:"AB",value:"AB"},{text:"BC",value:"BC"},
{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];Ab=13;ke=38;me=40;je=37;le=39;ie=9;Hd=27;var rc="ontouchstart"in window;he=rc?"touchstart":"mousedown";hd=rc?"touchend":"mouseup";Dc=rc?"touchmove":"mousemove";janrain.settings&&janrain.settings.storageServer&&Id("xDomainLocalStorageJanrain",janrain.settings.storageServer,
function(){v(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){Ec=!0})});ia.possible="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,0,1,2,3,4,5,6,7,8,9".split(",");var ja=navigator.userAgent,g=Jb(),Sc=document.documentMode,Jc=/Gecko\//.test(ja),od=/AppleWebKit\//.test(ja);/Chrome\//.test(ja);var Se=kd(),Mc=Gc(),Me=function(a){var a=a||ja,c=a.indexOf("OS "),d=0;Gc(a)&&-1<c&&(d=Number(a.substr(c+3).split(" ")[0].split("_")[0]));return d}(),H=function(){var a=function(a){for(var c=
[],f=0;f<a.length;f++)c.push(a[f]);return c},c={};janrain.settings&&janrain.settings.permissions&&(c.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(c.share=a(janrain.settings.share.permissions));return function(a,e){e=e||"login";return!c[e]?!1:0<=c[e].indexOf(a)}}();Vb.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",
parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};qa.isCloneable=function(a){return a&&(pd(a)||r(a))};var Z=function(a,c,d){Z=document.getElementsByClassName?function(a,
c,d){for(var a=(c||document).getElementsByClassName(a),d=d?RegExp("\\b"+d+"\\b","i"):null,c=[],f,g=0,k=a.length;g<k;g+=1)f=a[g],(!d||d.test(f.nodeName))&&c.push(f);return c}:function(a,c,d){var d=d||"*",c=c||document,f=a.split(" "),a=[],c="*"===d&&c.all?c.all:c.getElementsByTagName(d),d=[],g;g=0;for(var k=f.length;g<k;g+=1)a.push(RegExp("(^|\\s)"+f[g]+"(\\s|$)"));for(var k=0,r=c.length;k<r;k+=1){f=c[k];g=!1;for(var v=0,t=a.length;v<t&&!(g=a[v].test(f.className),!g);v+=1);g&&d.push(f)}return d};return Z(a,
c,d)},Ce=function(){return!1};g&&(Pa.info("[ Internet Explorer ]\nVersion       : "+g+"\nDocument Mode : "+Sc),g!==Sc&&Pa.warn("IE version and document mode do not match! This could cause issues."));30<function(){var a=document.getElementsByTagName("style"),c=document.getElementsByTagName("link"),d=a.length;Kb(c,function(a){"stylesheet"===a.rel&&d++});return d}()&&Pa.warn("The page has more than 30 stylsheets. IE 8 and 9 cannot load more than 32 stylesheets.");window.top!==window.self&&Pa.warn("The widget might be running inside a frame. Watch out for cross origin issues.");
setTimeout(function(){janrain.ready||Pa.warn("janrain.ready is still not true after waiting for 10 seconds. The widget will not load until this is true. Check your widget loading code block.")},1E4);for(var za=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;e(document.body,C);t=g().content;k();r();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");
a&&(window.addEventListener(a,function(){R(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});h()},!1),setTimeout(h,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,h,!1)},!1));E.addHandler(function(){c({height:window.innerHeight,width:window.innerWidth},0)});P.addHandler(function(a){pb=a.height;lb=a.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,
h,!1)},!1)}function c(a,d){var e=window.innerHeight,f=window.innerWidth,h=!0,g=!0;e!=a.height&&(h=!1);f!=a.width&&(g=!1);h&&g?20>d?setTimeout(function(){c({height:e,width:f},++d)},100):P.fire({height:e,width:f}):setTimeout(function(){c({height:e,width:f},0)},100)}function d(){setTimeout(function(){v(t)},20);e(C,document.body)}function e(a,c){for(var d=0;d<a.style.length;d++){var e=a.style[d];c.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}function f(){var a;a=(0===
window.orientation||180===window.orientation)&&lb>pb||(90===window.orientation||-90===window.orientation)&&pb>lb?!1:!0;var c="landscape";if(a&&(0===window.orientation||180===window.orientation))c="portrait";if(!a&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function h(){var a=f();v("width=device-width, initial-scale=1, maximum-scale=1");E.fire({orientation:a})}function g(){var a=document.getElementsByTagName("meta"),c;for(c in a)if("viewport"===a[c].name)return a[c];
return!1}function k(){if("undefined"===typeof document.getElementsByTagName||g())return!1;var a=document.getElementsByTagName("head")[0],c=document.createElement("meta");c.setAttribute("name","viewport");a.appendChild(c);return!0}function r(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function v(a){var c=g();if(!c||c.content==a)return!1;if("undefined"===
typeof a){var d=g();document.getElementsByTagName("head")[0].removeChild(d)}c.content=a;return!0}var t,C=document.createElement("div"),K=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),L=null!==K?K[0]:!1,E=X(),P=X();L&&L[0].match(/android|\Wsilk\W/);
var R=function(){var a=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},d={height:window.innerHeight,width:window.innerWidth},e=!1;return function(f,h,g){var k=!1,u=function(a,c){return a.height>=a.width&&c.height>=c.width||a.width>a.height&&c.width>c.height?!0:!1},s=a===f,r=u(h,c),B=u(g,d);if(!s&&(!r||!B))k=!0;!s&&!r&&(e=!0);k&&(e&&!u(h,g)&&(k=g.height,g.height=g.width,g.width=k),pb=g.height,lb=g.width);a=f;c={height:h.height,width:h.width};d={height:g.height,width:g.width}}}();
return{setElement:function(){return this},onOrientationChange:E,onViewportChange:P,getMobileDevice:function(){return L},getOrientation:function(){return f()},activate:function(){a()},deactivate:function(){d()}}}(),Ic=function(a){var c;c="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";c=c.replace(/\/$/,"");return c+"/"+a},Tc={openId:{blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600",friendlyName:"Blogger"},livejournal:{identifier:"livejournal",
flow:"openid1",width:800,height:600,color:"##213368",friendlyName:"LiveJournal"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000",friendlyName:"Netlog"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b",friendlyName:"WordPress"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311",friendlyName:"OpenID"}},openId2:{aol:{identifier:"http://aol.com",flow:"openid",width:514,height:550,color:"#0FD6FF",friendlyName:"AOL"},
flickr:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#FF0084",friendlyName:"Flickr"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5",friendlyName:"Google"},hyves:{identifier:"http://hyves.nl/",flow:"openid",width:800,height:600,color:"#659BC8",friendlyName:"Hyves"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f",friendlyName:"MyOpenID"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",
flow:"openid",width:800,height:600,color:"#1A3665",friendlyName:"PayPal"},verisign:{identifier:"http://pip.verisignlabs.com/",flow:"openid",width:945,height:600,color:"#B8004D",friendlyName:"VeriSign"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",friendlyName:"Yahoo!",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",
width:640,height:480,color:"#3B5998",friendlyName:"Facebook",publishSettings:{},shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",friendlyName:"Myspace",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,
color:"#35CCFF",friendlyName:"Twitter",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,
image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,
actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",friendlyName:"LinkedIn",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,color:"#666666",friendlyName:"Windows Live ID"},salesforce:{flow:"salesforce",
width:800,height:500,color:"#333333",friendlyName:"Salesforce"},orkut:{flow:"orkut",width:800,height:600,color:"#333",friendlyName:"Orkut"},vzn:{flow:"vzn",width:600,height:450,color:"#333",friendlyName:"VZnet"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333",friendlyName:"Foursquare"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333",friendlyName:"Sina Weibo"},tumblr:{flow:"tumblr",width:950,height:550,color:"#333",friendlyName:"Tumblr"},microsoft_live_connect:{flow:"microsoft_live_connect",
width:950,height:550,color:"#333",friendlyName:"Microsoft Live Connect"},renren:{flow:"renren",width:950,height:550,color:"#333",friendlyName:"Renren"},disqus:{flow:"disqus",width:950,height:550,color:"#333",friendlyName:"Disqus"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333",friendlyName:"SoundCloud"},vk:{flow:"vk",width:950,height:550,color:"#333",friendlyName:"VK"},amazon:{flow:"amazon",width:950,height:550,color:"#FF9900",friendlyName:"Amazon"},microsoftaccount:{flow:"microsoftaccount",
width:950,height:550,color:"#3E73B4",friendlyName:"Microsoft Account"},instagram:{flow:"instagram",width:950,height:550,color:"#FFFFFF",friendlyName:"Instagram"},googleplus:{flow:"googleplus",width:445,height:665,color:"#D34836",friendlyName:"Google"},mixi:{flow:"mixi",width:950,height:550,color:"#333",friendlyName:"Mixi",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,googleplus:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},Qa={},Uc=["openId","openId2","oauth"];0<Uc.length;){var Vc=Uc.pop(),sc;for(sc in Tc[Vc])Qa[sc]=Tc[Vc][sc]}var Pd=[],t=function(){var a=[];return{log:function(c){var d=
{};d.id=a.length+1;d.message=c;a.push(d);return this},show:function(){if(0!=a.length){for(var c in a)if("undefined"!==typeof a[c].id){var d=a[c];"object"===typeof console&&("function"===typeof console.error?console.error("WARNING ID:"+d.id+" MESSAGE: "+d.message):"function"===typeof console.log&&console.log("WARNING ID:"+d.id+" MESSAGE: "+d.message))}a=[]}}}}();_debugAllFiredEvents=!1;Db.prototype.addHandler=function(a){this.eventHandlers.push(a);return this.eventHandlers.length-1};Db.prototype.removeHandler=
function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};Db.prototype.fire=function(a){for(var c=this.eventHandlers.length,d=0;d<c;d++)try{if("function"===typeof this.eventHandlers[d])this.eventHandlers[d](a)}catch(e){t.log(e),t.show()}if(a&&(_debugAllFiredEvents||pd(a)&&"save"in a&&!0===a.save))delete a.save,this.firedEvents.push({event:this,args:a})};"undefined"===typeof janrain.events&&(janrain.events={});var K;K||(K={});(function(){function a(a){return 10>a?"0"+a:a}function c(a){f.lastIndex=
0;return f.test(a)?'"'+a.replace(f,function(a){var c=k[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function d(a,e){var f,k,s,v,t=h,C,G=e[a];G&&"object"===typeof G&&"function"===typeof G.toJSON&&(G=G.toJSON(a));"function"===typeof r&&(G=r.call(e,a,G));switch(typeof G){case "string":return c(G);case "number":return isFinite(G)?""+G:"null";case "boolean":case "null":return""+G;case "object":if(!G)return"null";h+=g;C=[];if("[object Array]"===Object.prototype.toString.apply(G)){v=
G.length;for(f=0;f<v;f+=1)C[f]=d(f,G)||"null";s=0===C.length?"[]":h?"[\n"+h+C.join(",\n"+h)+"\n"+t+"]":"["+C.join(",")+"]";h=t;return s}if(r&&"object"===typeof r){v=r.length;for(f=0;f<v;f+=1)"string"===typeof r[f]&&(k=r[f],(s=d(k,G))&&C.push(c(k)+(h?": ":":")+s))}else for(k in G)Object.prototype.hasOwnProperty.call(G,k)&&(s=d(k,G))&&C.push(c(k)+(h?": ":":")+s);s=0===C.length?"{}":h?"{\n"+h+C.join(",\n"+h)+"\n"+t+"}":"{"+C.join(",")+"}";h=t;return s}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=
function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h,g,k={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r;"function"!==typeof K.stringify&&(K.stringify=function(a,c,e){var f;g=h="";if("number"===typeof e)for(f=0;f<e;f+=1)g+=" ";else"string"===typeof e&&(g=e);if((r=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return d("",{"":a})});"function"!==typeof K.parse&&(K.parse=function(a,c){function d(a,e){var f,h,g=a[e];if(g&&"object"===typeof g)for(f in g)Object.prototype.hasOwnProperty.call(g,
f)&&(h=d(g,f),void 0!==h?g[f]=h:delete g[f]);return c.call(a,e,g)}var f,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),"function"===typeof c?d({"":f},""):f;throw new SyntaxError("JSON.parse");})})();yb=void 0;
zb=void 0;false||(zb=X());yb||(yb=X());janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=X());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=X());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=X());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=X());janrain.events.onProviderLoginSuccess||(janrain.events.onProviderLoginSuccess=X());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=
X());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=X());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=X());Nc();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureRegistrationStart,onCaptureLoginStart,onCaptureLoginSuccess,onCaptureProfileSaveSuccess,onCaptureProfileSaveFailed,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureLoginFailed,onCaptureRegistrationSuccess,onCaptureRegistrationFailed,onCaptureEmailVerificationSuccess,onCaptureEmailVerificationFailed,onCaptureForgotPasswordCodeSuccess,onCaptureForgotPasswordCodeFailed,onCaptureSaveSuccess,onCaptureSaveFailed,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureServerValidationFailed,onCaptureFormError,onCaptureProfileCookieSet,onCaptureExpiredToken,onCaptureInvalidToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCapturePhotoUploadSuccess,onCaptureBackplaneReady,onCaptureBackplaneInitFailed,onCaptureAutoSaveUpdate,onCaptureControlSuccesss,onCaptureControlFailed,onModalClose,onModalOpen,onCaptureAccountReactivateSuccess,onCaptureAccountReactivateFailed,onCaptureAccountDeactivateSuccess,onCaptureAccountDeactivateFailed,onCaptureLinkAccountError,onCaptureError,onCaptureSubscriptionUpdate,onCaptureRegistrationSuccessNoLogin,onCapturePostLoginScreen".split(",");
for(var tc=0,Te=janrain.events.captureEvents.length;tc<Te;tc++)"undefined"===typeof janrain.events[janrain.events.captureEvents[tc]]&&(janrain.events[janrain.events.captureEvents[tc]]=new Db);janrain.events.onCaptureEmailVerficationSuccess=janrain.events.onCaptureEmailVerificationSuccess;janrain.events.onCaptureStartRegistration=janrain.events.onCaptureRegistrationStart;janrain.events.onCaptureStartLogin=janrain.events.onCaptureLoginStart;janrain.events.onCaptureSuccessfulLogin=janrain.events.onCaptureLoginSuccess;
janrain.events.onCaptureSuccessfulProfileSave=janrain.events.onCaptureProfileSaveSuccess;janrain.events.onCaptureFailedProfileSave=janrain.events.onCaptureProfileSaveFailed;janrain.events.onCaptureFailedLogin=janrain.events.onCaptureLoginFailed;janrain.events.onCaptureSuccessfulRegistration=janrain.events.onCaptureRegistrationSuccess;janrain.events.onCaptureFailedRegistration=janrain.events.onCaptureRegistrationFailed;janrain.events.onCaptureSuccessfulEmailVerification=janrain.events.onCaptureEmailVerificationSuccess;
janrain.events.onCaptureFailedEmailVerification=janrain.events.onCaptureEmailVerificationFailed;janrain.events.onCaptureSuccessfulSave=janrain.events.onCaptureSaveSuccess;janrain.events.onCaptureFailedSave=janrain.events.onCaptureSaveFailed;janrain.events.onCaptureFailedServerValidation=janrain.events.onCaptureServerValidationFailed;janrain.federateJSLoaded=!1;janrain.settings.capture.federate&&Kd("https://d1v9u0bgi1uimx.cloudfront.net/sso.js",function(){janrain.federateJSLoaded=!0}).setTimeoutLimit(1E4).setTimeoutCallback(function(){janrain.settings.capture.federate=
!1}).load();Oc();var Ve=new function(){function a(){function a(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){var a;Za&&(jb=p());M=h();gb=C();F=document.createElement("div");F.className="janrainContent";F.style.width=T+"px";F.style.height=k()+"px";F.style.paddingLeft=w+"px";F.style.paddingRight=w+"px";F.style.boxSizing="content-box";
40===Ra&&(F.style.paddingTop=w-1+"px");Y||(F.style.backgroundColor=n);Y||(F.style.border=Oa?"1px solid "+Da:"1px solid "+n);F=pa(F,I);Y||(F.style.overflow="hidden");F.style.position=Oa?"relative":"absolute";Ha=D();2==M||0==M?(db=(new q).setSide("right").create(),y=(new q).setSide("left").create()):(db=(new q).setSide("top").create(),y=(new q).setSide("bottom").create());a=B();" "!==e()&&a.appendChild(gb);if(Y){var m=E("blank");m.style.display="none";a.appendChild(m)}a.appendChild(Ha);!Y&&db&&y&&(a.appendChild(db),
a.appendChild(y));0<M&&Za&&a.appendChild(jb);F.appendChild(a);H("customizable_auth_widget_styling")||d(F);Ob||t.show();setTimeout(function(){zb.fire()},0)}function d(a){function c(a){var d="string"===typeof a.getAttribute("style")?a.getAttribute("style"):null;d&&(d.cssText&&(d=d.cssText),a.style.setAttribute?a.style.setAttribute("cssText",d.replace(/(((?!!important).)+?);/g,"$1 !important;")):a.setAttribute("style",d.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var e=a.getElementsByTagName("*"),
m=0,f=e.length;m<f;m++)"janrainProviderPages"===e[m].id||"janrainSlideControl"===e[m].className||"janrainSlideControl"===e[m].parentNode.className||c(e[m]);c(a)}function e(){if(S&&(S==a().twoColumn.actionText||S==a().oneColumn.actionText||S==a().oneRow.actionText))ha=!1;return ha&&S?S:f.translate.HEADER?f.translate.HEADER:"two column"===j?a().twoColumn.actionText:"one column"===j?a().oneColumn.actionText:"one row"===j?a().oneRow.actionText:S}function h(){var a=j;if("default"==a||"two column"==a)return 2;
if("one column"==a)return 1;if("one row"==a)return 0}function k(){var a=" "===S?0:Sa+w,c=Za&&"one row"!==j?Xa+w:0;return r()+a+c}function s(){var a=parseInt(Ha.style.left),c=parseInt(Ha.style.top),d;1==M?parseInt(Ha.style.height):parseInt(Ha.style.width);2==M&&(d=(T-3*w-(2==M?10:0))/M);if("one column"===j){if(" "===S&&(c+=11,0<c||-9<=c))return 0;if(9>c)return 1;if(0<c||c>=-(Sa-(w+1)))return 0}0==M&&(d=T-100);if(0>a&&a<-d)return 1;if(0<a||a>=-w)return 0}function r(){if("two column"===j)var a=ta/2;
"one column"===j&&(a=ta);"one row"===j&&(a=1);var c="one row"===j?0:2*a,d="one column"===j?3*w:0;if(7===g||6===g||g&&ca){if("two column"===j&&(d=w,7===g||6===g))d=2*w;if("one column"===j&&(d=3*w,(7===g||6===g)&&!ca))d+=w;if("one row"===j&&(7===g||6===g))d=w}"one column"===j&&ia<=ta&&(d=g&&ca?d+2*w:d-2*w);return Q*a+w*(a+1)+c+d}function q(){function a(){var c;k="over";var ob=s();if(0==ob&&"left"===m||0==ob&&"top"===m||1==ob&&"right"===m||1==ob&&"bottom"===m)return this.style.cursor="default",v.onclick=
"",!1;var f=this;setTimeout(function(){if(1===p){if("over"!==k)return!1;g&&(e.style.display="block");h.style.display="block";v.onclick=d;f.style.cursor="pointer";var a=document.getElementById("janrainProviderPages");c="top"==m||"bottom"==m?parseInt(a.style.top):parseInt(a.style.left);var ob="right"===m||"bottom"===m?c-Ua:c+Ua;"top"===m||"bottom"===m?a.style.top=ob+"px":a.style.left=ob+"px";p=2}},g?50:100)}function c(){var a;k="out";var d=s();if(1==d&&"right"===m||0==d&&"left"===m||0==d&&"top"===m||
1==d&&"bottom"===m)return!1;setTimeout(function(){if(2===p){if("out"!==k)return!1;g&&(e.style.display="none");h.style.display="none";var c=document.getElementById("janrainProviderPages");a="top"==m||"bottom"==m?parseInt(c.style.top):parseInt(c.style.left);var d="right"===m||"bottom"===m?a+Ua:a-Ua;"top"===m||"bottom"===m?c.style.top=d+"px":c.style.left=d+"px";p=1}},g?200:400)}function d(){h.style.display="none";v.style.cursor="default";u(m,function(a){G(a);p=1})}var e,m,f,h,x={left:"-33px -16px",right:"0px -16px",
top:"-16px -33px",bottom:"-16px 0px"},k="",p=1,v;return{setSide:function(a){m=a;return this},create:function(){var g;if(ia<=ta)g=!1;else{g=document.createElement("div");g.setAttribute("id","janrainShim_"+m);g.style.background="black";"top"===m||"bottom"===m?(g.style.height="19px",g.style.width="100%"):(g.style.height="100%",g.style.width="17px");va?(g.style.filter="alpha(opacity=100)",g.style.opacity=100):(g.style.filter="alpha(opacity=0)",g.style.opacity=0);g.style.position="absolute";g.style.zindex=
"99";if("top"===m||"bottom"===m)g.style.left="0";g.style[m]=w+"px";g.style.top="one column"!==j?w+1+"px":"top"===m?"10px":"0px";g.style.display="none";e=g;g=document.createElement("div");g.style.backgroundColor=va?"green":n;g.className="janrainSlideControllerMask";g.style.position="absolute";"one column"!==j&&(g.style.width=w+"px",g.style.height="100%",g.style.top="0px",g.style[m]="0px",g.style.borderWidth="1px","right"===m&&(!Za||"one row"===j)&&pa(g,null,0,0,I,0),"left"===m&&(!Za||"one row"===j)&&
pa(g,null,0,0,0,I),"right"===m&&" "===S&&pa(g,null,0,I,I,0),"left"===m&&" "===S&&pa(g,null,I,0,0,I));"one column"===j&&(g.style.height=w+"px",g.style.fontSize="0px",g.style.width="100%",g.style.padding="0px",g.style[m]="0px","top"===m&&" "===S?pa(g,null,I,I,0,0):"bottom"===m&&!Za&&pa(g,null,0,0,I,I));"one row"===j&&(g.style.height="105.5%");f=g;g=document.createElement("div");g.setAttribute("id","janrainArrow_"+m);g.style.background="url("+Ic("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+") no-repeat scroll "+
x[m]+" transparent";g.style.height="19px";g.style.width="17px";g.style.position="absolute";if("top"===m||"bottom"===m)g.style.left=T/2+"px";g.style[m]=w+"px";g.style.top="one column"!==j?r()/2-2*w+1+"px":"top"===m?"10px":"0px";g.style.display="none";h=g;g=document.createElement("div");g.className="janrainSlideControl";g.style.backgroundColor=va?"purple":"transparent";"one column"===j?(g.style.width=T+4+"px",g.style.left="3px","top"==m?(g.style.height=w+"px",g.style.top=Sa+w+"px"," "===S&&(g.style.left=
"0px",g.style.width=T+10+"px")):(g.style.height="20px",g.style.bottom=(Za?Xa+w:0)+"px",pa(g,null,0,0,I,I))):(g.style.width="right"===m?"20px":"0px",g.style[m]="0px",g.style.height=r()-(w*(" "===S)?1:2)+"px",40===Ra&&"one row"===j&&"left"===m&&(g.style.left=Ma+"px"),"right"===m&&!Za&&pa(g,null,0,0,I,0),"left"===m&&!Za&&pa(g,null,0,0,0,I));g.style.position="absolute";g.style.zIndex="100";g.style.cursor="pointer";g.onmouseover=a;g.onmouseout=c;g.onclick=d;v=g;v.appendChild(f);v.appendChild(e);v.appendChild(h);
g=v}return g}}}function u(a,c){var d=document.getElementById("janrainProviderPages"),e=new Od;if("top"===a||"bottom"===a){if(" "===S)var m=-(r()-Q),f=0;else m=-(r()-Q-Sa-w),f=Sa+w;50===Q&&(m-=20);g&&ca&&(m+=w," "!==S&&(f+=w));e.setElement(d).setAcceleration("sinusoidal").setDuration(100*ta).startPosition(parseInt(d.style.top)).endPosition("bottom"===a?m:f).setDirection("vertical").setCallback(function(){c(a)}).animate()}else g&&ca?(m=-(T-2*w-39),"one row"===j&&(m=-(Ma-1*w))):(m=-(T-32),"one row"===
j&&(m=-(T-24))),e.setElement(d).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(d.style.left)).endPosition("right"==a?m:w).setDirection("horizontal").setCallback(function(){c(a)}).animate()}function p(){var a=document.createElement("div");a.style.backgroundColor=va?"aqua":n;a.style.width=T+"px";a.style.height=Xa+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=w+"px";a.style.paddingRight=w+"px";a.style.paddingBottom=w+"px";a.style.bottom="0px";a.style.fontSize=
"10px";a.style.textAlign="left";a.style.color=ua;a.style.fontFamily=Ia;pa(a,null,0,0,I,I);var c=document.createElement("div"),d=janrain.settings.translate.POWERED_BY_PREFIX||"Social Login",e=janrain.settings.translate.POWERED_BY_SUFFIX||" by Janrain";c.style.paddingLeft="1px";var m=document.createElement("a");m.setAttribute("href","http://janrain.com/products/engage/social-login?utm_source="+Vb(janrain.settings.appUrl).host+"&utm_medium=Partner&utm_campaign=attribution");m.setAttribute("target","_blank");
m.appendChild(document.createTextNode(d));c.appendChild(m);c.appendChild(document.createTextNode(e));a.appendChild(c);return a}function C(){var a=document.createElement("div");a.style.backgroundColor=va?"orange":n;a.className="janrainHeader";a.style.fontSize=$a+"px";a.style.color=ua;a.style.position="relative";a.style.height=Sa+"px";40===Ra&&(a.style.cssFloat="left");a.style.left=40===Ra?"-6px":"-5px";a.style.paddingLeft=w+"px";a.style.paddingRight=w+"px";a.style.paddingTop=w+"px";a.style.paddingBottom=
"0px";a.style.whiteSpace="nowrap";a.style.width=40===Ra?"81px":T+"px";a.style.zIndex="100";40===Ra?pa(a,null,I,0,0,I):pa(a,null,I,I,0,0);40===Ra&&(a.style.marginTop="-3px");a.style.textAlign="one column"===j?"center":"left";var c=e();za=document.createElement("div");za.style.paddingLeft="1px";za.style.fontFamily=Ia;" "!==c&&za.appendChild(document.createTextNode(c));a.appendChild(za);return a}function B(){var a=document.createElement("div");a.id="janrainView";return a}function D(){var a,c;function d(e){e=
e.touches[0];"one column"===j?a=e.pageY:c=e.pageX}function e(d){d.preventDefault();d=d.touches[0];d="one column"===j?a-d.pageY:c-d.pageX;if(35<d||-35>d){var m;m="one column"===j?0<d?"bottom":"top":0<d?"right":"left";var g=s(),f=!0;"bottom"===m&&g+1==n&&(f=!1);"top"===m&&0==g&&(f=!1);"left"===m&&0==g&&(f=!1);"right"===m&&g+1==n&&(f=!1);f&&("one column"===j?h.style.top=parseInt(h.style.top)-d+"px":h.style.left=parseInt(h.style.left)-d+"px",u(m,function(){G()}),h.ontouchmove="")}}function m(){h.ontouchmove=
e}var f,h,x,k,n,p=M,r=[];k=L();n=Y?1:Math.ceil(ia/ta);2<n&&t.log("Either reduce the number of providers, or increase the setting for providersPerPage.");h=document.createElement("div");h.setAttribute("id","janrainProviderPages");Y&&(h.className="janrainConfigureMode");h.style.paddingTop=(6===g||7===g)&&g&&ca?2*w:w+"px";if((6===g||7===g)&&!ca)h.style.paddingTop=w+4+"px";1<n&&(h.ontouchstart=d,h.ontouchmove=e,h.ontouchend=m);40===Ra&&"one row"===j?h.style.left=Ma+w+"px":g&&ca?"one column"!==j&&(h.style.left=
w+"px"):h.style.left=w+"px";40===Ra&&"one row"===j&&(h.style.cssFloat="left");40===Ra&&"one row"===j&&(h.style.marginTop="1px");"one column"===j&&(h.style.top=(g&&ca?1:0)+Sa+w+"px");"one row"!==j&&" "===S&&(h.style.top="0px");"one column"===j&&" "===S&&(h.style.top="0px");f=T*n;h.style.position=g&&ca&&"one column"===j?"relative":"absolute";"two column"===j&&!(ia<=ta)&&(h.style.width=f+"px");"one row"===j&&(h.style.width=(!0===Y?T+w:2*T)+"px");Y&&(p=0);c=0;a=0;for(var q=0;q<n;q++){for(x=0;x<=p;x++)r[x]=
document.createElement("ul"),r[x].className="providers",r[x].id="janrainProviders_"+x,1<p&&(r[x].style.cssFloat="left"),1<p&&(r[x].style.styleFloat="left"),r[x].style.listStyleType="none",r[x].style.marginTop="0px",r[x].style.marginLeft="0px",r[x].style.marginRight="0px",r[x].style.marginBottom="0px",r[x].style.padding="0px";f=document.createElement("div");f.className="janrainPage";f.setAttribute("pageIndex",q);g&&ca&&1===n&&(f.style.width="110%");for(x=0;x<p;x++)f.appendChild(r[x]);if(Y||1>M)for(x=
0;x<=p;x++)f.appendChild(r[x]);for(var v=k.length%2,Ue=Y?ia:ta,y=0;y<Ue&&!(0==k.length);y++){if(2==p)var C=1==v?r[k.length%2?0:1]:r[k.length%2];if(1==p||0==p)C=r[0];x=k.shift();C.appendChild(x)}h.appendChild(f)}return h}function G(a){0==s()?("left"===a&&(y.style.width=w+"px",db.style.display="block",db.style.width="20px"),"top"===a&&(db.style.height=w+"px",y.style.display="block",y.style.height="20px")):("right"===a&&(db.style.width=w+"px",y.style.display="block",y.style.width="20px"),"bottom"===
a&&(y.style.height=w+"px",db.style.display="block",db.style.height="20px"))}function L(){for(var a=[],c=0;c<ia;c++){var d=E(Ka[c],c+1);a.push(d)}if("one column"==j){var e=a.slice(0),c=function(){var a=-Infinity,c,d,m=function(){c=e[d].children[0].children[1];return void 0!==c};for(d=0;d<e.length;d++)m()&&(a=Math.max(a,c.offsetWidth));for(d=0;d<e.length;d++)m()&&(c.style.width=a+"px")};janrain.events.onModalOpen?janrain.events.onModalOpen.addHandler(c):janrain.events.onAuthWidgetContentPlaced.addHandler(c);
janrain.events.onCustomizationChange.addHandler(c)}return a}function K(a,c){c.style.cursor="pointer";c.setAttribute("id","janrain-"+a);c.setAttribute("role","button");"one row"===j?c.style.background="transparent":("gradient"===ib&&Hc(c,"bottom, #eeeeee, #ffffff"),"gray"===ib&&(c.style.backgroundColor="#eeeeee"),"white"===ib&&(c.style.backgroundColor="#ffffff"));v(c,"mouseover",function(){Jb();"one row"===j?c.style.background="transparent":(c.style.backgroundColor="#E3E3E3",c.style.backgroundImage=
"")});v(c,"mouseout",function(){Jb();"one row"===j?c.style.background="transparent":("gradient"===ib&&Hc(c,"bottom, #eeeeee, #ffffff"),"gray"===ib&&(c.style.backgroundColor="#eeeeee"),"white"===ib&&(c.style.backgroundColor="#ffffff"))});Ob||R(c,a);return c}function E(a,c){function d(c){if(Qa&&Qa[a])return Qa[a][c]}var e=document.createElement("li");e.style.listStyle="none";0==M&&!1===Y&&(e.style.cssFloat="left");0==M&&!1===Y&&(e.style.styleFloat="left");e.style.height=g&&ca?Q+2:Q+"px";if("two column"==
j){var m=Y?3*w:ia<=ta?0:3*w;e.style.width=6===g||Jb&&ca?(T-m-4*w)/M+"px":(T-m-(2==M?10:0))/M+"px"}e.style.marginTop="0px";if("one column"==j){if(7==g||6==g)e.style.marginTop="-1px";g&&ca?e.style.marginRight="0px":e.style.width=T-w/2+"px";e.style.marginLeft="0px"}else e.style.marginRight=w+"px";0==M&&(e.style.width=Q+"px");e.style.marginBottom=(7===g||6===g||g&&ca?3:w)+"px";e.style.position="relative";0!=M&&(e.style.border="1px solid "+bb);0!=M&&pa(e,Ea);var m=document.createElement("a"),f=document.createElement("span"),
h=document.createElement("span");"undefined"!==typeof c&&(m.tabIndex=c);m.style.fontFamily="Helvetica, lucida grande, Verdana, sans-serif";m.style.fontSize="12px";m.style.lineHeight="14px";m.style.marginLeft="auto";m.style.marginRight="auto";m.href="javascript:void(0);";m.style.textDecoration="none";m.style.display="block";m.style.paddingLeft="5px";m.style.paddingRight="5px";m.style.textAlign="left";h.className="janrain-provider-text-color-"+a;h.style.fontFamily=Ia;h.style.cursor="pointer";h.style.marginLeft=
"7px";h.style.textAlign="left";30==Q&&(f.className="janrain-provider-icon-24 janrain-provider-icon-"+a,f.style.marginTop="3px",h.style.marginTop="9px",h.style.verticalAlign="top",h.style.display="inline-block");50==Q&&(f.className="janrain-provider-icon-32 janrain-provider-icon-"+a,f.style.marginTop="9px",f.style.backgroundColor="transparent",h.style.marginTop="16px",h.style.fontSize="16px",h.style.lineHeight="20px",h.style.verticalAlign="top",h.style.display="inline-block");"one column"==j&&(m.style.textAlign=
"center");"two column"==j&&275>T&&(h.style.textIndent="-9999px",h.style.fontSize="0",h.style.marginLeft=0,m.style.textAlign="center");2==M&&(30==Q&&(m.style.width="auto"),50==Q&&(f.style.marginLeft="5px"));if(0==M&&(30==Q||50==Q)){var f=document.createElement("a"),x=document.createElement("span"),k=document.createTextNode(a);"undefined"!==typeof c&&(f.tabIndex=c);f.className="janrain-provider-icon-32 janrain-provider-icon-bg janrain-provider-icon-"+a;f.style.marginTop="0px";f.href="javascript:void(0);";
f.style.textDecoration="none";f.style.display="block";x.style.display="inline-block";x.style.textIndent="-9999px"}if(d("customSAML")||d("customOpenid")){var n=d("friendlyName")||"Sign In",p=document.createTextNode(n);if(1==M||2==M){if(30==Q||50==Q)f.style.backgroundImage="url("+d("largeIcon")+")",h.appendChild(p),h.style.color=d("color")||"#000000";15<=p.length&&(p.textContent=p.textContent.substr(0,15))}if(0==M&&(30==Q||50==Q))k=document.createTextNode(n),f.style.backgroundImage="url("+d("largeIcon")+
")";g&&10>g&&(f.style.backgroundImage="none",f.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+d("largeIcon")+"')")}else if("blank"!==a&&(1==M||2==M))30==Q&&(f.style.backgroundColor="transparent",h.innerHTML=Qa[a].friendlyName),50==Q&&(f.style.backgroundColor="transparent",h.innerHTML=Qa[a].friendlyName);6===g&&"one row"!==j&&(n=document.createElement("div"),n.style.height=f.style.height,n.style.width="90px",n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+
f.src+"')",f.style.filter="alpha(opacity=0)",n.appendChild(f),e.appendChild(n));0==M?(e.appendChild(f),f.appendChild(x),x.appendChild(k)):(e.appendChild(m),m.appendChild(f),m.appendChild(h));return K(a,e)}function P(a,c){var d=document.createElement("a"),e=f.translate.SIGN_IN_AS||"Sign in as {name}",e=e.replace("{name}",c),m=document.createElement("span"),e=document.createTextNode(e),h=document.createElement("span");m.className="janrain-provider-text-color-"+a;d.href="javascript:void(0);";d.style.textDecoration=
"none";d.style.display="block";if("customopenid"===a){var x=document.createElement("span");document.createElement("span");x.className="janrain-provider-icon-32 janrain-provider-icon-"+a;x.style.backgroundImage="url("+cb.largeIcon+")";m.style.color=cb.customOpenIdProviderColor||"#000000";10>g&&(x.style.backgroundImage="none",x.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+cb.largeIcon+"')")}else"customsaml"===a?(x=document.createElement("span"),
document.createElement("span"),x.className="janrain-provider-icon-32 janrain-provider-icon-"+a,x.style.backgroundImage="url("+hb.largeIcon+")",m.style.color=hb.customSAMLProviderColor||"#000000",10>g&&(x.style.backgroundImage="none",x.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+hb.largeIcon+"')")):(x=document.createElement("span"),x.className="janrain-provider-icon-24 janrain-provider-icon-"+a);h.style.display="inline-block";h.style.verticalAlign=
"top";h.style.fontFamily=Ia;var n=document.createElement("div"),p=7.5*e.length+30,r=k();n.style.fontSize="16px";n.style.height="100%";n.style.position="relative";if(0==M||120>r)15<=e.length&&(n.style.fontSize="14px",p=7*e.length+30),20<=e.length&&(n.style.fontSize="12px",p=6*e.length+30),24<=e.length&&(n.style.fontSize="10px",p=5*e.length+50),30<=e.length&&(e.textContent=e.textContent.substr(0,26)+"...",p=162);n.style.width=p+"px";if(0==M||116>r)"customopenid"===a?(x=document.createElement("span"),
document.createElement("span"),x.className="janrain-provider-icon-24 janrain-provider-icon-"+a,x.style.backgroundImage="url("+cb.largeIcon+")",m.style.color=cb.customOpenIdProviderColor||"#000000",g&&10>g&&(x.style.backgroundImage="none",x.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+cb.largeIcon+"')")):"SAML"===a?(x=document.createElement("span"),document.createElement("span"),x.className="janrain-provider-icon-24 janrain-provider-icon-"+
a,x.style.backgroundImage="url("+hb.largeIcon+")",m.style.color=hb.customSAMLProviderColor||"#000000",g&&10>g&&(x.style.backgroundImage="none",x.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+hb.largeIcon+"')")):(x=document.createElement("span"),x.className="janrain-provider-icon-24 janrain-provider-icon-"+a);30===Q&&(h.style.marginTop="9px",h.style.fontSize="12px",x.style.marginTop="3px");50===Q&&(h.style.marginTop="16px",x.className="janrain-provider-icon-32 janrain-provider-icon-"+
a,x.style.marginTop="9px");"one row"===j&&30===Q&&(x.style.marginTop="-1px");h.appendChild(m);m.appendChild(e);x.style.marginRight="10px";x.style.verticalAlign="top";d.style.overflow="hidden";d.style.position="relative";d.style.height=("one row"!==j?Q:25)+"px";d.style.marginBottom="one row"===j?"-4px":"4px";"one row"===j&&(d.style.top="-4px");d.style.left="0px";g&&ca&&(d.style.marginRight="5px");g&&ca&&(d.style.marginLeft="3px");d.style.border="1px solid "+bb;pa(d,Ea);"customopenid"===a&&(d.style.color=
Qa[a].color);6===g||7===g||g&&ca?n.style.left="10px":n.style.margin="0 auto";n.appendChild(x);n.appendChild(h);0==M&&(n.style.paddingTop="2px",h.style.marginTop="6px");0==M||116>r?(d.appendChild(n),n.style.width="auto"):(50===Q&&parseInt(d.style.height),h.style.cssFloat="none",h.style.styleFloat="none",d.appendChild(x),d.appendChild(h));return K(a,d)}function R(a,c){v(a,"click",function(){U(c)})}function U(a){var c=Qa[a],d={appUrl:f.appUrl,mobileDevice:Rc,language:f.language,popup:Xb,tokenUrl:Ce(nb.linkAccounts)||
qd(f.tokenUrl||location.href,nb)||location.href,facebookPermissions:mb,forceReauth:Mb,widgetType:"auth",tokenAction:Fa,bpChannel:Nb,customOpenid:Bb,customOpenidOpxblob:f.customOpenidOpxblob,extParams:f.extParams,scopes:qb};c.name=a;new vb(c,d,function(){sa||(aa=setTimeout(function(){ab(c)},300))})}function X(){var a=document.createElement("div");a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width=T+"px";a.style.zIndex="102";a.style.textAlign="center";a.style.padding=w+"px";
a.style.backgroundColor="transparent"===n?"#ffffff":n;a.style.height=k()-(g&&ca?0:2*w)+"px";pa(a,I);return a}function Z(a){var c=document.createElement("a"),d=document.createTextNode(f.translate.USE_ANOTHER_ACCOUNT||"switch accounts");c.setAttribute("class","janrainSwitchAccountLink");c.setAttribute("href","");c.style.fontSize="12px";c.style.fontFamily=Ia;c.style.color=ua;c.onclick=a;c.appendChild(d);return c}function ga(){return"modal"===W?document.getElementById("janrainModal"):"embed"===W?document.getElementById("janrainEngageEmbed"):
!1}function ba(){var a=parseInt(F.style.width);return a=a+2*w+2}function $(){var a=ga();null!==a&&"object"===typeof F&&F.parentNode===a&&a.removeChild(F);janrain.events.onProviderLoginStart.removeHandler(kb)}function ka(){var a="";"object"===typeof A&&(a=A.getState());return{type:W,width:ba(),fontFamily:Ia,fontSize:$a,fontColor:ua,backgroundColor:n,borderColor:Da,borderRadius:I,format:j,providersPerPage:ta,providers:Ka,buttonBackgroundStyle:ib,buttonBorderColor:bb,buttonBorderRadius:Ea,actionText:e(),
showAttribution:Za,modalState:a}}function la(a){j=O("string",["default","two column","one column","one row"],"two column",a);"default"===j&&(j="two column");"one row"==a&&(I=O("number",[0,10],5,I));a=parseInt(janrain.settings.fontSize,10);0===$a?"two column"===j?qa(a||La):qa(a||Pa):qa($a)}function ra(a){"two column"===j&&(T=O("number",[225,600],380,a));"one column"===j&&(T=O("number",[160,600],200,a));"one row"===j&&(Q=30,a=ia<=ta?w*(parseInt(ta)-1):w*(parseInt(ta)+2),40===Ra&&(a+=Ma-w),T=Q*ta+a);
if(("two column"===j||"one column"===j)&&!Y)T=T-2*w-2;g&&ca&&(T=T+2*w+2);"one row"!==j&&(Q=380<T?50:30)}function wa(c){"string"===typeof c&&(ha=!0,S=O("text",null,S,c)," "===S?I=O("number",[0,5],5,I,!0):Sa="two column"!==j?a().headerHeight-5:a().headerHeight)}function xa(a){ib=O("string",["gray","white","gradient"],"gradient",a)}function ya(a){bb=O("color",null,"#CCCCCC",a)}function Ta(a){n=O("color",null,"#ffffff",a)}function Aa(a){"undefined"===typeof a&&(a=5);I=" "===S||!Za||"one row"===j?O("number",
[0,5],5,a,!0):O("number",[0,10],10,a)}function Ba(a){Za=O("boolean",null,!0,a);k();I=a?O("number",[0,10],5,I,!0):O("number",[0,5],5,I,!0)}function Ca(a){Da=O("color",null,"#C0C0C0",a)}function qa(a){if("two column"===j)$a=O("number",[8,30],La,a);else if("one column"===j||"one row"===j)$a=O("number",[8,20],Pa,a)}function ja(a){ua=O("color",null,"#333333",a)}function Ja(a){if("object"==typeof a){M=h();for(var c=0,d=a.length;c<d;c++)Qa[a[c]]||(t.log(a[c]+" is not a valid provider: removing."),a.splice(c,
1),--c,--d);Ka=a;ia=a.length;"object"===typeof A&&A.setHeight(k()-2*w).refresh()}}function Ga(a){"two column"===j&&(ta=O("number",[4,6,8],6,a));"one column"===j&&(ta=O("number",[1,6],6,a));"one row"===j&&(ta=Cb?ia:O("number",[4,8],6,a),ra(T))}function ab(a){var c=document.createTextNode(f.translate&&f.translate.SIGNING_IN?f.translate.SIGNING_IN:"Signing in ..."),d=document.createElement("div");Na=X(a.name);d.appendChild(c);d.style.position="absolute";d.style.marginTop="-8px";d.style.top="50%";d.style.textAlign=
"center";d.style.width="100%";Na.appendChild(d);F&&F.appendChild(Na)}var va=!1,T=380,ha=!1,Ia="Helvetica, lucida grande, Verdana, sans-serif",$a=0,La=18,Pa=14,ua="#666666",n="#ffffff",Da="#C0C0C0",I=10,F,za,j="two column",M,Oa,ta=6,Ka=["aol","google","yahoo","openid"],ia=4,bb="#CCCCCC",Ea=5,ib="gradient",Q=30,Sa=a().headerHeight,Ra=60,Ma=89,Xa=a().footerHeight,w=5,Ua=10,S="Sign in using your account with",Na,Ha,db,y,Za=!0,Ib=!1,fb=!1,gb,jb,kb;kb=janrain.events.onProviderLoginStart.addHandler(function(a){V("login_tab",
a.provider,1)});return{build:c,setFormat:function(c){c&&la(c);"two column"!==j&&(Sa=a().headerHeight-5);"two column"===j&&(ta=a().twoColumn.providersPerPage,Sa=a().headerHeight);return this},setActionText:function(a){"string"===typeof a&&wa(a);return this},setFontSize:function(a){a&&qa(a);return this},setFontFamily:function(a){a&&a&&(Ia=a);return this},setFontColor:function(a){a&&ja(a);return this},setButtonBorderColor:function(a){a&&ya(a);return this},setButtonBorderRadius:function(a){if("string"==
typeof a||"number"==typeof a)Ea=O("number",[0,20],5,a);return this},setButtonBackgroundStyle:function(a){a&&xa(a);return this},setWidth:function(a){("string"==typeof a||"number"==typeof a)&&ra(a);return this},refresh:function(){$();var a=ga();c();var d=rb("expected_tab");d&&!zc?Ya("expected_tab",d):(null!==a&&"object"===typeof F&&a.appendChild(F),"object"===typeof A&&A.setHeight(parseInt(F.style.height)+2).refresh());Ob&&"object"===typeof A&&A.setHeight(parseInt(F.style.height)+2).refresh();janrain.events.onCustomizationChange.fire(ka());
return this},remove:function(){$();return this},setRowHeight:function(a){if(0!==h())return this;a||(a=60);oneRowHeaderHeight=O("number",[40,60,90],60,a);40===oneRowHeaderHeight&&(Q=30,Ra=40);60===oneRowHeaderHeight&&(Q=30);90===oneRowHeaderHeight&&(Q=50);return this},setHeight:function(a){"object"==typeof F&&(F.style.height=a+"px");return this},setBackgroundColor:function(a){a&&Ta(a);return this},setBorderColor:function(a){a&&Ca(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==
typeof a)&&Aa(a);return this},setProviders:function(a){"object"==typeof a&&Ja(a);return this},setProvidersPerPage:function(a){if("string"==typeof a||"number"==typeof a)Ga(a),"object"===typeof A&&A.setHeight(k()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===typeof a&&Ba(a);return this},setPreviewMode:function(a){"boolean"===typeof a&&(Ob=a);return this},setProviderFlow:function(a,c){return R(a,c)},triggerFlow:function(a){return U(a)},setNoReturnExperience:function(a){"boolean"===
typeof a&&(Ib=a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(fb=a);return this},setConfigureMode:function(a){"boolean"===typeof a&&(Y=a,M=h());return this},embed:function(a){if((Oa=a)&&"object"==typeof F)F.style.position="relative";return this},getContentsDiv:function(){return F},getErrorPage:function(a,c){var d=document.createTextNode(c.msg),e=document.createElement("div");e.appendChild(d);e.style.color=ua;e.style.fontSize=$a+"px";e.style.width="100%";var m=
X(a);m.appendChild(e);m.appendChild(Z(function(){F.removeChild(m);F.removeChild(Na);Mb=!0;return!1},a));F.appendChild(m);return F},getReturnExperience:function(a,c){if(Ob||Ib||-1===Ka.indexOf(a))return F;var d=P(a,c),e=X(a),m=document.createElement("div"),f=function(){Mb=zc=!0;F.removeChild(e);return!1};m.style.position="relative";m.style.top="50%";30===Q&&(m.style.marginTop="-25px");50===Q&&(m.style.marginTop="-35px");0==M&&(m.style.top="0",m.style.marginTop="0");e.id="janrainAuthReturnExperience";
e.appendChild(m);m.appendChild(d);fb||m.appendChild(Z(f,a));F.appendChild(e);return F},getWidth:function(){return ba()},getActualHeight:function(){return parseInt(F.style.height)+2},getHeight:function(){return k()-2*w},getState:function(){return ka()},setState:function(c){if(H("customizable_auth_widget_styling")){var d=c.fontFamily;d&&(Ia=d);qa(c.fontSize);ja(c.fontColor);Ta(c.backgroundColor);Ca(c.borderColor);"embed"===W&&c.format&&(c.format&&la(c.format),"two column"!==j&&(Sa=a().headerHeight-
5),"two column"===j&&(ta=a().twoColumn.providersPerPage,Sa=a().headerHeight));if("string"==typeof c.providersPerPage||"number"==typeof c.providersPerPage)Ga(c.providersPerPage),"object"===typeof A&&A.setHeight(k()).refresh("janrainModal");xa(c.buttonBackgroundStyle);ya(c.buttonBorderColor);Ea=O("number",[0,20],5,c.buttonBorderRadius);wa(c.actionText);Ba(c.showAttribution);Aa(c.borderRadius);"embed"===W&&("string"==typeof width||"number"==typeof width)&&ra(c.width)}Ja(c.providers)},showNotice:function(){ab()},
removeNotice:function(){Wb(Na)},removeReturnExperience:function(){var a=document.getElementById("janrainAuthReturnExperience");Wb(a)}}}function c(){var a=document.createElement("div");a.id="fb-root";document.body.insertBefore(a,document.body.firstChild);window.fbAsyncInit=function(){FB.init({appId:janrain.settings.facebookAppId,status:!0,cookie:!1,xfbml:!1,channelUrl:"/channel.html"});FB.getLoginStatus(function(a){var c=(new E).setName(fb);a.authResponse&&window.janrain&&window.janrain.engage&&window.janrain.engage.signin&&
(janrain.engage.signin.facebookAutoLoginCallback=function(a){"ok"===a.stat&&(janrain.events.onProviderLoginToken.fire({engageToken:a.token}),c.setValue("true").create())},Aa(f.appUrl+"/signin/oauth_token?provider=facebook&callback=janrain.engage.signin.facebookAutoLoginCallback&token="+a.authResponse.accessToken+"&origin_domain="+window.location.hostname))})};Aa("//connect.facebook.net/en_US/all.js")}function d(){if("object"===typeof q)if("object"===typeof wa){var a=q.getState();a.width=wa.width;
wa=a}else wa=q.getState();"object"===typeof q&&q.remove();"object"===typeof A&&A.remove();W="modal";C();"object"===typeof q&&wa&&H("customizable_auth_widget_styling")&&q.setState(wa);"object"===typeof A&&Ua&&H("customizable_auth_widget_styling")&&A.setState(Ua);"object"===typeof A&&A.show();"object"===typeof q&&q.refresh()}function e(){if("object"===typeof q){if("object"===typeof wa){var a=q.getState();a.borderRadius=wa.borderRadius;a.format=wa.format;a.width=wa.width;wa=a}else wa=q.getState();Ua=
wa.modalState;delete Ua.orientation}"object"===typeof q&&q.remove();"object"===typeof A&&A.remove();"object"===typeof A&&(A="");W="embed";h();"object"===typeof q&&wa&&H("customizable_auth_widget_styling")&&q.setState(wa);"object"===typeof q&&q.refresh()}function k(){var a,c;C();c=document.getElementsByTagName("a");var d=RegExp("(\\s|^)"+f.linkClass+"(\\s|$)");for(a in c)d.test(c[a].className)&&(c[a].onclick=r)}function h(){var c=rb("expected_tab");q=new a;q.setBackgroundColor(La).embed(!0).setPreviewMode(Ac).setShowAttribution(Bc).setNoReturnExperience(cc).setNoReturnExperienceSwitchAccountLink(dc).setFormat(pb).setRowHeight(Qb).setFontSize(ec).setFontFamily(fc).setFontColor(Rb).setActionText(Hb).setProviders(lb).setProvidersPerPage(gc).setWidth(Cc).setBorderColor(Sb).setBorderRadius(jb).setButtonBorderColor(ya).setButtonBorderRadius(ua).setButtonBackgroundStyle(Tb).build();
var d=document.getElementById("janrainEngageEmbed");null===d&&(d=document.getElementById("janrainModal"));Ha||(c?($("welcome_info_name",unescape(rb("welcome_info_name"))),Ya("expected_tab",c)):xa(d,q.getContentsDiv()))}function r(){"object"===typeof A&&A.show();return!1}function C(){var c=lc(Lb,Na),d=rb("expected_tab");if("undefined"===typeof c||0>c)c=5;q=new a;q.setBackgroundColor(La).setPreviewMode(Ac).setShowAttribution(Bc).setNoReturnExperience(cc).setNoReturnExperienceSwitchAccountLink(dc).setFontSize(ec).setFontFamily(fc).setFontColor(Rb).setActionText(Hb).setProviders(lb).setProvidersPerPage(gc).setBorderRadius(c).setButtonBorderColor(ya).setButtonBorderRadius(ua).setButtonBackgroundStyle(Tb).build();
if("object"!==typeof A){A=new td;A.ready=!1;var e=A.addContent;A.addContent=function(a){A.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}A.setHeight(q.getActualHeight()).setWidth(q.getWidth()).setPreviewMode(Ac).setBorderColor(pc).setBorder(Na).setBorderOpacity(Ab).setBorderRadius(Lb);Ha||(d?($("welcome_info_name",unescape(rb("welcome_info_name"))),Ya("expected_tab",d)):A.addContent(q.getContentsDiv()));A.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&q.setFormat(a.format).setWidth(200).refresh({center:!0});
"landscape"===a.orientation&&q.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh({center:!0});A.setHeight(q.getActualHeight());A.setWidth(q.getWidth())});A.onShow.addHandler(function(){"object"==typeof q&&A.setWidth(q.getWidth())});A.onBorderWidthChange.addHandler(function(a){"object"===typeof A&&"object"===typeof q&&(q.setBorderRadius(a.radius).refresh(),a=q.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&A.setBorderRadius(a.borderRadius+a.modalState.borderWidth))});
A.onBorderRadiusChange.addHandler(function(a){"object"===typeof q&&(q.setBorderRadius(a.radius).refresh(),a=q.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&A.setBorderRadius(a.borderRadius+a.modalState.borderWidth))})}function B(a,c){if(!H("customizable_auth_widget_styling"))return!1;if("object"===typeof q)return c(a),!0}function L(a){return B(a,function(a){q.setBackgroundColor(a).refresh()})}function P(a){return B(a,function(a){q.setBorderRadius(a).refresh()})}function Z(a){return B(a,
function(a){q.setBorderColor(a).refresh()})}function ka(a){return"modal"===W?!1:B(a,function(a){q.setWidth(a).refresh({center:!0})})}function ra(a){return B(a,function(a){q.setActionText(a).refresh()})}function Ca(a){return B(a,function(a){q.setButtonBorderColor(a).refresh()})}function qa(a){return B(a,function(a){q.setButtonBorderRadius(a).refresh()})}function R(a){return B(a,function(a){q.setButtonBackgroundStyle(a).refresh()})}function G(a){return"modal"==W?!1:B(a,function(a){q.setFormat(a).refresh()})}
function ga(a){return B(a,function(a){q.setProvidersPerPage(a).refresh()})}function ja(a){return B(a,function(a){q.setFontFamily(a).refresh()})}function D(a){return B(a,function(a){q.setFontSize(a).refresh()})}function za(a){return B(a,function(a){q.setFontColor(a).refresh()})}function rb(a){var c;if("single cookie"===Oa){c=E().getCookie("janrain_engage_login_data");if(!c)return;c=K.parse(c);return!c[a]?void 0:a=c[a]}if("default"===Oa)return a=E().getCookie(a),!a?void 0:a}function V(a,c,d){var e;
if(!a||!c)return!1;d||(d=1);if("single cookie"===Oa)return(oldCookieJSON=E().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),d=K.parse(oldCookieJSON),d[a]=c,e=new E,e.setName("janrain_engage_login_data").setValue(K.stringify(d)).setExpiration(1826).create(),!0;return"default"===Oa?(e=new E,e.setName(a).setValue(c).setExpiration(d).create(),!0):!1}function ia(a,c){if(cc)return!1;if("expected_tab"===a&&!c){var d=rb("login_tab");d&&ia("expected_tab",d);return!1}if(!c||"undefined"===c||
"expected_tab"!==a&&"expected_user_input"!==a&&"welcome_info_name"!==a)return!1;c="welcome_info_name"===a?escape(c):c;V(a,c,1826)}function Ea(a,c){var d={};a||(a=hc);c||(c=hc.appUrl);if(g&&3>kb)return d.widget_type=a.widget_type,d.provider=a.provider,d.time=(new Date).getTime(),d=Kc(d),Aa(c+"/signin/get_login_info"+d),kb++,!0;"object"===typeof janrain.events.onProviderLoginCancel&&janrain.events.onProviderLoginCancel.fire(a);"undefined"!==typeof aa&&clearTimeout(aa);return!1}function vb(a,c,d){var e=
c.appUrl,f=janrain.settings.customSAML&&a.customSAML,g=janrain.settings.customOpenid&&a.customOpenid,e=f?e+"/saml2/sso/start":e+("/"+a.flow+"/start"),h=window.location.href;c.mobileDevice&&(h="mobile");var k=c.language||"en",r=c.popup?"xdr":"xdrsw",s=c.tokenUrl||window.location.href,p={};hc={appUrl:c.appUrl,provider:a.name,widget_type:c.widgetType};p.language_preference=k;p.token_url=s;p.display="popup";p.widget=!0;"object"===typeof c.facebookPermissions&&(p.ext_perm=c.facebookPermissions.toString());
f?p.saml_provider=a.identifier:p.openid_identifier=a.identifier;p.origin_url=h;p.provider_name=a.name;p.force_reauth=c.forceReauth;p.xdReceiver=c.appUrl+"/"+r;p.callback="none";p.widget_type=c.widgetType;p.token_action="url";if("event"===c.tokenAction||"hybrid"===c.tokenAction)p.token_action="event";c.mobileDevice&&"hybrid"===c.tokenAction&&(p.token_action="url");c.bpChannel&&(p.bp_channel=c.bpChannel);c.extParams&&c.extParams[a.name]&&(p.ext_params=c.extParams[a.name]);c.scopes&&"object"===typeof c.scopes[a.name]&&
(p.override_scopes=c.scopes[a.name].toString());h=function(c){var d=janrain.settings[c],c=a[c],d="object"===typeof d?d[a.name]:d;return d!==c?d:c}("customOpenidOpxblob");c.customOpenid&&"string"===typeof h&&(p.opx_blob=h);e+=Kc(p);(function(){janrain.events.onProviderLoginStart.fire({provider:a.name,width:a.width,height:a.height});var h;c.mobileDevice&&"event"!==c.tokenAction||!c.popup?Aa(c.appUrl+"/signin/set_login_tab?login_tab="+a.name+"&origin_url="+encodeURIComponent(window.location.href),function(){janrain.settings.customProviderInIFrame&&
(g||f)?window.location.href=e:window.top.location.href=e}):(h=new Le(e),h.setWidth(a.width).setHeight(a.height).setCallback(function(){var e={},f="";e.widget_type=c.widgetType;e.provider=a.name||"";e.time=(new Date).getTime();f=Kc(e);"function"===typeof d&&d();Aa(c.appUrl+"/signin/get_login_info"+f);janrain.events.onProviderLoginComplete.fire({provider:a.name})}).show())})()}function $(a,c){if(!c||"undefined"===c||"welcome_info_name"!==a)return!1;c&&(la=c)}function Ya(a,c){function d(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,
welcomeName:la})}var e=function(a){var d=function(){600>a&&setTimeout(function(){e(++a)},50)};if("object"!==typeof q)return d(),!1;"modal"===W?A.addContent(q.getReturnExperience(c,la)):"embed"===W&&xa(document.getElementById("janrainEngageEmbed"),q.getReturnExperience(c,la));"modal"===W&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!c)return!1;"object"===typeof q&&q.removeReturnExperience();ub?d():janrain.events.onAuthWidgetLoad.addHandler(d);e(0)}function xa(a,c){a&&(a.innerHTML=
"");janrain.settings.capture&&(a?(a.innerHTML="",a.appendChild(c)):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?(a.appendChild(c),janrain.events.onAuthWidgetContentPlaced.fire()):(t.log('Missing container div, please place this div where you wantthe embedded widget to be displayed on your page- <div id="janrainEngageEmbed"></div>.'),t.show());return a}function Ma(a,c,d){d=d?Nd:Ba;return nb=c?d(nb,a):a}function gb(){function a(c){if(!("customsaml"===
c&&!f.customSAML||"customopenid"===c&&!f.customOpenid)){var d,e;if("customsaml"===c)d="customSAMLProviderId",e=["customSAMLProviderName","customSAMLProviderColor","customSAMLLargeIcon"];else if("customopenid"===c)d="customOpenidProviderId",e="customOpenIdProviderName,customOpenIdProviderColor,customOpenidLargeIcon,customOpenidIdentifier,customOpenidFlow,customOpenidOpxblob".split(",");else{t.log("Bad provider: "+c);t.show();return}var h=typeof f[d];if("undefined"===h||"string"===h){var g=f[d]||c;
f[d]=[g];Kb(e,function(a){if("object"!==typeof f[a]){var c=f[a];f[a]={};f[a][g]=c}})}}}function c(a,d){var e=U,h={customopenid:["customOpenidFlow","customOpenidIdentifier"],customsaml:["customSAMLProviderId"]};if(f[{customopenid:"customOpenid",customsaml:"customSAML"}[a]]&&H("customizable_auth_widget_styling")){"customopenid"===a&&(Bb=!0);for(var h=h[a],g=0,m=h.length;g<m;g++)if(!f[h[g]])return t.log(e({provider:a,setting:h[g]},"Missing {| setting |}. {| setting |} is required when adding a {| provider |} provider")),
t.show(),!1;var k={customsaml:{providerColor:"customSAMLProviderColor",friendlyName:"customSAMLProviderName",modalHeight:"customSAMLModalHeight",modalWidth:"customSAMLModalWidth",largeIcon:"customSAMLLargeIcon"},customopenid:{providerColor:"customOpenIdProviderColor",friendlyName:"customOpenIdProviderName",modalHeight:"customOpenidModalHeight",modalWidth:"customOpenidModalWidth",customOpenidOpxblob:"customOpenidOpxblob",largeIcon:"customOpenidLargeIcon",flow:"customOpenidFlow",identifier:"customOpenidIdentifier"}},
e=function(c){c=f[k[a][c]];return"object"===typeof c?c[d]:c},h={width:e("modalWidth")||800,height:e("modalHeight")||600,friendlyName:e("friendlyName"),color:e("providerColor"),largeIcon:e("largeIcon"),identifier:e("identifier")};"customopenid"===a?(h.flow=e("flow"),h.customOpenid=!0,h.customOpenidOpxblob=e("customOpenidOpxblob")):"customsaml"===a&&(h.customSAML=!0,h.identifier=d);Qa[d]=h}}f=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout(gb,
5),!1;!0===f.noProvidersCss&&!0===f.custom||(oc(id()+"providers.css"),g&&9>=g&&oc(id()+"providers-ie.css"));if(f.stop)return!0;Yb&&Aa(f.appUrl+"/signin/establish_session");Fa=f.tokenAction?f.tokenAction:Fa;if(!f.tokenUrl&&"event"!=Fa)return t.log("Missing tokenUrl.  tokenUrl is required."),t.show(),!1;W=O("string",["modal","embed"],"embed",f.type?f.type:W);Ha=f.multi?f.multi:Rc?!0:Ha;sa=f.custom?f.custom:sa;Mb=f.forceReauth?f.forceReauth:Mb;Nb=f.bpChannel?f.bpChannel:Nb;mb=f.facebookPermissions?f.facebookPermissions:
mb;qb=f.scopes?f.scopes:qb;Ga=!!f.facebookAutoLogin;Oa=f.storageType?O("string",["default","single cookie"],"default",f.storageType):Oa;Xb="boolean"===typeof f.popup?f.popup:Xb;Rc&&"event"!==Fa&&(Xb=!1);va=f.returnExperienceTimeout?f.returnExperienceTimeout:va;Ha&&(setTimeout(function(){var a=rb("expected_tab");if(a)$("welcome_info_name",unescape(rb("welcome_info_name"))),Ya("expected_tab",a);else if(a=function(){if("modal"===W)A.addContent(q.getContentsDiv());else if("embed"===W){var a=document.getElementById("janrainEngageEmbed");
xa(a,q.getContentsDiv())}"undefined"!==typeof c&&zb.removeHandler(c)},q)a();else var c=zb.addHandler(a)},va),Aa(f.appUrl+"/signin/get_cookies"));a("customopenid");a("customsaml");f.customOpenid&&Kb(f.customOpenidProviderId,function(a){c("customopenid",a)});f.customSAML&&Kb(f.customSAMLProviderId,function(a){c("customsaml",a)});if(sa)return!0;Fa=f.tokenAction?f.tokenAction:Fa;Na=H("customizable_auth_widget_styling")?f.modalBorderWidth:Na;pc=H("customizable_auth_widget_styling")?f.modalBorderColor:
pc;Lb=H("customizable_auth_widget_styling")?f.modalBorderRadius:Lb;Ab=H("customizable_auth_widget_styling")?f.modalBorderOpacity:Ab;La=H("customizable_auth_widget_styling")?f.backgroundColor:La;jb=H("customizable_auth_widget_styling")?f.borderRadius:jb;Sb=H("customizable_auth_widget_styling")?f.borderColor:Sb;pb=f.format;Rb=H("customizable_auth_widget_styling")?f.fontColor:Rb;ec=H("customizable_auth_widget_styling")?f.fontSize:ec;fc=H("customizable_auth_widget_styling")?f.fontFamily:fc;Cc=H("customizable_auth_widget_styling")?
f.width:Cc;Qb=H("customizable_auth_widget_styling")?f.rowHeight:Qb;gc=f.providersPerPage;Cb=H("customizable_auth_widget_styling")?f.providersNotPaged:Cb;Hb=H("customizable_auth_widget_styling")?f.actionText:Hb;ya=H("customizable_auth_widget_styling")?f.buttonBorderColor:ya;ua=H("customizable_auth_widget_styling")?f.buttonBorderRadius:ua;Tb=H("customizable_auth_widget_styling")?f.buttonBackgroundStyle:Tb;Bc=H("customizable_auth_widget_hide_attribution")?f.showAttribution:Bc;Ac=f.previewMode;cc=f.noReturnExperience;
dc=f.noReturnExperienceSwitchAccountLink;lb=f.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate=f.translate={});if(f.customOpenid&&H("customizable_auth_widget_styling")){if(!f.customOpenidLargeIcon)return t.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),t.show(),!1;cb={largeIcon:f.customOpenidLargeIcon,customOpenIdProviderName:f.customOpenIdProviderName||janrain.settings.translate.SIGN_IN||
"Sign in",customOpenIdProviderColor:f.customOpenIdProviderColor}}if(f.customSAML&&H("customizable_auth_widget_styling")){if(!f.customSAMLLargeIcon)return t.log("Missing customSAMLLargeIcon.  customSAMLLargeIcon is required and should be the full path to an image that is 50px x 50px."),t.show(),!1;hb={largeIcon:f.customSAMLLargeIcon,customSAMLProviderName:f.customSAMLProviderName||janrain.settings.translate.SIGN_IN||"Sign in",customSAMLProviderColor:f.customSAMLProviderColor}}f.previewMode?("modal"===
W&&(janrain.ready?d():v(window,"load",d)),"embed"===W&&(janrain.ready?e():v(window,"load",e))):("modal"===W&&(janrain.ready?k():v(window,"load",k)),"embed"===W&&(janrain.ready?h():v(window,"load",h)))}var mb,qb,Ga=!1,fb="janrain_engage_facebook_auto_login",Nb,Bb=!1,Mb=!1,Fa="url",nb={},W="embed",la="unknown",Ha=!1,va=300,Mb=!1,Xb=!0,sa=!1,Oa="default",cb,hb,Ua,A,Na,pc,Lb,Ab,q,wa,La,jb,Sb,Cc,Qb,pb,lb=[],Cb=!1,gc,Hb,ec,fc,Rb,ya,ua,Tb,Ac,cc,dc,Bc,zc=!1,ub=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=
X());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=X());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=X());janrain.events.onAuthWidgetLoad.addHandler(function(){ub=!0;var a=(new E).getCookie(fb);Ga&&!a&&c()});janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===typeof janrainWidgetOnload?sa?janrainWidgetOnload():q?janrainWidgetOnload(q.getState()):janrainWidgetOnload():Pa.error("No such function 'janrainWidgetOnload'")});for(var aa,
kb=0,hc,Eb="onAuthWidgetContentPlaced,onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginCancel,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),Ka=0;Ka<Eb.length;Ka++)"undefined"===typeof janrain.events[Eb[Ka]]&&(janrain.events[Eb[Ka]]=new Db);janrain.events.onProviderLoginError.addHandler(function(a){if(sa)return!0;var c=rb("login_tab");if("modal"===W){var d=document.getElementById("janrainModal");d&&d.appendChild(q.getErrorPage(c,
a.err))}"embed"===W&&(d=document.getElementById("janrainEngageEmbed"))&&xa(d,q.getErrorPage(c,a.err))});gb();return{status:"loaded",appendTokenParams:function(a,c,d){Ma(a,c,d)},appendTokenParamsCumulative:function(a,c){Ma(a,!0,c)},setBackplaneChannel:function(a){Nb=a},setLoginCookie:function(a,c){ia(a,c)},loginHandler:function(a){var c=Fa;a?("ok"===a.stat&&("event"===c||"hybrid"===c?Aa(a.redirectUrl):(c=document.createElement("form"),c.action=a.redirectUrl,c.method="POST",janrain.settings.targetTop&&
(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===a.stat&&(a.err&&160===a.err.code?janrain.events.onProviderLoginCancel.fire(a):janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof aa&&clearTimeout(aa))):Ea()},cancelLogin:function(a){Ea(a,f.appUrl);!sa&&q&&q.removeNotice()},removeNotice:function(){q&&q.removeNotice()},setWelcomeInfoName:function(a,c){$(a,c)},setReturnExperience:function(a,c){Ya(a,c)},setNoReturnExperience:function(a,c){var d;"boolean"===typeof a&&q?
(q.setNoReturnExperience(a),c||q.refresh(),d=!0):d=!1;return d},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&q?(q.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&q?(q.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&q?(q.setConfigureMode(a).refresh(),a=!0):a=!1;return a},setCustom:function(a){sa=a},getState:function(){return"object"===typeof q?q.getState():
!1},setProviderFlow:function(c,d){return!H("customizable_auth_widget_styling")?!1:a().setProviderFlow(c,d)},triggerFlow:function(c){return!H("customizable_auth_widget_styling")?!1:a().triggerFlow(c)},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");
console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+a+": "+janrain.settings[a]),
"object"===typeof janrain.settings[a])for(var c in janrain.settings[a])"function"!==typeof janrain.settings[a][c]&&console.log(" --- --- "+c+": "+janrain.settings[a][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){e()},setBackgroundColor:function(a){return L(a)},setBorderColor:function(a){return Z(a)},setBorderRadius:function(a){return P(a)},setWidth:function(a){return ka(a)},setActionText:function(a){return ra(a)},setFontFamily:function(a){return ja(a)},
setFontSize:function(a){return D(a)},setFontColor:function(a){return za(a)},setFormat:function(a){return G(a)},setButtonBorderColor:function(a){return Ca(a)},setButtonBorderRadius:function(a){return qa(a)},setButtonBackgroundStyle:function(a){return R(a)},setProviders:function(a){var c;"object"===typeof q&&(Y?q.setProviders(a):q.setProviders(a).refresh(),c=!0);return c},setProvidersPerPage:function(a){return ga(a)},setShowAttribution:function(a){var c;H("customizable_auth_widget_hide_attribution")?
"object"===typeof q&&q.setShowAttribution(a).refresh():c=!1;return c},refresh:function(){return q.refresh()},getWidth:function(){return q.getWidth()}},modal:{init:function(){d()},close:function(){"object"==typeof A&&A.close()},create:function(){return new td},setBorder:function(a){H("customizable_auth_widget_styling")?("object"===typeof A&&(A.setBorder(a),A.refresh({center:!0})),a=!0):a=!1;return a},setBorderColor:function(a){H("customizable_auth_widget_styling")?("object"===typeof A&&(A.setBorderColor(a),
A.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){H("customizable_auth_widget_styling")?("object"===typeof A&&(A.setBorderOpacity(a),A.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){H("customizable_auth_widget_styling")?("object"==typeof A&&(A.setBorderRadius(a),A.refresh()),a=!0):a=!1;return a}}}},We=new function(){return{status:"not loaded"}},Xe=new function(){return{status:"not loaded"}},Ye=new function(){return{status:"not loaded"}},Ze=new function(){function a(b){function a(b,
o){var i=b instanceof sc?b:new sc(b),c=o&&Ca(o,"merge")&&!0===o.merge,J,d;b&&(J=i.get("id")||"auto_id_"+ia(7),i.get("id")!==J&&i.set("id",J),(d=h[J])&&c&&d.set(i.attributes),!d&&-1==f.indexOf(i)&&(f.push(i),h[J]=i,g.length=f.length));return i}function i(b){var a;b&&(a=f.indexOf(b),0<=a&&(f.splice(a,1),delete h[b.get("id")],g.length=f.length));return b}function c(b,i){for(var b=r(b)?b:[b],J=0,d=b.length;J<d;)a(b[J],i),J+=1;return g}function d(b){for(var b=r(b)?b:[b],a=0,o=b.length;a<o;)i(b[a]),a+=
1;return g}function e(b){return f.filter(function(a){for(var o in b)return Ca(b,o)&&a.get(o)===b[o]})}var f=[],h={},g={length:0,_models:f,_fieldsById:h};b&&c(b);return Ba(g,{get:function(b){return h[b]},getById:function(b){return h[b]},getByName:function(b){for(var b=e({name:b}),a=0,o=1,i=b.length-1;o<=i;)b[a].time<=b[o].time&&(a=o),o+=1;return b[a]},getFieldsByName:function(b){return e({name:b})},add:function(b,a){return c(b,a)},remove:function(b){return d(b)},indexOf:function(b){return f.indexOf(b)},
at:function(b){return f[b]},reset:function(){return d(f)},each:function(b,a){Kb(f,b,a);return g},map:function(b){return f.map(b)},where:function(b){return e(b)},addField:function(b){a(b);return g},addFields:function(b){return c(b)},removeField:function(b){i(b);return g},removeFields:function(b){return d(b)},updateField:function(b){a(b,{merge:!0});return g},update:function(b){return c(b,{merge:!0})},updateFields:function(b){return c(b,{merge:!0})}})}function c(b){var a=janrain.settings.capture.modalBorderWidth||
10,i=janrain.settings.capture.modalBorderColor||"#000",c=janrain.settings.capture.modalBorderRadius||10,d=janrain.settings.capture.modalBorderOpacity||0.5;b.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(i).setBorder(a).setBorderOpacity(d).setBorderRadius(c);return b}function d(b){if("object"!==typeof y)y=new td,cc();else{var a=y.getContent();a.style.display="none";a&&document.body.appendChild(a)}ba&&ba.modal&&yc.push(ba);y=c(y);y.addContent(b).show();y.setHeight(Cb(b).height);
y.setWidth(Cb(b).width).refresh({center:!0})}function e(b){function a(){w=!0;var o=b||H(),i=Vb(b),c=Vb(janrain.settings.capture.captureServer);b&&!Ae&&(t.log("This environment does not allow specifying a flow path through janrain.capture.ui.start"),t.show(),o=null);"http"===c.protocol||"https"===c.protocol||(t.log("The capture server url does not have a valid protocol. Check your settings."),t.show());if(!c.host||"undefined"===c.host)t.log("The capture server url does not have a valid host. Check your settings."),
t.show();b&&(Fb=i.queryKey.flow_path);Aa(o,tc);V();lc();janrain.events.onCaptureLoginFailed.addHandler(function(){uc++;hb()});janrain.events.onCaptureLoginSuccess.addHandler(function(){uc=0;hb()});janrain.events.onCaptureLoginSuccess.addHandler(function(){zc(Dd)});janrain.events.onCaptureRegistrationSuccess.addHandler(function(){zc(Dd)});janrain.events.onCaptureValidationComplete.addHandler(function(){a:{var b=!1,a;for(a in na)if("invalid"===na[a].status){var o=na[a].postValidationActions;if(o)for(var i in o){if(!na[a].validation||
"undefined"===typeof na[a].validation[i])break a;for(var c in o[i])if(o[i].hasOwnProperty(c))switch(c){case "render":o[i].render.screen&&!b&&(b=!0,(new kb).setScreenData(o[i].render.screen,n.screens[o[i].render.screen]));break;case "setCookie":var J=o[i].setCookie.name,d=o[i].setCookie.value,e=o[i].setCookie.days;(new E).setExpiration(e).setUseLocalStorage(!0).setName(J).setValue(d).create()}}}}});janrain.events.onCaptureRenderComplete.addHandler(function(){if(ae){var b=Da.savedProfileMessage||"Your profile has been saved",
a=Z("capture_profileSavedMessage_container",ba.div),o=a.length;if(o)for(var i=0,o=a.length;i<o;i++)a[i].innerHTML=b,a[i].style.display="",ec(a[i]);else if(db&&(a=document.getElementById(N+db+"_defaultSavedProfileMessage")))a.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+b+"</div>",ec(a);ae=!1;if(janrain.settings.capture.autoSave){for(;Pd.length;)Pd.pop().unbindDragHandlers();Pb.each(nb)}}rb()});janrain.events.onCaptureContentChange.addHandler(function(){if("object"===
typeof y&&y.isOpen()){y.setHeight(Cb(y.getContent()).height);var b=y.getState().width,a=Cb(y.getContent()).width;(b=b!==a)&&y.setWidth(a);y.refresh({center:b})}});janrain.settings.custom&&!be&&pb()}function i(){Se&&!janrain.settings.capture.federateEnableSafari&&(janrain.settings.capture.federate=!1);janrain.settings.capture.federate&&!janrain.federateJSLoaded&&(janrain.settings.capture.federate=!1,yd=!0);a()}function c(){F=Backplane.getChannelID();if(!Ad){Ad=!0;var b=function(){Backplane.expectMessages("identity/login")};
janrain.events.onCaptureLoginSuccess.addHandler(b);janrain.events.onCaptureRegistrationSuccess.addHandler(b);janrain.events.onCaptureBackplaneReady.fire();i()}}Rb(fc());janrain.settings.capture.noStyling||(oc(id()+"widgets.css"),pe(id()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&r(janrain.settings.capture.stylesheets))for(var d=janrain.settings.capture.stylesheets,e=d.length,f=0;f<e;f++)oc(d[f]),O(d[f]);if(g&&9>g&&janrain.settings.capture.conditionalIEStylesheets&&r(janrain.settings.capture.conditionalIEStylesheets)){d=
janrain.settings.capture.conditionalIEStylesheets;e=d.length;for(f=0;f<e;f++)pe(d[f]),O(d[f])}if(Yb&&janrain.settings.capture.mobileStylesheets&&r(janrain.settings.capture.mobileStylesheets)){d=janrain.settings.capture.mobileStylesheets;e=d.length;for(f=0;f<e;f++)oc(d[f]),O(d[f])}janrain.settings.capture.backplane?Aa(ta,function(){function b(){o++;if(20<o)return aa("backplanecallback not successful"),janrain.events.onCaptureBackplaneInitFailed.fire(),Ad=!0,janrain.settings.capture.backplane=!1,i(),
!1;if(Ad)return clearTimeout(a),!1;var a=setTimeout(b,500)}"function"===typeof Backplane?Backplane(c):j=!0;var a={serverBaseURL:md,busName:janrain.settings.capture.backplaneBusName,replayOnPageLoad:od};2<=parseInt(M,10)&&(a.block=nd);"undefined"!==typeof janrain.settings.capture.backplaneChannelExpires&&(a.channelExpires=janrain.settings.capture.backplaneChannelExpires);Backplane.init(a);j&&"undefined"!==typeof Backplane&&c();var o=0;b()}):i()}function f(b,a,i,c){var d=[];c&&d.push({value:"",text:c,
disabled:!0});if("desc"===i)for(i=a;i>b-1;i--)d.push({value:i,text:i});else for(i=b;i<a+1;i++)d.push({value:i,text:i});return d}function h(b){b||(b=fa);return"string"===typeof b?"capture_"+b+"_":"capture_"+u(b)+"_"}function u(b){if(b!==window){var a=b.getAttribute("data-capturescreenname");if(a&&n.screens[a])return a;for(var a=Z("capture_screen_container"),i=0,c=a.length;i<c;i++)if(re(a[i],b))return a=a[i].getAttribute("data-capturescreenname"),b.setAttribute("data-capturescreenname",a),a}}function H(){var b=
vc,a=janrain.settings.capture.flowVersion||"HEAD",i=janrain.settings.capture.flowName||"default",c=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=c?B()+"/widget_data/flow.js:"+c+":"+b+":"+a+":"+i:B()+"/widget_data/flow.js:"+b+":"+a+":"+i}function B(){return"https://d1lqe9temigv1p.cloudfront.net"}function O(b){C(ud,b)||ud.push(b);Qd=ud.length}function X(b){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+b+"' is missing."}}function Y(b){b=
L(b);pa(b)}function ca(b){var a=0,i=0,c=0,d=0;ka(na,function(e,f){"pending"==f.status&&b===f.formId&&a++;"invalid"==f.status&&b===f.formId&&i++;"undefined"!==typeof f.unique&&!1===f.unique&&b===f.formId&&c++;"valid"==f.status&&b===f.formId&&d++});return{pending:a,invalid:i,notUnique:c,valid:d}}function pa(b,a){var i=b.getAttribute("data-capturefield"),i=Xc.check(b,n.fields[i]),c=document.getElementById(b.id+"_errors");!i.valid&&i.reason?c&&(c.innerHTML=i.reason):c&&(c.innerHTML="");if(a)return"object"!==
typeof i&&(i={valid:!0}),i}function ja(b,a){var i=h(b),c=document.getElementById(i+a.name+"_dateselectmonth"),c=c.options[c.selectedIndex].value,d=document.getElementById(i+a.name+"_dateselectday"),d=d.options[d.selectedIndex].value,i=document.getElementById(i+a.name+"_dateselectyear"),i=i.options[i.selectedIndex].value;return!c||!d||!i?!1:c+"/"+d+"/"+i}function Xa(b,a){if(!b)return!1;for(var i=Ea(b.getElementsByTagName("input")),i=i.concat(Ea(b.getElementsByTagName("select"))),i=i.concat(Ea(b.getElementsByTagName("textarea"))),
c=[],a=a||!1,d={},e=!1,f,h=0,g=i.length;h<g;h++)f=i[h],(e="file"===f.type?pa(f,!0).valid:Nb(f,!0,a))||c.push(f),"true"===f.getAttribute("data-capturecollection")&&!d[f.name]&&(d[f.name]=!0);janrain.events.onCaptureValidationComplete.fire({fieldsWithError:c});return 0===c.length}function R(){}function G(b){function a(b){P(b);(B?i:c)(b)}function i(b){P(b);q.style.display="none";B=!1}function c(){if(!B){var b=ea||eb;if(oa.getMonth()!==b.getMonth()||oa.getFullYear()!==b.getFullYear())oa=new Date(b),s(oa)}B=
!0;q.style.display="block"}function d(b){Ld(xb);for(var b=parseInt(b),a=I.getFullYear();a>=H.getFullYear();--a){var o=document.createElement("option");o.setAttribute("value",a);ra(o,a);xb.appendChild(o)}xb.value=b}function e(){oa.setMonth(O.value);oa.setFullYear(xb.value);s(oa)}function f(b){O.value=b.getMonth();b=b.getFullYear();xb.value=b}function h(b){return function(a){P(a);oa.setMonth(oa.getMonth()+b);a=oa.getFullYear();(a<H.getFullYear()||a>I.getFullYear())&&oa.setMonth(oa.getMonth()-b);s(oa)}}
function l(b){b=b.getDay();return C?(b-1+7)%7:b}function n(b){ea=new Date(oa);ea.setDate(b);"object"===typeof t&&"INPUT"===t.nodeName&&(t.value=mb(U,ea));i();A(ea)}function m(b,a){return b.getDate()===a.getDate()&&b.getMonth()===a.getMonth()&&b.getFullYear()===a.getFullYear()}function p(b){return(m(b,H)||b>H)&&(m(b,I)||b<I)}function s(b){function a(b){P(b);var b=L(b),o=b.getAttribute("data-date");S&&k(S.parentNode).remove("capture_datePicker_selectedDate");k(b.parentNode).append("capture_datePicker_selectedDate");
S=b;n(o)}Ld(w);if(Q)f(oa);else{var o=mb(W,b);Ld(u);ra(u,o)}o=document.createElement("tr");o.className="capture_datePicker_daysOfTheWeekHeader";for(var i=0,c=y.length;i<c;i++){var J=document.createElement("th");ra(J,y[i]);o.appendChild(J)}w.appendChild(o);var d=b.getMonth(),o=new Date(b),e,b=1;o.setDate(1);e=l(o);var i=document.createElement("tr"),da=new Date(o),h=1-e;da.setDate(h);for(c=0;c<e;++c){var J=document.createElement("td"),g=document.createElement("a");ra(g,da.getDate());J.appendChild(g);
J.style.textAlign="right";g.setAttribute("data-date",h);g.href="#";J.className="capture_datePicker_prevMonthDay";i.appendChild(J);p(da)?(k(J).append("capture_datePicker_day"),v(g,"click",a)):k(J).append("capture_datePicker_day_disabled");ea&&m(da,ea)&&(k(J).append("capture_datePicker_selectedDate"),S=g);m(da,N)&&k(J).append("capture_datePicker_today");da.setDate(da.getDate()+1);h++}for(;o.getMonth()===d;)J=document.createElement("td"),g=document.createElement("a"),g.setAttribute("data-date",b),g.href=
"#",ra(g,b),p(o)?(J.className="capture_datePicker_day",v(g,"click",a)):J.className="capture_datePicker_day_disabled",ea&&m(o,ea)&&(k(J).append("capture_datePicker_selectedDate"),S=g),m(o,N)&&k(J).append("capture_datePicker_today"),J.appendChild(g),i.appendChild(J),++e,6<e&&(e=0,w.appendChild(i),i=document.createElement("tr")),++b,o.setDate(b);c=l(o);b=new Date(o);b.setDate(b.getDate()-1);b=b.getDate()+1;if(0<c){for(c=l(o);7>c;++c)J=document.createElement("td"),g=document.createElement("a"),J.style.textAlign=
"right",g.href="#",g.setAttribute("data-date",b),ra(g,o.getDate()),J.appendChild(g),J.className="capture_datePicker_nextMonthDay",i.appendChild(J),p(o)?(k(J).append("capture_datePicker_day"),v(g,"click",a)):k(J).append("capture_datePicker_day_disabled"),ea&&m(o,ea)&&(k(J).append("capture_datePicker_selectedDate"),S=g),m(o,N)&&k(J).append("capture_datePicker_today"),o.setDate(o.getDate()+1),b++;w.appendChild(i)}}var z=b||{},q,u,tb,ic,j,w,y="Su,Mo,Tu,We,Th,Fr,Sa".split(","),C=!1,B=tb=!1,x,A=z.callback||
function(){};j=z.monthPreviousText;var D=z.monthNextText,t=z.targetElement,G=z.extraTargetElements||[],b=z.elementAttachedTo,F=z.openOnTargetElementFocus,K=z.provideOpenButton,E,M=!!z.hasCloseButton,N=new Date,H=void 0!==z.minimumSelectableDate?z.minimumSelectableDate:"1/1/"+(N.getFullYear()-100),I=void 0!==z.maximumSelectableDate?z.maximumSelectableDate:"12/31/"+(N.getFullYear()+30),Q=z.monthAndYearSelectable,R=z.arrowKeyNavigation,O,xb,T=void 0!==z.defaultDate?z.defaultDate:new Date,eb=T,oa,ea=
z.preSelectedDate,S,U=z.format||"{m}/{d}/{yyyy}",W=z.calendarTitleFormat||"{month} {yyyy}";oa=new Date(eb);vb(eb)?(x=Md(eb),eb=new Date,eb.setDate(eb.getDate()+x)):"string"===typeof eb&&(eb=new Date(eb));vb(H)?(x=Md(H),H=new Date,H.setDate(H.getDate()+x)):"string"===typeof H&&(H=new Date(H));vb(I)?(x=Md(I),I=new Date,I.setDate(I.getDate()+x)):"string"===typeof I&&(I=new Date(I));Ua(eb)||(eb=new Date);T=new Date(eb);Ua(H)||(H=new Date("1/1/"+(N.getFullYear()-100)));Ua(I)||(I=new Date("12/31/"+(N.getFullYear()+
30)));"undefined"===typeof R&&(R=!0);x="January,February,March,April,May,June,July,August,September,October,November,December".split(",");z.monthNames&&12===z.monthNames.length&&(x=z.monthNames);z.weekStartsOnMonday&&(C=z.weekStartsOnMonday,tb=!0);z.daysOfWeek&&7===z.daysOfWeek.length&&(y=z.daysOfWeek,tb=!1);tb&&y.push.apply(y,y.splice(0,1));q=document.createElement("div");q.className="capture_datePicker_wrapper";z.additionalClasses&&(r(z.additionalClasses)&&(z.additionalClasses=z.additionalClasses.join(" ")),
q.className+=" "+z.additionalClasses);"object"===typeof t&&(k(t).append("capture_datePicker_targetElement"),ea&&Ua(ea)&&"INPUT"===t.nodeName&&(t.value=mb(U,ea)),"undefined"===typeof b&&(b=t.parentNode));z=0;"object"===typeof b&&(k(b).append("capture_datePicker_mainTarget"),z=b.offsetHeight);qe(q,{display:"none",position:"absolute",top:z+"px",right:"0",zIndex:"100"});z=document.createElement("div");z.className="capture_datePicker_header";u=document.createElement("div");u.className="capture_datePicker_monthAndYearDisplayDiv";
tb=document.createElement("a");tb.setAttribute("href","#");tb.className="capture_datePicker_previousMonthButton capture_datePicker_monthButtons";ic=document.createElement("a");ic.setAttribute("href","#");ic.className="capture_datePicker_nextMonthButton capture_datePicker_monthButtons";z.appendChild(u);q.appendChild(z);if(Q){O=document.createElement("select");xb=document.createElement("select");O.className="capture_datePicker_monthSelect";xb.className="capture_datePicker_yearSelect";for(var X=oa.getMonth(),
Y=0;12>Y;++Y){var V=document.createElement("option");V.setAttribute("value",Y);ra(V,x[Y]);O.appendChild(V)}x=oa.getFullYear();d(x);O.value=X;xb.value=x;v(O,"change",e);v(xb,"change",e);u.appendChild(O);u.appendChild(xb)}j?ra(tb,j):k(tb).append("janrain-icon-16").append("janrain-icon-back");D?ra(ic,D):k(ic).append("janrain-icon-16").append("janrain-icon-forward");v(tb,"click",h(-1));v(ic,"click",h(1));z.appendChild(tb);z.appendChild(ic);j=document.createElement("table");j.className="capture_datePicker_monthTable";
j.style.width="100%";j.cellSpacing=0;j.cellPadding=0;w=document.createElement("tbody");j.appendChild(w);q.appendChild(j);M&&(M=document.createElement("div"),M.className="capture_datePicker_closeButton",M.style.textAlign="center",j=document.createElement("a"),j.href="#",ra(j,"Close"),v(j,"click",i),M.appendChild(j),q.appendChild(M));K&&"object"===typeof b&&(E=document.createElement("span"),E.className="capture_datePicker_openButton janrain-icon-calendar janrain-icon-16",v(E,"click",a),b.appendChild(E));
s(eb);F&&"object"===typeof t&&v(t,"focus",c);"object"===typeof t&&(v(t,"keydown",function(b){switch(b.keyCode){case ie:case Ab:case Hd:i()}}),v(t,"keyup",function(){if("INPUT"===t.nodeName){var b=ve(U,t.value);Ua(b)&&p(b)&&(oa=b,ea=new Date(b),s(b))}}),v(t,"blur",function(){if("INPUT"===t.nodeName){var b=ve(U,t.value);Ua(b)||!p(b)?ea?(oa=new Date(ea),n(ea.getDate())):t.value="":(b=mb(U,ea),b!==t.value&&(t.value=b))}}));v(document,"click",function(b){if(B){for(b=L(b);b;){if(b===q||b===t||b===E)return;
for(var a=0,o=G.length;a<o;++a)if(b===G[a])return;b=b.parentNode}i()}});v(document,"keydown",function(b){if(B)if(b.keyCode===Ab||b.keyCode===Hd)i();else if(R){var a={};a[je]=-1;a[ke]=-7;a[le]=1;a[me]=7;b=a[b.keyCode]||0;0!==b&&(a=ea?new Date(ea):new Date(T),a.setDate(a.getDate()+b),p(a)&&(ea=new Date(a),oa=new Date(ea),s(oa),"object"===typeof t&&"INPUT"===t.nodeName&&(t.value=mb(U,ea)),A(ea)))}});"object"===typeof b&&b.appendChild(q);g&&7>=g&&"object"===typeof b&&qe(b,{position:"relative",zIndex:1});
return{show:c,hide:i,setSelectedDate:function(b){"object"===typeof b&&"function"===typeof b.getMonth&&(ea=new Date(b),oa=new Date(b),s(b));return this},getSelectedDate:function(){return ea}}}function ga(){}function Qa(b){var a=ya(),b=sa({flow_control:b,token:ha,capture_transactionId:a});Ka("/widget/control.jsonp",b);ua(a)}function D(b){var a=document.getElementById("captureIFrame_"+b);"yes"!==a.getAttribute("data-captureiframeloadeventbound")&&(a.setAttribute("data-captureiframeloadeventbound","yes"),
v(document.getElementById("captureIFrame_"+b),"load",Db))}function lb(b,a,i){if(!r(b)&&!a)return!1;r(b)||(b=[]);var c=b.length,d,e=new kb,f="",g=[],h=document.getElementById(i+a);if(!h)return!1;for(a=0;a<c;a++)if(d=n.fields[b[a]])d.fieldPrefix=i,d.name=d.elementName=b[a],f+=e.renderField(d),g.push(d.name);if(!f.length&&h)return h.innerHTML="",!1;h.innerHTML=f;a=0;for(c=g.length;a<c;a++)(b=document.getElementById(i+g[a]))&&v(b,"blur",yb)}function rb(){for(var b=ba.div.getElementsByTagName("select"),
a=b.length,i=0;i<a;i++)b[i].getElementsByTagName("option")[b[i].selectedIndex].disabled&&(k(b[i]).append("capture_disabled"),v(b[i],"change",function(){k(this).remove("capture_disabled")}))}function V(){v(document.body,"click",function(b){var a=janrain.settings.capture.logoutLinksClass||"capture_end_session",i=Eb(L(b),"A");i&&i.nodeName&&"A"===i.nodeName&&(k(i).has(a)&&(jb(),P(b)),a=i.getAttribute("data-capturescreen"),i=i.getAttribute("data-captureuseruuid"),a&&i?(rc(a,i),P(b)):a&&!i&&(ac=!0,janrain.capture.ui.renderScreen(a),
P(b)))})}function pb(){janrain.events.onProviderLoginToken.addHandler(function(b){if(b.janrainWidgetParameters&&b.janrainWidgetParameters.widget_type&&"share"===b.janrainWidgetParameters.widget_type)return!1;if(b.linkAccounts)ub(Ba({provider:b.janrainWidgetParameters.provider},b));else{janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience,!0);vd&&(wc=ab);ab=b.token;ba.values=hc(ba.div.id);yc.push(ba);var b=Oa(b.keepMeLoggedIn),a=b.capture_transactionId;
Ka("/widget/token_url.jsonp",b);ua(a);vd&&(vd=!1)}});be=!0}function ub(b){l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:b.currentScreen,needsResponse:!0,callback:function(){b.callback&&b.callback();janrain.events.onCaptureProfileLink.fire({provider:b.provider,authProfile:Tc})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",
elementValue:b.token}]})}function Db(b){var b=L(b),a=b.getAttribute("data-transactionId"),i=K.parse(b.getAttribute("next"));if("formClicked"===b.className){if(janrain.settings.capture.transactionTimeout&&C(Ud,a))return!1;$(a,i)}}function $(b,a){Ka("/widget/get_result.jsonp",{transactionId:b,cache:(new Date).getTime()},function(){function i(){c++;if(10<c)return aa("could not find transaction status"),!1;if(ib[b])Tb(b),clearTimeout(d),d=ib[b],"success"===d.status?a&&Jb(a):aa("there was a problem with the response",
d);else var d=setTimeout(i,50)}var c=0;i()})}function Ya(b,a){for(var i=L(b).getAttribute("id").split("_")[3],c=L(b),d=h(c),c=c.parentNode,e=k(c).has("capture_tab_toggle"),f=e?"capture_tab_toggle":"capture_radio_toggle",g=0;g<a.collection.length;g++)a.collection[g].elementName!==i&&(document.getElementById(d+a.collection[g].elementName).style.display="none");for(var f=Z(f,document.getElementById(d+a.elementName)),l=f.length,g=0;g<l;g++)k(f[g]).remove("capture_toggled");k(c).append("capture_toggled");
document.getElementById(d+i).style.display="block";janrain.events.onCaptureContentChange.fire();e&&P(b)}function xa(b,a,i,c){i=c?K.stringify(c):i;ua(a);b.className="formClicked";b.setAttribute("next",i);janrain.settings.capture.transactionTimeout&&setTimeout(function(){-1===zd.indexOf(a)&&(-1===Ud.indexOf(a)&&Ud.push(a),janrain.events.onCaptureTransactionTimeout.fire({transactionId:a}))},janrain.settings.capture.transactionTimeout)}function Ma(){var b,a,i,c,d,e,f=!1;return{setIframe:function(a){b=
a;return this},setTransactionId:function(b){a=b;return this},setNext:function(b){i=b;c=K.parse(i);return this},setForm:function(b){d=b;return this},setEvent:function(b){e=b;return this},dontSubmit:function(){return c?c.dontSubmit:!1},process:function(){a:if(c.conditional){for(var g=c.conditional,l=g.length,k=0;k<l;k++){var m;b:{m=g[k];var p=n.fields[m.field],p=h(d)+(p.elementId||p.elementName),p=document.getElementById(p);switch(m.compare){case "=":if(p.value===m.value){m=!0;break b}}m=void 0}if(m){f=
g[k];break}}f?f.nosubmit?(P(e),Jb(f.next)):xa(b,a,i,f.next):xa(b,a,i)}else if(c.dontSubmit){P(e);if(c.storeValues){g=Z("capture_focused");xe(g);if(!Xa(d))break a;g=ca(d.id);if(0<g.notUnique||0<g.pending||0<g.invalid)break a;hc(d.id,!0)}Jb(c)}else xa(b,a,i)}}}function gb(b){var a=L(b),i=a&&a.id?a.id:"",c=L(b).getAttribute("data-transactionId"),d=document.getElementById("captureIFrame_"+c),e=Z("capture_focused"),f=!1;a.getAttribute("next")||a.setAttribute("next",'{"noop":""}');var h=a.getAttribute("next"),
l=new Ma;l.setNext(h);l.dontSubmit()&&(f=!0);if(0<e.length&&g&&f&&ce){var k={},n;for(n in b)k[n]=b[n];setTimeout(function(){ye(a);gb(k)},0)}else{ce=!0;if(!f&&("true"!==a.getAttribute("data-capturedomelement")||"true"===a.getAttribute("data-capturedomelementvalidate"))){S||zb(a);ba.values=hc(ba.div.id);if(Xa(a)){xe(e);var m=!1,p=function(){var c=ca(i);r++;400<r&&(clearTimeout(validationTimeout),P(b));0<c.invalid?(P(b),S||Ga(a)):0===c.pending?("function"===typeof validationTimeout&&clearTimeout(validationTimeout),
m&&a.submit()):(P(b),m=!0,validationTimeout=setTimeout(p,50))},r=0;p()}else return S||Ga(a),P(b),!1;m||(e=Ie(a),h=Rc(),e.parentNode.insertBefore(h,e),e.style.display="none")}f&&P(b);l.setIframe(d).setTransactionId(c).setForm(a).setEvent(b).process()}}function zb(b){for(var b=Ob(b),a=0,i=b.length;a<i;a++)de.clearPlaceHolder(b[a])}function Ob(b){for(var a=[],i=Ea(b.getElementsByTagName("input")),i=i.concat(Ea(b.getElementsByTagName("textarea"))),b=0,c=i.length;b<c;b++)i[b].getAttribute("placeholder")&&
i[b].getAttribute("placeholder").length&&a.push(i[b]);return a}function Ga(b){for(var b=Ob(b),a=0,i=b.length;a<i;a++)de.restorePlaceHolder(b[a])}function yb(b){ce=!1;b=qb(b);Nb(b,!1)}function Nb(b,a,i){if(b.type&&("hidden"===b.type||"submit"===b.type||"file"===b.type)||!b.getAttribute("data-capturefield"))return!0;var c=b.getAttribute("data-capturerendererfield")?n.fields[b.getAttribute("data-capturerendererfield")]:n.fields[b.getAttribute("data-capturefield")],d=b.getAttribute("data-capturerendererchildfieldname"),
e=d?c.elementName+"["+d+"]":c.elementName,f=h(b),g,ma;g=!1;if(c.validation)g=(g=c.validation[d])&&g.required?g.required:!1,ma=c.validation.required||g;else return!0;g=b.id||b.name;if(!b.value&&!ma)return delete na[g],!0;if(na[g]&&na[g].status&&"pending"===na[g].status||c.validation.type&&"server"===c.validation.type||d&&!c.validation[d]&&"dateselect"!==c.type)return!0;na[g]=na[g]||{};na[g].element=b;na[g].formId=b.form&&b.form.id?b.form.id:"";na[g].status="pending";na[g].postValidationActions=c.validation.actions||
null;d="multiCheckbox"===c.element||"multiRadio"===c.element?document.getElementById(f+"form_collection_"+c.elementName):"dateselect"===c.type?document.getElementById(f+"form_item_"+c.name):document.getElementById(f+"form_item_"+e);i||k(d).append("capture_validating");e=new l.validation;e.setParentDiv(d);e.setElement(b);b=Xc.check(b,c,a);b.validation&&(e.setValidation(b.validation),na[g].validation=b.validation);b.valid?(g=!0,i||(e.valid(c.validation.hideValidated),k(d).remove("capture_validating"))):
b.pending?(i||e.pending(),g=!0):(g=!1,i||(e.notValid(b.reason,b.type),k(d).remove("capture_validating")));return g}function Jb(b){yc.push(ba);if(b.noop)return!1;b.url&&(window.location.href=b.url);b.screen&&(new kb).setScreenData(b.screen,n.screens[b.screen]);if(b.action&&ba)janrain.capture.ui[b.action]();if(b["function"]&&"function"===typeof Zd[b["function"]])Zd[b["function"]]()}function Mb(){if(0===ee)return!1;var b=(new Date).getTime()-ee,b=Math.floor(b/1E3);if(60>b)return b+" seconds ago";b=Math.floor(b/
60);if(1==b)return b+" minute ago";if(59>b)return b+" minutes ago"}function Fa(b){jc=!0;b=document.getElementById(b);v(b,"submit",function(){De=(new Date).getTime()});clearInterval(Ee);Ee=setInterval(function(){if(!jc)return!1;janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:Mb()})},Id)}function nb(b){if(b){var a=document.getElementById(b.get("id")),i=b.attributes;if(a&&("value"in i&&Ca(i,"value")&&De<b.time&&("radio"===a.type||"checkbox"===a.type?(b=Eb(a,"form").id,b=document.forms[b][a.name],
b.length&&(b=se(b,{value:i.value})[0]),b.checked=i.checked):a.value!==i.value&&(a.value=i.value)),i.valid&&(b=rd(a,"capture_form_item"))&&k(b).append("capture_validated"),i.focused)){var c=function(){if(this.setSelectionRange){var b=this.value.length+1;this.setSelectionRange(b,b)}else this.value=this.value;setTimeout(function(){Bb(a,"focus",c)},10)};v(a,"focus",c);a.focus()}}}function W(b){b=L(b);""!==b.name&&la(b)}function la(b){setTimeout(function(){var a={id:b.id,name:b.name,value:b.value};if("radio"===
b.type||"checkbox"==b.type)a.checked=b.checked;Pb.update(a);janrain.settings.capture.autoSave&&Ha(b)},0)}function Ha(b){clearTimeout(gd);return gd=setTimeout(function(){if(re(document.body,b)){var a=Eb(b,"form").id,a=document.getElementById(a);if(jc&&Xa(a,!0)){S||zb(a);a.submit();a.getAttribute("next");var i=a.getAttribute("data-transactionId"),c=document.getElementById("captureIFrame_"+i);(new Ma).setIframe(c).setTransactionId(i).setNext('{"noop": ""}').setForm(a).setEvent(null).process()}}},Jd)}
function va(b){b=L(b);b.tagName.match(/select/i)&&clearTimeout(gd);Pb.update({id:b.id,focused:!0})}function Xb(b){var a=L(b).id;setTimeout(function(){var b=Pb.get(a);b&&b.get("focused")&&b.set("focused",!1)},0)}function sa(b,a){var i=Ba({js_version:Qc,capture_screen:fa,flow:n.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:ob,locale:vc},b||{});F&&(i.bp_channel=F);Fb&&(i.flow_path=Fb);
if(r(a))for(var c=0,d=a.length;c<d;c++)i.hasOwnProperty(a[c])&&delete i[a[c]];return i}function Oa(b){var a=sa({capture_screen:janrain.settings.capture.registerFlow||"socialRegister",capture_transactionId:ya()});ab&&(a.token=ab);wc&&(a.merge_token=wc,wc=null);b&&"true"===b&&(a.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(a.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var b=janrain.settings.capture.dataDefaults,
i;for(i in b)b.hasOwnProperty(i)&&"undefined"===typeof a[i]&&(a[i]=b[i])}return a}function cb(b){(new E).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(b).create()}function hb(){(new E).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(uc).create()}function lc(){var b=new E;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainFailedLogins",function(b){vb(b)&&(uc=parseInt(b,10))}):(b=b.getCookie("janrainFailedLogins"),
vb(b)&&(uc=parseInt(b,10)))}function A(){var b=36E5*Mc+(new Date).getTime();return(new Date((new Date).setTime(b))).toUTCString()}function Na(){clearTimeout(Wd);Wd=setTimeout(Lb,1E4)}function pc(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b,a;cookie=new E;cookie.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)cookie.getCookie("janrainCaptureTokenRefresh",function(i){i&&
(a=new Date,b=new Date(i),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):Na())},!1);else{var i=cookie.getCookie("janrainCaptureTokenRefresh",null,!1);i&&(a=new Date,b=new Date(i),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):Na())}}}function Lb(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b=
new E;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureToken",function(b){b?pc():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}):b.getCookie("janrainCaptureToken")?pc():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}}function mc(b){var a=new E;a.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken").setValue(b);janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);
a.create()}function q(){var b=new E;b.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove()}function wa(){var b=new E;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureTemporaryToken",function(b){b&&(La(b),q())}):b.getCookie("janrainCaptureTemporaryToken")&&(La(b.getCookie("janrainCaptureTemporaryToken")),q())}function La(b,a,i){var c=A();ha=b;a?
(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&Lb(),janrain.events.onCaptureSessionCreated.fire({accessToken:b}),janrain.events.onCaptureSessionFound.fire({accessToken:b})):(a=new E,a.setExpirationDirectly(c).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(ha),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.create(),janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&(c=
new E,a=36E5*Mc-6E5+(new Date).getTime(),a=(new Date((new Date).setTime(a))).toUTCString(),c.setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(a),janrain.settings.capture.cookieDomain&&c.setDomain(janrain.settings.capture.cookieDomain),c.create(),Lb()),T&&(janrain.events.onCaptureLoginSuccess.fire({accessToken:b}),T=!1),i?janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:b}):janrain.events.onCaptureSessionCreated.fire({accessToken:b}))}function jb(b){var a=new E,
i=ya(),c="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){},d=function(){janrain.capture.ui.federateLogoutCallbackFired(i,c)};a.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();b||(ha="");janrain.settings.capture.keepProfileCookieAfterLogout||(a.setName("janrainCaptureProfileData"),janrain.settings.capture.cookieDomain&&
a.setDomain(janrain.settings.capture.cookieDomain),a.remove());janrain.settings.capture.backplane&&"function"===typeof Backplane&&Backplane.resetCookieChannel();n&&kc(n,!0);if(janrain.settings.capture.federate){clearTimeout(Wd);JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},d);var e=0,f=function(){e++;if(20<e)return aa("federatecallback not successful"),xd.push(i),c(),janrain.settings.capture.federate=!1;if(C(xd,i))return clearTimeout(b),
!1;var b=setTimeout(f,500)};f()}else yd&&c();janrain.events.onCaptureSessionEnded.fire()}function Sb(){var b=new E;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureToken",function(b){b?La(b,!0):janrain.events.onCaptureSessionNotFound.fire();Ia=!0});else{if(b.getCookie("janrainCaptureToken"))return La(b.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function Cc(b){var a=ib[b];if(b=a.fireEvent)r(b)||(b=
[b]),ka(b,function(b,c){janrain.events[c]&&("onCaptureLoginSuccess"===c&&Ed||janrain.events[c].fire(a))})}function Qb(b,a){function i(){c++;if(10<c)return aa("set login not successful"),sb[a].eventFiredDueToSlowResponse=!0,Cc(a),janrain.settings.capture.federate=!1,yd=!0,!1;if(sb[a]&&sb[a].setLoginSuccess)return clearTimeout(b),!1;var b=setTimeout(i,500)}JANRAIN.SSO.CAPTURE.set_login({code:b,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});var c=0;i()}
function nc(b){function a(){d++;if(10<d)return aa("check login not successful"),janrain.settings.capture.federate=!1,yd=!0,Sb(),Ia=!0,!1;if(-1<zd.indexOf(i))return clearTimeout(b),!1;var b=setTimeout(a,500)}b||(b={});var i=ya(),c={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:b.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:K.stringify(sa({capture_transactionId:i},
["client_id"])),transaction_id:i,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver,refresh:!1};F&&(c.bp_channel=F);b=new E;b.setUseLocalStorage(!0);"token"===janrain.settings.capture.responseType&&(janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureTokenRefresh",function(b){b?(currentTime=new Date,expireTime=new Date(b),currentTime.getTime()>expireTime.getTime()?janrain.settings.capture.federateNoRefresh||
(c.refresh=!0):c.refresh=!1):c.refresh=!0},!1):(b=b.getCookie("janrainCaptureTokenRefresh",null,!1))?(currentTime=new Date,expireTime=new Date(b),currentTime.getTime()>expireTime.getTime()?janrain.settings.capture.federateNoRefresh||(c.refresh=!0):c.refresh=!1):c.refresh=!0);JANRAIN.SSO.CAPTURE.check_login(c);ua(i);var d=0;a()}function tc(){if(janrain.settings.capture.redirectFlow&&"transactionId"in Zb)location.hash=location.hash.replace(RegExp("[&,]*transactionId="+Zb.transactionId),""),Sb(),Ia=
!0,$(Zb.transactionId);else if(Va.capture_complete_social_registration)Ia=!0,La(Va.capture_complete_social_registration);else if(janrain.settings.capture.federate)nc();else{var b;Zb.access_token?(T=!0,La(Zb.access_token),b=!0):b=!1;if(b||Sb())return Ia=!0,!1;janrain.settings.multiDomainLocalStorage||(Ia=!0)}}function Dc(b,a){var i=b["if"].compare;if(!i||0>i.indexOf(":"))return!1;switch(i.split(":")[0]){case "cookie":var c=i.split(":")[1],i=new E;i.setUseLocalStorage(!0);"janrainLastAuthMethod"===
c&&!$c&&($c=fa);if(janrain.settings.multiDomainLocalStorage)i.getCookie(c,function(i){d&&"janrainLastAuthMethod"===c&&(Bd=!0);Hb(gc(b["if"],i)?b.then:b["else"],a)});else{var d=i.getCookie(c);d&&"janrainLastAuthMethod"===c&&(Bd=!0);Hb(gc(b["if"],d)?b.then:b["else"],a)}break;case "session":i=i.split(":")[1],"boolean"===typeof b["if"].to&&(b["if"].to+=""),"exists"===i&&Hb(gc(b["if"],!!ha+"")?b.then:b["else"],a)}}function gc(b,a){var i=vb(a)?parseInt(a,10):a,c,d=vb(b.to)?parseInt(b.to,10):b.to;switch(b.withOperator){case "===":c=
d===i;break;case "!==":c=d!==i;break;case "==":c=d==i;break;case "!=":c=d!==i;break;case ">":c=i>d;break;case "<":c=i<d}return c}function Hb(b,a){!b&&"function"===typeof a&&a();if(!b)return!1;if("undefined"===typeof b["if"]){if(b.render){var i=b.render.screen,c=n.screens[i];(new kb).setScreenData(i,c)}}else Dc(b,a)}function ec(b){if(!b)return!1;"undefined"!==typeof janrain.settings.capture.hideSavedProfileMessageDelay&&setTimeout(function(){b&&(b.style.display="none")},janrain.settings.capture.hideSavedProfileMessageDelay)}
function fc(){for(var b="",a=[],i=0;10>i;i++)b=ia(40),a.push(b);return a}function Rb(b){if(!r(b))return!1;for(var a=b.length,i=0;i<a;i++){var c=b[i];-1===Q.indexOf(c)&&Q.push(c)}}function ya(){var b=Q.pop();0===Q.length&&Rb(fc());-1===Sa.indexOf(b)&&Sa.push(b);return b}function ua(b){var a=Sa.indexOf(b);-1<a&&Sa.splice(a,1);-1===Ra.indexOf(b)&&Ra.push(b)}function Tb(b){var a=Ra.indexOf(b);-1<a&&Ra.splice(a,1);-1===zd.indexOf(b)&&zd.push(b)}function Ac(b){if(b.status){ib[b.transactionId]=b;"success"===
b.status?(janrain.events.onCaptureSaveSuccess.fire(b),$a&&!$d?$a="":$d=!1):janrain.events.onCaptureSaveFailed.fire(b);if("reactivateAccount"===b.action&&b.statusMessage&&("accountReactivated"===b.statusMessage||"invalidReactivationCode"===b.statusMessage))"success"===b.status?janrain.events.onCaptureAccountReactivateSuccess.fire(b):janrain.events.onCaptureAccountReactivateFailed.fire(b);"deactivateAccount"===b.action&&b.statusMessage&&("success"===b.status&&"accountDeactivated"===b.statusMessage?
janrain.events.onCaptureAccountDeactivateSuccess.fire(b):janrain.events.onCaptureAccountDeactivateFailed.fire(b));if("emailCode"===b.action&&b.statusMessage&&("verified"===b.statusMessage||"invalidVerificationCode"===b.statusMessage))if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureEmailVerificationSuccess.fire(b),(b.accessToken||b.authorizationCode)&&janrain.settings.capture.federate&&b.sso&&b.ssoCode)b.fireEvent="onCaptureEmailVerificationSuccess",
sb[b.transactionId]=b,Qb(b.ssoCode,b.transactionId)}else janrain.events.onCaptureEmailVerificationFailed.fire(b);if("emailCode"===b.action&&b.statusMessage&&("forgotPasswordCodeRedeemed"===b.statusMessage||"invalidForgotPasswordCode"===b.statusMessage))if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureForgotPasswordCodeSuccess.fire(b),(b.accessToken||b.authorizationCode)&&janrain.settings.capture.federate&&b.sso&&b.ssoCode)b.fireEvent="onCaptureForgotPasswordCodeSuccess",
sb[b.transactionId]=b,Qb(b.ssoCode,b.transactionId)}else janrain.events.onCaptureForgotPasswordCodeFailed.fire(b);"profile"===b.action&&b.statusMessage&&"profileFound"!==b.statusMessage&&("success"===b.status?(ae=!0,ee=(new Date).getTime(),janrain.events.onCaptureProfileSaveSuccess.fire(b)):janrain.events.onCaptureProfileSaveFailed.fire(b));if("traditionalSignin"===b.action||"socialSignin"===b.action||"ssoSignin"===b.action)if(cd=!1,"success"===b.status){if(b.authorizationCode){var a=qd(janrain.settings.capture.redirectUri,
{code:b.authorizationCode});b.redirectUri=a}if(b.accessToken||b.authorizationCode){if(!janrain.settings.capture.federate||!b.sso||!b.ssoCode)if(Ed)Ed=!1;else if(b.oneTime){cd=!0;var i=qa(b);delete i.accessToken;janrain.events.onCapturePostLoginScreen.fire(i)}else janrain.events.onCaptureLoginSuccess.fire(b);("traditionalSignin"===b.action||"socialSignin"===b.action)&&cb(b.action);janrain.settings.capture.federate&&b.sso&&b.ssoCode&&(b.oneTime?(cd=!0,b.fireEvent="onCapturePostLoginScreen"):(b.fireEvent=
"onCaptureLoginSuccess",sb[b.transactionId]=b,Qb(b.ssoCode,b.transactionId)));janrain.settings.capture.federate&&b.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(b),Tb(b.transactionId),Ia=!0)}b.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=a)}else janrain.events.onCaptureLoginFailed.fire(b);"postLoginConfirmation"===b.action&&"success"===b.status&&(b.oneTime?janrain.events.onCapturePostLoginScreen.fire(b):dd&&!cd?janrain.events.onCaptureRegistrationSuccess.fire(b):
!dd&&cd&&janrain.events.onCaptureLoginSuccess.fire(b));"postLoginConfirmation"===b.action&&"error"===b.status&&janrain.events.onCaptureLoginFailed.fire(b);if("traditionalRegister"===b.action||"socialRegister"===b.action)if(dd=!1,"success"===b.status){if(!janrain.settings.capture.federate||!b.sso||!b.ssoCode)b.oneTime?(dd=!0,i=qa(b),delete i.accessToken,janrain.events.onCaptureRegistrationSuccessNoLogin.fire(i),janrain.events.onCapturePostLoginScreen.fire(i)):janrain.events.onCaptureRegistrationSuccess.fire(b);
ed&&(ed=!1);if(b.accessToken||b.authorizationCode)"socialRegister"===b.action?cb("socialSignin"):cb("traditionalSignin"),janrain.settings.capture.federate&&b.sso&&b.ssoCode&&(b.oneTime?(dd=!0,b.fireEvent=["onCapturePostLoginScreen","onCaptureRegistrationSuccessNoLogin"]):(b.fireEvent="onCaptureRegistrationSuccess",sb[b.transactionId]=b,Qb(b.ssoCode,b.transactionId)))}else janrain.events.onCaptureRegistrationFailed.fire(b);"control"===b.action&&("success"===b.status?janrain.events.onCaptureControlSuccesss.fire(b):
janrain.events.onCaptureControlFailed.fire(b));"photoUploaded"===b.statusMessage&&janrain.events.onCapturePhotoUploadSuccess.fire();if(b.userData&&(janrain.settings.capture.setProfileCookie&&(a=b.userData,i=A(),(new E).setExpirationDirectly(i).setUseLocalStorage(!0).setName("janrainCaptureProfileData").setValue(K.stringify(a)).create(),janrain.events.onCaptureProfileCookieSet.fire(a)),janrain.settings.capture.returnExperienceUserData&&(a=janrain.settings.capture.returnExperienceUserData,b=b.userData,
r(a)))){for(var i=a.length,c={},d=0;d<i;++d)c[a[d]]=fb(b,a[d]);(new E).setExpiration(1826).setUseLocalStorage(!0).setName("janrainCaptureReturnExperienceData").setValue(K.stringify(c)).create()}}}function cc(){if("object"!==typeof y)return!1;Da.modalConfirmText&&y.setConfirmMessageText(Da.modalConfirmText);Da.modalConfirmLinkText&&y.setConfirmLinkText(Da.modalConfirmLinkText);Da.modalCancelLinkText&&y.setCancelLinkText(Da.modalCancelLinkText)}function dc(b,a,i,c){Gb[b]={};Gb[b].html='<div class="'+
a+'">'+(Da[b]||i)+"</div>";Gb[b].screen=c}function Bc(b,a){var i=[];ka(Gb,function(b){i.push(b)});C(i,b)&&(Gb[b].html=a)}function zc(b){n=b;n.flow=janrain.settings.capture.flowName;"undefined"===typeof Dd&&(Dd=b);"object"!==typeof n.layouts&&(n.layouts={});"object"!==typeof n.layouts.captureAccessDeniedBuiltIn&&(n.layouts.captureAccessDeniedBuiltIn={});n.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:
Gb.accessDenied.html;"object"!==typeof n.layouts.captureRetrievingUserDataBuiltIn&&(n.layouts.captureRetrievingUserDataBuiltIn={});n.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:Gb.retrievingUserData.html;"object"!==typeof n.layouts.captureDialogBuiltIn&&(n.layouts.captureDialogBuiltIn={});n.layouts.captureDialogBuiltIn.html=Gb.dialog.html;n.screens.janrainDialog=Gb.dialog.screen;
for(b=0;b<ad.length;b++)n.fields[ad[b].field][ad[b].attribute]=ad[b].value}function kc(b,a){ka(b.fields,function(i,c){if((!b.form||a)&&c.doNotPrePopulate)c.value=""})}function aa(){Nd.push(arguments);if(window.console){var b=arguments;b.callee=b.callee.caller;b=[].slice.call(b);g?console.log(b):console.log.apply(console,b)}}function kb(){function b(b,a,o){a&&a.screenConditionals?Hb(a.screenConditionals,o):"function"===typeof o&&o()}function a(b){janrain.events.onCaptureAccessDenied.fire();bc=!0;Td=
"accessDenied";f({layout:"captureAccessDeniedBuiltIn",modal:b.modal,source:"server"})}function i(b){var a,o=ya();switch(b){case "email":(b=Va&&Va.verification_code?Va.verification_code:"")?(a=sa({capture_transactionId:o,verification_code:b}),Ka("/widget/email_code.jsonp",a),ua(o),aa("need to verify "+b)):aa("no code supplied");break;case "password":(b=Va&&Va.code?Va.code:"")?(aa("need to verify "+b),a=sa({capture_transactionId:o,code:b}),Ka("/widget/email_code.jsonp",a),ua(o)):aa("no code supplied");
break;case "reactivate":(b=Va&&Va.reactivation_code?Va.reactivation_code:"")?(aa("need to verify "+b),a=sa({capture_transactionId:o,reactivation_code:b}),Ka("/widget/reactivate_account.jsonp",a),ua(o)):aa("no code supplied")}}function d(b){b&&(Ec=b.validateOnRender);if(b&&"changePasswordLink"===b.dataType&&!b.errors)return i("password"),!1;if(b&&"verifyEmail"===b.dataType&&!b.errors)return i("email"),!1;if(b&&"reactivateAccount"===b.dataType&&!b.errors)return i("reactivate"),!1;var c=b.dataType&&
"public"===b.dataType;if(b&&b.hasUserData&&!n.fused||b&&b.hasUserData&&c&&!n.privacyFiltered)return c=b.dataType&&"public"===b.dataType,!ha&&!c?a(b):(bc=!0,Td="retrievingUserData",f({layout:"captureRetrievingUserDataBuiltIn",modal:b.modal,source:"server"}),Fc(c)),h(),!1;if(!ha&&b&&b.requireAccessToken)return a(b),h(),!1;bc=!1;f(b);h();Bd&&(Bd=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function e(a,o){if(Rd)setTimeout(function(){e(a,
o)},50);else{o&&o.type&&"completeSocialRegistration"===o.type&&(Ed=!0);if(Yb&&o&&(n.noModalForMobile||o.noModalForMobile))o.modal=!1;if(Yb&&o&&(n.modalForMobile||o.modalForMobile))o.modal=!0;Ia?(fa=a,N="capture_"+fa+"_",b(a,o,function(){d(o)})):setTimeout(function(){e(a,o)},50)}}function f(b){if(ba&&ba.div&&(!b.modal||ba.modal&&b.modal)&&!b.keepPreviousScreen)ba.div.style.display="none";var a=b.layout,o=b.source,c=b.modal,b=!!b.modalLoadOnLoad;if("server"===o){var i=document.getElementById(a);i||
(i=document.createElement("div"),i.setAttribute("id",a));try{xc[a]?z.html=xc[a]:(z.html=n.layouts[a].html,xc[a]=z.html)}catch(d){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===o)try{if(i=document.getElementById(a))xc[a]&&!1!==janrain.settings.capture.saveLayouts?z.html=xc[a]:(z.html=i.innerHTML,xc[a]=z.html);else throw z.html="",X(a);}catch(J){throw aa(J.name+": "+J.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");
}k(i).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");Yb&&(k(i).append("janrain-capture-ui-mobile"),za.onOrientationChange.addHandler(function(b){k(i).append("janrain-capture-ui-mobile-"+b.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[b.orientation]);janrain.events.onCaptureContentChange.fire()}),za.onOrientationChange.fire({orientation:za.getOrientation()}));z.div=i;bc||z.div.setAttribute("data-capturescreenname",
fa);I=z.div;z.modalLoadOnLoad=b;z.source=o;z.modal=c;ba=z;"undefined"===typeof Sd[fa]&&(Sd[fa]={});Sd[fa].layout=z}function g(b,a){if("object"===typeof b.displayCondition&&"undefined"!==typeof b.displayConditionPassed&&!1===b.displayConditionPassed)return!1;if(b.close)return j.render.html.close(b);if("data"==b.element){if("string"===b.type)return j.render.data.stringData(b);if("image"===b.type)return j.render.data.imageData(b);if("engageCookie"===b.type)return j.render.data.engageCookieData(b);if("localStorage"===
b.type)return j.render.data.localStorageData(b)}if("multiRadio"==b.element)return j.render.html.multiRadio(b);if("multiCheckbox"==b.element)return j.render.html.multiCheckbox(b);if("textarea"==b.element)return j.render.html.textarea(b);if("select"==b.element)return j.render.html.select(b);if("input"==b.element)return j.render.html.input(b);if("form"==b.element)return j.render.html.form(b);if("div"==b.element)return j.render.html.div(b);if("anchor"==b.element)return j.render.html.anchor(b);if("button"==
b.element)return j.render.html.button(b);if("capture"==b.element){if("datePicker"==b.type)return j.render.capture.datePicker(b);if("keepMeLoggedIn"==b.type)return j.render.capture.keepMeLoggedIn(b);if("countrySelect"==b.type)return j.render.capture.countrySelect(b);if("stateSelect"==b.type)return j.render.capture.stateSelect(b);if("publicProfileLink"==b.type)return j.render.capture.publicProfileLink(b,a);if("errorMessages"==b.type)return j.render.capture.errorMessages(b);if("savedProfileMessage"==
b.type)return j.render.capture.savedProfileMessage(b);if("captcha"==b.type)return j.render.capture.captcha(b);if("linkAccounts"==b.type)return j.render.capture.linkAccounts(b);if("mergeAccounts"==b.type)return j.render.capture.mergeAccounts(b,a);if("radioCollection"==b.type)return j.render.capture.radioCollection(b);if("tabCollection"==b.type)return j.render.capture.tabCollection(b);if("photoManager"==b.type)return j.render.capture.photoManager(b,a);if("dateselect_public"==b.type)return j.render.capture.dateselect_public(b);
if("dateselect"==b.type)return j.render.capture.dateselect(b);if("addressFull"==b.type)return j.render.capture.addressFull(b);if("addressFull_public"==b.type)return j.render.capture.addressFull_public(b);if("multipurposeAuth"==b.type)return j.render.capture.multipurposeAuth(b);if("nameFull"==b.type)return j.render.capture.nameFull(b);if("nameFull_public"==b.type)return j.render.capture.nameFull_public(b);if("backButton"==b.type)return j.render.capture.backButton(b);if("partial"==b.type)return j.render.capture.partial(b,
a);if("slider"==b.type)return j.render.capture.slider(b,a);if("table"==b.type)return j.render.capture.table(b,a);if("pluralIterator"==b.type)return j.render.capture.pluralIterator(b);if("datetime_public"==b.type)return j.render.capture.datetime_public(b);if("newsletterSubscriptions"==b.type)return j.render.capture.newsletterSubscriptions(b)}return"widget"==b.element?j.render.widget[b.type](b,a):!1}function h(){Rd=!0;janrain.events.onCaptureRenderStart.fire(n);Wa=[];n.fields.submitButton||(n.fields.submitButton=
{element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});n.fields.loginWidget||(n.fields.loginWidget={element:"widget",type:"login"});n.fields.shareWidget||(n.fields.shareWidget={element:"widget",type:"share"});n.fields.backButton||(n.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});n.fields.captcha||(n.fields.captcha={element:"capture",type:"captcha"});n.fields.keepMeLoggedIn||(n.fields.keepMeLoggedIn=
{element:"capture",type:"keepMeLoggedIn"});n.fields.errorMessages||(n.fields.errorMessages={element:"capture",type:"errorMessages"});n.fields.savedProfileMessage||(n.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});z.originalHtml=z.html;z.flow=n;z.html=l(z.html);z.div.innerHTML=z.html;if("server"==z.source){if(!document.getElementById("janrainCaptureWidget")){var b=document.createElement("div");b.id="janrainCaptureWidget";document.body.appendChild(b)}document.getElementById("janrainCaptureWidget").appendChild(z.div)}if(!bc){for(var b=
0,a=Cd.length;b<a;b++)Nb(document.getElementById(Cd[b]),!1);Cd=[]}q();m();if(0<janrain.events.onCssLoad.firedEvents.length)for(var b=janrain.events.onCssLoad.firedEvents,a=0,o=b.length;a<o;a++)"object"==typeof b&&b[a].args&&b[a].args.source&&-1==Gd.indexOf(b[a].args.source)&&b[a].event.fire(b[a].args);for(b=0;b<Wa.length;b++)a=document.getElementById(N+Wa[b].elementName),Wa[b].next&&Wa[b].next.type&&"server"===Wa[b].next.type?a.setAttribute("next",'{"noop":""}'):Wa[b].next?(Wa[b].next.conditional&&
a.setAttribute("next",K.stringify(Wa[b].next)),Wa[b].next.screen&&a.setAttribute("next",K.stringify(Wa[b].next)),Wa[b].next.url&&a.setAttribute("next",K.stringify(Wa[b].next)),Wa[b].next.action&&a.setAttribute("next",K.stringify(Wa[b].next))):a.setAttribute("next",'{"noop":""}');u();ba=z;janrain.events.onCaptureContentChange.fire()}function l(b){for(var a=/\{\*(.*?)\*\}/,o=/^\s*\/\s*/,i=/^\s*#\s*/,c=/\{(.*?)*\}\s*/,d=!1,J,e=[],f=[];J=a.exec(b);)try{var da=J[1].trim();if(c.test(da))var h=da.match(c),
da=da.replace(h[0],"").trim(),Fd=h[0].match(/\{(.*?)*\}\s*/)[0];else Fd=null;d=!1;i.test(da)&&(da=da.replace("#","").trim(),d=!0);if(o.test(da)){var ma=da.replace("/",""),k={};if("undefined"==typeof n.fields[ma])return aa("No field definition for"+ma,"error"),Pa.error("No field definition for"+ma,"error"),t;k.element=n.fields[ma].element;k.type=n.fields[ma].type;k.close=!0}else{if("undefined"==typeof n.fields[da])return aa("No field definition named "+da+" for tag "+J[0],"error"),Pa.error("No field definition named "+
da+" for tag "+J[0],"error"),t;k=n.fields[da];k.name=da;d&&(k.start=!0);if("form"===k.element&&!k.transactionId){var m=ya();k.transactionId=m}k.elementName=k.elementName||da}var Fd=Fd||null,j=g(k,Fd);j||(j=" ");b=b.replace(J[0],j);(k.next||"form"===k.element&&!k.close)&&Wa.push({elementName:k.elementName,next:k.next});k.onclickHandler&&p.push({elementName:k.elementName,handler:k.onclickHandler,eventType:"click"});k.onchangeHandler&&p.push({elementName:k.elementName,handler:k.onchangeHandler,eventType:"change"});
"string"===typeof k.element&&"form"===k.element&&!k.close&&(p.push({elementName:k.elementName,handler:gb,eventType:"submit"}),janrain.settings.capture.autoSave&&!Yb&&p.push({elementName:k.elementName,handler:Fa,eventType:"render"}));if("form"===k.element&&("widget/traditional_register.jsonp"===k.action||"widget/social_register.jsonp"===k.action))f.push("widget/traditional_register.jsonp"===k.action?"traditionalRegister":"socialRegister");if("form"===k.element&&"widget/traditional_signin.jsonp"===
k.action||"widget"===k.element&&"login"===k.type)e.push("widget/traditional_signin.jsonp"===k.action?"traditionalSignin":"socialSignin")}catch(r){return aa(r.name+": "+r.message,"error"),!1}e.length&&janrain.events.onCaptureLoginStart.fire({action:e.join(","),screen:fa});f.length&&janrain.events.onCaptureRegistrationStart.fire({action:f.join(","),screen:fa});return b}function m(){z.div.getAttribute("data-captureventadded")||(v(z.div,"click",function(b){var a=L(b);if(a&&a.nodeName&&"A"===a.nodeName){var o=
a.getAttribute("data-capturecontrol");o&&(Qa(o),P(b));a.getAttribute("data-cancelcapturereturnexperience")&&$c&&(janrain.capture.ui.setNoReturnExperience(),P(b));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof y)"close"===a&&(janrain.capture.ui.modal.close(),P(b)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),P(b))}}),z.div.setAttribute("data-captureventadded",!0));for(var b=z.div.getElementsByTagName("img"),a=b.length,o=0;o<a;o++)v(b[o],"load",function(){janrain.events.onCaptureContentChange.fire()});
b=Z(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=b.length;if(!Nc){for(o=0;o<a;o++)v(b[o],"click",function(b){"object"===typeof y?(janrain.capture.ui.renderScreen(ba.flow.defaultScreen),y.setShowContentOnLoad(!0).addContent(ba.div).show(),ac=!1,janrain.events.onCaptureScreenShow.fire({screen:fa}),janrain.events.onCaptureContentChange.fire()):Za=!0;P(b)});Nc=!0}}function q(){if(n.cssDependencies&&r(n.cssDependencies))for(var b=0;b<n.cssDependencies.length;b++)O(n.cssDependencies[b]);
Qd&&w&&!Xd?janrain.events.onCssLoad.addHandler(function(b){z=ba;Gd.push(b.source);for(b=0;b<Qd;b++)if(-1==Gd.indexOf(ud[b]))return!1;Xd||(s(),Xd=!0)}):s();Rd=!1;b={flow:n,renderingBuiltInScreen:bc,screen:fa};bc&&(b.builtInScreenRendered=Td);janrain.events.onCaptureRenderComplete.fire(b);n.screens&&n.screens[fa]&&n.screens[fa].type&&"completeSocialRegistration"===n.screens[fa].type&&(mc(ha),jb(!0))}function s(){var b=!1,a=!1;if(z.modal){if("object"===typeof y){var b=!0,o=y.getContent();o&&document.body.appendChild(o);
y.close(!0)}else y=new td,cc();Oc||(a=!0,janrain.events.onModalClose.addHandler(function(){n&&n.mergeToken&&(n.mergeToken="")}),Oc=!0);y=c(y);y.setShowContentOnLoad(!0).addContent(z.div);a&&janrain.events.onCaptureModalReady.fire();if(b||z.modalLoadOnLoad||Za||ac)y.show(),ac=!1,janrain.events.onCaptureScreenShow.fire({screen:fa})}else"object"===typeof y&&y.close(!0),ac=!1,janrain.events.onCaptureScreenShow.fire({screen:fa});z.div.style.display="block";janrain.events.onCaptureContentChange.fire()}
function u(b){for(var b=b||p,a=0;a<b.length;a++)if("function"===typeof b[a].handler)if("render"===b[a].eventType)b[a].handler(N+b[a].elementName);else{var o=document.getElementById(N+b[a].elementName);v(o,b[a].eventType,b[a].handler)}p=[]}var z={},j,t="Error displaying information";j=new ga;Xc=new R;return{setScreenData:e,render:h,renderField:g,attachEventHandlers:u}}function hc(b,a){for(var i=[],c=document.getElementById(b).getElementsByTagName("INPUT"),d=c.length,e=0;e<d;e++){var f={};f.id=c[e].id;
f.placeholder=c[e].getAttribute("placeholder");if(Gc||a)fd[c[e].getAttribute("data-capturefield")]=c[e].value;f.value=f.placeholder?f.placeholder===c[e].value?"":c[e].value:c[e].value;"radio"===c[e].type&&(f.type="radio",f.checked=c[e].checked);i.push(f)}return i}function Fc(b,a){var c="function"===typeof a?a:function(){};if(b){var d=Yc||Va.uuid||"";Yc&&(Yc="");d?(aa("need to get data for "+d),l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",
elementId:"getPublicUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:d}]})):aa("no uuid supplied")}else{if(!ha)return!1;l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function Ka(b,
a,c){0!==b.indexOf("http")&&(b=janrain.settings.capture.captureServer+b);Aa(qd(b,a),c)}function m(b,a){var c={},d=b&&b.userData&&b.userData.migratedUserType?b.userData.migratedUserType:null,e=a?Hc:bd;ab&&!a&&(c.capture_social_registration=ab);ha&&a&&(c.capture_complete_social_registration=ha);Yd&&(c.authProvider=Yd);d&&(c.migratedUserType=d);jb();var d=e,e=location,f=d;d.match(/^http[s]*:\/\//)||(f=e.pathname.split("/"),f.length-=1,f.push(d),f=e.protocol+"//"+e.host+f.join("/"));c=qd(f,c);window.location=
c}function x(b,a){var c=!1,d;if("ok"===b.stat&&(d=b.result,d.accessToken&&d.oneTime&&($a=d.accessToken,$d=!0),d.accessToken&&!d.oneTime&&La(d.accessToken),d&&Ac(d),Yd=d&&d.authProvider?d.authProvider:null,Tc=d&&d.authProfileData?d.authProfileData:{},d&&d.screen&&n.screens&&n.screens[d.screen]&&n.screens[d.screen].type&&"completeSocialRegistration"===n.screens[d.screen].type&&wa(),"socialSignin"===d.action&&"success"===d.status&&"noUserForIdentifier"===d.statusMessage||"socialSignin"===d.action&&"success"===
d.status&&janrain.settings.capture.socialRegistrationRedirectUrlCondition)){var e=janrain.settings.capture.socialRegistrationRedirectUrlCondition;if(e){var f=[];ka(e,function(b,a){d[b]===a||d.userData&&d.userData[b]===a?f.push(!0):f.push(!1)})}bd&&"noUserForIdentifier"===d.statusMessage&&(c=!0,m(d));Hc&&e&&!C(f,!1)&&(c=!0,m(d,!0))}"function"===typeof a&&!c&&a(d)}function Ic(b){function a(b){return'<li><a href="#" class="capture_suggestion">'+b+"</a></li>"}var b=b.result,c=h(b.submittedScreen),d=n.fields[b.field],
e=document.getElementById(c+(d.elementId||d.elementName||b.field)),f=b.alternatives,g=d.validation.messages.unique||"",m=document.getElementById(c+"form_item_"+(d.elementName||b.field)),ma=new l.validation;ma.setElement(e);ma.setParentDiv(m);if(!1===b.unique){if(f){var f=f.map(a),p=function(b){var a=L(b);k(a).has("capture_suggestion")&&(e.value=a.innerHTML,Bb(m,"click",p),ma.valid(),P(b))};ma.notValid(g+'<ul class="capture_suggestions">'+f.join("")+"</ul>",function(){v(m,"click",p)})}else ma.notValid(g);
ma.setUnique(!1)}else ma.valid(),ma.setUnique(!0)}function Jc(b){var a=[];n&&n.fields&&ka(n.fields,function(c,d){d&&d.type&&d.type===b&&a.push(d)});return a}function Wc(b,a){if("string"!==typeof b||!janrain.settings.capture.setProfileCookie)return!1;var c=new E,d;c.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)c.getCookie("janrainCaptureProfileData",function(c){c.length&&(d=K.parse(c),"function"===typeof a&&"object"===typeof d&&a(d[b]))});else if((c=c.getCookie("janrainCaptureProfileData"))&&
c.length)if(d=K.parse(c),"object"===typeof d)return d[b]}function Lc(b,a){if("string"!==typeof b||!janrain.settings.capture.returnExperienceUserData)return!1;var c=new E,d;c.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)c.getCookie("janrainCaptureReturnExperienceData",function(c){c.length&&(d=K.parse(c),"function"===typeof a&&"object"===typeof d&&a(d[b]))});else if((c=c.getCookie("janrainCaptureReturnExperienceData"))&&c.length)if(d=K.parse(c),"object"===typeof d)return d[b]}
function qc(b){var a=E();return C(["expected_tab","welcome_info_name","login_tab"],b)&&(b=a.getCookie(b))?unescape(b):""}function Rc(){var b=document.createElement("div");b.className="capture_btn capture_processing";b.innerHTML="Processing";return b}function rc(b,a){n&&b&&a&&n.screens&&n.screens[b]&&n.screens[b].dataType&&"public"===n.screens[b].dataType?(!n._uuid||n._uuid&&n._uuid!==a||!n.privacyFiltered?(Yc=a,n.fused=!1):Yc="",ac=!0,janrain.capture.ui.renderScreen(b)):aa("Cannot get public flow and show screen.")}
var sc=function(){function b(b){this.attributes=b&&Ba({},b)||{};this.time=(new Date).getTime();return this}b.prototype={set:function(b,a){var o=this,c=!1,i;pd(b)&&(i=b);"string"===typeof b?(c=this.attributes[b]!==a,this.attributes[b]=a):i&&ka(i,function(b,a){c=c||o.attributes[b]!==a;o.attributes[b]=a});c&&(this.time=(new Date).getTime());return this},get:function(b){return this.attributes[b]},destroy:function(){this.attributes={};this.time=(new Date).getTime();return this},each:function(b,a){var a=
a||this,o;for(o in this.attributes)Ca(this.attributes,o)&&b.call(a,o,this.attributes[o]);return this}};for(var a=["focused","checked","value","name","valid"],c=0,d=a.length;c<d;c++)(function(a){var o=a.charAt(0).toUpperCase()+a.slice(1);b.prototype["set"+o]=function(b){return this.set(a,b)};b.prototype["get"+o]=function(){return this.get(a)}})(a[c]);return b}(),p=[],Xc,Rd=!1,Fb,vc=janrain.settings.capture.language||janrain.settings.language||"en-US",Wa=[],fa,Sd={},N,$c,Bd=!1,Ec,yc=[],kd=janrain.settings.capture.maxScreenHistory||
3,ba={},ad=[],Dd,Zd={},Gc=janrain.settings.capture.mode13||!1,bd=janrain.settings.capture.socialRegistrationRedirect,Hc=janrain.settings.capture.socialRegistrationCompleteRedirect,Ed=!1,cd=!1,dd=!1,ed=!1,fd={},Pb,ac=!1,Ja,bc=!1,ab,wc,T=!1,ha,Ia=!1,$a,$d=!1,ae=!1,Xd=!1,n,Da={},I,F,Ad=!1,j=!1,M=janrain.settings.capture.backplaneVersion||"1.2",ld="1.2"===M+""?"backplane.js":"backplane"+M+".js",ta=janrain.settings.capture.backplaneLibrary||"https://d134l0cdryxgwa.cloudfront.net/"+ld,md=janrain.settings.capture.backplaneServerBaseUrl||
"https://backplane1.janrainbackplane.com/v"+M,nd=janrain.settings.capture.backplaneBlock||20,od=janrain.settings.capture.backplaneReplayOnPageLoad||!1,xc={},ib={},Q=[],Sa=[],Ra=[],zd=[],Ud=[],w=!1,Mc=janrain.settings.capture.accessTokenLifeHours||1,S="placeholder"in document.createElement("input"),be=!1,vd=!1,db,y,Za=!1,Nc=!1,Oc=!1,ud=[],Qd=0,Cd=[],ob="HEAD",Pc=!1,Gb={},Td,wd={},Sc=!1,uc=0,$b=[],Vd=!1,yd=!1,sb={},xd=[],Wd,Va=Vb(window.location.href).queryKey,Zb=He(location.hash.replace("#",""),/[&,]/),
Yc,Zc,Yd,Tc,Uc="Validating",wb,Vc="widget/traditional_register.jsonp,widget/traditional_signin.jsonp,widget/token_url.jsonp,widget/social_register.jsonp,widget/public_profile.jsonp,widget/recover_password.jsonp,widget/email_code.jsonp,widget/reactivate_account.jsonp".split(","),Gd=[],fe={};yc.push=function(){Array.prototype.push.apply(this,arguments);this.length>kd&&this.shift();return this.length};"en"===vc&&(vc="en-US");bd&&Va&&Va.capture_social_registration?ab=Va.capture_social_registration:Zb.engageToken&&
(wc=ab=Zb.engageToken,location.hash=location.hash.replace(RegExp("[&,]*engageToken="+ab),""));ab&&(ed=!0);wd.publicPrivateTogglers=[];R.prototype.check=function(b,a,c){if(a.validation&&!0!==a.validation.noTrim&&"string"===typeof b.value&&("text"===b.type||"email"===b.type))b.value=b.value.trim();var a=a||n.fields[b.name],d=b.getAttribute("data-capturerendererchildfieldname"),d=d&&a.validation&&a.validation[d]?a.validation[d]:d&&"dateselect"!==a.type?!1:a.validation;if(!a.validation)return!0;a.validation.temp=
d;if(!a.validation.temp)return!0;a.validation.temp.messages||(a.validation.temp.messages={});if(!this.hasValue(b,a))return{valid:!1,reason:a.validation.temp.messages.required||"Field not completed",type:"required"};if(!this.isDate(b,a))return{valid:!1,reason:a.validation.temp.messages.isDate||"Not a valid date",type:"notDate"};if(!this.isValidMaxFileSize(b,a))return{valid:!1,reason:a.validation.temp.messages.maxFileSize||"File is too large",type:"maxFileSize"};if(!this.isValidFileType(b,a))return{valid:!1,
reason:a.validation.temp.messages.validFileTypes||"File is not a valid file type",type:"fileType"};if(!this.isValidMinYears(b,a))return{valid:!1,reason:a.validation.temp.messages.minYears||"Not old enough",validation:{minYears:d.minYears},type:"minYears"};if(!this.isValidMinLength(b,a))return{valid:!1,reason:a.validation.temp.messages.minLength||"Invalid length",type:"minLength"};if(!this.isValidMaxLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxLength||"Invalid length",type:"maxLength"};
if(!this.isValidMaxNumericLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxNumericLength||"Invalid number of numeric characters",type:"maxNumericLength"};if(!this.isValidFormat(b,a))return{valid:!1,reason:a.validation.temp.messages.format||"Invalid format",type:"format"};if(!this.isValidMatch(b,a))return{valid:!1,reason:a.validation.temp.messages.match||"Invalid match",type:"match"};d=this.custom(b,a);if(!d)return"undefined"===typeof d?{pending:!0}:{valid:!1,reason:a.validation.temp.messages.custom||
"Invalid",type:"custom"};d=na&&na[b.id]&&"undefined"!==typeof na[b.id].unique&&!1===na[b.id].unique;return a.validation.temp.unique&&(!c||d)?(c=document.getElementById(h(b)+"form_item_"+b.getAttribute("name")),this.isUnique(b,c,a,function(){}),{pending:!0}):{valid:!0}};R.prototype.custom=function(b,a){if(!a||!a.validation.temp.custom||"function"!==typeof ge[a.validation.temp.custom])return!0;var c=new l.validation,d=document.getElementById(h(b)+"form_item_"+a.elementName);c.setParentDiv(d);c.setElement(b);
return ge[a.validation.temp.custom](b.name,b.value,c)};R.prototype.getRating=function(b){var b=b.value,a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],c=0,d;d=Math.min(8,Math.floor(3*Math.log(b.length+1)));for(var e=0;e<a.length;e++)a[e].test(b)&&c++;return d+=Math.floor(Math.pow(2,c)/2)};R.prototype.isValidMaxNumericLength=function(b,a){if(!a)return!0;var c=a.validation.temp.maxNumericLength;if(!c)return!0;var d=b.value.match(/(\d)/g);r(d)&&d.length>c&&a.validation.temp.actions&&a.validation.temp.actions.maxNumericLength&&
$b.push(a.validation.temp.actions.maxNumericLength);return r(d)?d.length<=c:!0};R.prototype.isValidMaxLength=function(b,a){var c=b.value;if(!a)return!0;var d=a.validation.temp.maxLength;if(!d)return!0;c.length>d&&a.validation.temp.actions&&a.validation.temp.actions.maxLength&&$b.push(a.validation.temp.actions.maxLength);return c.length<=d};R.prototype.isValidMinLength=function(b,a){var c=b.value;if(!a)return!0;var d=a.validation.temp.minLength;if(!d)return!0;c.length<d&&a.validation.temp.actions&&
a.validation.temp.actions.minLength&&$b.push(a.validation.temp.actions.minLength);return c.length>=d};R.prototype.isValidMaxFileSize=function(b,a){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.maxFileSize;return!c?!0:b.files[0].size<c};R.prototype.isValidFileType=function(b,a){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.validFileTypes;return!r(c)?
!0:C(c,b.files[0].type)};R.prototype.isDate=function(b,a){if((!a||"dateselect"!==a.type)&&!a.validation.temp.isDate)return!0;var c=ja(b,a);if(c)c=te(c);else{if(!(c=a.validation.temp.required))var d=h(b),c=document.getElementById(d+a.name+"_dateselectmonth"),c=c.options[c.selectedIndex].value,e=document.getElementById(d+a.name+"_dateselectday"),e=e.options[e.selectedIndex].value,d=document.getElementById(d+a.name+"_dateselectyear"),d=d.options[d.selectedIndex].value,c=!(!c&&!e&&!d);c=c?!1:!0}return c};
R.prototype.isValidMinYears=function(b,a){if(!a||"dateselect"!==a.type)return!0;var c=ja(b,a),d=a.validation.temp.minYears;if(!te(c)||!d)return!0;var e=new Date,c=Math.abs(((new Date(c)).getTime()-e.getTime())/864E5),c=Math.floor(c/365.242199);c>=d||a.validation.temp.actions&&a.validation.temp.actions.minYears&&$b.push(a.validation.temp.actions.minYears);return c>=d};R.prototype.hasValue=function(b,a){var c;if("select"===a.element)c=b.options[b.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===
a.element||"multiRadio"===a.element))c=b.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var d=c.length,e=[],f=0;f<d;f++)c[f].checked&&e.push(c[f]);c=e.length}else c=!1;else c=b.value;if(!a||!a.validation.temp.required)return!0;if("dateselect"===a.type)return c=ja(b,a),!c?!1:!0;c||a.validation.temp.actions&&a.validation.temp.actions.required&&$b.push(a.validation.temp.actions.required);return c};R.prototype.isUnique=function(b,
a,c,d){a=b.form.getAttribute("data-capturefield");c=b.getAttribute("data-capturefield");b=sa({value:b.value,form:a,capture_screen:u(b),field:c});ha&&(b.access_token=ha);Fb&&(b.flow_path=Fb);Ka("/widget/unique.jsonp",b,d)};R.prototype.isBlacklisted=function(b,a,c){function d(){var a=b.value,c=response;if(!c||0===c.length)return!0;for(var o,i=0;i<c.length;i++)if(o=RegExp("^"+c[i]+"$","i"),o.test(a))return!0;return!1}captureUIBlacklistCallback=function(b){c(d(b))};r(a)?c(d(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):
c(!0)};R.prototype.isValidFormat=function(b,a){var c={alpha:/^[a-z]+$/i,numeric:/^(\d+)$/,numericReal:/^(\d+\.?\d*|\.\d+|\-\d+\.?\d*|\-\.\d+)$/,alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,zipCode:/^\d{5}$/,"zipCode+4":/^\d{5}(\-\d{4})?$/,phone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,phoneInternational:/^(\d{1,4}[-. ]?)?\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,
i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!a.validation.temp.format)return!0;var d=a.validation.temp.format;if("string"===typeof d&&c[d])d=c[d];else return!1;(c=d.test(b.value))||a.validation.temp.actions&&a.validation.temp.actions.format&&$b.push(a.validation.temp.actions.format);return c};R.prototype.isValidMatch=function(b,a){if(!a)return!0;var c=a.validation.temp.match;if(!c)return!0;c=n.fields[c];c=h(b)+(c.elementId||c.elementName);c=document.getElementById(c);
b.value!==c.value&&a.validation.temp.actions&&a.validation.temp.actions.match&&$b.push(a.validation.temp.actions.match);return b.value===c.value};var l={autoSelectPreferredTab:function(b,a){var c=Number(Va.capture_selected_tab);isNaN(c)||(c=b.collection[c])&&p.push({elementName:a+"_"+c.elementName,handler:function(b){var a=document.getElementById(b);setTimeout(function(){a.click()},0)},eventType:"render"})},getValueFromObject:function(b,a,c){a=fb(a,c);void 0!==b.trueValueReplace&&a?a=b.trueValueReplace:
void 0!==b.falseValueReplace&&!a&&(a=b.falseValueReplace);!a&&!1!==a&&0!==a&&(a="");return a},setElementAttributeWithLocalStorage:function(b,a,c){var d=b.profileStoragePath.split("."),e=d.shift(),f=d.join(".");p.push({handler:function(){function d(b){var e=document.getElementById(a);return e&&(b||!e.getAttribute("placeholder"))?(e[c]=b,!0):!1}janrain.settings.multiDomainLocalStorage?Wc(e,function(a){d(l.getValueFromObject(b,a,f))}):d(l.getValueFromObject(b,Wc(e),f))},eventType:"render"})},attachFieldEventHandlers:function(b){b.type||
(b.type="");var a=b.elementId||b.elementName;if("text"===b.type||"password"===b.type||"email"===b.type)p.push({elementName:a,handler:l.clearPlaceHolder,eventType:"focus"}),p.push({elementName:a,handler:l.restorePlaceHolder,eventType:"blur"});p.push({elementName:a,handler:function(b){b=L(b);h(b);(b=rd(b,"capture_form_item"))&&k(b).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()},eventType:"focus"});p.push({elementName:a,handler:function(b){b=L(b);h(b);
(b=rd(b,"capture_form_item"))&&k(b).remove("capture_focused")},eventType:"blur"});b.validation&&p.push({elementName:a,handler:yb,eventType:b.validation.eventType||"blur"});b.rendererFieldName&&b.rendererChildFieldName&&n.fields[b.rendererFieldName].validation&&n.fields[b.rendererFieldName].validation[b.rendererChildFieldName]&&p.push({elementName:b.rendererFieldName+"_"+b.rendererChildFieldName,handler:yb,eventType:"blur"});if("password"===b.type){b.validation&&("function"===typeof b.validation.rating?
p.push({elementName:a,handler:function(a){var a=qb(a),c=Xc.getRating(a);b.validation.rating(a,c)},eventType:"keyup"}):b.validation.rating&&p.push({elementName:a,handler:function(b){b=qb(b);b=Xc.getRating(b);aa("Password Strength",b)},eventType:"keyup"}));for(var c=[],d=0,e=p.length;d<e;d++)p[d].elementName===a&&c.push(p[d]);p.push({elementName:a,handler:function(b){return l.togglePasswordInput(b,c)},eventType:"click"});p.push({elementName:a,handler:function(b){return l.togglePasswordInput(b,c)},eventType:"focus"})}},
attachModifyEventHandler:function(b){p.push({elementName:b.elementId||b.elementName,eventType:b.modify.event,handler:function(){var a=document.getElementById(b.modify.element),c=b.modify.attributes;if(c&&a)for(var d in c)c.hasOwnProperty(d)&&a.setAttribute(d,c[d])}})},wrapStringData:function(b,a,c){var d="",e=["capture_data_item"];c&&e.push(c);d+=l.createDiv({elementId:"stringdata_"+b.name,classes:e});b.label&&(d+=l.createLabel({elementId:b.name,label:b.label,classes:["capture_data_label"]}));d+=
l.createDiv({elementId:b.name,classes:["capture_data"]});return d+a+"</div></div>"},wrapFormItemStart:function(b){var a="",c=[],d=b.classes||[],e="elementCollection"===b.type?"form_collection":"form_item";if(b.justElement||"submit"===b.type||"button"===b.type)return"";-1===d.indexOf("capture_"+e)&&d.push("capture_"+e);b.errors&&-1===d.indexOf("capture_error")&&!b.collection&&d.push("capture_error");!b.collection&&b.type&&-1===d.indexOf("capture_"+b.type)&&("checkbox"===b.type||"radio"===b.type?c.push("capture_"+
b.type):d.push("capture_"+b.type));"elementCollection"===b.type&&b.displayInline&&-1===d.indexOf("capture_form_collection_inline")&&d.push("capture_form_collection_inline");b.collection?(-1===d.indexOf("capture_"+e+"_"+b.elementName)&&d.push("capture_"+e+"_"+b.elementName),b.checked&&d.push("capture_toggled"),a+=l.createDiv({elementName:e+"_"+b.elementId,hide:b.hide,classes:d})):a+=l.createDiv({elementName:e+"_"+b.elementName,hide:b.hide,classes:d});if(("checkbox"===b.type||"radio"===b.type)&&!b.collection)a+=
l.createDiv({elementName:e+"_inner_"+b.elementName,classes:c});return a},wrapFormItemEnd:function(b){return b.justElement||"submit"===b.type||"button"===b.type?"":"</div>"},createPublicPrivateToggle:function(b){function a(){for(var b=wd.publicPrivateTogglers,c=b.length,o=0;o<c;o++)b[o]&&(b[o].style.display="none");wd.publicPrivateTogglers=[]}function c(a){var o=L(a),d=h(o),i=document.getElementById(d+"display_toggle_options_"+b.elementName),e=document.getElementById(d+"display["+(b.rendererFieldName||
b.elementName)+"]"),f=document.getElementById(d+"display_indicator_public_"+b.elementName),J=document.getElementById(d+"display_indicator_private_"+b.elementName),g=d+"display_option_public_"+b.elementName,da=d+"display_option_private_"+b.elementName;document.getElementById(d+"display_toggle_options_"+b.elementName);if(o.parentNode&&o.parentNode.id&&(o.parentNode.id===g||o.parentNode.id===da))o=o.parentNode;if(!o.id)return!1;o.id===g?(k(document.getElementById(g)).append("capture_checked"),k(document.getElementById(da)).remove("capture_checked"),
e.value="public",k(f).append("capture_toggled"),k(J).remove("capture_toggled")):(k(document.getElementById(g)).remove("capture_checked"),k(document.getElementById(da)).append("capture_checked"),e.value="private",k(f).remove("capture_toggled"),k(J).append("capture_toggled"));la(e);i.style.display="none";P(a)}var d="";b.forcePublicPrivate&&("public"===b.forcePublicPrivate.toLowerCase()?b.displayPublic=!0:"private"===b.forcePublicPrivate.toLowerCase()&&(b.displayPublic=!1));var d=d+l.createDiv({classes:["capture_display_toggle_wrap"],
elementId:"display_toggle_wrap_"+b.elementName}),d=d+l.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+b.elementName}),e=["capture_display_option"];b.displayPublic&&e.push("capture_checked");d+=l.createDiv({classes:e,elementId:"display_option_public_"+b.elementName});d+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_option"];
b.displayPublic||e.push("capture_checked");d+=l.createDiv({classes:e,elementId:"display_option_private_"+b.elementName});d+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';e=["capture_display_toggle","capture_public"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic&&e.push("capture_toggled");d+=l.createDiv({classes:e,elementId:"display_indicator_public_"+
b.elementName});d+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_toggle","capture_private"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic||e.push("capture_toggled");d+=l.createDiv({classes:e,elementId:"display_indicator_private_"+b.elementName});d=d+'<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+
l.createInput({type:"hidden",elementName:"display["+(b.rendererFieldName||b.elementName)+"]",value:b.displayPublic?"public":"private"});p.push({elementName:"display_toggle_wrap_"+b.elementName,eventType:"click",handler:function(c){var d=L(c),i=h(d),i=document.getElementById(i+"display_toggle_options_"+b.elementName),e="none"===i.style.display||""===i.style.display?"block":"none";d.parentNode&&k(d.parentNode).has("capture_display_toggle")&&(d=d.parentNode);k(d).has("capture_display_toggle")&&!k(d).has("capture_display_toggle_disabled")&&
("block"===e&&(a(),wd.publicPrivateTogglers.push(i)),i.style.display=e);P(c)}});p.push({elementName:"display_option_public_"+b.elementName,handler:c,eventType:"click"});p.push({elementName:"display_option_private_"+b.elementName,handler:c,eventType:"click"});Pc||(v(document.body,"click",function(b){b=L(b);b.parentNode&&k(b.parentNode).has("capture_display_toggle")&&(b=b.parentNode);!k(b).has("capture_display_toggle")&&!k(b).has("capture_display_option")&&a()}),Pc=!0);return d},createAnchor:function(b){var a=
"",c=b.fieldPrefix||N,d=b.elementId||b.elementName,e="object"===typeof b.elementAttributes?b.elementAttributes:{},f=b.elementClasses&&r(b.elementClasses)?b.elementClasses:[];C(f,"capture_"+d)||f.push("capture_"+d);a=a+"<a "+("id='"+c+d+"' ");b.target&&(a+="target='"+b.target+"' ");a+="class='"+f.join(" ")+"' ";a+=sd(e)+" ";a+="data-capturefield='"+b.name+"' ";a+="href='"+b.elementHref+"' ";a+="name='"+b.elementName+"' ";a+=">";b.elementText&&(a+=b.elementText);return a+"</a>"},createTextarea:function(b){var a=
"",c=b.fieldPrefix||N,d=b.elementId||b.elementName,e=b.elementClasses&&r(b.elementClasses)?b.elementClasses:[],f=b.rows||"5",a=a+l.createLabel(b);C(e,"capture_"+d)||e.push("capture_"+d);C(e,"capture_textarea")||e.push("capture_textarea");a=a+"<textarea "+("id='"+c+d+"' ")+("class='"+e.join(" ")+"' ");a+="data-capturefield='"+b.name+"' ";a=a+("rows='"+f+"' ")+("name='"+b.elementName+"' ");b.placeholder&&S&&(a+="placeholder='"+b.placeholder+"'");a+=">";b.value&&(a+=b.value);a+="</textarea>";b.publicPrivateToggle&&
(a+=l.createPublicPrivateToggle(b));return a+=l.createTip(b)},createTip:function(b){var a;a="<div class='capture_tip' ";b.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof b.tip?b.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+b.elementName+"'>");a+=Uc+"</div>";a=a+"<div class='capture_tip_error'"+(" data-elementName='"+b.elementName+"'>");b.errors&&r(b.errors)&&(a+=b.errors.join(" "),janrain.events.onCaptureServerValidationFailed.fire(b));return a+
"</div>"},createLabel:function(b,a){var c,d=b.fieldPrefix||N,e=b.elementId||b.elementName;if(!b.label)return a?a:"";c="<label ";"elementCollection"!==b.type&&(c+=" for='"+d+e+"'");c+=">";a&&(c+=a);b.label&&(c+=b.label);return c+"</label>"},createSelect:function(b){var a="",c=b.fieldPrefix||N,d=b.rendererFieldName,e=b.rendererChildFieldName,f,k=b.justElement,m=b.elementClasses&&r(b.elementClasses)?b.elementClasses:[],n=b.elementId||b.elementName;C(m,"capture_"+n)||m.push("capture_"+n);C(m,"capture_select")||
m.push("capture_select");a+=l.createLabel(b);a=a+'<span class="capture_select_arrow"><select '+("id='"+c+n+"' ")+("class='"+m.join(" ")+"' ");d&&(a+="data-capturerendererfield='"+d+"' ");b.showFieldWhere&&(a+='data-showFieldWhere="'+b.showFieldWhere+'" ');e&&(a+="data-capturerendererchildfieldname='"+e+"' ");a+="data-capturefield='"+b.name+"' ";a+="name='"+b.elementName+"' ";a+=">";d=b.options||[];e=d.length;for(m=0;m<e;m++){var j=d[m],q=j.value||""===j.value?j.value:j.text,a=a+('<option value="'+
q+'"');j.disabled&&(a+=' disabled="true"');r(j.showField)&&(a+=' data-showField="'+j.showField.join(",")+'"');q===b.value&&(a+=' selected="selected"',f=j.showField);a+=">"+j.text+"</option>"}a+="</select></span>";b.publicPrivateToggle&&(a+=l.createPublicPrivateToggle(b));k||(a+=l.createTip(b));p.push({handler:function(){f&&lb(f,b.showFieldWhere,c)},eventType:"render"});p.push({elementName:n,handler:function(b){var b=L(b),a=h(b),c=b.getElementsByTagName("option")[b.selectedIndex].getAttribute("data-showField"),
d=b.getAttribute("data-showFieldWhere");c&&c.length&&(c=c.split(","));g&&9>g&&la(b);lb(c,d,a)},eventType:"change"});return a},createButton:function(b){var a="",c=b.fieldPrefix||N,d=b.elementId||b.elementName,e=b.elementClasses&&r(b.elementClasses)?b.elementClasses:[],f=b.type?b.type:"submit";C(e,"capture_"+d)||e.push("capture_"+d);C(e,"capture_btn")||e.push("capture_btn");C(e,"capture_primary")||e.push("capture_primary");a+="<button ";b.hide&&(a+="style='display:none' ");a=a+("id='"+c+d+"' ")+("class='"+
e.join(" ")+"' ");a=a+("type='"+f+"' ")+("data-capturefield='"+b.name+"' ");b.value&&(a+="value='"+b.value+"' ");a+="name='"+b.elementName+"' ";a+=">";b.elementContent&&(a+=b.elementContent);a+="</button>";b.modify&&l.attachModifyEventHandler(b);return a},createInput:function(b){var a="",c="",d=b.fieldPrefix||N,e=b.elementId||b.elementName,f=b.elementClasses&&r(b.elementClasses)?b.elementClasses:[],g="object"===typeof b.elementAttributes?b.elementAttributes:{},h="button"===b.type||"submit"===b.type||
"checkbox"===b.type||"radio"===b.type||"hidden"===b.type,k=b.justElement||b.collection||"hidden"===b.type||"button"===b.type||"submit"===b.type,m="password"===b.type&&!S&&b.placeholder?"text":b.type,n=("checkbox"===b.type&&!b.collection||"radio"===b.type&&!b.collection)&&!b.justElement,j=b.rendererFieldName,p=b.rendererChildFieldName,q=Ec&&!b.collection;C(f,"capture_"+e)||f.push("capture_"+e);h||(c+=l.createLabel(b));a+="<input ";b.placeholder&&(b.placeholder=b.placeholder.replace(/'/g,"&#39;"));
b.hide&&(a+="style='display:none' ");a=a+("id='"+d+e+"' ")+(sd(g)+" ");"text"===b.type||"email"===b.type||"password"===b.type||"file"===b.type?C(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===b.type||"radio"===b.type?C(f,"capture_input_"+b.type)||f.push("capture_input_"+b.type):"submit"===b.type&&(C(f,"capture_btn")||f.push("capture_btn"),C(f,"capture_primary")||f.push("capture_primary"));a+="data-capturefield='"+b.name+"' ";b.collection&&(a+="data-capturecollection='true' ");
j&&(a+="data-capturerendererfield='"+j+"' ");p&&(a+="data-capturerendererchildfieldname='"+p+"' ");("checkbox"===b.type||"radio"===b.type)&&b.elementValue?a+="value='"+b.elementValue+"' ":b.value?(g=b.value,b.displaySavedValue&&fd[b.value]&&(g=fd[b.value],"password"===b.type&&(m="password")),("password"===b.type||"text"===b.type||"email"===b.type)&&!b.errors&&q&&Cd.push(d+e),a+="value='"+g+"' "):b.placeholder&&!S?(a+="value='"+b.placeholder+"' ",C(f,"capture_input_placeholder")||f.push("capture_input_placeholder")):
a+="value='' ";a=a+("type='"+m+"' ")+("class='"+f.join(" ")+"' ");b.placeholder&&(a+="placeholder='"+b.placeholder+"' ");if(b.checked||b.elementValue&&b.value===b.elementValue)a+="checked='checked' ";a+="name='"+b.elementName+"' ";a+="/>";c="checkbox"===b.type||"radio"===b.type?c+l.createLabel(b,a):c+a;b.modify&&l.attachModifyEventHandler(b);b.publicPrivateToggle&&(c+=l.createPublicPrivateToggle(b));n&&(c+="</div>");k||(c+=l.createTip(b));b.profileStoragePath&&"undefined"===typeof b.value&&l.setElementAttributeWithLocalStorage(b,
d+e,"value");return c},createDiv:function(b){var a="<div ",c=b.fieldPrefix||N,d=b.elementId||b.elementName,e="object"===typeof b.elementAttributes?b.elementAttributes:{},f=b.classes||[];C(f,"capture_"+d)||f.push("capture_"+d);a+="id='"+c+d+"'";if("option"===b.type&&!b["default"]||b.hide)a+=" style='display:none'";"radioCollection"===b.type&&f.push("radio_set");r(f)&&f.length&&(a=a+' class="'+f.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=sd(e)+" ";a+="data-capturefield='"+b.name+"' ";
a+=">";b.elementText&&(a+=b.elementText);b.closeDiv&&(a+="</div>");return a},createImage:function(b){var a,c=b.fieldPrefix||N,d=b.classes||[],e=b.elementId||b.imageId||b.elementName||"";a="<img "+('src="'+b.src+'"');e&&!C(d,"capture_"+e)&&d.push("capture_"+e);b.hide&&(a+=" style='display:none'");b.alt&&(a+=" alt='"+b.alt+"'");"undefined"!==typeof b.width&&(a+=" width='"+b.width+"'");"undefined"!==typeof b.height&&(a+=" height='"+b.height+"'");e&&(a+=' id="'+c+b.imageId+'" ');r(d)&&d.length&&(a=a+
'class="'+d.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(b,a){var c,d="captureIFrame_"+b;if(document.getElementById(d))return!1;if(fe[a]&&(c=document.getElementById(fe[a])))c="div"==c.parentNode.tagName.toLowerCase()?c.parentNode:c,Wb(c);fe[a]=d;if(g){c="";var e=document.createElement("div");e.innerHTML=c+"<iframe "+('name="'+d+'" ')+('data-transactionId="'+b+'" ')+('id="'+d+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(e)}else c=document.createElement("iframe"),
c.setAttribute("name",d),c.setAttribute("data-transactionId",b),c.id=d,c.setAttribute("src","about:blank"),c.style.display="none",c.className="",document.body.appendChild(c)},createAnchor:function(b){var a=b.fieldPrefix||N,c=document.createElement("a");if(!b.classes||b.classes&&!r(b.classes))b.classes=[];b.elementId&&!C(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);c.setAttribute("href",b.elementHref);c.innerHTML=b.elementText;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");
b.hideElement&&(c.style.display="none");return c},createDiv:function(b){var a=b.fieldPrefix||N,c=document.createElement("div");if(!b.classes||b.classes&&!r(b.classes))b.classes=[];b.elementId&&!C(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createImage:function(b){var a=b.fieldPrefix||N,c=document.createElement("img");if(!b.classes||b.classes&&!r(b.classes))b.classes=[];b.elementId&&
!C(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.alt&&c.setAttribute("alt",b.alt);"undefined"!==typeof b.width&&c.setAttribute("width",b.width);"undefined"!==typeof b.height&&c.setAttribute("height",b.height);c.src=b.elementSrc;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createInput:function(b){var a=document.createElement("input"),c=b.fieldPrefix||N,d="object"===typeof b.elementAttributes?b.elementAttributes:{},e=
b.containerDivClasses||[],f;"submit"===b.elementType&&b.containerDiv&&(f=this.createDiv({elementName:b.elementName+"_containverDiv",classes:e}));if(!b.classes||b.classes&&!r(b.classes))b.classes=[];for(var g in d)d.hasOwnProperty(g)&&a.setAttribute(g,d[g]);b.elementId&&!C(b.classes,c+b.elementId)&&b.classes.push(c+b.elementId);b.elementType&&a.setAttribute("type",b.elementType);b.name&&a.setAttribute("data-capturefield",b.name);b.elementValue&&(a.value=b.elementValue);b.elementName&&(a.name=b.elementName);
b.elementId&&(a.id=c+b.elementId);b.hideElement&&(a.style.display="none");a.className=b.classes.join(" ");return f?(f.appendChild(a),f):a},createForm:function(b){b.transactionId||(b.transactionId=ya());var a=b.transactionId,c=b.captureScreen||fa,d=b.fieldPrefix?b.fieldPrefix:h(c),e=document.createElement("form"),f=r(b.fields)?b.fields:[],g=f.length;l.domHelpers.createIFrame(a,d+b.elementId);b.needsResponse&&D(a);if(!b.classes||b.classes&&!r(b.classes))b.classes=[];b.elementId&&!C(b.classes,d+b.elementId)&&
b.classes.push(d+b.elementId);e.id=d+b.elementId+"_"+a;e.className=b.classes.join(" ");e.setAttribute("target","captureIFrame_"+a);e.setAttribute("data-transactionId",a);b.name&&e.setAttribute("data-capturefield",b.name);e.setAttribute("action",b.elementAction);e.setAttribute("method","POST");e.setAttribute("data-capturedomelement","true");b.validate&&e.setAttribute("data-capturedomelementvalidate","true");e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:"\u2713",
elementName:"utf8"}));n&&n.mergeToken&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:n.mergeToken,elementName:"merge_token",elementId:"merge_token_"+a}));F&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:F,elementName:"bp_channel",elementId:"bp_channel_"+a}));Fb&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:Fb,elementName:"flow_path",elementId:"flow_path_"+a}));if($a)e.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:d,elementValue:$a,elementName:"access_token",elementId:"access_token_"+a}));else{var k=b.elementAction.substring(janrain.settings.capture.captureServer.length+1,b.elementAction.length);b&&b.elementAction&&!C(Vc,k)&&ha&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:ha,elementName:"access_token",elementId:"access_token_"+a}))}fa&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:c,elementName:"capture_screen",
elementId:"screen_"+a}));Qc&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:Qc,elementName:"js_version",elementId:"js_version_"+a}));b.serverNextScreen&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:b.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+a}));b.engageTokenRequired&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:ab,fieldPrefix:d,elementName:"token",
elementId:"token_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:a,fieldPrefix:d,elementName:"capture_transactionId",elementId:"transactionId_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:b.name,elementName:"form",elementId:"form_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:n.flow,elementName:"flow",elementId:"flow_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:d,elementName:"client_id",elementId:"client_id_"+a,elementValue:janrain.settings.capture.clientId}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementName:"redirect_uri",elementId:"redirect_uri_"+a,elementValue:janrain.settings.capture.redirectUri}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:janrain.settings.capture.responseType,elementName:"response_type",elementId:"response_type_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:d,elementValue:ob,elementName:"flow_version",elementId:"flow_version_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:d,elementValue:vc,elementName:"locale",elementId:"locale_"+a}));for(c=0;c<g;c++)switch(a=f[c],a.elementType){case "div":a.fieldPrefix=a.fieldPrefix||d;e.appendChild(l.domHelpers.createDiv(a));break;case "anchor":a.fieldPrefix=a.fieldPrefix||d;e.appendChild(l.domHelpers.createAnchor(a));break;case "hidden":a.fieldPrefix=a.fieldPrefix||d;e.appendChild(l.domHelpers.createInput(a));
break;case "file":a.fieldPrefix=a.fieldPrefix||d;e.setAttribute("enctype","multipart/form-data");e.appendChild(l.domHelpers.createInput(a));break;case "submit":a.fieldPrefix=a.fieldPrefix||d,e.appendChild(l.domHelpers.createInput(a))}l.domHelpers.createFormHandler(e,b);return e},createFormHandler:function(b,a){"function"===typeof a.callback&&(b.setAttribute("next",'{"function":"'+a.elementId+'"}'),Zd[a.elementId]=a.callback);v(b,"submit",gb)},createFormAndPost:function(b){var a=b.fieldPrefix||N,c=
ya();b.fieldPrefix=b.fieldPrefix||a;b.transactionId=c;var d=l.domHelpers.createForm(b),a=l.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:a,elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});d.appendChild(a);document.body.appendChild(d);l.domHelpers.createFormHandler(d,b);a.click()}},createListOfLinks:function(b,a){var c=b.fieldPrefix||N,d;optionsLength=b.length;d="<ul";r(a)&&a.length&&(d=d+' class="'+a.join(" "),d+='"');d+=">";for(var e=
0;e<optionsLength;e++){d+="<li";"string"===typeof b[e].listItemId&&(d+=' id="'+c+b[e].listItemId+'" ');b[e].hide&&(d+=' style="display: none;" ');if(!b[e].listItemClasses||!r(b[e].listItemClasses))b[e].listItemClasses=[];"string"===typeof b[e].listItemId&&!C(b[e].listItemClasses,"capture_"+b[e].listItemId)&&b[e].listItemClasses.push("capture_"+b[e].listItemId);r(b[e].listItemClasses)&&b[e].listItemClasses.length&&(d+=' class="',d+=b[e].listItemClasses.join(" "),d+='"');d+=">";d+='<a href="'+b[e].anchorHref+
'"';"string"===typeof b[e].anchorId&&(d+=' id="'+c+b[e].anchorId+'" ');if(!b[e].anchorClasses||!r(b[e].anchorClasses))b[e].anchorClasses=[];"string"===typeof b[e].anchorId&&!C(b[e].anchorClasses,"capture_"+b[e].anchorId)&&b[e].anchorClasses.push("capture_"+b[e].anchorId);r(b[e].anchorClasses)&&b[e].anchorClasses.length&&(d+=' class="',d+=b[e].anchorClasses.join(" "),d+='"');d+=">";d+=b[e].anchorText;d+="</a>";d+="</li>"}return d+"</ul>"},togglePasswordInput:function(b,a){var c=qb(b),d=c.getAttribute("data-capturefield"),
d=n&&n.fields&&d?n.fields[d]:"";h(c);if(d&&!d.placeholder)return!1;"text"===c.type&&c.getAttribute("value")===c.getAttribute("placeholder")&&c.setAttribute("value","");if(g&&"text"===c.type){var e=document.createElement("span"),f=c.parentElement;f.insertBefore(e,c);f.removeChild(c);d=document.createElement("input");d.id=c.id;d.setAttribute("data-capturefield",c.name);d.className="capture_password capture_text_input";d.name=c.name;d.setAttribute("type","password");f.insertBefore(d,e);f.removeChild(e);
for(c=0;c<a.length;c++)"function"===typeof a[c].handler&&v(d,a[c].eventType,a[c].handler);d.focus()}else"password"!=c.getAttribute("type")&&c.setAttribute("type","password")},clearPlaceHolder:function(b){if(S)return!0;b="value"in b?b:qb(b);b.value===b.getAttribute("placeholder")&&(g?b.value="":b.setAttribute("value",""),k(b).remove("capture_input_placeholder"))},restorePlaceHolder:function(b){if(S)return!0;var b="value"in b?b:qb(b),a=b.getAttribute("placeholder");if(!a||"password"===b.getAttribute("type"))return!1;
a&&""===b.value&&(g?b.value=a:b.setAttribute("value",a),k(b).append("capture_input_placeholder"))},validation:function(){function b(b){d=b;var c=a.id||a.name;Pb.add({id:c,valid:"valid"===b},{merge:!0});na[c].status=d}var a,c,d,e,f;return{getElement:function(){return a},getParentDiv:function(){return c},getState:function(){return d},getValidation:function(){return f},setState:function(a){b(a)},setUnique:function(b){e=b;na[a.id||a.name].unique=e},setValidation:function(b){f=b},setParentDiv:function(b){(c=
b)&&c.className.split(" ")},setElement:function(b){a=b;c&&c.className.split(" ")},valid:function(d){d||k(c).append("capture_validated");k(c).remove("capture_validating").remove("capture_error");b("valid");d={};a&&(d.field=a);janrain.events.onCaptureValidationSuccess.fire(d);janrain.events.onCaptureContentChange.fire()},pending:function(){b("pending");k(c).append("capture_validating").remove("capture_validated").remove("capture_error");janrain.events.onCaptureContentChange.fire()},notValid:function(){var d;
switch(arguments.length){case 1:message=arguments[0];break;case 2:message=arguments[0];"function"===typeof arguments[1]?callback=arguments[1]:d=arguments[1];break;case 3:message=arguments[0],d=arguments[1],callback=arguments[2]}b("invalid");if(message){if("noValidationMessage"!==message){k(c).append("capture_error").remove("capture_validated");for(var e,g=h(c),J=c.getElementsByTagName("div"),l=J.length,m=0;m<l;m++)if("capture_tip_error"===J[m].className){var n=0===c.id.indexOf(g+"form_collection_")?
g+"form_collection_":g+"form_item_";if(c.id.split(n)[1]===J[m].getAttribute("data-elementName")||c.id.split(n)[1]+"[dateselect_year]"===J[m].getAttribute("data-elementName")){e=J[m];break}}e&&(e.innerHTML=message)}"function"===typeof callback&&callback();janrain.events.onCaptureContentChange.fire()}e={};a&&(e.field=a);e.message=message;e.parentDiv=c;e.invalidType=d;f&&(e.validation=f);janrain.events.onCaptureValidationFailed.fire(e)}}}},de={createSelect:l.createSelect,createTextarea:l.createTextarea,
createAnchor:l.createAnchor,createInput:l.createInput,createLabel:l.createLabel,createDiv:l.createDiv,createImage:l.createImage,createListOfLinks:l.createListOfLinks,togglePassword:l.togglePasswordInput,clearPlaceHolder:l.clearPlaceHolder,restorePlaceHolder:l.restorePlaceHolder,getElementByEventAttribute:qb};ga.prototype.render={data:{engageCookieData:function(b){return qc(b.cookieName)},localStorageData:function(b){var a="",c=(b.fieldPrefix||N)+(b.elementId||b.elementName),d=b.classes?b.classes.join(" ").replace(/\[/g,
"_").replace(/\]/g,"_"):"",e=b.valuePath,f="";if(!janrain.settings.capture.setProfileCookie)return t.log("localStorage renderer can not be used without janrain.settings.capture.setProfileCookie set to true"),t.show(),"";janrain.settings.multiDomainLocalStorage?Wc(b.data,function(a){function d(){--f;var b=a,e=document.getElementById(c);e?(ra(e,b),o=!0):o=!1;!o&&0<f&&setTimeout(d,500)}var o=!1,f=100,a=l.getValueFromObject(b,a,e);d()}):a=Wc(b.data);f='<span id="'+c+'" class="'+d+'">'+l.getValueFromObject(b,
a,e);return f+"</span>"},stringData:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",c,a=n.fields&&n.fields[b.value]?n.fields[b.value]:"";b.displaySavedValue&&(c=a&&a.type&&"password"===a.type);c=b.displaySavedValue&&fd[b.value]&&(!c||c&&Gc)?fd[b.value]:b.value;a=b.justString?c:l.wrapStringData(b,c);"undefined"!==typeof b.hideWhenValue&&c===b.hideWhenValue&&(a="");return a},imageData:function(b){var a;b.value&&(b.returnImageTag?(a={elementName:b.elementname,
hide:b.hide,src:b.value},b.classes&&(a.classes=b.classes),b.elementId&&(a.elementId=b.elementId),a=l.createImage(a)):a=b.value);return a}},html:{anchor:function(b){return b=""+l.createAnchor(b)},textarea:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createTextarea(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},select:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createSelect(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},multi:function(b,a){var c=
"",d,e=r(b.value)?b.value:"string"===typeof b.value?b.value.split(","):[],f=b.options.length,g=0;for(d=e.length;g<d;g++)e[g]=e[g].toString();b.type="elementCollection";c+=l.wrapFormItemStart(b);c+=l.createLabel(b);for(g=0;g<f;g++)d=b.options[g],d.value="undefined"===typeof d.value?"":d.value.toString(),d.label="undefined"===typeof d.label?"":d.label.toString(),d.value=d.value||d.label,d.label=d.label||d.value,c+=this.input({elementName:b.elementName,type:a,elementId:b.elementName+"_"+d.value+"_"+
g,name:b.name,value:d.value,collection:!0,label:d.label,checked:C(e,d.value)}),p.push({elementName:b.elementName+"_"+d.value+"_"+g,handler:function(a,c){return function(){for(var d=h(this),e=document.getElementById(d+"form_collection_"+b.elementName),e=Z("capture_form_item_"+b.elementName,e),d=document.getElementById(d+"form_item_"+b.elementName+"_"+a+"_"+c),i=0,o=e.length;i<o;i++)k(e[i]).remove("capture_toggled");d&&k(d).append("capture_toggled")}}(d.value,g),eventType:"click"});c+=l.createTip(b);
return c+=l.wrapFormItemEnd(b)},multiCheckbox:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},multiRadio:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},input:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createInput(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},button:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createButton(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},form:function(b){var a=
"<form ",c="object"===typeof b.elementAttributes?b.elementAttributes:{},d=b.localFieldPrefix||N,e=b.classes||[];e.indexOf("capture_form"===-1)&&e.push("capture_form");e.indexOf(-1==="capture_"+b.elementName)&&e.push("capture_"+b.elementName);a+="id='"+d+b.elementName+"' ";a+=sd(c)+" ";a+="name='"+b.elementName+"' ";a+="data-capturefield='"+b.name+"' ";a+="action='"+janrain.settings.capture.captureServer+"/"+b.action+"' ";r(e)&&(a+="class='"+e.join(" ")+"' ");var a=a+"method='POST' novalidate='novalidate' "+
("data-transactionId='"+b.transactionId+"' "),a=a+("target='captureIFrame_"+b.transactionId+"' "),a=a+"accept-charset='UTF-8' >"+('<div id="'+d+b.elementName+'_defaultSavedProfileMessage"></div>'),a=a+('<div id="'+d+b.elementName+'_errorMessages"></div>'),f="";if(b.errors){janrain.events.onCaptureFormError.fire(b.errors);for(var g in b.errors)b.errors.hasOwnProperty(g)&&(f+=l.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),f+=b.errors[g]+"</div>")}p.push({handler:function(){D(b.transactionId)},
eventType:"render"});p.push({handler:function(){var a=document.getElementById(d+b.elementName);if(!a)return!1;var c=Z("capture_form_error_container",a),c=c.length?c[0]:document.getElementById(d+b.elementName+"_errorMessages");f?(c.innerHTML=f,k(a).append("capture_form_level_error")):c.innerHTML=""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,h;for(h in c)c.hasOwnProperty(h)&&(a+=
l.createInput({elementName:h,type:"hidden",value:c[h]}))}a+=l.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});F&&(a+=l.createInput({elementName:"bp_channel",elementId:"bp_channel"+b.transactionId,type:"hidden",value:F}));Fb&&(a+=l.createInput({elementName:"flow_path",elementId:"flow_path_"+b.transactionId,type:"hidden",value:Fb}));n&&n.mergeToken&&(a+=l.createInput({elementName:"merge_token",elementId:"merge_token_"+b.transactionId,type:"hidden",value:n.mergeToken}));$a?a+=l.createInput({elementName:"access_token",
elementId:"accessToken_"+b.transactionId,classes:["capture_accessToken"],type:"hidden",value:$a}):b&&b.action&&!C(Vc,b.action)&&ha&&(a+=l.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,classes:["capture_accessToken"],type:"hidden",value:ha}));fa&&(a+=l.createInput({elementName:"capture_screen",elementId:"screen_"+b.transactionId,type:"hidden",value:fa}));Qc&&(a+=l.createInput({elementName:"js_version",elementId:"js_version_"+b.transactionId,type:"hidden",value:Qc}));
b.serverNextScreen&&(a+=l.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+b.transactionId,type:"hidden",value:b.serverNextScreen}));if(b.engageTokenRequired||ed)a+=l.createInput({elementName:"token",elementId:"token_"+b.transactionId,type:"hidden",value:ab});a+=l.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+b.transactionId,type:"hidden",value:b.transactionId});a+=l.createInput({elementName:"form",elementId:"form_"+b.transactionId,type:"hidden",
value:b.name});a+=l.createInput({elementName:"flow",elementId:"flow_"+b.transactionId,type:"hidden",value:n.flow});a+=l.createInput({elementName:"client_id",elementId:"client_id_"+b.transactionId,type:"hidden",value:janrain.settings.capture.clientId});a+=l.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+b.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});a+=l.createInput({elementName:"response_type",elementId:"response_type_"+b.transactionId,type:"hidden",
value:janrain.settings.capture.responseType});a+=l.createInput({elementName:"flow_version",elementId:"flow_version_"+b.transactionId,type:"hidden",value:ob});a+=l.createInput({elementName:"locale",elementId:"locale_"+b.transactionId,type:"hidden",value:vc});l.domHelpers.createIFrame(b.transactionId,d+b.elementName);!1!==b.listenToFields&&p.push({handler:function(){var a=document.getElementById(d+b.elementName);a&&(v(a,"keyup",function(a){(8==a.keyCode||46==a.keyCode)&&W(a)}),v(a,"keypress",function(a){(a.charCode||
a.keyCode)&&W(a)}),v(a,"change",W),a.addEventListener?(a.addEventListener("focus",va,!0),a.addEventListener("blur",Xb,!0)):"object"===typeof window.attachEvent&&(a.attachEvent("onfocusin",va),a.attachEvent("onfocusout",Xb)))},eventType:"render"});return a},div:function(a){return l.createDiv(a)},close:function(a){return"capture"===a.element?"photoManager"===a.type?"</div>":"":"</"+a.element+">"}},capture:{table:function(a){var c='<table class="capture_table">',d=ga.prototype.render.html;if(a.th.display){var c=
c+"<tr>",e;for(e in a.th.cols)c+="<th>"+a.th.cols[e]+"</th>";c+="</tr>"}for(var f in a.rows){var c=c+"<tr>",g;for(g in a.rows[f].cells)a.rows[f].cells[g].type&&"radio"===a.rows[f].cells[g].type?(e=a.rows[f].cells[g],e.name="table",a.value&&e.elementValue===a.value[e.rendererChildFieldName]&&(e.checked=!0),c+="<td>",c+=l.wrapFormItemStart(a),c+=d.input(e),c+=l.wrapFormItemEnd(a),c+="</td>"):c+="<td>"+a.rows[f].cells[g]+"</td>";c+="</tr>"}return c+"</table>"},countrySelect:function(a){a.customText||
(a.customText={});a.options=[{text:a.customText.countryLabel||"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},
{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",
value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",
value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},
{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},
{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},
{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},
{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",
value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},
{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",
value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},
{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},
{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",
value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",
value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",
value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",
value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return ga.prototype.render.html.select(a)},stateSelect:function(a){a.customText||(a.customText={});var c=[{text:a.customText.stateLabel||"state",value:"",disabled:!0}],c=a.noCanadianProvinces?c.concat(Be):c.concat(Be,Re);a.options=c;return ga.prototype.render.html.select(a)},keepMeLoggedIn:function(a){var c=
a.fieldPrefix||N,a=""+l.createInput({label:a.label||"Keep me logged in",type:"checkbox",name:a.name,justElement:!0,value:"yes",checked:a.checked||!1,elementName:"capture_keep_me_logged_in"});p.push({elementName:"capture_keep_me_logged_in",handler:function(){loggedInElement=document.getElementById(c+"capture_keep_me_logged_in");janrain.engage.signin.appendTokenParams({keepMeLoggedIn:loggedInElement.checked},!0,!0)},eventType:"render"});p.push({elementName:"capture_keep_me_logged_in",handler:function(a){a=
L(a);janrain.engage.signin.appendTokenParams({keepMeLoggedIn:a.checked},!0,!0)},eventType:"click"});return a},captcha:function(a){var c="http:"===document.location.protocol?"http://www.google.com/recaptcha/api/js/recaptcha_ajax.js":"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js";Sc||Aa(c,function(){Sc=!0});p.push({elementName:a.name,handler:function(){function a(){if("undefined"===typeof Recaptcha)setTimeout(a,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");
Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});c=""+l.wrapFormItemStart(a);a.label&&(c+=l.createLabel(a));c=c+'<div id="recaptcha_container"></div>'+l.createTip(a);return c+=l.wrapFormItemEnd(a)},mergeAccounts:function(a,c){var c=c?K.parse(c):{custom:!1},d=ga.prototype.render,e=a.value,f="";e.existing_provider="legacy"===e.existing_provider?"email":e.existing_provider;
a.customText||(a.customText={});var g=a.customText.connectRadio||'Connect this session with your existing account. <span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',h=a.customText.connectLegacyRadio||'Connect this session with your existing account <span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',
l=a.customText.createRadio||"Create a new account using {| current_provider |} sign-in.",n=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",j=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',r=a.customText.moreInfo||"More Info ?",q=a.customText.createButton||
"Create",s=a.customText.connectButton||"Connect";e.connectRadioText=U(e,g);e.connectLegacyRadioText=U(e,h);e.createRadioText=U(e,l);e.foundExistingAccountText=U(e,n);e.moreInfoHoverText=U(e,j);e.moreInfoText=U(e,r);e.createButtonText=U(e,q);e.connectButtonText=U(e,s);e.connect_button=d.html.button({elementContent:'<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+e.existing_provider.toLowerCase()+'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+
e.current_provider.toLowerCase()+'"></span>'+s,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});e.create_button=d.html.button({elementContent:q,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});e.merge_radio=d.html.multiRadio({element:"multiRadio",value:[1],elementName:a.name+"_mergeRadio",classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===e.existing_provider?
U(e,h):U(e,g),value:1},{label:l,value:2}]});e.rendered_current_photo=e.current_photo?'<img src="'+e.current_photo+'" height="25" width="25" />':"";e.rendered_existing_provider_photo=e.existing_provider_photo?'<div class="capture_icon_col"><img src="'+e.existing_provider_photo+'" height="25" width="25" /></div>':"";e.current_provider_lowerCase=e.current_provider.toLowerCase();e.existing_provider_lowerCase=e.existing_provider.toLowerCase();c.custom?p.push({handler:function(){var c=document.getElementById(a.name);
c.innerHTML=U(e,c.innerHTML)},eventType:"render"}):f+=U(e,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}          </div>         <span class="capture_mergeProvider janrain-provider-icon-24 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
p.push({elementName:a.name+"_connectButton",handler:function(){"email"===e.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(vd=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(e.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});p.push({elementName:a.name+"_createButton",handler:function(){bd?m():(wc=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});p.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(N+a.name+"_connectButton").style.display="";document.getElementById(N+a.name+"_createButton").style.display="none";k(document.getElementById(N+"form_item_"+a.name+"_mergeRadio_1_0")).append("capture_toggled");k(document.getElementById(N+"form_item_"+a.name+"_mergeRadio_2_1")).remove("capture_toggled")},eventType:"click"});p.push({elementName:a.name+
"_mergeRadio_2_1",handler:function(){document.getElementById(N+a.name+"_connectButton").style.display="none";document.getElementById(N+a.name+"_createButton").style.display="";k(document.getElementById(N+"form_item_"+a.name+"_mergeRadio_2_1")).append("capture_toggled");k(document.getElementById(N+"form_item_"+a.name+"_mergeRadio_1_0")).remove("capture_toggled")},eventType:"click"});return f},publicProfileLink:function(a,c){var d="",e=c?K.parse(c).elementHref:a.elementHref;a.elementAttributes="object"===
typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=e+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return d+=l.createAnchor(a)},linkAccounts:function(a){function c(d){var e=a.value.providers[d],i=a.value.displayNames[d],f=a.value.identifiers[d],o=a.value.prettyProviders?a.value.prettyProviders[d]:e,g;g='<li class="capture_provider_linked"><span class="'+("janrain-provider-icon-"+m+" janrain-provider-icon-"+
e+(a.customIcons?"-custom":"")+'">');g+='</span><span class="';var h=i&&"null"!==i.toLowerCase(),l=/\{\|\s*displayName\s*\|}/.test(a.displayFormat),i=h||!l?U({provider:o,displayName:i},a.displayFormat):o;g+="janrain-provider-text-"+e+(a.customIcons?"-custom":"")+'">'+i+"</span>";if(Vd||0!==d)g+='<span tabindex="0" class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+e+'" data-captureidentifier="'+f+'"></span>';return g+"</li>"}a.value||(a.value=
{});a.customText||(a.customText={});var d=fa,e=a.fieldPrefix||N,f='<div class="capture_linkAccounts" id="'+e+a.name+'_currentlinkedaccounts">',g=n.fields[a.linkAccountContainer].elementName||n.fields[a.linkAccountContainer].name||a.linkAccountContainer,h=a.customText.linkAnotherAccount||"Link account",l=r(a.value.providers)?a.value.providers.length:0,k=e+a.name+"_linkaccountsscreen",m=a.providerIconSize&&C(Qe,a.providerIconSize)?a.providerIconSize:16,f=f+('<ul class="capture_provider" id="'+e+a.name+
'_linkedproviderlist">');if(!a.customAddLinks)for(var j=0;j<l;j++)f+=c(j);if(a.customAddLinks){j=0;for(h=a.customProviders.length;j<h;j++)C(a.value.providers,a.customProviders[j])?(l=a.value.providers.indexOf(a.customProviders[j]),f+=c(l)):(f+='<li tabindex="0" class="capture_custom_add_linkedaccount" data-captureprovider="'+a.customProviders[j]+'">',f+=U({provider:a.customProviders[j]},a.customAddLinkFormat)+"</li>");p.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Ub.linkWithCustomLink(a,
d)},eventType:"click"});p.push({elementName:a.name+"_linkedproviderlist",handler:function(a){Ub.linkWithCustomLink(a,d)},eventType:"keypress"})}else f+='<li class="capture_linkAccount"><a href="#" id="'+e+a.name+'_linknewlink">'+h+"</a></li>";f+="</ul></div>";p.push({elementName:a.name+"_linknewlink",handler:function(a){Ub.openInModal(a,d,k)},eventType:"click"});p.push({elementName:a.name+"_currentlinkedaccounts",handler:function(c){Ub.unLinkAccount(c,a,d)},eventType:"keypress"});p.push({elementName:a.name+
"_currentlinkedaccounts",handler:function(c){Ub.unLinkAccount(c,a,d)},eventType:"click"});f=f+'<div style="display: none;">'+('<div id="'+k+'"')+' class="janrain-capture-ui capture-ui-content capture_addLinkedAccount';Yb&&(f+=" janrain-capture-ui-mobile");f=f+'">'+('<div id="'+e+a.name+'_linkAccountContainerContainer">');f+="</div></div></div>";a.customAddLinks||p.push({handler:function(){Ub.renderHandler(e+g,e+a.name+"_linkAccountContainerContainer")},eventType:"render"});return f},errorMessages:function(){var a;
a=""+ga.prototype.render.html.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+ga.prototype.render.html.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c=
"",c="";a.value.firstname&&(c+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&!a.hideMiddlename&&(c+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(c+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+a.value.lastname+"</span>");return c=a.justString?c:l.wrapStringData(a,c,"capture_stringdata_nameBlock")},
nameFull:function(a){var c,d=ga.prototype.render.html;c='<div class="capture_form_item capture_nameBlock">'+d.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:
""});a.hideMiddlename||(c+=d.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""}));c+=d.input({elementName:a.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",type:"text",rendererFieldName:a.name,
rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return c+"</div>"},multipurposeAuth:function(a){var c;a.type="text";c=""+l.wrapFormItemStart(a);c+=l.createInput(a);c+=l.wrapFormItemEnd(a);l.attachFieldEventHandlers(a);a.type="multipurposeAuth";return c},dateselect_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic||!a.value||!a.value.dateselect_month||!a.value.dateselect_year||
!a.value.dateselect_day)return"";var c="",c="",d,c=parseInt(a.value.dateselect_month,10);d=parseInt(a.value.dateselect_year,10);var e=parseInt(a.value.dateselect_day,10);a.format?(c=new Date(d,c-1,e),d=a.format,c=mb(d,c,{monthNames:a.monthNames,dayNames:a.dayNames})):c=c+"/"+e+"/"+d;return c=a.justString?c:l.wrapStringData(a,c,"capture_stringdata_dateselectBlock")},dateselect:function(a){function c(d){d=L(d);d=h(d);d=document.getElementById(d+"form_item_"+a.elementName);k(d).append("capture_focused").remove("capture_error");
janrain.events.onCaptureContentChange.fire()}function d(c){var e=L(c),i=h(e),i=document.getElementById(i+"form_item_"+a.elementName);k(i).remove("capture_focused");ja(e,a)&&yb(c)}a.customText||(a.customText={});var e=a.customText.dayLabelDateSelect||"day",g=a.customText.monthLabelDateSelect||"month",m=a.customText.yearLabelDateSelect||"year",n=ue;a.monthNames&&r(a.monthNames)&&12===a.monthNames.length&&(n=a.monthNames);var j=a.fieldPrefix||N,ma='<div id="'+j+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',
q,u,t,v=r(a.format)&&3===a.format.length?a.format:["month","day","year"],z=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):"",w=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"",x=a.value&&a.value.dateselect_month?parseInt(a.value.dateselect_month):"",g=[{text:g,value:"",disabled:!0},{text:n[0],value:1},{text:n[1],value:2},{text:n[2],value:3},{text:n[3],value:4},{text:n[4],value:5},{text:n[5],value:6},{text:n[6],value:7},{text:n[7],value:8},{text:n[8],value:9},
{text:n[9],value:10},{text:n[10],value:11},{text:n[11],value:12}],n=a.monthStart||1,y=a.monthEnd||13,B=a.dayStart||1,C=a.dayEnd||31,A=a.yearStart||1929,D=a.yearEnd||(new Date).getFullYear();t={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],justElement:!0,value:x,options:g.slice(0,1).concat(g.slice(n,y))};u={elementName:a.name+"[dateselect_day]",elementId:a.name+
"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:z,options:f(B,C,"asc",e)};A=parseInt(A,10);D=parseInt(D,10);q={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],value:w,options:f(A,D,"desc",m)};for(e=0;3>e;e++){var E;switch(v[e]){case "month":E=t;break;case "day":E=
u;break;case "year":E=q}0===e&&(E.label=a.label);2===e&&(E.publicPrivateToggle=a.publicPrivateToggle,E.displayPublic=a.displayPublic,E.tip=a.tip,E.justElement=!1);ma+=l.createSelect(E)}if(a.datePicker){var H,v=new Date(x+"/"+z+"/"+w),F;F=isNaN(v.getMonth())?{provideOpenButton:!0}:{provideOpenButton:!0,defaultDate:v,preSelectedDate:v};Ba(F,a.datePickerSettings||{});p.push({elementName:q.elementName,eventType:"render",handler:function(){var a=document.getElementById(j+t.elementId),b=document.getElementById(j+
u.elementId),c=document.getElementById(j+q.elementId);F.elementAttachedTo=c.parentNode;F.extraTargetElements=[a,b,c];F.callback=function(d){a.value=d.getMonth()+1;c.value=d.getFullYear();b.value=d.getDate();la(a);la(b);la(c);k(a).remove("capture_disabled");k(c).remove("capture_disabled");k(b).remove("capture_disabled");c.focus();c.blur()};H=new G(F)}});var I=function(){if("undefined"!==typeof H){var a=document.getElementById(j+t.elementId),b=document.getElementById(j+u.elementId),c=document.getElementById(j+
q.elementId),d=new Date;d.setFullYear(c.value);d.setMonth(a.value-1);d.setDate(b.value);H.setSelectedDate(d)}};p.push({elementName:q.elementId,eventType:"change",handler:function(){I()}});p.push({elementName:t.elementId,eventType:"change",handler:function(){I()}});p.push({elementName:u.elementId,eventType:"change",handler:function(){I()}})}ma+="</div>";p.push({elementName:a.name+"_dateselectyear",handler:c,eventType:"focus"});p.push({elementName:a.name+"_dateselectyear",handler:d,eventType:"blur"});
p.push({elementName:a.name+"_dateselectday",handler:c,eventType:"focus"});p.push({elementName:a.name+"_dateselectday",handler:d,eventType:"blur"});p.push({elementName:a.name+"_dateselectmonth",handler:c,eventType:"focus"});p.push({elementName:a.name+"_dateselectmonth",handler:d,eventType:"blur"});return ma},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c="",c="";a.value.streetaddress&&(c+='<div class="capture_stringdata_addressBlock_streetaddress">'+
a.value.streetaddress+"</div>");a.value.streetaddress2&&(c+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(c+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&(c+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");
a.value.zippostalcode&&(c+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+="</div>";a.value.country&&(c+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return c=l.wrapStringData(a,c,"capture_stringdata_addressBlock")},addressFull:function(a){var c,d=ga.prototype.render.html;a.value||(a.value={});a.customText||(a.customText={});a.value.country||(a.value.country=
"United States");var e=a.customText.stateLabel||"state",f=a.customText.countryLabel||"country";c='<div class="capture_form_item capture_addressBlock">'+d.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:a.label||"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?
a.placeholder.streetaddress:""});c+=d.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});c+=d.input({elementName:a.name+"[city]",elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,
value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});c+=ga.prototype.render.capture.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",customText:{stateLabel:e},placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&
a.value.stateprovince?a.value.stateprovince:""});p.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});c+=d.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});c+=ga.prototype.render.capture.countrySelect({elementName:a.name+
"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],customText:{countryLabel:f},value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});p.push({elementName:a.name+"_country",handler:function(c){var c=L(c),c=h(c),d=this.options[this.selectedIndex].value||"",e=document.getElementById(c+a.name+"_stateprovince");"United States"===d||"Canada"===
d?document.getElementById(c+"form_item_"+a.name+"[stateprovince]").style.display="inline-block":(e.selectedIndex=0,document.getElementById(c+"form_item_"+a.name+"[stateprovince]").style.display="none")},eventType:"change"});return c+"</div>"},backButton:function(a){var c;a.type="button";a.elementContent='<span class="janrain-icon-16 janrain-icon-back"></span>';c=""+l.createButton(a);a.type="backButton";p.push({elementName:a.elementName,handler:function(){w=!1;var a=yc.pop();a&&(a.flow.oneTimeRender=
void 0,janrain.capture.ui.render(a.flow,a.values))},eventType:"click"});return c},partial:function(a){var c=document.getElementById(a.layout);if(c)return c.innerHTML;throw X(a.layout);},photoManager:function(a,c){function e(c){jc=!1;var i=document.getElementById(t+a.name+"_profile_pic_uploadform_container"),f=document.getElementById(t+a.name+"_upload_photo_form");document.createElement("div").appendChild(f);i.innerHTML="";var g=document.createElement("div");g.innerHTML=aa;var o=document.createElement("div");
o.innerHTML=ba;i.appendChild(g);i.appendChild(f);i.appendChild(o);d(document.getElementById(F));i=document.getElementById(t+"photo_chooser");v(i,"change",Y);var h=janrain.events.onModalClose.addHandler(function(){jc=!0;janrain.events.onModalClose.removeHandler(h)});c&&P(c)}function f(c){if(0<parseInt(c.unscaled.width)){wb=c;var d=c.unscaled.height/c.sizedHeight,e=Math.round(z/(c.unscaled.width/c.sizedWidth)),i=document.getElementById(t+a.name+"_profile_pic_image_edit"),d=Math.round(w/d);"none"===
i.style.display&&(i.style.display="block");i.style.width=e+"px";i.style.height=d+"px";i.style.marginLeft="-"+Math.round(c.unscaled.left/c.sizedWidth*e)+"px";i.style.marginTop="-"+Math.round(c.unscaled.top/c.sizedHeight*d)+"px"}}function g(){if(B)return!1;var c=document.getElementById(t+a.name+"_profile_pic_image_edit_crop");crop(c,f,y,x,function(){janrain.events.onCaptureContentChange.fire()});c.style.display="inline";B=!0}function k(){setTimeout(function(){"function"!==typeof crop?Aa("//d16s8pqtk4uodx.cloudfront.net/crop/crop.js",
g):setTimeout(g,50)},500)}function m(a){if(!wb)return!1;L(a);var a=wb.sizedWidth/wb.originalWidth,b=wb.sizedHeight/wb.originalHeight;document.getElementById(t+"width").value=Math.round(wb.unscaled.width/a);document.getElementById(t+"height").value=Math.round(wb.unscaled.height/b);document.getElementById(t+"x").value=Math.round(wb.unscaled.left/a);document.getElementById(t+"y").value=Math.round(wb.unscaled.top/b)}function n(a){"undefined"===typeof a&&(a=0);var b=document.getElementById("janrainModal");
if(null===b||"none"===b.style.display){k();jc=!1;d(document.getElementById(H));var c=janrain.events.onModalClose.addHandler(function(){jc=!0;janrain.events.onModalClose.removeHandler(c)})}else 20>a&&setTimeout(function(){n(a+1)},100)}var c=c?K.parse(c):{custom:!1},j={};if(r(a.value)&&a.value.length){Ja={};for(var q=0,s=a.value.length;q<s;q++)Ja[a.value[q].type]=a.value[q]}else Ja=!1;var q=l.createDiv({elementName:a.elementName+"_parent"}),u=fa,t=a.fieldPrefix||N,s=ga.prototype.render.html,z=a.previewSizeWidth||
100,w=a.previewSizeHeight||100,x=a.originalMaxWidth||450,y=a.originalMaxHeight||450,B=!1,A="object"===typeof Ja,E=A?"":"capture_profile_pic ",F=t+a.name+"_uploadphotoscreen",H=t+a.name+"_editphotoscreen";if(A&&Ja.original)var I=-1<Ja.original.value.indexOf("?")?"&":"?";j.profilePicClass=E;j.uploadPhotoScreenId=F;j.editPhotoScreenId=H;var z=parseInt(z,10),w=parseInt(w,10),x=parseInt(x,10),y=parseInt(y,10),G={elementName:a.elementName};A&&Ja.large&&(G.classes=["capture_userphoto"]);j.mainDiv=l.createDiv(G);
j.closeDiv="</div>";a.customText||(a.customText={});var G=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",M=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",O=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",Q=a.customText.removePhotoLinkPhotoManager||"Remove photo",R=a.customText.editPhotoLinkPhotoManager||"Edit photo",S=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo",T=a.customText.editPhotoButtonTextPhotoManager||
"Save",V=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",W=a.customText.removePhotoButtonTextPhotoManager||"Remove",X=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",aa=a.customText.uploadNewPhotoInstructionPhotoManager||"",ba=a.customText.uploadNextStepInstructionPhotoManager||"",ca=a.customText.editPhotoPreviewTitlePhotoManager||"";j.editProfilePhotoTitle=a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo";j.editProfileInstruction=M;j.profilePhotoTitle=G;j.prefixFieldName=
t+a.name;j.editPhotoPreviewTitle=ca;Wb(document.getElementById(F));Wb(document.getElementById(H));j.profileImage='<div id="'+t+a.name+'_profile_pic" class="'+E+"capture_profile_pic_display"+(A?"":" capture_default")+'">';A&&Ja.large&&(j.profileImage+=l.createImage({src:Ja.large.value,imageId:a.name+"_profile_pic_image"}));j.profileImage+="</div>";j.photoLinks=l.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:O,anchorHref:"#",anchorClasses:["capture_upload_photo_link"],
anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:R,anchorHref:"#",anchorClasses:["capture_edit_photo_link"],anchorId:"edit_photo_link",hide:!A},{listItemId:"remove_photo",listItemClasses:[],anchorText:Q,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!A}],["options"]);j.uploadImage=A&&Ja.large?l.createImage({src:Ja.large.value,imageId:a.name+"_profile_pic_image_upload"}):"";j.editImage=A&&Ja.original?l.createImage({src:Ja.original.value+
I+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit"}):"";j.cropImage=A&&Ja.original?l.createImage({src:Ja.original.value+I+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}):"";j.photoChooserErrors=l.createDiv({elementId:"photo_chooser_errors",classes:["capture_photo_chooser_form_error"]});j.photoChooserErrors+="</div>";var Z=ya();l.domHelpers.createIFrame(Z,a.name+"_upload_photo_form");j.uploadFormOpen=s.form({action:"widget/photo/upload_photo.jsonp",
elementAttributes:{enctype:"multipart/form-data"},transactionId:Z,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form",listenToFields:!1});j.uploadFileField=l.createInput({elementName:"photo",elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});j.uploadSubmitButton=l.createInput({elementName:"photo_submit",elementId:"photo_submit",value:V,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});j.uploadFormClose=
"</form>";var $=ya();l.domHelpers.createIFrame($,a.name+"_crop_photo_form");j.editFormOpen=s.form({action:"widget/photo/crop_photo.jsonp",transactionId:$,name:a.name+"_crop_photo_form",elementName:a.name+"_crop_photo_form",listenToFields:!1});j.editFormOpen+=l.createDiv({elementName:"",classes:["capture_popup-arrow"],type:"div"});j.editFormOpen+="</div>";j.editFormOpen+=l.createInput({elementName:"width",elementId:"width",justElement:!0,type:"hidden"});j.editFormOpen+=l.createInput({elementName:"height",
elementId:"height",justElement:!0,type:"hidden"});j.editFormOpen+=l.createInput({elementName:"x",elementId:"x",justElement:!0,type:"hidden"});j.editFormOpen+=l.createInput({elementName:"y",elementId:"y",justElement:!0,type:"hidden"});j.editSubmitButton=l.createInput({elementName:"edit_photo_submit",elementId:"edit_photo_submit",value:T,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});j.editFormClose="</form>";j.chooseDifferentPhotoLink=l.createAnchor({elementHref:"#",elementText:S,
elementId:a.name+"_different_photo_link"});c.custom?p.push({handler:function(){var c=document.getElementById(t+a.name+"_parent");c.innerHTML=U(j,c.innerHTML);p.push({elementName:a.name+"_upload_photo_form",handler:gb,eventType:"submit"});p.push({elementName:a.name+"_crop_photo_form",handler:gb,eventType:"submit"});D(Z);D($)},eventType:"render"}):(q+=U(j,'{| mainDiv |}      {| profileImage |}     {| photoLinks |}     &nbsp;  {| closeDiv |}  <\!-- hidden crop form --\> <div style="display: none;">     {| editFormOpen |}     <div class="capture_footer">         {| chooseDifferentPhotoLink |}         {| editSubmitButton |}     </div>     {| editFormClose |} </div>  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>{| photoChooserErrors |}         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div>  <\!-- hidden edit photo screen --\> <div style="display: none;">     <div id="{| editPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| editProfilePhotoTitle |}</h1>         </div>         <div class="{| profilePicClass |}profile_pic_edit_container">             <h2>{| editPhotoPreviewTitle |}</h2>             <div id="{| prefixFieldName |}_profile_pic_edit" class="{| profilePicClass |}capture_profile_pic_edit capture_default">                 {| editImage |}                 &nbsp;             </div>         </div>         <div id="{| prefixFieldName |}_profile_pic_editPhoto_container" class="capture_editPhoto_container">             <h2>{| editProfileInstruction |}</h2>             {| cropImage |}         </div>     </div> </div> '),
q+="</div>",p.push({elementName:a.name+"_upload_photo_form",handler:gb,eventType:"submit"}),p.push({elementName:a.name+"_crop_photo_form",handler:gb,eventType:"submit"}),D(Z),D($));p.push({eventType:"render",handler:function(){var c=document.getElementById(t+a.name+"_different_photo_link");v(c,"click",e);c=document.getElementById(t+a.name+"_crop_photo_form");document.getElementById(t+a.name+"_profile_pic_editPhoto_container").appendChild(c);v(c,"submit",m)}});p.push({elementName:"upload_photo_link",
handler:e,eventType:"click"});janrain.settings.capture.editPhotoAfterUpload&&janrain.events.onCapturePhotoUploadSuccess.addHandler(function(){B=!1;n()});p.push({elementName:"edit_photo_link",handler:function(a){n();P(a)},eventType:"click"});p.push({elementName:"remove_photo_link",handler:function(a){var b=L(a),c=h(b);if(!document.getElementById(c+"remove_photo_contain")){var d=l.domHelpers.createDiv({elementId:"remove_photo_contain",fieldPrefix:c,classes:["capture_popup_container pad"]}),b=l.domHelpers.createAnchor({elementHref:"#",
fieldPrefix:c,elementText:W,elementId:"confirm_remove_photo_link"}),e=l.domHelpers.createAnchor({elementHref:"#",fieldPrefix:c,elementId:"cancel_remove_photo_link",elementText:X});d.innerHTML='<div class="capture_popup-arrow"></div><p>Can&#39;t Be Undone</p>';d.appendChild(b);d.appendChild(e);document.getElementById(c+"remove_photo").appendChild(d);var i=function(a){var b=[c+"createFormAndPostSubmit",c+"confirm_remove_photo_link",c+"remove_photo_link"],e=L(a).getAttribute("id")||"";!C(b,L(a).getAttribute("id"))&&
0>e.indexOf(c+"createFormAndPostSubmit_")&&(d.innerHTML="",Wb(d),Bb(document,"click",i),P(a))};v(e,"click",i);v(document,"click",i);v(b,"click",function(a){l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:c,captureScreen:u,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});P(a)});P(a)}},eventType:"click"});return q},datePicker:function(a){var c="",d={provideOpenButton:!0};a.type="text";Ba(d,a.settings||
{});c+=l.wrapFormItemStart(a);c+=l.createInput(a);c+=l.wrapFormItemEnd(a);p.push({elementName:a.elementName,eventType:"render",handler:function(a){a=document.getElementById(a);d.targetElement=a;new G(d)}});l.attachFieldEventHandlers(a);a.type="datePicker";return c},slider:function(a){if(a.publicDisplay&&"undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c=l.createDiv({elementName:"slider capture_form_item"}),d=ga.prototype.render.html,e=a.fieldPrefix||N,f="initialPosition"in a?
a.initialPosition:0,g=a.value&&0<=a.value.score?a.value.score:f,c=c+("<label>"+a.label+"</label>"),c=c+l.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),c=c+l.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),c=c+l.createDiv({elementName:a.elementName+"_marker",classes:["capture_slider_marker"]}),c=c+'</div></div><div class="capture_slider_list"><ul>',f=0,h;for(;h=a.legend_items[f];f++)c+="<li>"+h+"</li> ";c+="</ul></div></div>";
a.publicPrivateToggle&&(c+=l.createPublicPrivateToggle(a));c+=d.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&0<=a.value.score?a.value.score:"initialValue"in a?a.initialValue:""});c+="</div>";p.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(e+a.elementName+"_marker").style.left=(0<=
g?g:"initialPosition"in a?a.initialPosition:0)+"%"}});if(!0===a.enabled){var j=!1;p.push({elementName:a.elementName+"_marker",eventType:he,handler:function(c){j=!0;var d=document.getElementById(e+a.elementName+"_base"),i=document.getElementById(e+a.elementName+"_score"),d=d.getBoundingClientRect(),f=d.width?d.width:d.right-d.left,d=new Od;d.setElement(document.getElementById(e+a.elementName+"_marker")).setElementBoundary(document.getElementById(e+a.elementName+"_container")).setCallback(function(a){i.value=
Math.round(100*(a.pos_x/f));la(i)}).drag(c);Pd.push(d);gd&&clearTimeout(gd)}});p.push({elementName:a.elementName+"_marker",eventType:hd,handler:function(){var c=document.getElementById(e+a.elementName+"_marker"),d=document.getElementById(e+a.elementName+"_base"),i=document.getElementById(e+a.elementName+"_score"),c=parseInt(oe(c.id,"left")),d=d.getBoundingClientRect();i.value=Math.round(100*(c/(d.width?d.width:d.right-d.left)))}});p.push({elementName:a.elementName+"_container",eventType:"mouseover",
handler:function(){document.getElementById(e+a.elementName+"_container").style.cursor="pointer"}});p.push({elementName:a.elementName+"_container",eventType:"click",handler:function(c){if(!0===j)j=!1;else{var d=document.getElementById(e+a.elementName+"_marker"),i=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),g=i.getBoundingClientRect(),o=g.width?g.width:g.right-g.left,h=c.clientX-ze(i).x,c=parseInt(oe(d.id,"left")),c=isNaN(c)?0:c;(new Od).setElement(d).setAcceleration("sinusoidal").setDuration(500).startPosition(c).endPosition(h).setDirection("horizontal").setCallback(function(){f.value=
Math.round(100*(h/o));la(f)}).animate()}}})}return c},radioCollection:function(a){for(var c=a.fieldPrefix||N,d=l.createDiv({elementName:a.elementName,classes:a.classes||""}),e=0;e<a.collection.length;e++)d+="<div class='capture_radio_toggle",d+=(0===e?" capture_toggled":"")+"'>",d+="<input type='radio' id='"+c+"radio_"+a.collection[e].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",d+="<label ",d+="class='capture_radio_label' ",d+=
"for='"+c+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",d+="</label></div>",p.push({elementName:"radio_"+a.collection[e].elementName,handler:function(c){Ya(c,a)},eventType:"click"});l.autoSelectPreferredTab(a,"radio");return d+"</div>"},tabCollection:function(a){for(var c,d=[],e=l.createDiv({elementName:a.elementName,classes:a.classes||""}),f=0;f<a.collection.length;f++)c={},c.listItemId="tab_li_"+a.collection[f].elementName,c.listItemClasses=["capture_tab_toggle"],0===f&&c.listItemClasses.push("capture_toggled"),
c.anchorId="tab_"+a.collection[f].elementName,c.anchorText=a.collection[f].label,c.anchorHref="#",d.push(c),p.push({elementName:"tab_"+a.collection[f].elementName,handler:function(c){Ya(c,a)},eventType:"click"});l.autoSelectPreferredTab(a,"tab");e+=l.createListOfLinks(d,["capture_tabs"]);return e+"</div>"},newsletterSubscriptions:function(a){var c="",d=a.startHTML||"",e=a.endHTML||"",f=a.delimiter||"",g=r(a.value)?a.value:[],h="capture_newsletter_checkbox"+(r(a.classes)?" "+a.classes.join(" "):""),
j=g.length,k=(a.fieldPrefix||N)+"form_item_"+a.elementName,m,n,q;if(0<j){c+=l.wrapFormItemStart(a);c+=l.createLabel(a);c+=d;for(d=0;d<j;++d)q=g[d],m=q.display_name||"",n="","active"===q.status&&(n='checked="checked"'),c+='<label><input type="checkbox" class="'+h+'" data-subId="'+q.list_id+'" '+n+">"+m+"</label>"+f;f&&(c=c.slice(0,-f.length));c=c+e+l.createTip(a);c+=l.wrapFormItemEnd(a);p.push({handler:function(){for(var a=Z("capture_newsletter_checkbox",document.getElementById(k)),b=0,c=a.length;b<
c;++b)v(a[b],"change",function(a){var b=L(a),a=b.getAttribute("data-subId"),c=b.checked?"active":"inactive",b=ya(),a=sa({list_id:a,token:ha,subscription_status:c,capture_transactionId:b});Ka("/widget/update_subscription.jsonp",a);ua(b)})},eventType:"render"})}return c},pluralIterator:function(a){var c="",d="",e=a.format||"",f=a.startHTML||"",g=a.endHTML||"",h=a.delimiter||"",j="undefined"===typeof a.emptyMessage?"There are no "+a.schemaId+".":a.emptyMessage,a=r(a.value)?a.value:[],k=a.length;if(0===
k)return j;for(j=0;j<k;++j)d+=U(a[j],e)+h;h&&(d=d.slice(0,-h.length));d&&(c+=f+d+g);return c},datetime_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c,d,e,f=a.format||"{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}",g=(new Date).getFullYear(),h="01",j="01",k="NA",m="NA",n="NA",p;if("undefined"===typeof a.value||""===a.value)return"";c=a.value.split(" ");d=c.length;for(p=0;p<d;++p)e=c[p].split("-"),3===e.length?(g=e[0],h=e[1],j=e[2]):(e=c[p].split(":"),
3===e.length?(k=e[0],m=e[1],n=e[2].split(".")[0]):(e=c[p].split("/"),3===e.length&&(g=e[0],h=e[1],j=e[2])));c=new Date;"NA"!==k||"NA"!==m||"NA"!==n?(c.setUTCHours(k),c.setUTCMinutes(m),c.setUTCSeconds(n),c.setUTCMilliseconds(0),c.setUTCMonth(h-1),c.setUTCDate(j),c.setUTCFullYear(g)):(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),c.setMonth(h-1),c.setDate(j),c.setFullYear(g));return"[object Date]"!==Object.prototype.toString.call(c)||isNaN(c.getTime())?a.value:a.justString?mb(f,
c,{monthNames:a.monthNames,dayNames:a.dayNames}):l.wrapStringData(a,mb(f,c,{monthNames:a.monthNames,dayNames:a.dayNames}))}},widget:{login:function(){p.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),b=document.getElementById(N+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=ya();janrain.engage.signin.appendTokenParams({capture_transactionId:c},!0,!0)}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):
(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());be||pb()},eventType:"render"});var a=l.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(a,c){c=c?K.parse(c):{text:"Share"};p.push({elementName:"share_widget",eventType:"click",handler:function(){janrain.engage.share.show()}});var d=l.createDiv({elementName:"share_widget",classes:["share_widget"]});
return d+=c.text+" </div>"}}};var Fe=function(){function a(b,c,d){b={required:b,type:c};return"object"===typeof d?Ba(b,d):b}function c(d,e){return a(!0,d,e)}function d(c,e){return a(!1,c,e)}function e(a,b){ka(g,function(c,d){ka(d,function(d,e){a.call(b,c,d,e)})})}var f={name:c("string"),elementName:c("string"),value:d("array",{subtype:"string"}),options:c("array",{subtype:"object",subtypeDefinition:{value:d("string"),label:d("string")}})},g={data:{engageCookieData:{name:"Engage Cookie Data",definition:{cookieName:c("string")}},
localStorageData:{name:"Local Storage Data",definition:{fieldPrefix:d("string"),elementId:d("string"),elementName:c("string"),classes:d("array",{subtype:"string"}),data:c("string")}},stringData:{name:"String Data",definition:{displayPublic:c("boolean"),value:d("string"),displaySavedValue:d("boolean"),justString:d("boolean"),hideWhenValue:d("string")}},imageData:{name:"Image Data",definition:{value:c("string"),returnImageTag:d("boolean"),elementName:d("string"),hide:d("boolean"),classes:d("array",
{subtype:"string"}),elementId:d("string")}}},html:{anchor:{name:"HTML Anchor",definition:{elementClasses:d("array",{subtype:"string"}),elementText:c("text"),fieldPrefix:d("string"),elementHref:c("string"),elementName:c("string"),target:d("string"),name:c("string")}},textarea:{name:"Text Area",definition:{elementClasses:d("array",{subtype:"string"}),fieldPrefix:d("string"),elementId:d("string"),rows:d("number"),name:c("string"),placeholder:d("string"),value:d("text"),publicPrivateToggle:d("boolean")}},
select:{name:"Select",definition:{elementClasses:d("array",{subtype:"string"}),fieldPrefix:d("string"),rendererFieldName:d("string"),rendererChildFieldName:d("string"),dontShowTip:d("boolean"),showFieldWhere:d("string"),name:c("string"),elementName:c("string"),options:c("array",{subtype:"object",subtypeDefinition:{text:c("string"),value:d("string")}}),publicPrivateToggle:d("boolean")}},multi:{name:"Mutli",definition:f},multiCheckbox:{name:"Checkboxes",definition:f},multiRadio:{name:"Radio Buttons",
definition:f},input:{name:"Input",definition:{type:c("string"),fieldPrefix:d("string"),elementId:d("string"),elementName:c("string"),justElement:d("boolean"),collection:d("boolean"),rendererFieldName:d("string"),rendererChildFieldName:d("string"),hide:d("boolean"),elementValue:d("string"),value:d("string"),placeholder:d("string"),checked:d("boolean"),modify:d("boolean"),publicPrivateToggle:d("boolean"),profileStoragePath:d("boolean")}},button:{name:"Button",definition:{fieldPrefix:d("string"),elementId:d("string"),
elementName:c("string"),elementClasses:d("array",{subtype:"string"}),type:d("string"),hide:d("boolean"),name:c("string"),value:d("string"),elementContent:d("string"),modify:d("boolean")}},form:{name:"Form",definition:{elementAttributes:d("object",{subtype:"string"}),localFieldPrefix:d("string"),classes:d("array",{subtype:"string"}),action:c("string"),transactionId:c("string"),serverNextScreen:d("boolean"),hideOnSubmit:d("boolean"),engageTokenRequired:d("boolean")}},div:{name:"Div",definition:{fieldPrefix:d("string"),
elementId:d("string"),elementName:c("string"),elementAttributes:d("object",{subtype:"string"}),classes:d("array",{subtype:"string"}),type:d("string"),name:c("string"),elementText:c("text")}},close:{name:"Close",definition:{element:c("string"),type:d("string")}}},capture:{table:{name:"Table",definition:{th:c("object",{definition:{display:d("boolean"),cols:d("array",{subtype:"string"})}}),rows:c("array",{subtype:"object",subtypeDefinition:{cells:c("array",{subtype:"object",subtypeDefinition:{elementValue:"string"}})}})}},
countrySelect:{name:"Country Select",definition:{customText:d("object",{definition:{countryLabel:d("string")}})}},stateSelect:{name:"State Select",definition:{customText:c("object",{definition:{stateLabel:d("string")}}),noCanadianProvinces:d("boolean")}},keepMeLoggedIn:{name:"Keep Me Logged In",definition:{fieldPrefix:c("boolean"),label:d("string"),name:c("string"),checked:d("boolean")}},captcha:{name:"CAPTCHA",definition:{name:c("string"),label:d("string")}},mergeAccounts:{name:"Merge Accounts",
definition:{value:c("string"),customText:d("object",{subtype:"string",definition:{connectRadio:d("string"),connecetLegacyRadio:d("string"),createRadio:d("string"),foundExistingAccount:d("string"),moreInfoHover:d("string"),moreInfo:d("string"),createButton:d("string"),connectButton:d("string")}}),name:c("string"),traditionalMergeScreen:c("string")}},publicProfileLink:{name:"Public Profile Link",definition:{elementHref:d("string"),elementAttributes:d("object",{subtype:"string"}),addUUIDToLink:d("boolean")}},
linkAccounts:{name:"Link Accounts",definition:{value:d("object",{definition:{providers:c("array",{subtype:"string"}),displayNames:c("array",{subtype:"string"}),identifiers:c("array",{subtype:"string"}),prettyProviders:c("array",{subtype:"string"}),customProviders:c("array",{subtype:"string"})}}),customText:d("object",{subtype:"string"}),fieldPrefix:d("string"),name:d("string"),linkAccountContainer:c("string"),providerIconSize:d("number"),displayFormatKnown:d("string"),customIcons:d("boolean"),customAddLinks:d("boolean"),
customAddLinkFormat:d("string")}},errorMessages:{name:"Error Messages",definition:{}},savedProfileMessage:{name:"Saved Profile Message",definition:{}},nameFull_public:{name:"Name Full Public",definition:{displayPublic:c("boolean"),justString:d("boolean"),value:c("object",{definition:{firstname:d("string"),middlename:d("string"),lastname:d("string")}})}},nameFull:{name:"Name Full",definition:{name:c("string"),publicPrivateToggle:c("boolean"),displayPublic:c("boolean"),value:d("object",{definition:{firstname:d("string"),
middlename:d("string"),lastname:d("string")}}),placeholder:d("object",{definition:{firstname:d("string"),middlename:d("string"),lastname:d("string")}})}},dateselect_public:{name:"Date Select Public",definition:{displayPublic:c("boolean"),justString:d("boolean"),format:d("string"),value:c("object",{definition:{dateselect_year:c("number"),dateselect_month:c("number"),dateselect_day:c("number")}})}},dateselect:{name:"Date Select",definition:{customText:d("object",{definition:{yearLabelDateSelect:d("string"),
monthLabelDateSelect:d("string"),dayLabelDateSelect:d("string"),fieldPrefix:d("string"),name:c("string"),format:d("array",{subtype:"string"}),monthStart:d("number"),monthEnd:d("number"),dayStart:d("number"),dayEnd:d("number"),yearStart:d("number"),yearEnd:d("number"),label:d("string"),publicPrivateToggle:d("boolean"),displayPublic:c("boolean"),tip:d("string"),datePickerSettings:d("object"),elementName:c("string")}})}},addressFull_public:{name:"Address Full Public",definition:{displayPublic:d("boolean"),
value:c("object",{definition:{streetaddress:d("string"),streetaddress2:d("string"),stateprovince:d("string"),zippostalcode:d("string"),country:d("string"),city:d("string")}})}},addressFull:{name:"Address Full",definition:{name:c("string"),publicPrivateToggle:d("boolean"),displayPublic:d("boolean"),value:d("object",{definition:{streetaddress:d("string"),streetaddress2:d("string"),stateprovince:d("string"),zippostalcode:d("string"),country:d("string"),city:d("string")}}),customText:d("object",{definition:{stateLabel:d("string"),
countryLabel:d("string")}}),placeholder:d("object",{definition:{streetaddress:d("string"),streetaddress2:d("string"),stateprovince:d("string"),zippostalcode:d("string"),country:d("string"),city:d("string")}})}},backButton:{name:"Back Button",definition:null},partial:{name:"Partial",definition:{layout:c("string")}},photoManager:{name:"Photo Manager",definition:{elementName:c("string"),fieldPrefix:d("string"),previewSizeWidth:d("number"),previewSizeHeight:d("number"),originalMaxWidth:d("number"),originalMaxHeight:d("number"),
name:c("string"),value:d("array",{subtype:"object",subtypeDefinition:{type:c("string")}}),customText:d("object",{definition:{profilePhotoTitlePhotoManager:d("string"),editProfilePhotoTitlePhotoManager:d("string"),editProfileInstructionPhotoManager:d("string"),chooseNewPhotoLinkPhotoManager:d("string"),removePhotoLinkPhotoManager:d("string"),editPhotoLinkPhotoManager:d("string"),chooseDifferentPhotoLinkPhotoManager:d("string"),editPhotoButtonTextPhotoManager:d("string"),uploadPhotoButtonTextPhotoManager:d("string"),
removePhotoButtonTextPhotoManager:d("string"),removePhotoCancelButtonTextPhotoManager:d("string"),uploadNewPhotoInstructionPhotoManager:d("string"),uploadNextStepInstructionPhotoManager:d("string"),editPhotoPreviewTitlePhotoManager:d("string")}})}},datePicker:{name:"Date Picker",definition:{monthPreviousText:d("string"),monthNextText:d("string"),openOnTargetElementFocus:d("boolean"),provideOpenButton:d("boolean"),hasCloseButton:d("boolean"),minimumSelectableDate:d("string"),maximumSelectableDate:d("string"),
monthAndYearSelectable:d("boolean"),defaultDate:d("string"),arrowKeyNavigation:d("boolean"),format:d("string"),calendarTitleFormat:d("string"),monthNames:d("array",{subtype:"string"}),weekStartsOnMonday:d("boolean"),daysOfWeek:d("array",{subtype:"string"}),additionalClasses:d("array",{subtype:"string"})}},slider:{name:"Slider",definition:{publicDisplay:d("boolean"),displayPublic:d("boolean"),fieldPrefix:d("string"),initialPosition:d("number"),label:c("string"),elementName:c("string"),legend_items:c("array",
{subtype:"string"}),publicPrivateToggle:d("boolean"),enabled:d("boolean"),value:d("object",{definition:{score:d("number")}})}},radioCollection:{name:"Radio Collection",definition:{classes:d("string"),fieldPrefix:d("string"),elementName:d("string"),collection:c("array",{subtype:"object",subtypeDefinition:{elementName:c("string")}})}},tabCollection:{name:"Tab Collection",definition:{classes:d("string"),elementName:d("string"),collection:c("array",{subtype:"object",subtypeDefinition:{elementName:c("string")}})}},
newsletterSubscriptions:{name:"Newsletter Subscriptions",definition:{format:d("string"),startHTML:d("string"),endHTML:d("string"),delimiter:d("string"),value:d("array",{subtype:"string"}),classes:d("array",{subtype:"string"}),fieldPrefix:d("string"),elementName:c("string")}},pluralIterator:{name:"Plural Iterator",definition:{format:d("string"),startHMTL:d("string"),endHTML:d("string"),delimiter:d("string"),emptyMessage:d("string"),value:d("array",{subtype:"object"})}},datetime_public:{name:"Date Time Public",
definition:{displayPublic:d("boolean"),format:d("string"),value:d("string"),justString:d("boolean")}}},widget:{login:{name:"Login Widget",definition:{}},share:{name:"Share Widget",definition:{}}}},h=[];e(function(a,b){h.push(a+"."+b)});var j=g,f=j.capture,j=j.html;f.dateselect.definition.customText.definition.datePickerSettings=f.datePicker.definition;f.backButton.definition=Ba({},j.button.definition);e(function(a,b,c){c.path=a+"."+b;c.group=a;c.name=b;Ba(c.definition,{schemaId:d("string"),label:d("string"),
tip:d("string")});"html"===a?c.definition.element=b:(c.definition.element=a,c.definition.type=b)});return{listComponents:function(){return h},componentDefinition:function(a){0>a.indexOf(".")&&(a="html."+a);return fb(g,a)}}}(),ce=!0,na={},Ub={addCustomLink:function(a,c,d){var e=c.fieldPrefix||N,f=document.createElement("li");f.className="capture_custom_add_linkedaccount";f.setAttribute("data-captureprovider",a);f.innerHTML=U({provider:a},c.customAddLinkFormat);d&&d.parentNode?d.parentNode.insertBefore(f,
d):document.getElementById(e+c.name+"_linkedproviderlist").appendChild(f)},unLinkAccountSuccessCallback:function(a,c){janrain.events.onCaptureProfileUnlink.fire({provider:c});var d=a.value.providers.indexOf(c);ka(a.value,function(a,b){r(b)&&b.splice(d,1)})},unLinkAccount:function(a,c,d){P(a);if(!("keypress"===a.type&&a.keyCode!==Ab)){var e=L(a);if(k(e).has("capture_remove_linkedaccount")){var f=this.completeUnLinkAccount;c.confirmRemoval?("undefined"===typeof Zc&&(Zc=new Ne,Zc.setTitle(Da.confirmRemoveLinkedTitle||
"Remove Linked Account?").setMessage(Da.confirmRemoveLinkedMessage||"Are you sure you want to remove this linked account?").setButtons(Da.confirmRemoveLinkedNoText||"Cancel",Da.confirmRemoveLinkedYesText||"Yes").setCallback(function(a){1===a.index&&f(e,c,d);Zc.close()})),Zc.open()):f(e,c,d)}}},completeUnLinkAccount:function(a,c,d){var e=a.getAttribute("data-captureidentifier"),f=a.getAttribute("data-captureprovider");c.customAddLinks&&Ub.addCustomLink(f,c,a.parentNode);Wb(a.parentNode);l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+
"/widget/profile.jsonp",elementId:"getUserData_form",fieldPrefix:c.fieldPrefix||N,captureScreen:d,needsResponse:!0,callback:function(){Ub.unLinkAccountSuccessCallback(c,f)},fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:e},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:e}]})},openInModal:function(a,c,e){janrain.engage&&janrain.engage.signin&&(janrain.engage.signin.setNoReturnExperience(!0),janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:c},
!0));d(document.getElementById(e));P(a)},linkWithCustomLink:function(a,c){if(!("keypress"===a.type&&a.keyCode!=Ab)){var d=L(a),d=Eb(d,"li");k(d).has("capture_custom_add_linkedaccount")&&(d=d.getAttribute("data-captureprovider"),janrain.engage&&janrain.engage.signin&&(janrain.engage.signin.setNoReturnExperience(!0),janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:c},!0),janrain.engage.signin.triggerFlow(d)))}},renderHandler:function(a,c){var d=document.getElementById(a);document.getElementById(c).appendChild(d)}},
jc=!0,De=0,Ee,gd=0,ee=0,Id=janrain.settings.capture.autoSaveUpdateInterval||1E4,Jd=janrain.settings.capture.autoSaveDelay||janrain.settings.capture.autoSaveInterval||1E4;Ce=function(a){if(janrain.settings.capture.redirectFlow){var c=Oa();ua(c.capture_transactionId);c.flow=janrain.settings.capture.flowName;delete c.token;a&&(c.capture_screen=fa,c.engage_add_account=!0,c.access_token=ha);a=a?"/widget/profile":"/widget/token_url";c=Kc(c);return janrain.settings.capture.captureServer+a+c}};dc("accessDenied",
"capture_access","Sorry. Access denied.");dc("retrievingUserData","capture_retrieving","Please wait while we retrieve your user data.");dc("dialog","capture_dialog","",{layout:"captureDialogBuiltIn",modal:!0,modalLoadOnLoad:!0,source:"server"});var Nd=[],ge={};return{modal:{close:function(){"object"==typeof y&&y.close()},closeConfirm:function(){"object"==typeof y&&y.closeConfirm()},open:function(a){ac=!0;var c=a||ba.flow.defaultScreen;if("object"==typeof y&&(a&&janrain.capture.ui.renderScreen(c),
a=ba.div))y.setShowContentOnLoad(!0),y.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof y&&(y.setBorder(a),y.refresh({center:!0}));return!0},setBorderColor:function(a){"object"===typeof y&&(y.setBorderColor(a),y.refresh());return!0},setBorderOpacity:function(a){"object"===typeof y&&(y.setBorderOpacity(a),y.refresh());return!0},setBorderRadius:function(a){"object"==typeof y&&(y.setBorderRadius(a),y.refresh());return!0},setOverlayZIndex:function(a){"object"==
typeof y&&(y.setZIndex(a),y.refresh());return!0}},start:function(a,c){e(a,c)},hasActiveSession:function(){return!!ha},renderComponent:kb().renderField,listComponents:Fe.listComponents,componentDefinition:Fe.componentDefinition,render:function(b,c){var d=b;Ae&&"object"===typeof janrain.settings.capture.flowInjection&&(d=we(d,janrain.settings.capture.flowInjection));Pb||(Pb=a());d.i18nStrings&&(Da=d.i18nStrings);Da.validatingText&&(Uc=Da.validatingText);if(d.version)ob=d.version;else throw Error("MissingVersionError: Missing version.");
zc(d);var e=d;Vd=e.hasTraditionalAccount;db=e.form;if(Vd)for(var e=Z("janrain_traditional_account_only"),f=e.length,g=0;g<f;g++)e[g].style.display="block";kc(d);d=new kb;e=!1;bd&&ed&&(e=janrain.settings.capture.registerFlow||"socialRegister");e=n.oneTimeRender||e||janrain.settings.capture.screenToRender||n.defaultScreen;d.setScreenData(e,n.screens[e]);if(c)for(var h in c)c[h].id&&c[h].value&&(d=document.getElementById(c[h].id),d.value=c[h].value,"radio"===c[h].type&&(d.checked=c[h].checked,c[h].checked&&
d.click()))},renderScreen:function(a,c){w=!1;c||yc.push(ba);(new kb).setScreenData(a,n.screens[a])},setHandler:function(a,c,d){this.setFieldAttribute(a,c+"Handler",d)},setFieldAttribute:function(a,c,d){ad.push({field:a,attribute:c,value:d})},setRenderer:function(a,c,d){ga.prototype.render[a].helpers=de;ga.prototype.render[a][c]=d},setValidator:function(a,c){R.prototype[a]=c},registerFunction:function(a,c){ge[a]=c},addRenderer:function(a,c,d){this.setRenderer(a,c,d)},trackLoadedCssFiles:function(a){Gd.push(a)},
handleCaptureUniqueResponse:function(a){Ic(a)},handleCaptureResponse:function(a,c){x(a,c)},handleErrorResponse:function(a,c){janrain.events.onCaptureError.fire("object"===typeof a?a:"{"+a+"}");if(a.result&&a.result.error&&("access_token_expired"===a.result.error&&(jb(),janrain.events.onCaptureExpiredToken.fire()),"invalid_argument"===a.result.error&&"malformed access token"===a.result.errorDescription&&(jb(),janrain.events.onCaptureInvalidToken.fire()),"linkError"===a.result.error)){var d=Jc("linkAccounts"),
e=d.length?d[0]:{},d=e.messages&&e.messages.errors&&e.messages.errors.linkError?e.messages.errors.linkError:"That account is already in use.",f=E().getCookie("expected_tab");if(y&&y.isOpen()&&(e=e&&e.linkAccountContainer?Z("capture_"+e.linkAccountContainer,document.getElementById("janrainModal")):!1))for(var e=Z("capture_form_error_container",e[0]),g=0,h=e.length;g<h;g++)e[g].innerHTML='<div class="capture_form_error">'+d+"</div>";janrain.events.onCaptureLinkAccountError.fire({message:d,provider:f})}d=
a.result.customError||a.result.error+": "+a.result.errorDescription;f=a.result.error;I&&(e={classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()},f&&e.classes.push("capture_errortype_"+f.replace(/ /g,"").toLowerCase()),f=l.domHelpers.createDiv(e),f.innerHTML=d,I.insertBefore(f,I.firstChild),janrain.events.onCaptureContentChange.fire());I||alert(d);aa(a);"function"===typeof c&&c()},createCaptureSession:function(a){La(a)},endCaptureSession:function(){jb()},addTransactionIds:function(a){Rb(a)},
getFailedLogins:function(){return uc},setCustomHtml:function(a,c){Bc(a,c)},getEngageCookie:function(a){return qc(a)},getProfileCookieData:function(a,c){return Wc(a,c)},getReturnExperienceData:function(a,c){return Lc(a,c)},federateLogoutCallbackFired:function(a,c){C(xd,a)||(xd.push(a),c())},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);Tb(a.transactionId);Sb();Ia=!0},federateSetLoginSuccess:function(a){a&&a.transactionId&&sb&&sb[a.transactionId]&&(sb[a.transactionId].setLoginSuccess=
!0,sb[a.transactionId].eventFiredDueToSlowResponse||Cc(a.transactionId))},federateRefreshToken:function(a){a&&"ok"===a.stat&&(La(a.accessToken,!1,!0),Na())},scriptLoader:function(a,c){return Kd(a,c)},noop:function(){},validationHandler:function(a){var c=document.getElementById(a.elementId),d=new l.validation;d.setParentDiv(c);d.setElement(c);d.valid();a.valid?d.valid():d.notValid(a.reason)},setNoReturnExperience:function(){var a=new E;a.setUseLocalStorage(!0).setName("janrainLastAuthMethod");a.remove();
janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);$c&&janrain.capture.ui.renderScreen($c)},getPublicProfile:function(a,c){rc(a,c)},activateCaptureControl:function(a){Qa(a)},postCaptureForm:function(a,c){if(!a)throw Error("postCaptureForm requires you supply a form name.");var d=n.fields[a];if(!d)throw Error("postCaptureForm Error: no form called "+a+" found in the flow.");if(!d.element||"form"!==d.element)throw Error("postCaptureForm Error: the field called "+
a+" found in the flow is not a form.");var e=d.fields;if(!e)throw Error("postCaptureForm Error: the form called "+a+" has no fields defined.");for(var f=d.action,d=ia(40),f={fieldPrefix:"capture_postForm_"+d+"_",elementId:a,name:a,fields:[],elementAction:janrain.settings.capture.captureServer+"/"+f,needsResponse:!0},g=0,h=e.length;g<h;g++){var j=n.fields[e[g]],k={};if(c)k.elementValue=c[e[g]];else{var m=Pb.getByName(e[g]);k.elementValue=m?m.getValue():void 0}if(void 0===k.elementValue&&j.validation&&
!0===j.validation.required)throw Error("postCaptureForm: a required value was not supplied "+e[g]);k.elementType="hidden";k.fieldPrefix=f.fieldPrefix;k.elementId=e[g]+"_"+d;k.elementName=k.name=e[g];f.fields.push(k)}l.domHelpers.createFormAndPost(f)}}};return{engage:{signin:"loaded"===fb(janrain,"engage.signin.status")?janrain.engage.signin:Ve,share:"loaded"===fb(janrain,"engage.share.status")?janrain.engage.share:We,publish:"loaded"===fb(janrain,"engage.publish.status")?janrain.engage.publish:Xe,
simpleshare:"loaded"===fb(janrain,"engage.simpleshare.status")?janrain.engage.simpleshare:Ye},capture:{ui:Ze}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;