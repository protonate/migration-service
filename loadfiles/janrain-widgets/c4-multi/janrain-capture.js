/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: master
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var Ta,pa;function mc(){return"http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.0.15/":"https://d3hmp0045zy3cs.cloudfront.net/2.0.15/"}function Dc(b,e,c){var g;if(document.getElementById(b))return!1;if(j){g="";var l=document.createElement("div");l.innerHTML=g+"<iframe "+('name="'+b+'" ')+('id="'+b+'" ')+('src="'+e+'" ')+'style="display: none;"></iframe>';document.body.appendChild(l)}else g=document.createElement("iframe"),g.setAttribute("name",b),g.id=b,
g.setAttribute("src",e),g.style.display="none",g.className="",document.body.appendChild(g);"function"===typeof c&&c()}function nc(b){for(var e="",e="",c=0;c<b;c++)e+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return e}function Hb(){function b(b,c,g,e){c={action:b,key:c,messageId:g};"set"===b&&(c.value=e);return"janrainCapture:"+M.stringify(c)}function e(b,c){function g(){e++;if(10<e)return!1;if("undefined"!==typeof z[b])return clearTimeout(i),"get"===z[b].action&&
"function"===typeof c&&c(z[b].storedValue),!0;var i=setTimeout(g,50)}var e=0;g()}function c(c,g){_xdomainStorageIframeLoaded;var i=nc(40);window.setTimeout(function(){d.contentWindow.postMessage(b("get",c,i),oc)});return e(i,g)}function g(b,e){if(i)_xdomainStorageIframeLoaded?c(b,e):setTimeout(function(){g(b,e)},50);else return window.localStorage.getItem(b)}function l(b){if(0!==b.data.indexOf("janrainCapture:")||!x(ha,b.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;b=M.parse(b.data.replace("janrainCapture:",
""));z[b.messageId]=b}var i=!1,z={},d,oc,ha=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,g){if(i){var l=nc(40);window.setTimeout(function(){d.contentWindow.postMessage(b("set",c,l,g),oc)});return e(l)}return window.localStorage.setItem(c,g)},removeItem:function(c){if(i){var g=nc(40);window.setTimeout(function(){d.contentWindow.postMessage(b("remove",c,g),oc)});return e(g)}return window.localStorage.removeItem(c)},getItem:g,
setMultiDomain:function(b){if(i=b)window.addEventListener?window.addEventListener("message",l,!1):window.attachEvent?window.attachEvent("onmessage",l):document.attachEvent&&document.attachEvent("onmessage",l),d=document.getElementById("xDomainLocalStorageJanrain"),oc=janrain.settings.storageServerDomain}}}function N(){function b(){if(l&&Ib){var b=new Hb;b.setMultiDomain(janrain.settings.multiDomainLocalStorage);b.removeItem(g);b.removeItem(g+"_Expires")}else{var b=z?"; domain="+z:"",c=new Date;c.setTime(c.getTime()+
-864E6);document.cookie=g+"="+i+";expires="+c.toUTCString()+b+"; path="+d}}function e(c,e){var i,d,z,B,j;if(l&&Ib)if(j=new Hb,janrain.settings.multiDomainLocalStorage)j.setMultiDomain(!0),j.getItem(c,function(i){i?j.getItem(c+"_Expires",function(p){p?Math.round((new Date).getTime()/1E3)>Math.round((new Date(p)).getTime()/1E3)?(g=c,b(),"function"===typeof e&&e(!1)):"function"===typeof e&&e(i):(new N).getCookie(c+"_session")?"function"===typeof e&&e(i):(g=c,b())}):"function"===typeof e&&e(!1)});else if(B=
j.getItem(c),i=j.getItem(c+"_Expires"),B){if(!(i&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(i)).getTime()/1E3))&&(i||(new N).getCookie(c+"_session")))return B;g=c;b()}else return!1;else{i=document.cookie.split(";");d=i.length;for(var Lc=0;Lc<d;Lc++)if(z=i.pop(),B=z.split("="),z=B[0],B=B[1],z.trim()===c)return B;return!1}}var c,g,l=!1,i,z,d="/";return{create:function(){if(l&&Ib){var b=new Hb;b.setMultiDomain(janrain.settings.multiDomainLocalStorage);b.setItem(g,i);c?b.setItem(g+"_Expires",
c):(new N).setName(g+"_session").setValue("session").create()}else document.cookie=g+"="+i+(c?"; expires="+c:"")+(z?"; domain="+z:"")+"; path="+d},remove:b,setExpirationDirectly:function(b){b&&(c=b);return this},setExpiration:function(b){if(b){var e=new Date;e.setTime(e.getTime()+864E5*b);c=e.toUTCString()}return this},setName:function(b){b&&(g=b);return this},setValue:function(b){"undefined"!==typeof b&&(i=b);return this},setUseLocalStorage:function(b){l=b;return this},setPath:function(b){b&&(d=
b);return this},setDomain:function(b){b&&(z=b);return this},getCookie:function(b,c){return e(b,c)}}}function Jb(){return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(Aa)?parseFloat(RegExp.$1):!1}function ob(){var b;return Aa&&(b=Aa.match(/(\d)[\d.]+ Safari/))&&b[1]?1*b[1]:0}function ob(){return!/Chrome\//.test(Aa)&&/Safari\//.test(Aa)}function ia(b,e,c,g,l,i){"number"===typeof c&&"number"===typeof g&&"number"===typeof l&&"number"===typeof i?("undefined"!==
typeof b.style.borderRadius&&(b.style.borderRadius=c+"px "+g+"px "+l+"px "+i+"px"),"undefined"!==typeof b.style.MozBorderRadius&&(b.style.MozBorderRadius=c+"px "+g+"px "+l+"px "+i+"px"),"undefined"!==typeof b.style.webkitBorderRadius&&(b.style.webkitBorderRadius=c+"px "+g+"px "+l+"px "+i+"px")):("undefined"!==typeof b.style.borderRadius&&(b.style.borderRadius=e+"px"),"undefined"!==typeof b.style.MozBorderRadius&&(b.style.MozBorderRadius=e+"px"),"undefined"!==typeof b.style.webkitBorderRadius&&(b.style.webkitBorderRadius=
e+"px"));return b}function Kb(b,e){if("undefined"===typeof b||"undefined"===typeof e)return!1;var c=b-e;0>c&&(c=0);c>b&&(c=b);return c}function Wb(b,e){if(j&&9>=j)return b.style.backgroundImage="url('"+pb("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;if(ob()&&4>=ob()||qa.getMobileDevice()){var c="",g="",l="",i=e.split(","),z={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};i[0]&&z[i[0]]&&(c=z[i[0]]);i[1]&&(g="from("+
i[1]+")");i[i.length-1]&&(l="to("+i[i.length-1]+")");b.style.backgroundImage="-webkit-gradient(linear,"+c+","+g+","+l+")"}b.style.backgroundImage="-moz-linear-gradient("+e+")";b.style.backgroundImage="-webkit-linear-gradient("+e+")";b.style.backgroundImage="-ms-linear-gradient("+e+")";b.style.backgroundImage="-o-linear-gradient("+e+")";b.style.backgroundImage="linear-gradient("+e+")"}function cb(b,e,c,g){var l=Xb(c),i=Xb(c,g);if(c=Xc(c))c.a=g,i="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<e){b.style.backgroundColor=
l;b.style.padding=e+"px";if(0<j&&8>=j||j&&W)return!1;b.style.backgroundColor=i;b.style.padding=e+"px"}else b.style.backgroundColor="",b.style.padding="0px"}function Xc(b){var e={};if("string"!==typeof b||!b)return!1;b=b.replace(/\s+/g,"");b=b.replace(/,{2,}/g,",");b=b.replace(/[^\d.,]/g,"");b=b.split(",");if(3>b.length||4<b.length)return!1;e.r=b[0];e.g=b[1];e.b=b[2];e.a=b[3]?b[3]:1;return e}function Xb(b,e){var c=b.split("");if("#"!==c[0])return b;4===b.length&&(b=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);
var b=b.substring(1,7),c=parseInt(b.substring(0,2),16),g=parseInt(b.substring(2,4),16),l=parseInt(b.substring(4,6),16);return isNaN(e)?"rgb("+c+","+g+","+l+")":"rgba("+c+","+g+","+l+","+e+")"}function R(b,e,c){if(null==b)return!1;"object"===typeof window.attachEvent?b.attachEvent("on"+e,c):b.addEventListener(e,c,!1)}function pc(b,e,c){"object"===typeof window.detachEvent?b.detachEvent("on"+e,c):b.removeEventListener(e,c,!1)}function Yb(){var b,e;"undefined"!=typeof window.innerWidth?(b=window.innerWidth,
e=window.innerHeight):(b=document.documentElement.offsetWidth,e=document.documentElement.offsetHeight);return{width:b,height:e}}function Zb(){return document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop}function Ba(b){return{width:b.style&&b.style.width?parseInt(b.style.width):b.offsetWidth?parseInt(b.offsetWidth):0,height:b.style&&b.style.height?parseInt(b.style.height):b.offsetHeight?parseInt(b.offsetHeight):0}}function Mc(b,e){var c=
document.getElementById(b);if("object"===typeof c.currentStyle)var g=c.currentStyle[e];else window.getComputedStyle&&(g=document.defaultView.getComputedStyle(c,null).getPropertyValue(e));return g}function Q(b,e,c,g,l){var i=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,z=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;if("array"===b){if(!y(g))return l||A.log(g+" is wrong type, must be array, using default value instead"),c;if(e&&y(e))for(var d=0;d<g.length;d++)if(0>e.indexOf(g[d]))return l||
A.log(g+" is not within the valid range, using default value instead"),c;return g}if("url"===b){if("string"!==typeof g)return c;g&&(g=g.trim());if(/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(g))return g;l||A.log(g+" is not the valid format, using default value instead");return c}if("text"===b){if(e){if(0<=e.indexOf(g))return g;l||A.log('Value of "'+g+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return i.test(g)?g:c}if("usertext"===
b){if("string"!==typeof g&&"number"!==typeof g)return c;if(y(e)){if(1===e.length){if(g.length<=e[0])return g;l||A.log(g+" is too long, using default value instead");return c}if(2===e.length){if(g.length<=e[1]&&g.length>=e[0])return g;l||A.log(g+" is not within the valid range, using default value instead");return c}l||A.log("usertext range is invalid, using default value instead");return c}return g}"string"===typeof g&&0==g.length&&(g=" ");if(!i.test(g))return l||A.log(g+" contains invalid character(s)"),
c;if("boolean"===b){if("boolean"===typeof g)return g;l||A.log(g+" is wrong type, must be boolean, using default value instead");return c}if("text"===b)return g;if("number"===b){if(isNaN(parseInt(g)))return l||A.log(g+" is wrong type, must be a valid number"),c;g=parseFloat(g)}if("color"===b){g&&(g=g.trim());if("transparent"===g||z.test(g))return g;l||A.log('Value of "'+g+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof g!=b&&
"color"!=b)return l||A.log(g+" for "+arguments.callee.caller.name+" is "+typeof g+" expected "+b),c;if("object"===typeof e&&"string"===b){if(0<=e.indexOf(g))return g;l||A.log('Value of "'+g+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof e&&"number"===b){2===e.length?(i=e[0],z=e[1]):(i=e.shift(),z=e.pop(),d=e);if(g<i)return l||A.log("Value of "+g+" for "+arguments.callee.caller.name+" is below minimum of "+i+", using minimum value of "+
i+" instead"),i;if(g>z)return l||A.log("Value of "+g+" for "+arguments.callee.caller.name+" is above maximum of "+z+", using maximum value of "+z+" instead"),z;if(d&&"number"===typeof d.indexOf(g)||g==i||g==z)return g;return d?(l||A.log("Value of "+g+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):g}return 0!=g&&!g?c:g}function Ca(b){for(var e=Ca.options,b=e.parser[e.strictMode?"strict":"loose"].exec(b),c={},g=14;g--;)c[e.key[g]]=b[g]||"";c[e.q.name]=
{};c[e.key[12]].replace(e.q.parser,function(b,g,d){g&&(c[e.q.name][g]=d)});return c}function xa(b){return document.getElementById(H(b).getAttribute("id"))}function H(b){return b.target?b.target:b.srcElement}function qc(b,e){function c(b){G=!0;"undefined"!==typeof ha&&clearTimeout(ha);if("string"===typeof b)return"function"===typeof j&&j(b),!0;if("object"===typeof b||"undefined"===typeof b)return"object"===typeof b&&"error"===b.type?"function"===typeof j&&j(b):"function"===typeof d&&d(),!0}function g(){o++;
if(G)return!0;o<i?ha=setTimeout(g,50):c("Load Timeout Error")}var d=e,i=200,z=!1,j,o=0,ha,J=document.createElement("script"),wa=document.getElementsByTagName("script")[0],G=!1;J.src=b;J.setAttribute("type","text/javascript");J.onload=J.onerror=J.onreadystatechange=function(b){!G&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&c(b)};return{setTimeoutCallback:function(b){z=!0;j=b;return this},setCallback:function(b){d=b;return this},setTimeoutLimit:function(b){i=b;return this},
load:function(){wa.parentNode.insertBefore(J,wa);z&&g()}}}function ta(b,e){qc(b,e).load()}function Nc(b,e){j&&9>j&&$b(b,e)}function $b(b,e){function c(c){j=!1;"function"===typeof e&&e();janrain.events.onCssLoad.fire({source:b,noload:c})}function g(){if(j){for(ha=o.length;0<=--ha;)if(o[ha].href===i.href){c();break}z+=1;j&&(200>z?setTimeout(g,50):c(!0))}}function d(){var b;try{b=!!i.sheet.cssRules}catch(e){z+=1;200>z?setTimeout(d,50):b&&c(!0);return}c()}var i,z=0,j=!0,o=document.styleSheets,ha;"undefined"===
typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new $a);qb?(i=document.createElement("style"),i.innerHTML='@import "'+b+'";'):(i=document.createElement("link"),i.rel="stylesheet",i.href=b,i.type="text/css");ac||qb?(ac&&g(),qb&&d()):(i.onload=function(){c()},i.onerror=function(){c(!0)});document.getElementsByTagName("head")[0].appendChild(i)}function o(b){var e;e=b&&b.className?b.className.split(" "):[];return{append:function(c){-1===e.indexOf(c)&&(e.push(c),b&&(b.className=e.join(" ")));
return this},remove:function(c){-1!==e.indexOf(c)&&(e.splice([e.indexOf(c)],1),b&&(b.className=e.join(" ").trim()));return this},has:function(b){return-1!==e.indexOf(b)}}}function y(b){return"[object Array]"===Object.prototype.toString.call(b)}function x(b,e){return!y(b)?!1:-1<b.indexOf(e)}function Yc(b,e){for(var c in b)b.hasOwnProperty(c)&&e.call(b[c],c,b[c])}function Lb(b){b&&b.parentNode&&b.parentNode.removeChild(b)}function rb(b){var e="",c;for(c in b)e+="&"+encodeURIComponent(c)+"="+encodeURIComponent(b[c]);
return e="?"+e.substr(1)}function K(b){if(!b)return!1;if(b.preventDefault)b.preventDefault();else try{b.returnValue=!1}catch(e){}}function sb(b){if(!b)return!1;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function Zc(b){if(!b)return!1;var e=b.getElementsByTagName("input");e||(e=b.getElementsByTagName("button"));if(!e)return!1;for(var c=e.length,g=0;g<c;g++)if("submit"===e[g].type)return e[g];e=b.getElementsByTagName("button");for(g=0;g<c;g++)if("submit"===e[g].type)return e[g]}function rc(b){return!isNaN(parseFloat(b))&&
isFinite(b)}function Oc(b){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(b)){var e=b.split("/"),b=parseInt(e[1],10),c=parseInt(e[0],10),e=parseInt(e[2],10),g=new Date(e,c-1,b);return g.getFullYear()==e&&g.getMonth()==c-1&&g.getDate()==b?!0:!1}return!1}function ca(b,e){for(var c=e,g=/\{\|(.*?)\|\}/,d;d=g.exec(c);)try{var i=d[1].trim(),c=c.replace(d[0],"undefined"!==typeof b[i]?b[i]:"")}catch(z){return window.console&&window.console.log&&console.log(z.name+": "+z.message,"error"),!1}return c}function Pc(b,e){var c=
b.parentNode.nodeName.toLowerCase();return"body"===c?!1:b.nodeName.toLowerCase()===e.toLowerCase()?b:c===e.toLowerCase()?b.parentNode:Pc(b.parentNode,e)}function sc(b){var e=[],c;for(c in b)b.hasOwnProperty(c)&&e.push(c+'="'+b[c]+'"');return e.join(" ")}function tc(){function b(b){var b=b||"img",c=document.createElement(b);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===b?(c.setAttribute("href","#"),c.className="janrain_modal_closebutton",Ua&&(c.innerHTML=Ua)):(c.src=
ka,Z||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=ca?g:e;return c}function e(b){ma||(p.style.display="none",M.style.display="none",T.style.display="none");da&&qa.deactivate();("object"===typeof b||!b)&&janrain.events.onModalClose.fire();("object"===typeof b||!b)&&na.fire();"object"===typeof b&&K(b)}function c(){var b=document.createElement("div"),c=document.createElement("div"),g=document.createElement("a"),i=document.createElement("a"),d=document.createElement("h3");
g.innerHTML=Xa;i.innerHTML=Ja;d.innerHTML=ta;g.setAttribute("href","#");i.setAttribute("href","#");b.className="janrain_close_confirm_container";c.className="janrain_close_confirm";g.className="janrain_modal_confirm";i.className="janrain_modal_cancel";R(g,"click",function(b){e();p.removeChild(ya);ya=null;K(b)});R(i,"click",function(b){p.removeChild(ya);ya=null;K(b)});c.appendChild(d);c.appendChild(i);c.appendChild(g);b.appendChild(c);return b}function g(b){ya||(ya=c(),p.appendChild(ya));K(b)}function d(b){var c=
Zb(),g=Ba(b),e=-1*g.width/2,g=-1*g.height/2;b.style.left="50%";b.style.marginLeft=e+"px";b.style.marginTop=g+c+"px";b.style.top="50%";0>b.offsetLeft&&(b.style.left=0,b.style.marginLeft=0);0>b.offsetTop&&(b.style.marginTop=0,b.style.top="10px");e=Yb();T.style.height=e.height+c+"px";"absolute"!==b.style.position&&(b.style.position="absolute")}function i(){if(ma){var b=document.getElementById("previewMode");b.style.position="relative";b.appendChild(p)}else d(p);ma||A.show()}function z(b){Ka||(fa=Q("number",
[0,20],10,b),oa.fire({radius:Kb(ja,fa)}))}function o(b){Ka||(La=Q("color",null,"#000000",b))}function y(b){Ka||(ja=Q("number",[0,20],10,b),Va.fire({radius:Kb(ja,fa),refresh:!0}))}function ha(b){Ka||(za=Q("number",[0,1],0.5,b),"object"==typeof p&&cb(p,fa,La,za))}function J(b){if("portrait"===b){Da="portrait";var c="one column"}"landscape"===b&&(Da="landscape",c="two column");t.fire({orientation:Da,format:c,width:x,height:N});i()}function wa(b){b&&(ab=b);j&&W&&(ab+=fa-2);"object"==typeof p&&(p.style.width=
ab+"px");return this}function G(b){b&&(ga=b);j&&W&&(ga=ga+2*fa-4);b&&"object"==typeof p&&(p.style.height=ga+"px");return this}function B(){Ta>=pa&&"undefined"===typeof window.orientation?"landscape"!==Da&&J("landscape"):90===window.orientation||-90===window.orientation?"landscape"!==Da&&J("landscape"):"portrait"!==Da&&J("portrait");i()}function jb(){var b=p,c=Yb(),g=Zb();Ba(b);T.style.height=c.height+g+"px"}var x=380,N=131,p,Qc="janrainModal",M,T,H,ab=x,ga=N,fa=10,La="#000000",ja=10,za=0.5,ca=!1,
ka=pb("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),Ua="",Ka=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,Z=!1,ta="Are you sure you want to quit?",Xa="Yes, quit",Ja="No, stay",ya,Da="landscape",Y=!0,da="boolean"===typeof da?da:"number"===typeof window.orientation?!0:!1,ua="boolean"===typeof ua?ua:janrain.settings.previewMode,ma=ua,Ca=Ca||!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&(ka=janrain.settings.capture.modalCloseImage,
Z=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(Ua=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=U());window.janrain.events.onModalOpen||(window.janrain.events.onModalOpen=U());var na=U(),ra=U(),Va=U(),oa=U(),t=U();qa&&qa.onOrientationChange&&qa.onViewportChange&&(qa.onOrientationChange.addHandler(function(b){J(b.orientation)}),qa.onViewportChange.addHandler(function(){d(p)}));return{isOpen:function(){return"object"===
typeof p&&"none"!==p.style.display},setWidth:function(b){wa(b);return this},setHeight:function(b){G(b);return this},setBorder:function(b){("string"==typeof b||"number"==typeof b)&&z(b);Ka||"object"==typeof p&&cb(p,fa,La,za);return this},setBorderColor:function(b){b&&o(b);Ka||"object"==typeof p&&cb(p,fa,La,za);return this},setBorderRadius:function(b){("string"==typeof b||"number"==typeof b)&&y(b);Ka||"object"==typeof p&&ia(p,ja);return this},setBorderOpacity:function(b){("number"===typeof b||"string"===
typeof b)&&ha(b);return this},setZIndex:function(b){T.style.zIndex=b},setPreviewMode:function(b){"boolean"===typeof b&&(ma=b);return this},setId:function(b){Qc=b;p&&(p.id=b);return this},show:function(){da||(p.style.display="block");"object"==typeof M&&Y&&(M.style.display="block");ma?da&&(p.style.display="block"):(T.style.display="block",da?(qa.setElement(p).activate(),p.style.display="block"):(R(window,"resize",B),R(window,"resize",jb),R(window,"scroll",jb),B(),jb()));Ka||Va.fire({radius:Kb(ja,fa),
refresh:!1});ra.fire();janrain.events.onModalOpen.fire();p.focus()},close:function(b){e(b)},closeConfirm:function(){g()},refresh:function(){Ca||p.appendChild(H);i()},remove:function(){if(ma){var b=document.getElementById("previewMode");"object"===typeof H&&p.removeChild(H);"object"===typeof p&&b.removeChild(p);"object"===typeof T&&document.body.removeChild(T);if(b=document.getElementById("janrainEngageEmbed_old"))b.id="janrainEngageEmbed";T=p=""}else"object"===typeof H&&p.removeChild(H),"object"===
typeof T&&document.body.removeChild(T),"object"===typeof p&&document.body.removeChild(p)},addContent:function(c){M=c;if(!p){p=document.createElement("div");p.id=Qc;if("number"===typeof ab||"string"===typeof ab)p.style.width=ab+"px";p.style.height=ga+"px";p.style.position="absolute";Ka||(p.style.padding=fa+"px",ia(p,ja),cb(p,fa,La,za));p.style.zIndex=1E3;p.style.display="none";T=document.createElement("div");T.style.width="100%";T.style.left=0;T.style.top=0;T.style.backgroundColor="#000000";T.style.position=
"absolute";c=T;"undefined"!==typeof c.style.filter&&(c.style.filter="alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");T.style.display="none";T.style.zIndex=1E3;H=Ua?b("a"):b();p.appendChild(H);document.body.appendChild(T);document.body.appendChild(p)}p.appendChild(M);ma&&i();return this},getContent:function(){return M},getBorderWidth:function(){return fa},
getState:function(){return{borderWidth:fa,borderColor:La,borderRadius:ja,borderOpacity:za,orientation:Da}},setState:function(b){E("customizable_auth_widget_styling")&&("undefined"!==typeof b.borderWidth&&z(b.borderWidth),"undefined"!==typeof b.borderColor&&o(b.borderColor),"undefined"!==typeof b.borderOpacity&&ha(b.borderOpacity),"undefined"!==typeof b.orientation&&J(b.orientation),"undefined"!==typeof b.borderRadius&&(("string"==typeof b.borderRadius||"number"==typeof b.borderRadius)&&y(b.borderRadius),
"object"==typeof p&&ia(p,ja)))},setConfirmClose:function(b){ca=b;return this},setShowContentOnLoad:function(b){Y=b;return this},setConfirmMessageText:function(b){ta=b},setConfirmLinkText:function(b){Xa=b},setCancelLinkText:function(b){Ja=b},onClose:na,onShow:ra,onOrientationChange:t,onBorderRadiusChange:Va,onBorderWidthChange:oa}}function $c(b){function e(){var b=window.open(c,"","width="+g+", height="+d+", status=1, location=1, resizable=yes"),e=window.setInterval(function(){if(b&&b.closed||b&&"undefined"===
typeof b.closed||"undefined"===typeof b)window.clearInterval(e),"function"===typeof i&&i()},500)}var c=b,g=400,d=400,i;return{show:function(){e()},setWidth:function(b){b&&(g=b);return this},setHeight:function(b){b&&(d=b);return this},setCallback:function(b){b&&(i=b);return this}}}function Ec(){function b(){wa=(new Date).getTime()-g;if(wa<c){var b=Math.round(e()*ha+j);d.style[y]=b+"px"}else clearInterval(J),d.style[y]=o+"px",B()}function e(){if("flat"==G)return wa*(1/c);if("sinusoidal"==G)return Math.abs(Math.sin(wa*
(Math.PI/(2*c))))}var c="1000",g,d,i=document,j,o,y="left",ha,J,wa,G="flat",B;return{setAcceleration:function(b){G=b;return this},setCallback:function(b){B=b;return this},setDuration:function(b){c=b;return this},setDirection:function(b){"horizontal"===b&&(y="left");"vertical"===b&&(y="top");return this},setElement:function(b){d=b;return this},setElementBoundry:function(b){i=b;return this},startPosition:function(b){j=b;return this},endPosition:function(b){o=b;return this},animate:function(){ha=o-j;
g=(new Date).getTime();J=setInterval(b,10);return this},drag:function(b){function c(b){var g=vc({event:b,boundry:i});d.style.left=g.x()+"px";sb(b);K(b)}function g(b){var e=vc({event:b,boundry:i});d.style.left=e.x()+"px";pc(document,"mouseup",g);pc(document,"mousemove",c);sb(b);K(b);B({pos_x:e.x()})}R(document,"mousemove",c);R(document,"mouseup",g);sb(b);K(b)}}}function vc(b){return{x:function(){var e=b.event.clientX-Rc(b.boundry).x,e=e<this.boundry_x()?e:this.boundry_x();return 0<e?e:0},boundry_x:function(){return b.boundry.getBoundingClientRect().width},
y:function(){},boundry_y:function(){}}}function Rc(b){var e=curtop=0;if(b.offsetParent){do e+=b.offsetLeft,curtop+=b.offsetTop;while(b=b.offsetParent);return{x:e,y:curtop}}}function U(){return new $a}function $a(){this.eventHandlers=[];this.firedEvents=[]}function bc(){if(function(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var b="onAuthWidgetLoad,onCustomizationChange,onProviderLoginComplete,onProviderLoginCancel,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),
c=0;c<b.length;c++)if("object"!==typeof janrain.events[b[c]])return!1;return!0}())clearTimeout(b),janrain.events.onAuthWidgetLoad.fire();else var b=setTimeout(bc,5)}function cc(){function b(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var b=0,g=janrain.events.captureEvents.length;b<g;b++)if("object"!==typeof janrain.events[janrain.events.captureEvents[b]])return!1;return!janrain.ready?!1:!0}if("function"===
typeof janrainCaptureWidgetOnLoad)if(b())clearTimeout(e),janrainCaptureWidgetOnLoad();else var e=setTimeout(cc,5)}Array.prototype.indexOf||(Array.prototype.indexOf=function(b){if(null==this)throw new TypeError;var e=Object(this),c=e.length>>>0;if(0===c)return-1;var g=0;0<arguments.length&&(g=Number(arguments[1]),g!=g?g=0:0!=g&&Infinity!=g&&-Infinity!=g&&(g=(0<g||-1)*Math.floor(Math.abs(g))));if(g>=c)return-1;for(g=0<=g?g:Math.max(c-Math.abs(g),0);g<c;g++)if(g in e&&e[g]===b)return g;return-1});Array.prototype.map||
(Array.prototype.map=function(b,e){if(null===this)throw new TypeError;var c=Object(this),g=c.length>>>0;if("function"!==typeof b)throw new TypeError;for(var d=Array(g),i=0;i<g;i++)i in c&&(d[i]=b.call(e,c[i],i,c));return d});Array.prototype.filter||(Array.prototype.filter=function(b,e){if(null==this)throw new TypeError;var c=Object(this),g=c.length>>>0;if("function"!=typeof b)throw new TypeError;for(var d=[],i=0;i<g;i++)if(i in c){var j=c[i];b.call(e,j,i,c)&&d.push(j)}return d});String.prototype.trim||
(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var Z=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;pa=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;Ta=
Z;var Ib=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&window.localStorage.setItem,W="CSS1Compat"!==document.compatMode,yb=!1,ka=!1,d=[],Ya="110b655",Z=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
Mb=null!==Z?Z[0]:!1,Nb="number"===typeof window.orientation||null!==Z,ad="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),bd="January,February,March,April,May,June,July,August,September,October,November,December".split(","),cd=[16,20,30,32,48,50,64],Sc=[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},
{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},
{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"}],dd=[{text:"AB",value:"AB"},{text:"BC",value:"BC"},
{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];janrain.settings&&janrain.settings.storageServer&&Dc("xDomainLocalStorageJanrain",janrain.settings.storageServer,function(){R(document.getElementById("xDomainLocalStorageJanrain"),"load",function(){_xdomainStorageIframeLoaded=!0})});var Aa=navigator.userAgent,
j=Jb(),qb=/Gecko\//.test(Aa),ac=/AppleWebKit\//.test(Aa);/Chrome\//.test(Aa);var ed=ob(),E=function(){var b=function(b){for(var g=[],e=0;e<b.length;e++)g.push(b[e]);return g},e={};janrain.settings&&janrain.settings.permissions&&(e.login=b(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(e.share=b(janrain.settings.share.permissions));return function(b,g){g=g||"login";return!e[g]?!1:0<=e[g].indexOf(b)}}();Ca.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),
q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};for(var Ma=function(b,e,c){Ma=document.getElementsByClassName?function(b,c,e){for(var b=(c||
document).getElementsByClassName(b),e=e?RegExp("\\b"+e+"\\b","i"):null,c=[],d,j=0,o=b.length;j<o;j+=1)d=b[j],(!e||e.test(d.nodeName))&&c.push(d);return c}:function(b,c,e){var e=e||"*",c=c||document,d=b.split(" "),b=[],c="*"===e&&c.all?c.all:c.getElementsByTagName(e),e=[],j;j=0;for(var o=d.length;j<o;j+=1)b.push(RegExp("(^|\\s)"+d[j]+"(\\s|$)"));for(var o=0,y=c.length;o<y;o+=1){d=c[o];j=!1;for(var J=0,wa=b.length;J<wa&&!(j=b[J].test(d.className),!j);J+=1);j&&e.push(d)}return e};return Ma(b,e,c)},qa=
function(){function b(){if("undefined"===typeof window.orientation)return!1;var b;g(document.body,wa);J=j().content;o();y();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(b="resize");"object"===typeof window.onorientationchange&&(b="orientationchange");b&&(window.addEventListener(b,function(){E(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:0},{height:window.innerHeight,width:window.innerWidth});i()},!1),setTimeout(i,
30),window.addEventListener("beforeunload",function(){window.removeEventListener(b,i,!1)},!1));A.addHandler(function(){e({height:window.innerHeight,width:window.innerWidth},0)});x.addHandler(function(b){pa=b.height;Ta=b.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,i,!1)},!1)}function e(b,c){var g=window.innerHeight,d=window.innerWidth,i=!0,j=!0;g!=b.height&&(i=!1);d!=b.width&&(j=!1);i&&j?20>c?setTimeout(function(){e({height:g,width:d},++c)},100):x.fire({height:g,
width:d}):setTimeout(function(){e({height:g,width:d},0)},100)}function c(){setTimeout(function(){ha(J)},20);g(wa,document.body)}function g(b,c){for(var e=0;e<b.style.length;e++){var g=b.style[e];c.style.setProperty(g,b.style.getPropertyValue(g),b.style.getPropertyPriority(g))}}function d(){var b;b=(0===window.orientation||180===window.orientation)&&Ta>pa||(90===window.orientation||-90===window.orientation)&&pa>Ta?!1:!0;var c="landscape";if(b&&(0===window.orientation||180===window.orientation))c="portrait";
if(!b&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function i(){var b=d();ha("width=device-width, initial-scale=1, maximum-scale=1");A.fire({orientation:b})}function j(){var b=document.getElementsByTagName("meta"),c;for(c in b)if("viewport"===b[c].name)return b[c];return!1}function o(){if("undefined"===typeof document.getElementsByTagName||j())return!1;var b=document.getElementsByTagName("head")[0],c=document.createElement("meta");c.setAttribute("name","viewport");b.appendChild(c);
return!0}function y(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var b=document.createElement("meta");b.setAttribute("name","HandheldFriendly");b.content="true"}function ha(b){var c=j();if(!c||c.content==b)return!1;if("undefined"===typeof b){var e=j();document.getElementsByTagName("head")[0].removeChild(e)}c.content=b;return!0}var J,wa=document.createElement("div"),G=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),
B=null!==G?G[0]:!1,A=U(),x=U();B&&B[0].match(/android|\Wsilk\W/);var E=function(){var b=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},e={height:window.innerHeight,width:window.innerWidth},g=!1;return function(d,i,j){var o=!1,z=function(b,c){return b.height>=b.width&&c.height>=c.width||b.width>b.height&&c.width>c.height?!0:!1},l=b===d,B=z(i,c),y=z(j,e);if(!l&&(!B||!y))o=!0;!l&&!B&&(g=!0);o&&(g&&!z(i,j)&&(o=j.height,j.height=j.width,j.width=o),pa=j.height,Ta=j.width);
b=d;c={height:i.height,width:i.width};e={height:j.height,width:j.width}}}();return{setElement:function(){return this},onOrientationChange:A,onViewportChange:x,getMobileDevice:function(){return B},getOrientation:function(){return d()},activate:function(){b()},deactivate:function(){c()}}}(),pb=function(b){var e;e="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";e=e.replace(/\/$/,"");return e+"/"+b},Z={openId:{aol:{identifier:"aol",flow:"openid1",
width:514,height:550,color:"#0FD6FF"},blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600"},livejournal:{identifier:"livejournal",flow:"openid1",width:800,height:600,color:"##213368"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",
flow:"openid",width:500,height:500,color:"#FF0084"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5"},hyves:{identifier:"http://hyves.nl/",flow:"openid",width:800,height:600,color:"#659BC8"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665"},verisign:{identifier:"http://pip.verisignlabs.com/",
flow:"openid",width:945,height:600,color:"#B8004D"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:1050,height:550,color:"#3B5998",publishSettings:{},shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,
media:!0,actionLink:!0}},contact:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,
urlLength:23},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,
color:"#666666"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333"},orkut:{flow:"orkut",width:800,height:600,color:"#333"},vzn:{flow:"vzn",width:600,height:450,color:"#333"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333"},renren:{flow:"renren",width:950,height:550,color:"#333"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333"},mixi:{flow:"mixi",width:950,height:550,color:"#333",shareSettings:{broadcast:{counter:{},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}}},eb={},fb=["openId",
"openId2","oauth"];0<fb.length;){var kb=fb.pop(),oa;for(oa in Z[kb])eb[oa]=Z[kb][oa]}var A=function(){var b=[];return{log:function(e){var c={};c.id=b.length+1;c.message=e;b.push(c);return this},show:function(){if(0!=b.length){for(var e in b)if("undefined"!==typeof b[e].id){var c=b[e];"object"===typeof console&&("function"===typeof console.error?console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message):"function"===typeof console.log&&console.log("WARNING ID:"+c.id+" MESSAGE: "+c.message))}b=[]}}}}();
$a.prototype.addHandler=function(b){this.eventHandlers.push(b);return this.eventHandlers.length-1};$a.prototype.removeHandler=function(b){return this.eventHandlers[b]?(this.eventHandlers[b]=null,!0):!1};$a.prototype.fire=function(b){for(var e=this.eventHandlers.length,c=0;c<e;c++)try{if("function"===typeof this.eventHandlers[c])this.eventHandlers[c](b)}catch(g){A.log(g),A.show()}this.firedEvents.push({event:this,args:b})};"undefined"===typeof janrain.events&&(janrain.events={});var M;M||(M={});(function(){function b(b){return 10>
b?"0"+b:b}function e(b){d.lastIndex=0;return d.test(b)?'"'+b.replace(d,function(b){var c=o[b];return"string"===typeof c?c:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function c(b,g){var d,o,B,l,A=i,x,p=g[b];p&&"object"===typeof p&&"function"===typeof p.toJSON&&(p=p.toJSON(b));"function"===typeof y&&(p=y.call(g,b,p));switch(typeof p){case "string":return e(p);case "number":return isFinite(p)?""+p:"null";case "boolean":case "null":return""+p;case "object":if(!p)return"null";
i+=j;x=[];if("[object Array]"===Object.prototype.toString.apply(p)){l=p.length;for(d=0;d<l;d+=1)x[d]=c(d,p)||"null";B=0===x.length?"[]":i?"[\n"+i+x.join(",\n"+i)+"\n"+A+"]":"["+x.join(",")+"]";i=A;return B}if(y&&"object"===typeof y){l=y.length;for(d=0;d<l;d+=1)"string"===typeof y[d]&&(o=y[d],(B=c(o,p))&&x.push(e(o)+(i?": ":":")+B))}else for(o in p)Object.prototype.hasOwnProperty.call(p,o)&&(B=c(o,p))&&x.push(e(o)+(i?": ":":")+B);B=0===x.length?"{}":i?"{\n"+i+x.join(",\n"+i)+"\n"+A+"}":"{"+x.join(",")+
"}";i=A;return B}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,j,o={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y;"function"!==typeof M.stringify&&(M.stringify=function(b,e,g){var d;j=i="";if("number"===typeof g)for(d=0;d<g;d+=1)j+=" ";else"string"===typeof g&&(j=g);if((y=e)&&"function"!==typeof e&&("object"!==typeof e||"number"!==typeof e.length))throw Error("JSON.stringify");return c("",{"":b})});
"function"!==typeof M.parse&&(M.parse=function(b,c){function e(b,g){var d,i,j=b[g];if(j&&"object"===typeof j)for(d in j)Object.prototype.hasOwnProperty.call(j,d)&&(i=e(j,d),void 0!==i?j[d]=i:delete j[d]);return c.call(b,g,j)}var d,b=""+b;g.lastIndex=0;g.test(b)&&(b=b.replace(g,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+b+")"),"function"===typeof c?e({"":d},""):d;throw new SyntaxError("JSON.parse");})})();janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=U());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=U());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=U());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=U());janrain.events.onProviderLoginSuccess||
(janrain.events.onProviderLoginSuccess=U());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=U());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=U());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=U());bc();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureRegistrationStart,onCaptureLoginStart,onCaptureLoginSuccess,onCaptureProfileSaveSuccess,onCaptureProfileSaveFailed,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureLoginFailed,onCaptureRegistrationSuccess,onCaptureRegistrationFailed,onCaptureEmailVerficationSuccess,onCaptureEmailVerificationFailed,onCaptureSaveSuccess,onCaptureSaveFailed,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureServerValidationFailed,onCaptureFormError,onCaptureProfileCookieSet,onCaptureExpiredToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCaptureBackplaneReady,onCaptureAutoSaveUpdate,onModalClose,onModalOpen,onCaptureLinkAccountError".split(",");
oa=0;for(Z=janrain.events.captureEvents.length;oa<Z;oa++)"undefined"===typeof janrain.events[janrain.events.captureEvents[oa]]&&(janrain.events[janrain.events.captureEvents[oa]]=new $a);janrain.events.onCaptureStartRegistration=janrain.events.onCaptureRegistrationStart;janrain.events.onCaptureStartLogin=janrain.events.onCaptureLoginStart;janrain.events.onCaptureSuccessfulLogin=janrain.events.onCaptureLoginSuccess;janrain.events.onCaptureSuccessfulProfileSave=janrain.events.onCaptureProfileSaveSuccess;
janrain.events.onCaptureFailedProfileSave=janrain.events.onCaptureProfileSaveFailed;janrain.events.onCaptureFailedLogin=janrain.events.onCaptureLoginFailed;janrain.events.onCaptureSuccessfulRegistration=janrain.events.onCaptureRegistrationSuccess;janrain.events.onCaptureFailedRegistration=janrain.events.onCaptureRegistrationFailed;janrain.events.onCaptureSuccessfulEmailVerification=janrain.events.onCaptureEmailVerficationSuccess;janrain.events.onCaptureFailedEmailVerification=janrain.events.onCaptureEmailVerificationFailed;
janrain.events.onCaptureSuccessfulSave=janrain.events.onCaptureSaveSuccess;janrain.events.onCaptureFailedSave=janrain.events.onCaptureSaveFailed;janrain.events.onCaptureFailedServerValidation=janrain.events.onCaptureServerValidationFailed;cc();oa=new function(){function b(){function b(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){if(I){var s=
document.createElement("div");s.style.backgroundColor=qa?"aqua":ga;s.style.width=O+"px";s.style.height=Aa+"px";s.style.position="absolute";s.style.left="0px";s.style.paddingLeft=u+"px";s.style.paddingRight=u+"px";s.style.paddingBottom=u+"px";s.style.bottom="0px";s.style.fontSize="10px";s.style.textAlign="left";s.style.color=w;ia(s,null,0,0,L,L);var f=document.createElement("div");f.appendChild(document.createTextNode(janrain.settings.translate.POWERED_BY_PREFIX||"Powered by "));f.style.paddingLeft=
"1px";var b=document.createElement("a");b.setAttribute("href","http://www.janrain.com/products/engage/engage-introduction?utm_source=login.janrain.com&utm_medium=partner&utm_campaign=attribution");b.setAttribute("target","_blank");b.appendChild(document.createTextNode("Janrain"));f.appendChild(b);s.appendChild(f);h=s}F=i();s=document.createElement("div");s.style.backgroundColor=qa?"orange":ga;s.className="janrainHeader";s.style.fontSize=ra+"px";s.style.color=w;s.style.position="relative";s.style.height=
Oa+"px";40===Ea&&(s.style.cssFloat="left");s.style.left=40===Ea?"-6px":"-5px";s.style.paddingLeft=u+"px";s.style.paddingRight=u+"px";s.style.paddingTop=u+"px";s.style.paddingBottom="0px";s.style.whiteSpace="nowrap";s.style.width=40===Ea?"81px":O+"px";s.style.zIndex="100";40===Ea?ia(s,null,L,0,0,L):ia(s,null,L,L,0,0);40===Ea&&(s.style.marginTop="-3px");s.style.textAlign="one column"===r?"center":"left";f=g();pa=document.createElement("div");pa.style.paddingLeft="1px";pa.style.fontFamily=ma;" "!==f&&
pa.appendChild(document.createTextNode(f));s.appendChild(pa);a=s;D=document.createElement("div");D.className="janrainContent";D.style.width=O+"px";D.style.height=o()+"px";D.style.paddingLeft=u+"px";D.style.paddingRight=u+"px";D.style.boxSizing="content-box";40===Ea&&(D.style.paddingTop=u-1+"px");ka||(D.style.backgroundColor=ga);ka||(D.style.border=Ma?"1px solid "+Ha:"1px solid "+ga);D=ia(D,L);ka||(D.style.overflow="hidden");D.style.position=Ma?"relative":"absolute";xa=x();2==F||0==F?(Ra=(new v).setSide("right").create(),
va=(new v).setSide("left").create()):(Ra=(new v).setSide("top").create(),va=(new v).setSide("bottom").create());s=document.createElement("div");s.id="janrainView";" "!==g()&&s.appendChild(a);f=H("blank");f.style.display="none";s.appendChild(f);s.appendChild(xa);!ka&&Ra&&va&&(s.appendChild(Ra),s.appendChild(va));0<F&&I&&s.appendChild(h);D.appendChild(s);E("customizable_auth_widget_styling")||e(D);yb||A.show()}function e(a){function h(a){var s="string"===typeof a.getAttribute("style")?a.getAttribute("style"):
null;s&&(s.cssText&&(s=s.cssText),a.style.setAttribute?a.style.setAttribute("cssText",s.replace(/(((?!!important).)+?);/g,"$1 !important;")):a.setAttribute("style",s.replace(/(((?!!important).)+?);/g,"$1 !important;")))}for(var b=a.getElementsByTagName("*"),c=0,q=b.length;c<q;c++)"janrainProviderPages"===b[c].id||"janrainSlideControl"===b[c].className||"janrainSlideControl"===b[c].parentNode.className||h(b[c]);h(a)}function g(){return Ca?sa:d.translate.HEADER?d.translate.HEADER:"two column"===r?b().twoColumn.actionText:
"one column"===r?b().oneColumn.actionText:"one row"===r?b().oneRow.actionText:sa}function i(){var a=r;if("default"==a||"two column"==a)return 2;if("one column"==a)return 1;if("one row"==a)return 0}function o(){var a=" "===sa?0:Oa+u,h=I&&"one row"!==r?Aa+u:0;return p()+a+h}function m(){var a=parseInt(xa.style.left),h=parseInt(xa.style.top),b;1==F?parseInt(xa.style.height):parseInt(xa.style.width);2==F&&(b=(O-3*u-(2==F?10:0))/F);if("one column"===r){if(" "===sa&&(h+=11,0<h||-9<=h))return 0;if(9>h)return 1;
if(0<h||h>=-(Oa-(u+1)))return 0}0==F&&(b=O-100);if(0>a&&a<-b)return 1;if(0<a||a>=-u)return 0}function p(){if("two column"===r)var a=ba/2;"one column"===r&&(a=ba);"one row"===r&&(a=1);var h="one row"===r?0:2*a,b="one column"===r?3*u:0;if(7===j||6===j||j&&W){if("two column"===r&&(b=u,7===j||6===j))b=2*u;if("one column"===r&&(b=3*u,(7===j||6===j)&&!W))b+=u;if("one row"===r&&(7===j||6===j))b=u}"one column"===r&&Pa<=ba&&(b=j&&W?b+2*u:b-2*u);return S*a+u*(a+1)+h+b}function v(){function a(){var h;d="over";
var s=m();if(0==s&&"left"===q||0==s&&"top"===q||1==s&&"right"===q||1==s&&"bottom"===q)return this.style.cursor="default",Na.onclick="",!1;var f=this;setTimeout(function(){if(1===i){if("over"!==d)return!1;j&&(c.style.display="block");g.style.display="block";Na.onclick=b;f.style.cursor="pointer";var a=document.getElementById("janrainProviderPages");h="top"==q||"bottom"==q?parseInt(a.style.top):parseInt(a.style.left);var s="right"===q||"bottom"===q?h-k:h+k;"top"===q||"bottom"===q?a.style.top=s+"px":
a.style.left=s+"px";i=2}},j?50:100)}function h(){var a;d="out";var s=m();if(1==s&&"right"===q||0==s&&"left"===q||0==s&&"top"===q||1==s&&"bottom"===q)return!1;setTimeout(function(){if(2===i){if("out"!==d)return!1;j&&(c.style.display="none");g.style.display="none";var h=document.getElementById("janrainProviderPages");a="top"==q||"bottom"==q?parseInt(h.style.top):parseInt(h.style.left);var s="right"===q||"bottom"===q?a+k:a-k;"top"===q||"bottom"===q?h.style.top=s+"px":h.style.left=s+"px";i=1}},j?200:
400)}function b(){g.style.display="none";Na.style.cursor="default";y(q,function(a){l(a);i=1})}var c,q,e,g,C={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},d="",i=1,Na;return{setSide:function(a){q=a;return this},create:function(){var d;if(Pa<=ba)d=!1;else{d=document.createElement("div");d.setAttribute("id","janrainShim_"+q);d.style.background="black";"top"===q||"bottom"===q?(d.style.height="19px",d.style.width="100%"):(d.style.height="100%",d.style.width="17px");d.style.filter=
qa?"alpha(opacity=100)":"alpha(opacity=0)";d.style.position="absolute";d.style.zindex="99";if("top"===q||"bottom"===q)d.style.left="0";d.style[q]=u+"px";d.style.top="one column"!==r?u+1+"px":"top"===q?"10px":"0px";d.style.display="none";c=d;d=document.createElement("div");d.style.backgroundColor=qa?"green":ga;d.className="janrainSlideControllerMask";d.style.position="absolute";"one column"!==r&&(d.style.width=u+"px",d.style.height="100%",d.style.top="0px",d.style[q]="0px",d.style.borderWidth="1px",
"right"===q&&(!I||"one row"===r)&&ia(d,null,0,0,L,0),"left"===q&&(!I||"one row"===r)&&ia(d,null,0,0,0,L),"right"===q&&" "===sa&&ia(d,null,0,L,L,0),"left"===q&&" "===sa&&ia(d,null,L,0,0,L));"one column"===r&&(d.style.height=u+"px",d.style.fontSize="0px",d.style.width="100%",d.style.padding="0px",d.style[q]="0px","top"===q&&" "===sa?ia(d,null,L,L,0,0):"bottom"===q&&!I&&ia(d,null,0,0,L,L));"one row"===r&&(d.style.height="105.5%");e=d;d=document.createElement("div");d.setAttribute("id","janrainArrow_"+
q);d.style.background="url("+pb("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+") no-repeat scroll "+C[q]+" transparent";d.style.height="19px";d.style.width="17px";d.style.position="absolute";if("top"===q||"bottom"===q)d.style.left=O/2+"px";d.style[q]=u+"px";d.style.top="one column"!==r?p()/2-2*u+1+"px":"top"===q?"10px":"0px";d.style.display="none";g=d;d=document.createElement("div");d.className="janrainSlideControl";d.style.backgroundColor=qa?"purple":"transparent";"one column"===r?(d.style.width=
O+4+"px",d.style.left="3px","top"==q?(d.style.height=u+"px",d.style.top=Oa+u+"px"," "===sa&&(d.style.left="0px",d.style.width=O+10+"px")):(d.style.height="20px",d.style.bottom=(I?Aa+u:0)+"px",ia(d,null,0,0,L,L))):(d.style.width="right"===q?"20px":"0px",d.style[q]="0px",d.style.height=p()-(u*(" "===sa)?1:2)+"px",40===Ea&&"one row"===r&&"left"===q&&(d.style.left=jb+"px"),"right"===q&&!I&&ia(d,null,0,0,L,0),"left"===q&&!I&&ia(d,null,0,0,0,L));d.style.position="absolute";d.style.zIndex="100";d.style.cursor=
"pointer";d.onmouseover=a;d.onmouseout=h;d.onclick=b;Na=d;Na.appendChild(e);Na.appendChild(c);Na.appendChild(g);d=Na}return d}}}function y(a,h){var b=document.getElementById("janrainProviderPages"),c=new Ec;if("top"===a||"bottom"===a){if(" "===sa)var q=-(p()-S),d=0;else q=-(p()-S-Oa-u),d=Oa+u;50===S&&(q-=20);j&&W&&(q+=u," "!==sa&&(d+=u));c.setElement(b).setAcceleration("sinusoidal").setDuration(100*ba).startPosition(parseInt(b.style.top)).endPosition("bottom"===a?q:d).setDirection("vertical").setCallback(function(){h(a)}).animate()}else j&&
W?(q=-(O-2*u-39),"one row"===r&&(q=-(jb-1*u))):(q=-(O-32),"one row"===r&&(q=-(O-24))),c.setElement(b).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(b.style.left)).endPosition("right"==a?q:u).setDirection("horizontal").setCallback(function(){h(a)}).animate()}function x(){var a,h;function b(ea){ea.preventDefault();ea=ea.touches[0];ea="one column"===r?a-ea.pageY:h-ea.pageX;if(35<ea||-35>ea)"one column"===r?(q.style.top=parseInt(q.style.top)-ea+"px",ea=0<ea?"bottom":"top"):(q.style.left=
parseInt(q.style.left)-ea+"px",ea=0<ea?"right":"left"),y(ea,function(){l()}),q.ontouchmove=""}var c,q,d,e,g,C=F,k=[];e=B();g=ka?1:Math.ceil(Pa/ba);2<g&&A.log("Either reduce the number of providers, or increase the setting for providersPerPage.");q=document.createElement("div");q.setAttribute("id","janrainProviderPages");ka&&(q.className="janrainConfigureMode");q.style.paddingTop=(6===j||7===j)&&j&&W?2*u:u+"px";if((6===j||7===j)&&!W)q.style.paddingTop=u+4+"px";q.ontouchstart=function(b){b=b.touches[0];
"one column"===r?a=b.pageY:h=b.pageX};q.ontouchmove=b;q.ontouchend=function(){q.ontouchmove=b};40===Ea&&"one row"===r?q.style.left=jb+u+"px":j&&W?"one column"!==r&&(q.style.left=u+"px"):q.style.left=u+"px";40===Ea&&"one row"===r&&(q.style.cssFloat="left");40===Ea&&"one row"===r&&(q.style.marginTop="1px");"one column"===r&&(q.style.top=(j&&W?1:0)+Oa+u+"px");"one row"!==r&&" "===sa&&(q.style.top="0px");"one column"===r&&" "===sa&&(q.style.top="0px");c=O*g;q.style.position=j&&W&&"one column"===r?"relative":
"absolute";"two column"===r&&!(Pa<=ba)&&(q.style.width=c+"px");"one row"===r&&(q.style.width=(!0===ka?O+u:2*O)+"px");ka&&(C=0);h=0;a=0;for(var i=0;i<g;i++){for(d=0;d<=C;d++)k[d]=document.createElement("ul"),k[d].className="providers",k[d].id="janrainProviders_"+d,1<C&&(k[d].style.cssFloat="left"),1<C&&(k[d].style.styleFloat="left"),k[d].style.listStyleType="none",k[d].style.marginTop="0px",k[d].style.marginLeft="0px",k[d].style.marginRight="0px",k[d].style.marginBottom="0px",k[d].style.padding="0px";
c=document.createElement("div");c.className="janrainPage";c.setAttribute("pageIndex",i);j&&W&&1===g&&(c.style.width="110%");for(d=0;d<=C;d++)c.appendChild(k[d]);for(var Na=e.length%2,n=ka?Pa:ba,Vc=0;Vc<n&&!(0==e.length);Vc++){if(2==C)var Wc=1==Na?k[e.length%2?0:1]:k[e.length%2];if(1==C||0==C)Wc=k[0];d=e.shift();Wc.appendChild(d)}q.appendChild(c)}return q}function l(a){0==m()?("left"===a&&(va.style.width=u+"px",Ra.style.display="block",Ra.style.width="20px"),"top"===a&&(Ra.style.height=u+"px",va.style.display=
"block",va.style.height="20px")):("right"===a&&(Ra.style.width=u+"px",va.style.display="block",va.style.width="20px"),"bottom"===a&&(va.style.height=u+"px",Ra.style.display="block",Ra.style.height="20px"))}function B(){for(var a=[],h=0;h<Pa;h++){var b=H(Ga[h]);a.push(b)}return a}function z(a,h){h.style.cursor="pointer";h.setAttribute("id","janrain-"+a);h.setAttribute("role","button");"one row"===r?h.style.background="transparent":("gradient"===Fa&&Wb(h,"bottom, #eeeeee, #ffffff"),"gray"===Fa&&(h.style.backgroundColor=
"#eeeeee"),"white"===Fa&&(h.style.backgroundColor="#ffffff"));R(h,"mouseover",function(){Jb();"one row"===r?h.style.background="transparent":(h.style.backgroundColor="#E3E3E3",h.style.backgroundImage="")});R(h,"mouseout",function(){Jb();"one row"===r?h.style.background="transparent":("gradient"===Fa&&Wb(h,"bottom, #eeeeee, #ffffff"),"gray"===Fa&&(h.style.backgroundColor="#eeeeee"),"white"===Fa&&(h.style.backgroundColor="#ffffff"))});yb||K(h,a);return h}function H(a){var h=document.createElement("li");
h.style.listStyle="none";0==F&&!1===ka&&(h.style.cssFloat="left");0==F&&!1===ka&&(h.style.styleFloat="left");h.style.textAlign="center";h.style.height=j&&W?S-2:S+"px";if("two column"==r){var b=ka?3*u:Pa<=ba?0:3*u;h.style.width=6===j||Jb&&W?(O-b-4*u)/F+"px":(O-b-(2==F?10:0))/F+"px"}h.style.marginTop="0px";if("one column"==r){if(7==j||6==j)h.style.marginTop="-1px";j&&W?h.style.marginRight="0px":h.style.width=O-u/2+"px";h.style.marginLeft="0px"}else h.style.marginRight=u+"px";0==F&&(h.style.width=S+
"px");h.style.marginBottom=(7===j||6===j||j&&W?3:u)+"px";h.style.position="relative";0!=F&&(h.style.border="1px solid "+Ia);0!=F&&ia(h,Za);if("customopenid"===a){b=document.createElement("img");if(1==F||2==F)30==S&&(b.src=Va.smallLogo),50==S&&(b.src=Va.largeLogo);0==F&&(30==S&&(b.src=Va.smallIcon),50==S&&(b.src=Va.largeIcon))}else if(b=document.createElement("span"),"blank"!==a){if(1==F||2==F)30==S&&(b.className="janrain-provider100-"+a,b.style.width=100),50==S&&(b.className="janrain-provider150-"+
a,b.style.width=150);0==F&&(30==S&&(b.className="janrain-provider-icon-32 janrain-provider-icon-"+a,b.style.width=32),50==S&&(b.className="janrain-provider-icon-48 janrain-provider-icon-"+a,b.style.width=48))}b.style.backgroundColor="transparent";j&&W&&(b.style.height=S-2+"px");if(6===j&&"one row"!==r){var c=document.createElement("div");c.style.height=b.style.height;c.style.width="90px";c.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+b.src+
"')";b.style.filter="alpha(opacity=0)";c.appendChild(b);h.appendChild(c)}else h.appendChild(b);return z(a,h)}function M(a,h){var b=document.createElement("div"),c=d.translate.SIGN_IN_AS||"Sign in as {name}",c=c.replace("{name}",h),c=document.createTextNode(c),q=document.createElement("div");q.style.cssFloat="right";q.style.styleFloat="right";q.style.fontFamily=ma;q.style.position="relative";q.style.top="one row"===r?"2px":S/4-3+"px";q.appendChild(c);var e=document.createElement("div"),g=7.5*c.length+
30,C=o();e.style.fontSize="16px";e.style.height="100%";e.style.position="relative";if(0==F||120>C)15<=c.length&&(e.style.fontSize="14px",g=7*c.length+30),20<=c.length&&(e.style.fontSize="12px",g=6*c.length+30),24<=c.length&&(e.style.fontSize="10px",g=5*c.length+25),30<=c.length&&(c.textContent=c.textContent.substr(0,26)+"...",g=162);e.style.width=g+"px";if(0==F||116>C){if("customopenid"===a){var k=document.createElement("img");k.src=Va.smallIcon}else k=document.createElement("span"),k.className="janrain-provider-icon-20 janrain-provider-icon-"+
a;k.style.width="20px";k.style.height="20px";k.style.cssFloat="left";k.style.styleFloat="left"}b.style.overflow="hidden";b.style.position="relative";b.style.height=("one row"!==r?S:25)+"px";b.style.marginBottom="one row"===r?"-4px":"4px";"one row"===r&&(b.style.top="-4px");b.style.left="0px";j&&W&&(b.style.marginRight="5px");j&&W&&(b.style.marginLeft="3px");b.style.border="1px solid "+Ia;ia(b,Za);"customopenid"===a&&(b.style.color=eb[a].color);if(0==F||116>C)e.style.paddingTop="2px",e.appendChild(k);
6===j||7===j||j&&W?e.style.left="10px":e.style.margin="0 auto";e.appendChild(q);0==F||116>C?b.appendChild(e):(50===S&&parseInt(b.style.height),q.style.cssFloat="none",q.style.styleFloat="none",b.appendChild(q));return z(a,b)}function K(a,h){R(a,"click",function(){G(h)})}function G(a){var h=eb[a],b={appUrl:d.appUrl,mobileDevice:Mb,language:d.language,popup:xb,tokenUrl:Da||d.tokenUrl||window.location.href,facebookPermissions:Ka,forceReauth:Xa,widgetType:"auth",tokenAction:Ja,bpChannel:vb,customOpenid:Ta,
customOpenidOpxblob:d.customOpenidOpxblob};h.name=a;new La(h,b,function(){na||(Qa=setTimeout(function(){ya(h)},300))})}function J(a){var h=document.createElement("div");if("customopenid"===a){var b=document.createElement("img");b.src=Va.largeLogo}else b=document.createElement("span"),b.className="janrain-provider150-"+a;b.style.width="150px";b.style.height="50px";h.style.position="absolute";h.style.top="0px";h.style.left="0px";h.style.width=O+"px";h.style.zIndex="102";h.style.textAlign="center";h.style.padding=
u+"px";h.style.backgroundColor="transparent"===ga?"#ffffff":ga;h.style.height=o()-(j&&W?0:2*u)+"px";ia(h,L);"one row"!==r&&116<=o()&&h.appendChild(b);return h}function N(a){var h=document.createElement("a"),b=document.createTextNode(d.translate.USE_ANOTHER_ACCOUNT||"switch accounts");h.setAttribute("class","janrainSwitchAccountLink");h.setAttribute("href","");h.style.fontSize="12px";h.style.fontFamily=ma;h.style.color=w;h.onclick=a;h.appendChild(b);return h}function V(){return"modal"===Y?document.getElementById("janrainModal"):
"embed"===Y?document.getElementById("janrainEngageEmbed"):!1}function X(){var a=parseInt(D.style.width);return a=a+2*u+2}function T(){var a=V();null!==a&&"object"===typeof D&&D.parentNode===a&&a.removeChild(D)}function ca(){var a="";"object"===typeof t&&(a=t.getState());return{type:Y,width:X(),fontFamily:ma,fontSize:ra,fontColor:w,backgroundColor:ga,borderColor:Ha,borderRadius:L,format:r,providersPerPage:ba,providers:Ga,buttonBackgroundStyle:Fa,buttonBorderColor:Ia,buttonBorderRadius:Za,actionText:g(),
showAttribution:I,modalState:a}}function ha(a){r=Q("string",["default","two column","one column","one row"],"two column",a);"default"===r&&(r="two column");"one row"==a&&(L=Q("number",[0,5],5,L));Z()}function da(a){"two column"===r&&(O=Q("number",[225,600],380,a));"one column"===r&&(O=Q("number",[160,600],200,a));"one row"===r&&(S=30,a=Pa<=ba?u*(parseInt(ba)-1):u*(parseInt(ba)+2),40===Ea&&(a+=jb-u),O=S*ba+a);if(("two column"===r||"one column"===r)&&!ka)O=O-2*u-2;j&&W&&(O=O+2*u+2);"one row"!==r&&(S=
380<O?50:30)}function n(a){"string"===typeof a&&(Ca=!0,sa=Q("text",null,sa,a)," "===sa?L=Q("number",[0,5],5,L,!0):Oa="two column"!==r?b().headerHeight-5:b().headerHeight)}function U(a){Fa=Q("string",["gray","white","gradient"],"gradient",a)}function $(a){Ia=Q("color",null,"#CCCCCC",a)}function fa(a){ga=Q("color",null,"#ffffff",a)}function ja(a){"undefined"===typeof a&&(a=5);L=" "===sa||!I||"one row"===r?Q("number",[0,5],5,a,!0):Q("number",[0,10],10,a)}function la(a){I=Q("boolean",null,!0,a);o();L=
a?Q("number",[0,10],5,L,!0):Q("number",[0,5],5,L,!0)}function wa(a){Ha=Q("color",null,"#C0C0C0",a)}function Z(){"two column"===r&&(ra=18);if("one column"===r||"one row"===r)ra=14}function ua(a){w=Q("color",null,"#333333",a)}function oa(a){if("object"==typeof a){F=i();for(var h=0,b=a.length;h<b;h++)if(!eb[a[h]])return ta(4),A.log(a[h]+" is not a valid provider, using default providers instead"),this;Ga=a;Pa=a.length;"object"===typeof t&&t.setHeight(o()-2*u).refresh()}}function ta(a){"two column"===
r&&(ba=Q("number",[4,6,8],6,a));"one column"===r&&(ba=Q("number",[1,6],6,a));"one row"===r&&(ba=Ab?Pa:Q("number",[4,8],6,a),da(O))}function ya(a){var h=document.createTextNode(d.translate&&d.translate.SIGNING_IN?d.translate.SIGNING_IN:"Signing in ..."),b=document.createElement("div");Ba=J(a.name);b.appendChild(h);Ba.appendChild(b);D&&D.appendChild(Ba)}var qa=!1,O=380,Ca=!1,ma="lucida grande, Helvetica, Verdana, sans-serif",ra=18,w="#666666",ga="#ffffff",Ha="#C0C0C0",L=10,D,pa,r="two column",F,Ma,
ba=6,Ga=["aol","google","yahoo","openid"],Pa=4,Ia="#CCCCCC",Za=5,Fa="gradient",S=30,Oa=b().headerHeight,Ea=60,jb=89,Aa=b().footerHeight,u=5,k=10,sa="Sign in using your account with",Ba,xa,Ra,va,I=!0,Ua=!1,Ya=!1,a,h;janrain.events.onProviderLoginStart.addHandler(function(a){ab("login_tab",a.provider,1)});return{build:c,setFormat:function(a){a&&ha(a);"two column"!==r&&(Oa=b().headerHeight-5);"two column"===r&&(ba=b().twoColumn.providersPerPage,Oa=b().headerHeight);return this},setActionText:function(a){"string"===
typeof a&&n(a);return this},setFontSize:function(a){a&&Z(a);return this},setFontFamily:function(a){a&&a&&(ma=a);return this},setFontColor:function(a){a&&ua(a);return this},setButtonBorderColor:function(a){a&&$(a);return this},setButtonBorderRadius:function(a){if("string"==typeof a||"number"==typeof a)Za=Q("number",[0,20],5,a);return this},setButtonBackgroundStyle:function(a){a&&U(a);return this},setWidth:function(a){("string"==typeof a||"number"==typeof a)&&da(a);return this},refresh:function(){T();
var a=V();c();var h=db("expected_tab");h&&!lb?za("expected_tab",h):(null!==a&&"object"===typeof D&&a.appendChild(D),"object"===typeof t&&t.setHeight(parseInt(D.style.height)+2).refresh());janrain.events.onCustomizationChange.fire(ca());return this},remove:function(){T();return this},setRowHeight:function(a){if(0!==i())return this;a||(a=60);oneRowHeaderHeight=Q("number",[40,60,90],60,a);40===oneRowHeaderHeight&&(S=30,Ea=40);60===oneRowHeaderHeight&&(S=30);90===oneRowHeaderHeight&&(S=50);return this},
setHeight:function(a){"object"==typeof D&&(D.style.height=a+"px");return this},setBackgroundColor:function(a){a&&fa(a);return this},setBorderColor:function(a){a&&wa(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&ja(a);return this},setProviders:function(a){"object"==typeof a&&oa(a);return this},setProvidersPerPage:function(a){if("string"==typeof a||"number"==typeof a)ta(a),"object"===typeof t&&t.setHeight(o()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===
typeof a&&la(a);return this},setPreviewMode:function(a){"boolean"===typeof a&&(yb=a);return this},setProviderFlow:function(a,h){return K(a,h)},triggerFlow:function(a){return G(a)},setNoReturnExperience:function(a){"boolean"===typeof a&&(Ua=a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(Ya=a);return this},setConfigureMode:function(a){"boolean"===typeof a&&(ka=a,F=i());return this},embed:function(a){if((Ma=a)&&"object"==typeof D)D.style.position="relative";
return this},getContentsDiv:function(){return D},getErrorPage:function(a,h){var b=document.createTextNode(h.msg),c=document.createElement("div");c.appendChild(b);c.style.color=w;c.style.fontSize=ra+"px";c.style.width="100%";var d=J(a);d.appendChild(c);d.appendChild(N(function(){D.removeChild(d);D.removeChild(Ba);Xa=!0;return!1},a));D.appendChild(d);return D},getReturnExperience:function(a,h){if(yb||Ua||-1===Ga.indexOf(a))return D;var b=M(a,h),c=J(a),d=function(){Xa=lb=!0;D.removeChild(c);return!1};
c.id="janrainAuthReturnExperience";c.appendChild(b);Ya||c.appendChild(N(d,a));D.appendChild(c);return D},getWidth:function(){return X()},getActualHeight:function(){return parseInt(D.style.height)+2},getHeight:function(){return o()-2*u},getState:function(){return ca()},setState:function(a){if(E("customizable_auth_widget_styling")){var h=a.fontFamily;h&&(ma=h);Z(a.fontSize);ua(a.fontColor);fa(a.backgroundColor);wa(a.borderColor);"embed"===Y&&a.format&&(a.format&&ha(a.format),"two column"!==r&&(Oa=b().headerHeight-
5),"two column"===r&&(ba=b().twoColumn.providersPerPage,Oa=b().headerHeight));if("string"==typeof a.providersPerPage||"number"==typeof a.providersPerPage)ta(a.providersPerPage),"object"===typeof t&&t.setHeight(o()).refresh("janrainModal");U(a.buttonBackgroundStyle);$(a.buttonBorderColor);Za=Q("number",[0,20],5,a.buttonBorderRadius);n(a.actionText);la(a.showAttribution);ja(a.borderRadius);"embed"===Y&&("string"==typeof width||"number"==typeof width)&&da(a.width)}oa(a.providers)},showNotice:function(){ya()},
removeNotice:function(){Lb(Ba)},removeReturnExperience:function(){var a=document.getElementById("janrainAuthReturnExperience");Lb(a)}}}function e(){if("object"===typeof m)if("object"===typeof X){var b=m.getState();b.width=X.width;X=b}else X=m.getState();"object"===typeof m&&m.remove();"object"===typeof t&&t.remove();y();Y="modal";"object"===typeof m&&X&&E("customizable_auth_widget_styling")&&m.setState(X);"object"===typeof t&&pa&&E("customizable_auth_widget_styling")&&t.setState(pa);"object"===typeof t&&
t.show();"object"===typeof m&&m.refresh()}function c(){if("object"===typeof m){if("object"===typeof X){var b=m.getState();b.borderRadius=X.borderRadius;b.format=X.format;b.width=X.width;X=b}else X=m.getState();pa=X.modalState;delete pa.orientation}"object"===typeof m&&m.remove();"object"===typeof t&&t.remove();"object"===typeof t&&(t="");o();Y="embed";"object"===typeof m&&X&&E("customizable_auth_widget_styling")&&m.setState(X);"object"===typeof m&&m.refresh()}function g(){var b,c;y();c=document.getElementsByTagName("a");
var e=RegExp("(\\s|^)"+d.linkClass+"(\\s|$)");for(b in c)e.test(c[b].className)&&(c[b].onclick=i)}function o(){var c=db("expected_tab");m=new b;m.setBackgroundColor(Ga).embed(!0).setPreviewMode(Qb).setShowAttribution(v).setNoReturnExperience(Bb).setNoReturnExperienceSwitchAccountLink(Cb).setFormat(la).setRowHeight(Db).setFontSize(Eb).setFontFamily(mb).setFontColor(Rb).setActionText(Ha).setProviders(Ia).setProvidersPerPage(Sb).setWidth(Tb).setBorderColor(Ya).setBorderRadius(Fb).setButtonBorderColor(Ub).setButtonBorderRadius(Vb).setButtonBackgroundStyle(Gb).build();
var d=document.getElementById("janrainEngageEmbed");null===d&&(d=document.getElementById("janrainModal"));ua||(c?(ja("welcome_info_name",unescape(db("welcome_info_name"))),za("expected_tab",c)):uc(d,m.getContentsDiv()))}function i(){"object"===typeof t&&t.show();return!1}function y(){var c=Kb(wb,tb),d=db("expected_tab");if("undefined"===typeof c||0>c)c=5;m=new b;m.setBackgroundColor(Ga).setPreviewMode(Qb).setShowAttribution(v).setNoReturnExperience(Bb).setNoReturnExperienceSwitchAccountLink(Cb).setFontSize(Eb).setFontFamily(mb).setFontColor(Rb).setActionText(Ha).setProviders(Ia).setProvidersPerPage(Sb).setBorderRadius(c).setButtonBorderColor(Ub).setButtonBorderRadius(Vb).setButtonBackgroundStyle(Gb).build();
if("object"!==typeof t){t=new tc;t.ready=!1;var e=t.addContent;t.addContent=function(b){t.ready=!0;e(b);janrain.events.onModalWidgetReady.fire()}}t.setHeight(m.getActualHeight()).setWidth(m.getWidth()).setPreviewMode(Qb).setBorderColor(ub).setBorder(tb).setBorderOpacity(Ba).setBorderRadius(wb);ua||(d?(ja("welcome_info_name",unescape(db("welcome_info_name"))),za("expected_tab",d)):t.addContent(m.getContentsDiv()));t.onOrientationChange.addHandler(function(b){"portrait"===b.orientation&&m.setFormat(b.format).setWidth(200).refresh();
"landscape"===b.orientation&&m.setHeight(b.height).setWidth(b.width).setFormat(b.format).refresh();t.setHeight(m.getActualHeight());t.setWidth(m.getWidth())});t.onShow.addHandler(function(){"object"==typeof m&&t.setWidth(m.getWidth())});t.onBorderWidthChange.addHandler(function(b){"object"===typeof t&&"object"===typeof m&&(m.setBorderRadius(b.radius).refresh(),b=m.getState(),b.borderRadius<b.modalState.borderRadius-b.modalState.borderWidth&&t.setBorderRadius(b.borderRadius+b.modalState.borderWidth))});
t.onBorderRadiusChange.addHandler(function(b){"object"===typeof m&&(m.setBorderRadius(b.radius).refresh(),b=m.getState(),b.borderRadius<b.modalState.borderRadius-b.modalState.borderWidth&&t.setBorderRadius(b.borderRadius+b.modalState.borderWidth))})}function x(b,c){if(!E("customizable_auth_widget_styling"))return!1;if("object"===typeof m)return c(b),!0}function H(b){return x(b,function(b){m.setBackgroundColor(b).refresh()})}function K(b){return x(b,function(b){m.setBorderRadius(b).refresh()})}function J(b){return x(b,
function(b){m.setBorderColor(b).refresh()})}function ca(b){return"modal"===Y?!1:x(b,function(b){m.setWidth(b).refresh()})}function G(b){return x(b,function(b){m.setActionText(b).refresh()})}function B(b){return x(b,function(b){m.setButtonBorderColor(b).refresh()})}function Z(b){return x(b,function(b){m.setButtonBorderRadius(b).refresh()})}function oa(b){return x(b,function(b){m.setButtonBackgroundStyle(b).refresh()})}function qa(b){return"modal"==Y?!1:x(b,function(b){m.setFormat(b).refresh()})}function p(b){return x(b,
function(b){m.setProvidersPerPage(b).refresh()})}function Ma(b){return x(b,function(b){m.setFontFamily(b).refresh()})}function Aa(b){return x(b,function(b){m.setFontSize(b).refresh()})}function T(b){return x(b,function(b){m.setFontColor(b).refresh()})}function db(b){var c;if("single cookie"===ra){c=N().getCookie("janrain_engage_login_data");if(!c)return;c=M.parse(c);return!c[b]?void 0:b=c[b]}if("default"===ra)return b=N().getCookie(b),!b?void 0:b}function ab(b,c,d){var e;if(!b||!c)return!1;d||(d=
1);if("single cookie"===ra)return(oldCookieJSON=N().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),d=M.parse(oldCookieJSON),d[b]=c,e=new N,e.setName("janrain_engage_login_data").setValue(M.stringify(d)).setExpiration(1826).create(),!0;return"default"===ra?(e=new N,e.setName(b).setValue(c).setExpiration(d).create(),!0):!1}function ga(b,c){if(Bb)return!1;if("expected_tab"===b&&!c){var d=db("login_tab");d&&ga("expected_tab",d);return!1}if(!c||"undefined"===c||"expected_tab"!==b&&"expected_user_input"!==
b&&"welcome_info_name"!==b)return!1;c="welcome_info_name"===b?escape(c):c;ab(b,c,1826)}function fa(b,c){var d={};b||(b=$);c||(c=$.appUrl);if(j&&3>ib)return d.widget_type=b.widget_type,d.provider=b.provider,d.time=(new Date).getTime(),d=rb(d),ta(c+"/signin/get_login_info"+d),ib++,!0;"object"===typeof janrain.events.onProviderLoginCancel&&janrain.events.onProviderLoginCancel.fire(b);"undefined"!==typeof Qa&&clearTimeout(Qa);return!1}function La(b,c,d){var e=c.appUrl+"/"+b.flow+"/start",g=window.location.href;
c.mobileDevice&&(g="mobile");var i=c.language||"en",j=c.popup?"xdr":"xdrsw",o=c.tokenUrl||window.location.href,m={};$={appUrl:c.appUrl,provider:b.name,widget_type:c.widgetType};m.language_preference=i;m.token_url=o;m.display="popup";m.widget=!0;"object"===typeof c.facebookPermissions&&(m.ext_perm=c.facebookPermissions.toString());m.openid_identifier=b.identifier;m.origin_url=g;m.provider_name=b.name;m.force_reauth=c.forceReauth;m.xdReceiver=c.appUrl+"/"+j;m.callback="none";m.widget_type=c.widgetType;
m.token_action="url";if("event"===c.tokenAction||"hybrid"===c.tokenAction)m.token_action="event";c.mobileDevice&&"hybrid"===c.tokenAction&&(m.token_action="url");c.bpChannel&&(m.bpChannel=c.bpChannel);c.customOpenid&&"string"===typeof c.customOpenidOpxblob&&(m.opx_blob=c.customOpenidOpxblob);e+=rb(m);(function(){janrain.events.onProviderLoginStart.fire({provider:b.name,width:b.width,height:b.height});var g;c.mobileDevice&&"event"!==c.tokenAction||!c.popup?ta(c.appUrl+"/signin/set_login_tab?login_tab="+
b.name+"&origin_url="+window.location.href,function(){window.top.location.href=e}):(g=new $c(e),g.setWidth(b.width).setHeight(b.height).setCallback(function(){var e={},g="";e.widget_type=c.widgetType;e.provider=b.name||"";e.time=(new Date).getTime();g=rb(e);"function"===typeof d&&d();ta(c.appUrl+"/signin/get_login_info"+g);janrain.events.onProviderLoginComplete.fire({provider:b.name})}).show())})()}function ja(b,c){if(!c||"undefined"===c||"welcome_info_name"!==b)return!1;c&&(da=c)}function za(b,c){var d=
function(b){var e=function(){600>b&&setTimeout(function(){d(++b)},50)};if("object"!==typeof m)return e(),!1;"modal"===Y?t.addContent(m.getReturnExperience(c,da)):"embed"===Y&&uc(document.getElementById("janrainEngageEmbed"),m.getReturnExperience(c,da));"modal"===Y&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==b||!c)return!1;"object"===typeof m&&m.removeReturnExperience();janrain.events.onAuthWidgetLoad.addHandler(function(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,
welcomeName:da})});d(0)}function uc(b,c){janrain.settings.capture&&(b?b.appendChild(c):(b=document.createElement("div"),b.id="janrainEngageEmbed",b.style.display="none",document.body.appendChild(b)));b?b.appendChild(c):A.log('Missing container div, please place this div where you want the embedded widget to be displayed on your page - <div id="janrainEngageEmbed"></div>.').show();return b}function xa(b,c){Da=Da||ya;tokenUrl=c?Da:ya;var d="";if(!Ca(tokenUrl).query)var d=d+"?",e=!0;for(var g in b)e?
(d+=g+"="+b[g],e=!1):d+="&"+g+"="+b[g];Da=tokenUrl+d}function Ua(){d=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout(Ua,5),!1;$b(mc()+"providers.css");j&&9>=j&&$b(mc()+"providers-ie.css");if(d.stop)return!0;Nb&&ta(d.appUrl+"/signin/establish_session");Ja=d.tokenAction?d.tokenAction:Ja;if(!d.tokenUrl&&"event"===Ja)ya=window.location.href;else if(d.tokenUrl)ya=d.tokenUrl;else return A.log("Missing tokenUrl.  tokenUrl is required."),
A.show(),!1;Y=Q("string",["modal","embed"],"embed",d.type?d.type:Y);ua=d.multi?d.multi:Mb?!0:ua;na=d.custom?d.custom:na;Xa=d.forceReauth?d.forceReauth:Xa;vb=d.bpChannel?d.bpChannel:vb;Ka=d.facebookPermissions?d.facebookPermissions:Ka;ra=d.storageType?Q("string",["default","single cookie"],"default",d.storageType):ra;xb="boolean"===typeof d.popup?d.popup:xb;Mb&&"event"!==Ja&&(xb=!1);ma=d.returnExperienceTimeout?d.returnExperienceTimeout:ma;ua&&(setTimeout(function(){var b=db("expected_tab");b?(ja("welcome_info_name",
unescape(db("welcome_info_name"))),za("expected_tab",b)):"modal"===Y?t.addContent(m.getContentsDiv()):"embed"===Y&&uc(embedDiv,m.getContentsDiv())},ma),ta(d.appUrl+"/signin/get_cookies"));if(d.customOpenid&&E("customizable_auth_widget_styling")){Ta=!0;if(!d.customOpenidFlow)return A.log("Missing customOpenidFlow. customOpenidFlow is required when adding a custom openid provider."),A.show(),!1;if(!d.customOpenidIdentifier)return A.log("Missing customOpenidIdentifier. customOpenidIdentifier is required when adding a custom openid provider."),
A.show(),!1;eb.customopenid={flow:d.customOpenidFlow,identifier:d.customOpenidIdentifier}}if(na)return!0;Ja=d.tokenAction?d.tokenAction:Ja;tb=E("customizable_auth_widget_styling")?d.modalBorderWidth:tb;ub=E("customizable_auth_widget_styling")?d.modalBorderColor:ub;wb=E("customizable_auth_widget_styling")?d.modalBorderRadius:wb;Ba=E("customizable_auth_widget_styling")?d.modalBorderOpacity:Ba;Ga=E("customizable_auth_widget_styling")?d.backgroundColor:Ga;Fb=E("customizable_auth_widget_styling")?d.borderRadius:
Fb;Ya=E("customizable_auth_widget_styling")?d.borderColor:Ya;la=E("customizable_auth_widget_styling")?d.format:la;Rb=E("customizable_auth_widget_styling")?d.fontColor:Rb;Eb=E("customizable_auth_widget_styling")?d.fontSize:Eb;mb=E("customizable_auth_widget_styling")?d.fontFamily:mb;Tb=E("customizable_auth_widget_styling")?d.width:Tb;Db=E("customizable_auth_widget_styling")?d.rowHeight:Db;Sb=E("customizable_auth_widget_styling")?d.providersPerPage:Sb;Ab=E("customizable_auth_widget_styling")?d.providersNotPaged:
Ab;Ha=E("customizable_auth_widget_styling")?d.actionText:Ha;Ub=E("customizable_auth_widget_styling")?d.buttonBorderColor:Ub;Vb=E("customizable_auth_widget_styling")?d.buttonBorderRadius:Vb;Gb=E("customizable_auth_widget_styling")?d.buttonBackgroundStyle:Gb;v=E("customizable_auth_widget_hide_attribution")?d.showAttribution:v;Qb=d.previewMode;Bb=d.noReturnExperience;Cb=d.noReturnExperienceSwitchAccountLink;Ia=d.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate=d.translate=
{});if(d.customOpenid&&E("customizable_auth_widget_styling")){if(!d.customOpenidSmallLogo)return A.log("Missing customOpenidSmallLogo.  customOpenidSmallLogo is required and should be the full path to an image that has a width of 90px and height of 30px."),A.show(),!1;if(!d.customOpenidSmallIcon)return A.log("Missing customOpenidSmallIcon.  customOpenidSmallIcon is required and should be the full path to an image that is 30px x 30px."),A.show(),!1;if(!d.customOpenidLargeLogo)return A.log("Missing customOpenidLargeLogo.  customOpenidLargeLogo is required and should be the full path to an image that has a width of 150px and height of 50px."),
A.show(),!1;if(!d.customOpenidLargeIcon)return A.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),A.show(),!1;Va={smallLogo:d.customOpenidSmallLogo,smallIcon:d.customOpenidSmallIcon,largeLogo:d.customOpenidLargeLogo,largeIcon:d.customOpenidLargeIcon}}d.previewMode?("modal"===Y&&(janrain.ready?e():R(window,"load",e)),"embed"===Y&&(janrain.ready?c():R(window,"load",c))):("modal"===Y&&(janrain.ready?g():R(window,"load",
g)),"embed"===Y&&(janrain.ready?o():R(window,"load",o)))}var Ka,vb,Ta=!1,Xa=!1,Ja="url",ya,Da,Y="embed",da="unknown",ua=!1,ma=300,Xa=!1,xb=!0,na=!1,ra="default",Va,pa,t,tb,ub,wb,Ba,m,X,Ga,Fb,Ya,Tb,Db,la,Ia=[],Ab=!1,Sb,Ha,Eb,mb,Rb,Ub,Vb,Gb,Qb,Bb,Cb,v,lb=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=U());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=U());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=U());janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===
typeof janrainWidgetOnload&&(na?janrainWidgetOnload():m?janrainWidgetOnload(m.getState()):janrainWidgetOnload())});for(var Qa,ib=0,$,V="onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginCancel,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),nb=0;nb<V.length;nb++)"undefined"===typeof janrain.events[V[nb]]&&(janrain.events[V[nb]]=new $a);janrain.events.onProviderLoginError.addHandler(function(b){if(na)return!0;var c=
db("login_tab");if("modal"===Y){var d=document.getElementById("janrainModal");d&&d.appendChild(m.getErrorPage(c,b.err))}"embed"===Y&&(d=document.getElementById("janrainEngageEmbed"))&&uc(d,m.getErrorPage(c,b.err))});Ua();return{appendTokenParams:function(b,c){xa(b,c)},appendTokenParamsCumulative:function(b){xa(b,!0)},setBackplaneChannel:function(b){vb=b},setLoginCookie:function(b,c){ga(b,c)},loginHandler:function(b){var c=Ja;b?("ok"===b.stat&&("event"===c||"hybrid"===c?ta(b.redirectUrl):(c=document.createElement("form"),
c.action=b.redirectUrl,c.method="POST",janrain.settings.targetTop&&(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===b.stat&&(janrain.events.onProviderLoginError.fire(b),"undefined"!==typeof Qa&&clearTimeout(Qa))):fa()},cancelLogin:function(b){fa(b,d.appUrl);na||m.removeNotice()},removeNotice:function(){m.removeNotice()},setWelcomeInfoName:function(b,c){ja(b,c)},setReturnExperience:function(b,c){za(b,c)},setNoReturnExperience:function(b){"boolean"===typeof b&&m?(m.setNoReturnExperience(b).refresh(),
b=!0):b=!1;return b},setNoReturnExperienceSwitchAccountLink:function(b){"boolean"===typeof b&&m?(m.setNoReturnExperienceSwitchAccountLink(b).refresh(),b=!0):b=!1;return b},setPreviewMode:function(b){"boolean"===typeof b&&m?(m.setPreviewMode(b).refresh(),b=!0):b=!1;return b},setConfigureMode:function(b){"boolean"===typeof b&&m?(m.setConfigureMode(b).refresh(),b=!0):b=!1;return b},setCustom:function(b){na=b},getState:function(){return"object"===typeof m?m.getState():!1},setProviderFlow:function(c,d){var e;
e=!E("customizable_auth_widget_styling")||!na?!1:b().setProviderFlow(c,d);return e},triggerFlow:function(c){c=!E("customizable_auth_widget_styling")||!na?!1:b().triggerFlow(c);return c},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");console.log("User Agent: "+
navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var b in janrain.settings)if(console.log(" ---- "+b+": "+janrain.settings[b]),"object"===typeof janrain.settings[b])for(var c in janrain.settings[b])"function"!==
typeof janrain.settings[b][c]&&console.log(" --- --- "+c+": "+janrain.settings[b][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){c()},setBackgroundColor:function(b){return H(b)},setBorderColor:function(b){return J(b)},setBorderRadius:function(b){return K(b)},setWidth:function(b){return ca(b)},setActionText:function(b){return G(b)},setFontFamily:function(b){return Ma(b)},setFontSize:function(b){return Aa(b)},setFontColor:function(b){return T(b)},setFormat:function(b){return qa(b)},
setButtonBorderColor:function(b){return B(b)},setButtonBorderRadius:function(b){return Z(b)},setButtonBackgroundStyle:function(b){return oa(b)},setProviders:function(b){var c;"object"===typeof m&&(ka?m.setProviders(b):m.setProviders(b).refresh(),c=!0);return c},setProvidersPerPage:function(b){return p(b)},setShowAttribution:function(b){var c;E("customizable_auth_widget_hide_attribution")?"object"===typeof m&&m.setShowAttribution(b).refresh():c=!1;return c},refresh:function(){return m.refresh()},getWidth:function(){return m.getWidth()}},
modal:{init:function(){e()},close:function(){"object"==typeof t&&t.close()},create:function(){return new tc},setBorder:function(b){E("customizable_auth_widget_styling")?("object"===typeof t&&(t.setBorder(b),t.refresh()),b=!0):b=!1;return b},setBorderColor:function(b){E("customizable_auth_widget_styling")?("object"===typeof t&&(t.setBorderColor(b),t.refresh()),b=!0):b=!1;return b},setBorderOpacity:function(b){E("customizable_auth_widget_styling")?("object"===typeof t&&(t.setBorderOpacity(b),t.refresh()),
b=!0):b=!1;return b},setBorderRadius:function(b){E("customizable_auth_widget_styling")?("object"==typeof t&&(t.setBorderRadius(b),t.refresh()),b=!0):b=!1;return b}}}};var Z=new function(){return{status:"not loaded"}},fb=new function(){return{status:"not loaded"}},kb=new function(){return{status:"not loaded"}},fd=new function(){function b(a){function h(){yc=!0;var h=a||l();a&&(Qa=Ca(a).queryKey.flow_path);ta(h,Va);p();Ka();janrain.events.onCaptureLoginFailed.addHandler(function(){Za++;Ua()});janrain.events.onCaptureLoginSuccess.addHandler(function(){Za=
0;Ua()});janrain.events.onCaptureLoginSuccess.addHandler(function(){Db(fb)});janrain.events.onCaptureRegistrationSuccess.addHandler(function(){Db(fb)});janrain.events.onCaptureValidationComplete.addHandler(function(){a:{var a=!1,h;for(h in I)if("invalid"===I[h].status){var b=I[h].postValidationActions;if(b)for(var s in b){if(!I[h].validation||"undefined"===typeof I[h].validation[s])break a;for(var f in b[s])if(b[s].hasOwnProperty(f))switch(f){case "render":b[s].render.screen&&!a&&(a=!0,(new Ia).setScreenData(b[s].render.screen,
n.screens[b[s].render.screen]));break;case "setCookie":var c=b[s].setCookie.name,d=actionObj.setCookie.value,ea=b[s].setCookie.days;(new N).setExpiration(ea).setUseLocalStorage(!0).setName(c).setValue(d).create()}}}}});janrain.events.onCaptureRenderComplete.addHandler(function(){if(rb){var a=bb.savedProfileMessage||"Your profile has been saved",h=Ma("capture_profileSavedMessage_container",aa.div),b=h.length;if(b)for(var s=0,b=h.length;s<b;s++)h[s].innerHTML=a,h[s].style.display="",wb(h[s]);else if(Gc&&
(h=document.getElementById(C+Gc+"_defaultSavedProfileMessage")))h.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+a+"</div>",wb(h);rb=!1}ia()});janrain.events.onCaptureContentChange.addHandler(function(){"object"===typeof w&&w.isOpen()&&(w.setHeight(Ba(w.getContent()).height),w.setWidth(Ba(w.getContent()).width).refresh())});janrain.settings.custom&&!Jc&&ka()}function b(){janrain.settings.capture.redirectFlow?Jb(h):h()}function f(){ed&&(janrain.settings.capture.federate=
!1);janrain.settings.capture.federate?qc(janrain.settings.capture.federateServer+"/sso.js",b).setTimeoutLimit(3E5).setTimeoutCallback(function(){janrain.settings.capture.federate=!1;b()}).load():b()}function c(){hb=Backplane.getChannelID();if(!Mb){Mb=!0;var a=function(){Backplane.expectMessages("identity/login")};janrain.events.onCaptureLoginSuccess.addHandler(a);janrain.events.onCaptureRegistrationSuccess.addHandler(a);janrain.events.onCaptureBackplaneReady.fire();f()}}m(ob());janrain.settings.capture.noStyling||
($b(mc()+"widgets.css"),Nc(mc()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&y(janrain.settings.capture.stylesheets))for(var d=janrain.settings.capture.stylesheets,e=d.length,g=0;g<e;g++)$b(d[g]),z(d[g]);if(j&&9>j&&janrain.settings.capture.conditionalIEStylesheets&&y(janrain.settings.capture.conditionalIEStylesheets)){d=janrain.settings.capture.conditionalIEStylesheets;e=d.length;for(g=0;g<e;g++)Nc(d[g]),z(d[g])}janrain.settings.capture.backplane?qc("http://backplane1.janrainbackplane.com/bus/test/channel/test?callback=janrain.capture.ui.noop",
function(){ta("https://d134l0cdryxgwa.cloudfront.net/backplane.js",function(){Backplane(c);Backplane.init({serverBaseURL:"https://backplane1.janrainbackplane.com/v1.2",busName:janrain.settings.capture.backplaneBusName,channelExpires:janrain.settings.capture.backplaneChannelExpires||""})})}).setTimeoutLimit(3E5).setTimeoutCallback(function(){janrain.settings.capture.backplane=!1;f()}).load():f()}function d(a,h,b,f){var c=[];f&&c.push({value:"",text:f,disabled:!0});if("desc"===b)for(b=h;b>a-1;b--)c.push({value:b,
text:b});else for(b=a;b<h+1;b++)c.push({value:b,text:b});return c}function c(a){return"string"===typeof a?"capture_"+a+"_":"capture_"+g(a)+"_"}function g(a){var h=a.getAttribute("data-capturescreenname");if(h&&n.screens[h])return h;for(var h=Ma("capture_screen_container"),b=0,f=h.length;b<f;b++){var c;a:{for(c=a.parentNode;null!=c;){if(c==h[b]){c=!0;break a}c=c.parentNode}c=!1}if(c)return h=h[b].getAttribute("data-capturescreenname"),a.setAttribute("data-capturescreenname",h),h}}function l(){var a=
ib,h=janrain.settings.capture.flowVersion||"HEAD",b=janrain.settings.capture.flowName||"default",f=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=f?i()+"/widget_data/flow.js:"+f+":"+a+":"+h+":"+b:i()+"/widget_data/flow.js:"+a+":"+h+":"+b}function i(){return"https://dlzjvycct5xka.cloudfront.net"}function z(a){x(D,a)||D.push(a);Hc=D.length}function A(a){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+a+"' is missing."}}function E(a){a=
H(a);Q(a)}function Q(a,h){var b=a.getAttribute("data-capturefield"),b=lb.check(a,n.fields[b]),f=document.getElementById(a.id+"_errors");!b.valid&&b.reason?f&&(f.innerHTML=b.reason):f&&(f.innerHTML="");if(h)return"object"!==typeof b&&(b={valid:!0}),b}function J(a,h){var b=c(a),f=document.getElementById(b+h.name+"_dateselectmonth"),f=f.options[f.selectedIndex].value,d=document.getElementById(b+h.name+"_dateselectday"),d=d.options[d.selectedIndex].value,b=document.getElementById(b+h.name+"_dateselectyear"),
b=b.options[b.selectedIndex].value;return!f||!d||!b?!1:f+"/"+d+"/"+b}function W(a,h){if(!a)return!1;for(var b=a.getElementsByTagName("input"),f=a.getElementsByTagName("select"),c=a.getElementsByTagName("textarea"),d=[],b=[b,f,c],h=h||!1,f={},c=0,e=b.length;c<e;c++)for(var g=b[c],k=g.length,i=0;i<k;i++){var j=g[i];"true"===j.getAttribute("data-capturecollection")?f[j.name]||(za(j,!0,h)||d.push(j),f[j.name]=!0):"file"===j.type?Q(j,!0).valid||d.push(j):za(j,!0,h)||d.push(j)}janrain.events.onCaptureValidationComplete.fire({fieldsWithError:d});
return 0===d.length}function G(){}function B(){}function U(a){R(document.getElementById("captureIFrame_"+a),"load",oa)}function Z(a,h,b){if(!y(a)&&!h)return!1;y(a)||(a=[]);var f=a.length,c,d=new Ia,e="",g=[],k=document.getElementById(b+h);if(!k)return!1;for(h=0;h<f;h++)if(c=n.fields[a[h]])c.fieldPrefix=b,c.name=c.elementName=a[h],e+=d.renderField(c),g.push(c.name);if(!e.length&&k)return k.innerHTML="",!1;k.innerHTML=e;h=0;for(f=g.length;h<f;h++)(a=document.getElementById(b+g[h]))&&R(a,"blur",ja)}
function ia(){for(var a=aa.div.getElementsByTagName("select"),h=a.length,b=0;b<h;b++)a[b].getElementsByTagName("option")[a[b].selectedIndex].disabled&&(o(a[b]).append("capture_disabled"),R(a[b],"change",function(){o(this).remove("capture_disabled")}))}function p(){R(document.body,"click",function(a){var h=janrain.settings.capture.logoutLinksClass||"capture_end_session",b=H(a);b&&b.nodeName&&"A"===b.nodeName&&(o(b).has(h)&&(ua(),K(a)),h=b.getAttribute("data-capturescreen"),b=b.getAttribute("data-captureuseruuid"),
h&&(b&&(!n.userUUID||n.userUUID&&n.userUUID!==b||!n.privacyFiltered?(gc=b,n.fused=!1):gc=""),janrain.capture.ui.renderScreen(h),K(a)))})}function ka(){janrain.events.onProviderLoginToken.addHandler(function(a){if(a.janrainWidgetParameters&&a.janrainWidgetParameters.widget_type&&"share"===a.janrainWidgetParameters.widget_type)return!1;a.linkAccounts?k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:a.currentScreen,
needsResponse:!0,callback:function(){janrain.events.onCaptureProfileLink.fire({provider:a.janrainWidgetParameters.provider})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},{elementName:"token",elementType:"hidden",elementValue:a.token}]}):(janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience),wc&&(kc=gb),gb=a.token,aa.values=Ab(aa.div.id),dc.push(aa),ma(a.keepMeLoggedIn))});Jc=!0}function oa(a){var h=
H(a),b;if("formClicked"===h.className){var f=0,c=function(){var a=0;f++;if(400<f)return clearTimeout(b),!1;var h;a:{for(h in I){h=!1;break a}h=!0}if(h)return d(),!1;for(var e in I)I.hasOwnProperty(e)&&"pending"===I[e].status&&a++;0===a?("function"===typeof b&&clearTimeout(b),d()):b=setTimeout(c,50)},d=function(){var a=h.getAttribute("data-transactionId");Ha("/widget/get_result.jsonp",{transactionId:a,cache:(new Date).getTime()},function(){function b(){c++;if(10<c)return la("could not find transaction status"),
!1;if(Ac[a])Fb(a),clearTimeout(h),h=Ac[a],"success"===h.status?Ta(f):la("there was a problem with the response",h);else var h=setTimeout(b,50)}var f=M.parse(h.getAttribute("next")),c=0;b()})};c()}else h.className="";h.className=""}function T(a,h){for(var b=H(a).getAttribute("id").split("_")[3],f=H(a),d=c(f),f=f.parentNode,e=o(f).has("capture_tab_toggle"),g=e?"capture_tab_toggle":"capture_radio_toggle",k=0;k<h.collection.length;k++)h.collection[k].elementName!==b&&(document.getElementById(d+h.collection[k].elementName).style.display=
"none");for(var g=Ma(g,document.getElementById(d+h.elementName)),i=g.length,k=0;k<i;k++)o(g[k]).remove("capture_toggled");o(f).append("capture_toggled");document.getElementById(d+b).style.display="block";janrain.events.onCaptureContentChange.fire();e&&K(a)}function pa(){if(0===Ra)return!1;var a=(new Date).getTime()-Ra,a=Math.floor(a/1E3);if(60>a)return a+" seconds ago";a=Math.floor(a/60);if(1==a)return a+" minute ago";if(59>a)return a+" minutes ago"}function Aa(a){va=!0;var h=document.getElementById(a),
a=janrain.settings.capture.autoSaveInterval||45E3,b=janrain.settings.capture.autoSaveUpdateInterval||1E4;clearInterval(cc);cc=setInterval(function(){if(!va)return!1;if(W(h,!0)){h.submit();h.getAttribute("next");var a=h.getAttribute("data-transactionId"),b=document.getElementById("captureIFrame_"+a);(new fa).setIframe(b).setTransactionId(a).setNext('{"noop": ""}').setForm(h).setEvent(null).process()}},a);clearInterval(Tc);Tc=setInterval(function(){if(!va)return!1;janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:pa()})},
b)}function ga(a,h,b,f){b=f?M.stringify(f):b;Ga(h);a.className="formClicked";a.setAttribute("next",b)}function fa(){var a,h,b,f,d,e,g=!1;return{setIframe:function(h){a=h;return this},setTransactionId:function(a){h=a;return this},setNext:function(a){b=a;f=M.parse(b);return this},setForm:function(a){d=a;return this},setEvent:function(a){e=a;return this},process:function(){if(f.conditional){for(var k=f.conditional,i=k.length,j=0;j<i;j++){var m;a:{m=k[j];var o=n.fields[m.field],o=c(d)+(o.elementId||o.elementName),
o=document.getElementById(o);switch(m.compare){case "=":if(o.value===m.value){m=!0;break a}}m=void 0}if(m){g=k[j];break}}g?g.nosubmit?(K(e),Ta(g.next)):ga(a,h,b,g.next):ga(a,h,b)}else f.dontSubmit?(K(e),f.storeValues&&Ab(d.id,!0),Ta(f)):ga(a,h,b)}}}function La(a){var h=H(a),b=h&&h.id?h.id:"",f=H(a).getAttribute("data-transactionId"),c=document.getElementById("captureIFrame_"+f);h.getAttribute("next")||h.setAttribute("next",'{"noop":""}');var d=h.getAttribute("next");if("true"!==h.getAttribute("data-capturedomelement")||
"true"===h.getAttribute("data-capturedomelementvalidate")){aa.values=Ab(aa.div.id);if(W(h)){var e=!1,g=function(){var f=0;k++;400<k&&(clearTimeout(validationTimeout),K(a));for(var c in I)if(I.hasOwnProperty(c)){if("invalid"==I[c].status&&b===I[c].formId){K(a);return}"pending"==I[c].status&&b===I[c].formId&&f++}0===f?("function"===typeof validationTimeout&&clearTimeout(validationTimeout),e&&h.submit()):(K(a),e=!0,validationTimeout=setTimeout(g,50))},k=0;g()}else return K(a),!1;var i=Zc(h),j=Qb();i.parentNode.insertBefore(j,
i);i.style.display="none"}(new fa).setIframe(c).setTransactionId(f).setNext(d).setForm(h).setEvent(a).process()}function ja(a){a=xa(a);za(a,!1)}function za(a,h,b){if(a.type&&("hidden"===a.type||"submit"===a.type||"file"===a.type)||!a.getAttribute("data-capturefield"))return!0;var f=a.getAttribute("data-capturerendererfield")?n.fields[a.getAttribute("data-capturerendererfield")]:n.fields[a.getAttribute("data-capturefield")],d=a.getAttribute("data-capturerendererchildfieldname"),e=d?f.elementName+"["+
d+"]":f.elementName,g=c(a),i=!1;if(!f.validation||!a.value&&!f.validation.required||f.validation.type&&"server"===f.validation.type||d&&!f.validation[d]&&"dateselect"!==f.type)return!0;i=a.id||a.name;I[i]={};I[i].status="pending";I[i].postValidationActions=f.validation.actions||null;e="multiCheckbox"===f.element||"multiRadio"===f.element?document.getElementById(g+"form_collection_"+f.elementName):"dateselect"===f.type?document.getElementById(g+"form_item_"+f.name):document.getElementById(g+"form_item_"+
e);b||o(e).append("capture_validating");g=new k.validation;g.setParentDiv(e);g.setElement(a);a=lb.check(a,f,h);a.validation&&(g.setValidation(a.validation),I[i].validation=a.validation);a.valid?(i=!0,b||(g.valid(),o(e).remove("capture_validating"))):a.pending?(b||g.pending(),i=!0):(i=!1,b||(g.notValid(a.reason),o(e).remove("capture_validating")));return i}function Ta(a){dc.push(aa);if(a.noop)return!1;a.url&&(window.location.href=a.url);a.screen&&(new Ia).setScreenData(a.screen,n.screens[a.screen]);
if(a.action&&aa)janrain.capture.ui[a.action]();if(a["function"]&&"function"===typeof kb[a["function"]])kb[a["function"]]()}function $a(a){(new N).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(a).create()}function Ua(){(new N).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(Za).create()}function Ka(){var a=new N;a.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?a.getCookie("janrainFailedLogins",function(a){rc(a)&&(Za=parseInt(a,
10))}):(a=a.getCookie("janrainFailedLogins"),rc(a)&&(Za=parseInt(a,10)))}function vb(){var a=36E5*Xb+(new Date).getTime();return(new Date((new Date).setTime(a))).toUTCString()}function eb(){clearTimeout(Oa);Oa=setTimeout(Ja,1E4)}function Xa(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var a,h,b=new N;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureTokenRefresh",
function(b){b&&(h=new Date,expiretime=new Date(b),h.getTime()>a.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):eb())});else if(b=b.getCookie("janrainCaptureTokenRefresh"))h=new Date,a=new Date(b),h.getTime()>a.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):eb()}}function Ja(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var a=
new N;a.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?a.getCookie("janrainCaptureToken",function(a){a?Xa():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}):a.getCookie("janrainCaptureToken")?Xa():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}}function ya(a){var h=new N;h.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken").setValue(a);janrain.settings.capture.cookieDomain&&h.setDomain(janrain.settings.capture.cookieDomain);
h.create()}function Da(){var a=new N;a.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove()}function Y(){var a=new N;a.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?a.getCookie("janrainCaptureTemporaryToken",function(a){a&&(da(a),Da())}):a.getCookie("janrainCaptureTemporaryToken")&&(da(a.getCookie("janrainCaptureTemporaryToken")),Da())}function da(a,h,b){var f=vb();Sa=a;
h?(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&Ja(),janrain.events.onCaptureSessionCreated.fire({accessToken:a}),janrain.events.onCaptureSessionFound.fire({accessToken:a})):(h=new N,h.setExpirationDirectly(f).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(Sa),janrain.settings.capture.cookieDomain&&h.setDomain(janrain.settings.capture.cookieDomain),h.create(),janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&
(f=new N,h=36E5*Xb-6E5+(new Date).getTime(),h=(new Date((new Date).setTime(h))).toUTCString(),f.setExpirationDirectly(h).setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(h),janrain.settings.capture.cookieDomain&&f.setDomain(janrain.settings.capture.cookieDomain),f.create(),Ja()),pb&&(janrain.events.onCaptureLoginSuccess.fire({accessToken:a}),pb=!1),b?janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:a}):janrain.events.onCaptureSessionCreated.fire({accessToken:a}))}
function ua(){var a=new N,h="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){};a.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();janrain.settings.capture.keepProfileCookieAfterLogout||(a.setName("janrainCaptureProfileData"),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.remove());
janrain.settings.capture.federate&&JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},h);janrain.settings.capture.backplane&&"function"===typeof Backplane&&Backplane.resetCookieChannel();janrain.events.onCaptureSessionEnded.fire()}function ma(a){var h=X(),b=na({capture_screen:janrain.settings.capture.registerFlow||"socialRegister",token:gb,capture_transactionId:h});kc&&(b.merge_token=kc,kc=null);"true"===a&&(b.capture_keep_me_logged_in=
"yes");janrain.settings.capture.thinRegistration&&(b.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var a=janrain.settings.capture.dataDefaults,f;for(f in a)a.hasOwnProperty(f)&&"undefined"===typeof b[f]&&(b[f]=a[f])}Ha("/widget/token_url.jsonp",b);Ga(h);wc&&(wc=!1)}function xb(){var a=new N;a.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)a.getCookie("janrainCaptureToken",function(a){a?da(a,!0):janrain.events.onCaptureSessionNotFound.fire()});
else{if(a.getCookie("janrainCaptureToken"))return da(a.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function na(a,h){var b={js_version:Ya,capture_screen:V,flow:n.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:F,locale:ib};hb&&(b.bp_channel=hb);Qa&&(b.flow_path=Qa);if("object"===typeof a)for(var f in a)a.hasOwnProperty(f)&&(b[f]=a[f]);
if(y(h)){f=0;for(var c=h.length;f<c;f++)b.hasOwnProperty(h[f])&&delete b[h[f]]}return b}function ra(a,h){JANRAIN.SSO.CAPTURE.set_login({code:a,transaction_id:h,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"})}function Va(){if(janrain.settings.capture.federate){var a=void 0,a={},h=X(),a={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:a.response_method||"jsonp",response_type:janrain.settings.capture.responseType,
redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:M.stringify(na({capture_transactionId:h},["client_id"])),transaction_id:h,logout_uri:janrain.settings.capture.federateLogoutUri,nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver};hb&&(a.bp_channel=hb);JANRAIN.SSO.CAPTURE.check_login(a);Ga(h)}else{a:{if(h=Ca(window.location.href).anchor)if(h=h.split("="),"access_token"===h[0]&&h[1]){pb=!0;da(h[1]);h=!0;break a}h=!1}if(h||xb())return Ob=!0,!1;
Ob=!0}}function Jb(a){var h=Ca(window.location.href).anchor;if(!h)return a(),!1;var b=h.split(","),c=b.length,d,h={};if(1<c){for(var e=0;e<c;e++)d=b[e],d=d.split("="),h[d[0]]=d[1];if(!h.transactionId||!h.engageToken)return a(),!1;xc=a=h.transactionId;gb=h.engageToken;Ha("/widget/get_result.jsonp",{transactionId:a},function(){})}else return a(),!1}function t(a,h){var b=a["if"].compare;if(!b||0>b.indexOf(":"))return!1;switch(b.split(":")[0]){case "cookie":var c=b.split(":")[1],b=new N;b.setUseLocalStorage(!0);
"janrainLastAuthMethod"===c&&!Na&&(Na=V);if(janrain.settings.multiDomainLocalStorage)b.getCookie(c,function(b){d&&"janrainLastAuthMethod"===c&&(cb=!0);ub(tb(a["if"],b)?a.then:a["else"],h)});else{var d=b.getCookie(c);d&&"janrainLastAuthMethod"===c&&(cb=!0);ub(tb(a["if"],d)?a.then:a["else"],h)}}}function tb(a,h){var b=rc(h)?parseInt(h,10):h,c,d=rc(a.to)?parseInt(a.to,10):a.to;switch(a.withOperator){case "===":c=d===b;break;case "!==":c=d!==b;break;case "==":c=d==b;break;case "!=":c=d!==b;break;case ">":c=
b>d;break;case "<":c=b<d}return c}function ub(a,b){!a&&"function"===typeof b&&b();if(!a)return!1;if("undefined"===typeof a["if"]){if(a.render){var c=a.render.screen,f=n.screens[c];(new Ia).setScreenData(c,f)}}else t(a,b)}function wb(a){if(!a)return!1;"undefined"!==typeof janrain.settings.capture.hideSavedProfileMessageDelay&&setTimeout(function(){a&&(a.style.display="none")},janrain.settings.capture.hideSavedProfileMessageDelay)}function ob(){for(var a="",b=[],c=0;10>c;c++)a=nc(40),b.push(a);return b}
function m(a){if(!y(a))return!1;for(var b=a.length,c=0;c<b;c++){var f=a[c];-1===zc.indexOf(f)&&zc.push(f)}}function X(){var a=zc.pop();0===zc.length&&m(ob());-1===Bc.indexOf(a)&&Bc.push(a);return a}function Ga(a){var b=Bc.indexOf(a);-1<b&&Bc.splice(b,1);-1===Cc.indexOf(a)&&Cc.push(a)}function Fb(a){var b=Cc.indexOf(a);-1<b&&Cc.splice(b,1);-1===Wb.indexOf(a)&&Wb.push(a)}function Kb(a){if(a.status){Ac[a.transactionId]=a;"success"===a.status?(janrain.events.onCaptureSaveSuccess.fire(a),zb&&!qb?zb="":
qb=!1):janrain.events.onCaptureSaveFailed.fire(a);if("emailCode"===a.action&&a.statusMessage&&("verified"===a.statusMessage||"invalidVerificationCode"===a.statusMessage))if("success"===a.status){if((!janrain.settings.capture.federate||!a.sso||!a.ssoCode)&&janrain.events.onCaptureEmailVerficationSuccess.fire(a),(a.accessToken||a.authorizationCode)&&janrain.settings.capture.federate&&a.sso&&a.ssoCode)a.fireEvent="onCaptureEmailVerficationSuccess",ra(a.ssoCode,a.transactionId)}else janrain.events.onCaptureEmailVerificationFailed.fire(a);
"profile"===a.action&&a.statusMessage&&"profileFound"!==a.statusMessage&&("success"===a.status?(rb=!0,Ra=(new Date).getTime(),janrain.events.onCaptureProfileSaveSuccess.fire(a)):janrain.events.onCaptureProfileSaveFailed.fire(a));if("traditionalSignin"===a.action||"socialSignin"===a.action||"ssoSignin"===a.action)if("success"===a.status){if(a.authorizationCode){var b=Eb(janrain.settings.capture.redirectUri,{code:a.authorizationCode});a.redirectUri=b}if(a.accessToken||a.authorizationCode)(!janrain.settings.capture.federate||
!a.sso||!a.ssoCode)&&janrain.events.onCaptureLoginSuccess.fire(a),("traditionalSignin"===a.action||"socialSignin"===a.action)&&$a(a.action),janrain.settings.capture.federate&&a.sso&&a.ssoCode&&(a.fireEvent="onCaptureLoginSuccess",ra(a.ssoCode,a.transactionId)),janrain.settings.capture.federate&&a.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(a),Fb(a.transactionId),Ob=!0);a.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=b)}else janrain.events.onCaptureLoginFailed.fire(a);
if("traditionalRegister"===a.action||"socialRegister"===a.action)if("success"===a.status){if((!janrain.settings.capture.federate||!a.sso||!a.ssoCode)&&janrain.events.onCaptureRegistrationSuccess.fire(a),hc&&(hc=!1),a.accessToken||a.authorizationCode)"socialRegister"===a.action?$a("socialSignin"):$a("traditionalSignin"),janrain.settings.capture.federate&&a.sso&&a.ssoCode&&(a.fireEvent="onCaptureRegistrationSuccess",ra(a.ssoCode,a.transactionId))}else janrain.events.onCaptureRegistrationFailed.fire(a);
a.userData&&janrain.settings.capture.setProfileCookie&&(a=a.userData,b=vb(),(new N).setExpirationDirectly(b).setUseLocalStorage(!0).setName("janrainCaptureProfileData").setValue(M.stringify(a)).create(),janrain.events.onCaptureProfileCookieSet.fire(a))}}function Tb(){if("object"!==typeof w)return!1;bb.modalConfirmText&&w.setConfirmMessageText(bb.modalConfirmText);bb.modalConfirmLinkText&&w.setConfirmLinkText(bb.modalConfirmLinkText);bb.modalCancelLinkText&&w.setCancelLinkText(bb.modalCancelLinkText)}
function Db(a){n=a;n.flow=janrain.settings.capture.flowName;"undefined"===typeof fb&&(fb=a);"object"!==typeof n.layouts&&(n.layouts={});"object"!==typeof n.layouts.captureAccessDeniedBuiltIn&&(n.layouts.captureAccessDeniedBuiltIn={});n.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:ba.accessDenied;"object"!==typeof n.layouts.captureRetrievingUserDataBuiltIn&&(n.layouts.captureRetrievingUserDataBuiltIn=
{});n.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:ba.retrievingUserData;for(a=0;a<fc.length;a++)n.fields[fc[a].field][fc[a].attribute]=fc[a].value}function la(){Dc.push(arguments);if(window.console){var a=arguments;a.callee=a.callee.caller;a=[].slice.call(a);j?console.log(a):console.log.apply(console,a)}}function Ia(){function a(a,b,h){b&&b.screenConditionals?ub(b.screenConditionals,
h):"function"===typeof h&&h()}function b(a){janrain.events.onCaptureAccessDenied.fire();jc=!0;e({layout:"captureAccessDeniedBuiltIn",modal:a.modal,source:"server"})}function c(a){var b,h=X();switch(a){case "email":(a=Ca(window.location.href).queryKey.verification_code)?(b=na({capture_transactionId:h,verification_code:a}),Ha("/widget/email_code.jsonp",b),Ga(h),la("need to verify "+a)):la("no code supplied");break;case "password":(a=Ca(window.location.href).queryKey.code)?(la("need to verify "+a),b=
na({capture_transactionId:h,code:a}),Ha("/widget/email_code.jsonp",b),Ga(h)):la("no code supplied")}}function f(a){a&&(yb=a.validateOnRender);if(a&&"changePasswordLink"===a.dataType&&!a.errors)return c("password"),!1;if(a&&"verifyEmail"===a.dataType&&!a.errors)return c("email"),!1;var f=a.dataType&&"public"===a.dataType;if(a&&a.hasUserData&&!n.fused||a&&a.hasUserData&&f&&!n.privacyFiltered)return f=a.dataType&&"public"===a.dataType,!Sa&&!f?b(a):(jc=!0,e({layout:"captureRetrievingUserDataBuiltIn",
modal:a.modal,source:"server"}),Sb(f)),i(),!1;if(!Sa&&a&&a.requireAccessToken)return b(a),i(),!1;jc=!1;e(a);i();cb&&(cb=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function d(b,h){if(Nb&&h&&(n.noModalForMobile||h.noModalForMobile))h.modal=!1;if(Nb&&h&&(n.modalForMobile||h.modalForMobile))h.modal=!0;Ob?(V=b,C="capture_"+V+"_",a(b,h,function(){f(h)})):setTimeout(function(){d(b,h)},50)}function e(a){if(aa&&aa.div&&(!a.modal||aa.modal&&a.modal)&&
!a.keepPreviousScreen)aa.div.style.display="none";var b=a.layout,h=a.source,c=a.modal,a=!!a.modalLoadOnLoad;if("server"===h){var f=document.getElementById(b);f||(f=document.createElement("div"),f.setAttribute("id",b));try{Pb[b]?P.html=Pb[b]:(P.html=n.layouts[b].html,Pb[b]=P.html)}catch(s){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+b+"' is missing."};}}if("client"===h)try{if(f=document.getElementById(b))Pb[b]?P.html=Pb[b]:(P.html=f.innerHTML,Pb[b]=
P.html);else throw P.html="",A(b);}catch(d){throw la(d.name+": "+d.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}o(f).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");Nb&&(o(f).append("janrain-capture-ui-mobile"),qa.onOrientationChange.addHandler(function(a){o(f).append("janrain-capture-ui-mobile-"+a.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[a.orientation]);janrain.events.onCaptureContentChange.fire()}),
qa.onOrientationChange.fire({orientation:qa.getOrientation()}));P.div=f;jc||P.div.setAttribute("data-capturescreenname",V);lc=P.div;P.modalLoadOnLoad=a;P.source=h;P.modal=c;aa=P;"undefined"===typeof nb[V]&&(nb[V]={});nb[V].layout=P}function g(a,b){if("object"===typeof a.displayCondition&&"undefined"!==typeof a.displayConditionPassed&&!1===a.displayConditionPassed)return!1;if(a.close)return l.render.htmlElement.close(a);if("data"==a.element){if("string"===a.type)return l.render.data.stringData(a);
if("image"===a.type)return l.render.data.imageData(a);if("engageCookie"===a.type)return l.render.data.engageCookieData(a)}if("multiRadio"==a.element)return l.render.htmlElement.multiRadio(a);if("multiCheckbox"==a.element)return l.render.htmlElement.multiCheckbox(a);if("textarea"==a.element)return l.render.htmlElement.textarea(a);if("select"==a.element)return l.render.htmlElement.select(a);if("input"==a.element)return l.render.htmlElement.input(a);if("form"==a.element)return l.render.htmlElement.form(a);
if("div"==a.element)return l.render.htmlElement.div(a);if("anchor"==a.element)return l.render.htmlElement.anchor(a);if("button"==a.element)return l.render.htmlElement.button(a);if("capture"==a.element){if("keepMeLoggedIn"==a.type)return l.render.captureElement.keepMeLoggedIn(a);if("countrySelect"==a.type)return l.render.captureElement.countrySelect(a);if("stateSelect"==a.type)return l.render.captureElement.stateSelect(a);if("publicProfileLink"==a.type)return l.render.captureElement.publicProfileLink(a,
b);if("errorMessages"==a.type)return l.render.captureElement.errorMessages(a);if("savedProfileMessage"==a.type)return l.render.captureElement.savedProfileMessage(a);if("captcha"==a.type)return l.render.captureElement.captcha(a);if("linkAccounts"==a.type)return l.render.captureElement.linkAccounts(a);if("mergeAccounts"==a.type)return l.render.captureElement.mergeAccounts(a,b);if("radioCollection"==a.type)return l.render.captureElement.collection.radio(a);if("tabCollection"==a.type)return l.render.captureElement.collection.tab(a);
if("photoManager"==a.type)return l.render.captureElement.photoManager(a,b);if("dateselect_public"==a.type)return l.render.captureElement.dateselect_public(a);if("dateselect"==a.type)return l.render.captureElement.dateselect(a);if("addressFull"==a.type)return l.render.captureElement.addressFull(a);if("addressFull_public"==a.type)return l.render.captureElement.addressFull_public(a);if("nameFull"==a.type)return l.render.captureElement.nameFull(a);if("nameFull_public"==a.type)return l.render.captureElement.nameFull_public(a);
if("backButton"==a.type)return l.render.captureElement.backButton(a);if("partial"==a.type)return l.render.captureElement.partial(a,b);if("slider"==a.type)return l.render.captureElement.slider(a,b);if("table"==a.type)return l.render.captureElement.table(a,b);if("pluralIterator"==a.type)return l.render.captureElement.pluralIterator(a)}return"widget"==a.element?l.render.widget[a.type](a,b):!1}function i(){janrain.events.onCaptureRenderStart.fire(n);$=[];n.fields.submitButton||(n.fields.submitButton=
{element:"input",type:"submit",label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});n.fields.loginWidget||(n.fields.loginWidget={element:"widget",type:"login"});n.fields.shareWidget||(n.fields.shareWidget={element:"widget",type:"share"});n.fields.backButton||(n.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});n.fields.captcha||(n.fields.captcha={element:"capture",type:"captcha"});n.fields.keepMeLoggedIn||(n.fields.keepMeLoggedIn=
{element:"capture",type:"keepMeLoggedIn"});n.fields.errorMessages||(n.fields.errorMessages={element:"capture",type:"errorMessages"});n.fields.savedProfileMessage||(n.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});P.originalHtml=P.html;P.flow=n;var a=xc||X();xc=null;P.html=j(P.html,a);P.div.innerHTML=P.html;if("server"==P.source){if(!document.getElementById("janrainCaptureWidget")){var b=document.createElement("div");b.id="janrainCaptureWidget";document.body.appendChild(b)}document.getElementById("janrainCaptureWidget").appendChild(P.div)}if(!jc){for(var b=
0,h=r.length;b<h;b++)za(document.getElementById(r[b]),!1);r=[]}p();m();if(0<janrain.events.onCssLoad.firedEvents.length)for(var b=janrain.events.onCssLoad.firedEvents,h=0,c=b.length;h<c;h++)"object"==typeof b&&b[h].args&&b[h].args.source&&-1==u.indexOf(b[h].args.source)&&b[h].event.fire(b[h].args);k.domHelpers.createIFrame(a);for(b=0;b<$.length;b++)h=document.getElementById(C+$[b].elementName),$[b].next&&$[b].next.type&&"server"===$[b].next.type?h.setAttribute("next",'{"noop":""}'):$[b].next?($[b].next.conditional&&
h.setAttribute("next",M.stringify($[b].next)),$[b].next.screen&&h.setAttribute("next",M.stringify($[b].next)),$[b].next.url&&h.setAttribute("next",M.stringify($[b].next)),$[b].next.action&&h.setAttribute("next",M.stringify($[b].next))):h.setAttribute("next",'{"noop":""}');t(a);aa=P;janrain.events.onCaptureContentChange.fire()}function j(a,b){for(var h=/\{\*(.*?)\*\}/,c=/^\s*\/\s*/,f=/^\s*#\s*/,s=/\{(.*?)*\}\s*/,d=!1,e,ea=[],k=[];e=h.exec(a);)try{var i=e[1].trim();if(s.test(i))var Uc=i.match(s),i=
i.replace(Uc[0],"").trim(),m=Uc[0].match(/\{(.*?)*\}\s*/)[0];else m=null;d=!1;f.test(i)&&(i=i.replace("#","").trim(),d=!0);if(c.test(i)){var o=i.replace("/",""),l={};if("undefined"==typeof n.fields[o])return la("No field definition for"+o,"error"),!1;l.element=n.fields[o].element;l.type=n.fields[o].type;l.close=!0}else{if("undefined"==typeof n.fields[i])return la("No field definition named "+i+" for tag "+e[0],"error"),!1;l=n.fields[i];l.name=i;d&&(l.start=!0);"form"===l.element&&!l.transactionId&&
(l.transactionId=b);l.elementName=l.elementName||i}var m=m||null,Ic=g(l,m);Ic||(Ic=" ");a=a.replace(e[0],Ic);(l.next||"form"===l.element&&!l.close)&&$.push({elementName:l.elementName,next:l.next});l.onclickHandler&&v.push({elementName:l.elementName,handler:l.onclickHandler,eventType:"click"});l.onchangeHandler&&v.push({elementName:l.elementName,handler:l.onchangeHandler,eventType:"change"});"string"===typeof l.element&&"form"===l.element&&!l.close&&(v.push({elementName:l.elementName,handler:La,eventType:"submit"}),
janrain.settings.capture.autoSave&&v.push({elementName:l.elementName,handler:Aa,eventType:"render"}));if("form"===l.element&&("widget/traditional_register.jsonp"===l.action||"widget/social_register.jsonp"===l.action))k.push("widget/traditional_register.jsonp"===l.action?"traditionalRegister":"socialRegister");if("form"===l.element&&"widget/traditional_signin.jsonp"===l.action||"widget"===l.element&&"login"===l.type)ea.push("widget/traditional_signin.jsonp"===l.action?"traditionalSignin":"socialSignin")}catch(p){return la(p.name+
": "+p.message,"error"),!1}ea.length&&janrain.events.onCaptureLoginStart.fire({action:ea.join(","),screen:V});k.length&&janrain.events.onCaptureRegistrationStart.fire({action:k.join(","),screen:V});return a}function m(){P.div.getAttribute("data-captureventadded")||(R(P.div,"click",function(a){var b=H(a);if(b&&b.nodeName&&"A"===b.nodeName){var h=b.getAttribute("data-capturecontrol");if(h){var c=X(),h=na({flow_control:h,token:Sa,capture_transactionId:c});Ha("/widget/control.jsonp",h);Ga(c);K(a)}b.getAttribute("data-cancelcapturereturnexperience")&&
Na&&(c=new N,c.setUseLocalStorage(!0).setName("janrainLastAuthMethod"),c.remove(),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.capture.ui.renderScreen(Na),K(a));if((b=b.getAttribute("data-modalwindow"))&&"object"===typeof w)"close"===b&&(janrain.capture.ui.modal.close(),K(a)),"closeconfirm"===b&&(janrain.capture.ui.modal.closeConfirm(),K(a))}}),P.div.setAttribute("data-captureventadded",!0));for(var a=P.div.getElementsByTagName("img"),b=a.length,h=
0;h<b;h++)R(a[h],"load",function(){janrain.events.onCaptureContentChange.fire()});a=Ma(janrain.settings.capture.modalOpenClass||"capture_modal_open");b=a.length;if(!Zb){for(h=0;h<b;h++)R(a[h],"click",function(a){"object"===typeof w?(janrain.capture.ui.renderScreen(aa.flow.defaultScreen),w.setShowContentOnLoad(!0).addContent(aa.div).show(),janrain.events.onCaptureScreenShow.fire({screen:V}),janrain.events.onCaptureContentChange.fire()):Yb=!0;K(a)});Zb=!0}}function p(){if(n.cssDependencies&&y(n.cssDependencies))for(var a=
0;a<n.cssDependencies.length;a++)z(n.cssDependencies[a]);Hc&&yc&&!sb?janrain.events.onCssLoad.addHandler(function(a){P=aa;u.push(a.source);for(a=0;a<Hc;a++)if(-1==u.indexOf(D[a]))return!1;sb||(x(),sb=!0)}):x();janrain.events.onCaptureRenderComplete.fire({flow:n,screen:V});n.screens&&n.screens[V]&&n.screens[V].type&&"completeSocialRegistration"===n.screens[V].type&&(ya(Sa),ua())}function x(){var a=!1;if(P.modal){if("object"===typeof w){var a=!0,b=w.getContent();b&&document.body.appendChild(b);w.close(!0)}else w=
new tc,Tb();L||(janrain.events.onCaptureModalReady.fire(),janrain.events.onModalClose.addHandler(function(){n&&n.mergeToken&&(n.mergeToken="")}),L=!0);w=Bb(w);w.setShowContentOnLoad(!0).addContent(P.div);if(a||P.modalLoadOnLoad||Yb)w.show(),janrain.events.onCaptureScreenShow.fire({screen:V})}else"object"===typeof w&&w.close(!0),janrain.events.onCaptureScreenShow.fire({screen:V});P.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function t(a,b){for(var b=b||v,h=0;h<b.length;h++){if("function"===
typeof b[h].handler)if("render"===b[h].eventType)b[h].handler(C+b[h].elementName);else{var c=document.getElementById(C+b[h].elementName);R(c,b[h].eventType,b[h].handler)}a&&U(a)}v=[]}var P={},l;l=new B;lb=new G;return{setScreenData:d,render:i,renderField:g,attachEventHandlers:t}}function Ab(a,b){for(var c=[],f=document.getElementById(a).getElementsByTagName("INPUT"),d=f.length,e=0;e<d;e++){var g={};g.id=f[e].id;g.placeholder=f[e].getAttribute("placeholder");if(Hb||b)ic[f[e].getAttribute("data-capturefield")]=
f[e].value;g.value=g.placeholder?g.placeholder===f[e].value?"":f[e].value:f[e].value;"radio"===f[e].type&&(g.type="radio",g.checked=f[e].checked);c.push(g)}return c}function Sb(a,b){var c="function"===typeof b?b:function(){};if(a){var f=gc||Ca(window.location.href).queryKey.uuid;gc&&(gc="");f?(la("need to get data for "+f),k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:c,
fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},{elementName:"uuid",elementType:"hidden",elementValue:f}]})):la("no uuid supplied")}else{if(!Sa)return!1;k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function Ha(a,b,c){var f=-1<a.indexOf("?")?"&":"?",d=0===a.indexOf("http")?
"":janrain.settings.capture.captureServer,e=[],g;for(g in b)b.hasOwnProperty(g)&&e.push(g+"="+encodeURIComponent(b[g]));ta(d+a+f+e.join("&"),c)}function Eb(a,b){var c=-1<a.indexOf("?")?"&":"?",f=[],d;for(d in b)b.hasOwnProperty(d)&&f.push(d+"="+encodeURIComponent(b[d]));return a+c+f.join("&")}function mb(a,b){b||ua();var c={},f=a&&a.userData&&a.userData.migratedUserType?a.userData.migratedUserType:null,d=b?Ib:ec;gb&&!b&&(c.capture_social_registration=gb);Fc&&(c.authProvider=Fc);f&&(c.migratedUserType=
f);c=Eb(d,c);window.location=c}function Rb(a,b){var c=!1,f;if("ok"===a.stat&&(f=a.result,f.accessToken&&f.oneTime&&(zb=f.accessToken,qb=!0),f.accessToken&&!f.oneTime&&da(f.accessToken),f&&Kb(f),Fc=f&&f.authProvider?f.authProvider:null,f&&f.screen&&n.screens&&n.screens[f.screen]&&n.screens[f.screen].type&&"completeSocialRegistration"===n.screens[f.screen].type&&Y(),"socialSignin"===f.action&&"success"===f.status&&"noUserForIdentifier"===f.statusMessage||"socialSignin"===f.action&&"success"===f.status&&
janrain.settings.capture.socialRegistrationRedirectUrlCondition)){var d=janrain.settings.capture.socialRegistrationRedirectUrlCondition;if(d){var e=[];Yc(d,function(a,b){f[a]===b||f.userData&&f.userData[a]===b?e.push(!0):e.push(!1)})}ec&&"noUserForIdentifier"===f.statusMessage&&(c=!0,mb(f));Ib&&d&&!x(e,!1)&&(c=!0,mb(f,!0))}"function"===typeof b&&!c&&b(f)}function Ub(a){function b(a){return'<li><a href="#" class="capture_suggestion">'+a+"</a></li>"}var a=a.result,d=c(a.submittedScreen),f=n.fields[a.field],
e=document.getElementById(d+(f.elementId||f.elementName)),g=a.alternatives,q=f.validation.messages.unique||"",i=document.getElementById(d+"form_item_"+f.elementName),j=new k.validation;j.setElement(e);j.setParentDiv(i);if(!1===a.unique)if(g){var g=g.map(b),l=function(a){var b=H(a);o(b).has("capture_suggestion")&&(e.value=b.innerHTML,pc(i,"click",l),j.valid(),K(a))};j.notValid(q+'<ul class="capture_suggestions">'+g.join("")+"</ul>",function(){R(i,"click",l)})}else j.notValid(q);else j.valid()}function Vb(a,
b){if("string"!==typeof a||!janrain.settings.capture.setProfileCookie)return!1;var c=new N,f;c.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)c.getCookie("janrainCaptureProfileData",function(c){c.length&&(f=M.parse(c),"function"===typeof b&&"object"===typeof f&&b(f[a]))});else if(c=c.getCookie("janrainCaptureProfileData"),c.length&&(f=M.parse(c),"object"===typeof f))return f[a]}function Gb(a){var b=N();return x(["expected_tab","welcome_info_name","login_tab"],a)&&(a=b.getCookie(a))?
unescape(a):""}function Qb(){var a=document.createElement("div");a.className="capture_btn capture_processing";a.innerHTML="Processing";return a}function Bb(a){var b=janrain.settings.capture.modalBorderWidth||10,c=janrain.settings.capture.modalBorderColor||"#000",f=janrain.settings.capture.modalBorderRadius||10,d=janrain.settings.capture.modalBorderOpacity||0.5;a.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(c).setBorder(b).setBorderOpacity(d).setBorderRadius(f);return a}
function Cb(a){if("object"!==typeof w)w=new tc,Tb();else{var b=w.getContent();b.style.display="none";b&&document.body.appendChild(b)}aa&&aa.modal&&dc.push(aa);w=Bb(w);w.addContent(a).show();w.setHeight(Ba(a).height);w.setWidth(Ba(a).width).refresh()}var v=[],lb,Qa,ib=janrain.settings.capture.language||janrain.settings.language||"en-US",$=[],V,nb={},C,Na,cb=!1,yb,dc=[],aa={},fc=[],fb,kb={},Hb=janrain.settings.capture.mode13||!1,ec=janrain.settings.capture.socialRegistrationRedirect,Ib=janrain.settings.capture.socialRegistrationCompleteRedirect,
hc=!1,ic={},xc,Wa,jc=!1,gb,kc,pb=!1,Sa,Ob=!1,zb,qb=!1,rb=!1,sb=!1,n,bb={},lc,hb,Mb=!1,Pb={},Ac={},zc=[],Bc=[],Cc=[],Wb=[],yc=!1,Xb=1,O="placeholder"in document.createElement("input"),Jc=!1,wc=!1,Gc,w,Yb=!1,Zb=!1,L=!1,D=[],Hc=0,r=[],F="HEAD",ac=!1,ba={},vc=["accessDenied","retrievingUserData"],Pa={},bc=!1,Za=0,Fa=[],S=!1,Oa,Ea=Ca(window.location.href).queryKey,gc,Fc,u=[];"en"===ib&&(ib="en-US");ec&&Ea&&Ea.capture_social_registration&&(gb=Ea.capture_social_registration,hc=!0);Pa.publicPrivateTogglers=
[];G.prototype.check=function(a,b,d){b.validation&&!0!==b.validation.noTrim&&"string"===typeof a.value&&(a.value=a.value.trim());var b=b||n.fields[a.name],f=a.getAttribute("data-capturerendererchildfieldname"),f=f&&b.validation&&b.validation[f]?b.validation[f]:f&&"dateselect"!==b.type?!1:b.validation;if(!b.validation)return!0;b.validation.temp=f;if(!b.validation.temp)return!0;b.validation.temp.messages||(b.validation.temp.messages={});if(!this.hasValue(a,b))return{valid:!1,reason:b.validation.temp.messages.required||
"Field not completed"};if(!this.isDate(a,b))return{valid:!1,reason:b.validation.temp.messages.isDate||"Not a valid date"};if(!this.isValidMaxFileSize(a,b))return{valid:!1,reason:b.validation.temp.messages.maxFileSize||"File is too large"};if(!this.isValidFileType(a,b))return{valid:!1,reason:b.validation.temp.messages.validFileTypes||"File is not a valid file type"};if(!this.isValidMinYears(a,b))return{valid:!1,reason:b.validation.temp.messages.minYears||"Not old enough",validation:{minYears:f.minYears}};
if(!this.isValidMinLength(a,b))return{valid:!1,reason:b.validation.temp.messages.minLength||"Invalid length"};if(!this.isValidMaxLength(a,b))return{valid:!1,reason:b.validation.temp.messages.maxLength||"Invalid length"};if(!this.isValidMaxNumericLength(a,b))return{valid:!1,reason:b.validation.temp.messages.maxNumericLength||"Invalid number of numeric characters"};if(!this.isValidFormat(a,b))return{valid:!1,reason:b.validation.temp.messages.format||"Invalid format"};if(!this.isValidMatch(a,b))return{valid:!1,
reason:b.validation.temp.messages.match||"Invalid match"};f=this.custom(a,b);if(!f)return"undefined"===typeof f?{pending:!0}:{valid:!1,reason:b.validation.temp.messages.custom||"Invalid"};return b.validation.temp.unique&&!d?(d=document.getElementById(c(a)+"form_item_"+a.getAttribute("name")),this.isUnique(a,d,b,function(){}),{pending:!0}):{valid:!0}};G.prototype.custom=function(a,b){if(!b||!b.validation.temp.custom||"function"!==typeof Kc[b.validation.temp.custom])return!0;var d=new k.validation,
f=document.getElementById(c(a)+"form_item_"+b.elementName);d.setParentDiv(f);d.setElement(a);return Kc[b.validation.temp.custom](a.name,a.value,d)};G.prototype.getRating=function(a){var a=a.value,b=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],c=0,f;f=Math.min(8,Math.floor(3*Math.log(a.length+1)));for(var d=0;d<b.length;d++)b[d].test(a)&&c++;return f+=Math.floor(Math.pow(2,c)/2)};G.prototype.isValidMaxNumericLength=function(a,b){if(!b)return!0;var c=b.validation.temp.maxNumericLength;if(!c)return!0;var f=
a.value.match(/(\d)/g);y(f)&&f.length>c&&b.validation.temp.actions&&b.validation.temp.actions.maxNumericLength&&Fa.push(b.validation.temp.actions.maxNumericLength);return y(f)?f.length<=c:!0};G.prototype.isValidMaxLength=function(a,b){var c=a.value;if(!b)return!0;var f=b.validation.temp.maxLength;if(!f)return!0;c.length>f&&b.validation.temp.actions&&b.validation.temp.actions.maxLength&&Fa.push(b.validation.temp.actions.maxLength);return c.length<=f};G.prototype.isValidMinLength=function(a,b){var c=
a.value;if(!b)return!0;var f=b.validation.temp.minLength;if(!f)return!0;c.length<f&&b.validation.temp.actions&&b.validation.temp.actions.minLength&&Fa.push(b.validation.temp.actions.minLength);return c.length>=f};G.prototype.isValidMaxFileSize=function(a,b){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!b||"file"!==a.type)return!0;var c=b.validation.temp.maxFileSize;return!c?!0:a.files[0].size<c};G.prototype.isValidFileType=function(a,b){if(!window.File||!window.FileReader||
!window.FileList||!window.Blob||!b||"file"!==a.type)return!0;var c=b.validation.temp.validFileTypes;return!y(c)?!0:x(c,a.files[0].type)};G.prototype.isDate=function(a,b){if((!b||"dateselect"!==b.type)&&!b.validation.temp.isDate)return!0;var c=J(a,b);return c?Oc(c):!0};G.prototype.isValidMinYears=function(a,b){if(!b||"dateselect"!==b.type)return!0;var c=J(a,b),f=b.validation.temp.minYears;if(!Oc(c)||!f)return!0;var d=new Date,c=Math.abs(((new Date(c)).getTime()-d.getTime())/864E5),c=Math.floor(c/365.242199);
c>=f||b.validation.temp.actions&&b.validation.temp.actions.minYears&&Fa.push(b.validation.temp.actions.minYears);return c>=f};G.prototype.hasValue=function(a,b){var c;if("select"===b.element)c=a.options[a.selectedIndex].value;else if("checkbox"===b.type&&!("multiCheckbox"===b.element||"multiRadio"===b.element))c=a.checked;else if("multiCheckbox"===b.element||"multiRadio"===b.element)if(c=b.elementName){c=document.getElementsByName(c);for(var f=c.length,d=[],e=0;e<f;e++)c[e].checked&&d.push(c[e]);
c=d.length}else c=!1;else c=a.value;if(!b||!b.validation.temp.required)return!0;if("dateselect"===b.type)return c=J(a,b),!c?!1:!0;c||b.validation.temp.actions&&b.validation.temp.actions.required&&Fa.push(b.validation.temp.actions.required);return c};G.prototype.isUnique=function(a,b,c,f){b=a.form.getAttribute("data-capturefield");c=a.getAttribute("data-capturefield");a=na({value:a.value,form:b,capture_screen:g(a),field:c});Sa&&(a.access_token=Sa);Qa&&(a.flow_path=Qa);Ha("/widget/unique.jsonp",a,f)};
G.prototype.isBlacklisted=function(a,b,c){function f(){var b=a.value,h=response;if(!h||0===h.length)return!0;for(var c,f=0;f<h.length;f++)if(c=RegExp("^"+h[f]+"$","i"),c.test(b))return!0;return!1}captureUIBlacklistCallback=function(a){c(f(a))};y(b)?c(f(b)):"string"===typeof b?captureUIBlacklistCallback(["chad"]):c(!0)};G.prototype.isValidFormat=function(a,b){var c={alpha:/^[a-z]+$/i,alphaExtended:/^[a-zA-Z\-']+$/,alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,
email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!b||!b.validation.temp.format)return!0;var f=b.validation.temp.format;if("string"===typeof f&&c[f])f=c[f];else return!1;f.test(a.value)||b.validation.temp.actions&&b.validation.temp.actions.format&&Fa.push(b.validation.temp.actions.format);return f.test(a.value)};G.prototype.isValidMatch=function(a,b){if(!b)return!0;var d=b.validation.temp.match;if(!d)return!0;d=n.fields[d];d=c(a)+(d.elementId||
d.elementName);d=document.getElementById(d);a.value!==d.value&&b.validation.temp.actions&&b.validation.temp.actions.match&&Fa.push(b.validation.temp.actions.match);return a.value===d.value};var k={attachFieldEventHandlers:function(a){a.type||(a.type="");"password"===a.type&&(v.push({elementName:a.elementName,handler:k.togglePasswordInput,eventType:"click"}),v.push({elementName:a.elementName,handler:k.togglePasswordInput,eventType:"focus"}),a.validation&&("function"===typeof a.validation.rating?v.push({elementName:a.elementName,
handler:function(b){var b=xa(b),c=lb.getRating(b);a.validation.rating(b,c)},eventType:"keyup"}):a.validation.rating&&v.push({elementName:a.elementName,handler:function(a){a=xa(a);a=lb.getRating(a);la("Password Strength",a)},eventType:"keyup"})));if("text"===a.type||"password"===a.type||"email"===a.type)v.push({elementName:a.elementName,handler:k.clearPlaceHolder,eventType:"focus"}),v.push({elementName:a.elementName,handler:k.restorePlaceHolder,eventType:"blur"});v.push({elementName:a.elementName,
handler:function(b){b=H(b);b=c(b);b=document.getElementById(b+"form_item_"+a.elementName);o(b).append("capture_focused").remove("capture_error");Nb&&window.scrollTo(0,0);janrain.events.onCaptureContentChange.fire()},eventType:"focus"});v.push({elementName:a.elementName,handler:function(b){b=H(b);b=c(b);b=document.getElementById(b+"form_item_"+a.elementName);o(b).remove("capture_focused")},eventType:"blur"});a.validation&&v.push({elementName:a.elementName,handler:ja,eventType:a.validation.eventType||
"blur"});a.rendererFieldName&&a.rendererChildFieldName&&n.fields[a.rendererFieldName].validation&&n.fields[a.rendererFieldName].validation[a.rendererChildFieldName]&&v.push({elementName:a.rendererFieldName+"_"+a.rendererChildFieldName,handler:ja,eventType:"blur"})},wrapStringData:function(a,b,c){var f="",d=["capture_data_item"];c&&d.push(c);f+=k.createDiv({elementId:"stringdata_"+a.name,classes:d});a.label&&(f+=k.createLabel({elementId:a.name,label:a.label,classes:["capture_data_label"]}));f+=k.createDiv({elementId:a.name,
classes:["capture_data"]});return f+b+"</div></div>"},wrapFormItemStart:function(a){var b="",c=[],f=a.classes||[],d="elementCollection"===a.type?"form_collection":"form_item";if(a.justElement||"submit"===a.type||"button"===a.type)return"";-1===f.indexOf("capture_"+d)&&f.push("capture_"+d);a.errors&&-1===f.indexOf("capture_error")&&!a.collection&&f.push("capture_error");!a.collection&&a.type&&-1===f.indexOf("capture_"+a.type)&&("checkbox"===a.type||"radio"===a.type?c.push("capture_"+a.type):f.push("capture_"+
a.type));"elementCollection"===a.type&&a.displayInline&&-1===f.indexOf("capture_form_collection_inline")&&f.push("capture_form_collection_inline");a.collection?(-1===f.indexOf("capture_"+d+"_"+a.elementName)&&f.push("capture_"+d+"_"+a.elementName),a.checked&&f.push("capture_toggled"),b+=k.createDiv({elementName:d+"_"+a.elementId,hide:a.hide,classes:f})):b+=k.createDiv({elementName:d+"_"+a.elementName,hide:a.hide,classes:f});if(("checkbox"===a.type||"radio"===a.type)&&!a.collection)b+=k.createDiv({elementName:d+
"_inner_"+a.elementName,classes:c});return b},wrapFormItemEnd:function(a){return a.justElement||"submit"===a.type||"button"===a.type?"":"</div>"},createPublicPrivateToggle:function(a){function b(){for(var a=Pa.publicPrivateTogglers,h=a.length,c=0;c<h;c++)a[c]&&(a[c].style.display="none");Pa.publicPrivateTogglers=[]}function d(b){var h=H(b),f=c(h),e=document.getElementById(f+"display_toggle_options_"+a.elementName),g=document.getElementById(f+"display["+(a.rendererFieldName||a.elementName)+"]"),s=
document.getElementById(f+"display_indicator_public_"+a.elementName),k=document.getElementById(f+"display_indicator_private_"+a.elementName),i=f+"display_option_public_"+a.elementName,ea=f+"display_option_private_"+a.elementName;document.getElementById(f+"display_toggle_options_"+a.elementName);if(h.parentNode&&h.parentNode.id&&(h.parentNode.id===i||h.parentNode.id===ea))h=h.parentNode;if(!h.id)return!1;h.id===i?(o(document.getElementById(i)).append("capture_checked"),o(document.getElementById(ea)).remove("capture_checked"),
g.value="public",o(s).append("capture_toggled"),o(k).remove("capture_toggled")):(o(document.getElementById(i)).remove("capture_checked"),o(document.getElementById(ea)).append("capture_checked"),g.value="private",o(s).remove("capture_toggled"),o(k).append("capture_toggled"));e.style.display="none";K(b)}var f;f=""+k.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+a.elementName});f+=k.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+
a.elementName});var e=["capture_display_option"];a.displayPublic&&e.push("capture_checked");f+=k.createDiv({classes:e,elementId:"display_option_public_"+a.elementName});f+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_option"];a.displayPublic||e.push("capture_checked");f+=k.createDiv({classes:e,elementId:"display_option_private_"+a.elementName});f+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';
e=["capture_display_toggle","capture_public"];a.disablePublicPrivate&&e.push("capture_display_toggle_disabled");a.displayPublic&&e.push("capture_toggled");f+=k.createDiv({classes:e,elementId:"display_indicator_public_"+a.elementName});f+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_toggle","capture_private"];a.disablePublicPrivate&&e.push("capture_display_toggle_disabled");a.displayPublic||e.push("capture_toggled");
f+=k.createDiv({classes:e,elementId:"display_indicator_private_"+a.elementName});f=f+'<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+k.createInput({type:"hidden",elementName:"display["+(a.rendererFieldName||a.elementName)+"]",value:a.displayPublic?"public":"private"});v.push({elementName:"display_toggle_wrap_"+a.elementName,eventType:"click",handler:function(f){var d=H(f),e=c(d),e=document.getElementById(e+"display_toggle_options_"+
a.elementName),g="none"===e.style.display||""===e.style.display?"block":"none";d.parentNode&&o(d.parentNode).has("capture_display_toggle")&&(d=d.parentNode);o(d).has("capture_display_toggle")&&!o(d).has("capture_display_toggle_disabled")&&("block"===g&&(b(),Pa.publicPrivateTogglers.push(e)),e.style.display=g);K(f)}});v.push({elementName:"display_option_public_"+a.elementName,handler:d,eventType:"click"});v.push({elementName:"display_option_private_"+a.elementName,handler:d,eventType:"click"});ac||
(R(document.body,"click",function(a){a=H(a);a.parentNode&&o(a.parentNode).has("capture_display_toggle")&&(a=a.parentNode);!o(a).has("capture_display_toggle")&&!o(a).has("capture_display_option")&&b()}),ac=!0);return f},createAnchor:function(a){var b="",c=a.fieldPrefix||C,f=a.elementId||a.elementName,d="object"===typeof a.elementAttributes?a.elementAttributes:{},e=a.elementClasses&&y(a.elementClasses)?a.elementClasses:[];x(e,"capture_"+f)||e.push("capture_"+f);b=b+"<a "+("id='"+c+f+"' ");a.target&&
(b+="target='"+a.target+"' ");b+="class='"+e.join(" ")+"' ";b+=sc(d)+" ";b+="data-capturefield='"+a.name+"' ";b+="href='"+a.elementHref+"' ";b+="name='"+a.elementName+"' ";b+=">";a.elementText&&(b+=a.elementText);return b+"</a>"},createTextarea:function(a){var b="",c=a.fieldPrefix||C,f=a.elementId||a.elementName,d=a.elementClasses&&y(a.elementClasses)?a.elementClasses:[],e=a.rows||"5",b=b+k.createLabel(a);x(d,"capture_"+f)||d.push("capture_"+f);x(d,"capture_textarea")||d.push("capture_textarea");
b=b+"<textarea "+("id='"+c+f+"' ")+("class='"+d.join(" ")+"' ");b+="data-capturefield='"+a.name+"' ";b=b+("rows='"+e+"' ")+("name='"+a.elementName+"' ");a.placeholder&&O&&(b+="placeholder='"+a.placeholder+"'");b+=">";a.value&&(b+=a.value);b+="</textarea>";a.publicPrivateToggle&&(b+=k.createPublicPrivateToggle(a));return b+=k.createTip(a)},createTip:function(a){var b;b="<div class='capture_tip' ";a.tip||(b+="style='display:none;' ");b+=">"+("undefined"!==typeof a.tip?a.tip:"")+"</div>";b=b+"<div class='capture_tip_validating'"+
(" data-elementName='"+a.elementName+"'>");b=b+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+a.elementName+"'>");a.errors&&y(a.errors)&&(b+=a.errors.join(" "),janrain.events.onCaptureServerValidationFailed.fire(a));return b+"</div>"},createLabel:function(a,b){var c,f=a.fieldPrefix||C,d=a.elementId||a.elementName;if(!a.label)return b?b:"";c="<label ";"elementCollection"!==a.type&&(c+=" for='"+f+d+"'");c+=">";b&&(c+=b);a.label&&(c+=a.label);return c+"</label>"},createSelect:function(a){var b=
"",d=a.fieldPrefix||C,f=a.rendererFieldName,e=a.rendererChildFieldName,g,i=a.justElement,j=a.elementClasses&&y(a.elementClasses)?a.elementClasses:[],l=a.elementId||a.elementName;x(j,"capture_"+l)||j.push("capture_"+l);x(j,"capture_select")||j.push("capture_select");b+=k.createLabel(a);b=b+'<span class="capture_select_arrow"><select '+("id='"+d+l+"' ")+("class='"+j.join(" ")+"' ");f&&(b+="data-capturerendererfield='"+f+"' ");a.showFieldWhere&&(b+='data-showFieldWhere="'+a.showFieldWhere+'" ');e&&(b+=
"data-capturerendererchildfieldname='"+e+"' ");b+="data-capturefield='"+a.name+"' ";b+="name='"+a.elementName+"' ";b+=">";f=a.options||[];e=f.length;for(j=0;j<e;j++){var l=f[j],m=l.value||""===l.value?l.value:l.text,b=b+('<option value="'+m+'"');l.disabled&&(b+=' disabled="true"');y(l.showField)&&(b+=' data-showField="'+l.showField.join(",")+'"');m===a.value&&(b+=' selected="selected"',g=l.showField);b+=">"+l.text+"</option>"}b+="</select></span>";a.publicPrivateToggle&&(b+=k.createPublicPrivateToggle(a));
i||(b+=k.createTip(a));v.push({handler:function(){g&&Z(g,a.showFieldWhere,d)},eventType:"render"});v.push({elementName:a.elementName,handler:function(a){var b=H(a),a=c(b),h=b.getElementsByTagName("option")[b.selectedIndex].getAttribute("data-showField"),b=b.getAttribute("data-showFieldWhere");h&&h.length&&(h=h.split(","));Z(h,b,a)},eventType:"change"});return b},createButton:function(a){var b="",c=a.fieldPrefix||C,f=a.elementId||a.elementName,d=a.elementClasses&&y(a.elementClasses)?a.elementClasses:
[],e=a.type?a.type:"submit";x(d,"capture_"+f)||d.push("capture_"+f);x(d,"capture_btn")||d.push("capture_btn");x(d,"capture_primary")||d.push("capture_primary");b+="<button ";a.hide&&(b+="style='display:none' ");b=b+("id='"+c+f+"' ")+("class='"+d.join(" ")+"' ");b=b+("type='"+e+"' ")+("data-capturefield='"+a.name+"' ");a.value&&(b+="value='"+a.value+"' ");b+="name='"+a.elementName+"' ";b+=">";a.elementContent&&(b+=a.elementContent);return b+"</button>"},createInput:function(a){var b="",c="",f=a.fieldPrefix||
C,d=a.elementId||a.elementName,e=a.elementClasses&&y(a.elementClasses)?a.elementClasses:[],g="object"===typeof a.elementAttributes?a.elementAttributes:{},i="button"===a.type||"submit"===a.type||"checkbox"===a.type||"radio"===a.type||"hidden"===a.type,j=a.justElement||a.collection||"hidden"===a.type||"button"===a.type||"submit"===a.type,l="password"===a.type&&!O&&a.placeholder?"text":a.type,m=("checkbox"===a.type&&!a.collection||"radio"===a.type&&!a.collection)&&!a.justElement,o=a.rendererFieldName,
n=a.rendererChildFieldName,p=yb&&!a.collection;x(e,"capture_"+d)||e.push("capture_"+d);i||(c+=k.createLabel(a));b+="<input ";a.hide&&(b+="style='display:none' ");b=b+("id='"+f+d+"' ")+(sc(g)+" ");"text"===a.type||"email"===a.type||"password"===a.type||"file"===a.type?x(e,"capture_text_input")||e.push("capture_text_input"):"checkbox"===a.type||"radio"===a.type?x(e,"capture_input_"+a.type)||e.push("capture_input_"+a.type):"submit"===a.type&&(x(e,"capture_btn")||e.push("capture_btn"),x(e,"capture_primary")||
e.push("capture_primary"));b+="data-capturefield='"+a.name+"' ";a.collection&&(b+="data-capturecollection='true' ");o&&(b+="data-capturerendererfield='"+o+"' ");n&&(b+="data-capturerendererchildfieldname='"+n+"' ");b+="type='"+l+"' ";("checkbox"===a.type||"radio"===a.type)&&a.elementValue?b+="value='"+a.elementValue+"' ":a.value?(g=a.value,a.displaySavedValue&&ic[a.value]&&(g=ic[a.value]),("password"===a.type||"text"===a.type||"email"===a.type)&&!a.errors&&p&&r.push(f+d),b+="value='"+g+"' "):a.placeholder&&
!O?(b+="value='"+a.placeholder+"' ",x(e,"capture_input_placeholder")||e.push("capture_input_placeholder")):b+="value='' ";b+="class='"+e.join(" ")+"' ";a.placeholder&&(b+="placeholder='"+a.placeholder+"' ");if(a.checked||a.elementValue&&a.value===a.elementValue)b+="checked='checked' ";b+="name='"+a.elementName+"' ";b+="/>";c="checkbox"===a.type||"radio"===a.type?c+k.createLabel(a,b):c+b;a.publicPrivateToggle&&(c+=k.createPublicPrivateToggle(a));m&&(c+="</div>");j||(c+=k.createTip(a));return c},createDiv:function(a){var b=
"<div ",c=a.fieldPrefix||C,f=a.elementId||a.elementName,d="object"===typeof a.elementAttributes?a.elementAttributes:{},e=a.classes||[];x(e,"capture_"+f)||e.push("capture_"+f);b+="id='"+c+f+"'";if("option"===a.type&&!a["default"]||a.hide)b+=" style='display:none'";"radioCollection"===a.type&&e.push("radio_set");y(e)&&e.length&&(b=b+' class="'+e.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),b+='" ');b+=sc(d)+" ";b+="data-capturefield='"+a.name+"' ";b+=">";a.elementText&&(b+=a.elementText);a.closeDiv&&
(b+="</div>");return b},createImage:function(a){var b,c=a.fieldPrefix||C,f=a.classes||[],d=a.elementId||a.imageId||a.elementName||"";b="<img "+('src="'+a.src+'"');d&&!x(f,"capture_"+d)&&f.push("capture_"+d);a.hide&&(b+=" style='display:none'");a.alt&&(b+=" alt='"+a.alt+"'");"undefined"!==typeof a.width&&(b+=" width='"+a.width+"'");"undefined"!==typeof a.height&&(b+=" height='"+a.height+"'");d&&(b+=' id="'+c+a.imageId+'" ');y(f)&&f.length&&(b=b+'class="'+f.join(" "),b+='" ');return b+"/>"},domHelpers:{createIFrame:function(a){var b,
c="captureIFrame_"+a;if(document.getElementById(c))return!1;if(j){b="";var f=document.createElement("div");f.innerHTML=b+"<iframe "+('name="'+c+'" ')+('data-transactionId="'+a+'" ')+('id="'+c+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(f)}else b=document.createElement("iframe"),b.setAttribute("name",c),b.setAttribute("data-transactionId",a),b.id=c,b.setAttribute("src","about:blank"),b.style.display="none",b.className="",document.body.appendChild(b)},createAnchor:function(a){var b=
a.fieldPrefix||C,c=document.createElement("a");if(!a.classes||a.classes&&!y(a.classes))a.classes=[];a.elementId&&!x(a.classes,b+a.elementId)&&a.classes.push(b+a.elementId);c.setAttribute("href",a.elementHref);c.innerHTML=a.elementText;a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display="none");return c},createDiv:function(a){var b=a.fieldPrefix||C,c=document.createElement("div");if(!a.classes||a.classes&&!y(a.classes))a.classes=[];a.elementId&&!x(a.classes,
b+a.elementId)&&a.classes.push(b+a.elementId);a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display="none");return c},createImage:function(a){var b=a.fieldPrefix||C,c=document.createElement("img");if(!a.classes||a.classes&&!y(a.classes))a.classes=[];a.elementId&&!x(a.classes,b+a.elementId)&&a.classes.push(b+a.elementId);a.alt&&c.setAttribute("alt",a.alt);"undefined"!==typeof a.width&&c.setAttribute("width",a.width);"undefined"!==typeof a.height&&c.setAttribute("height",
a.height);c.src=a.elementSrc;a.elementId&&(c.id=b+a.elementId);c.className=a.classes.join(" ");a.hideElement&&(c.style.display="none");return c},createInput:function(a){var b=document.createElement("input"),c=a.fieldPrefix||C,f="object"===typeof a.elementAttributes?a.elementAttributes:{},d=a.containerDivClasses||[],e;"submit"===a.elementType&&a.containerDiv&&(e=this.createDiv({elementName:a.elementName+"_containverDiv",classes:d}));if(!a.classes||a.classes&&!y(a.classes))a.classes=[];for(var g in f)f.hasOwnProperty(g)&&
b.setAttribute(g,f[g]);a.elementId&&!x(a.classes,c+a.elementId)&&a.classes.push(c+a.elementId);a.elementType&&b.setAttribute("type",a.elementType);a.name&&b.setAttribute("data-capturefield",a.name);a.elementValue&&(b.value=a.elementValue);a.elementName&&(b.name=a.elementName);a.elementId&&(b.id=c+a.elementId);a.hideElement&&(b.style.display="none");b.className=a.classes.join(" ");return e?(e.appendChild(b),e):b},createForm:function(a){a.transactionId||(a.transactionId=X());var b=a.transactionId,d=
a.captureScreen||V,f=c(d),e=document.createElement("form"),g=y(a.fields)?a.fields:[],i=g.length;k.domHelpers.createIFrame(b);a.needsResponse&&U(b);if(!a.classes||a.classes&&!y(a.classes))a.classes=[];a.elementId&&!x(a.classes,f+a.elementId)&&a.classes.push(f+a.elementId);e.id=f+a.elementId+"_"+b;e.className=a.classes.join(" ");e.setAttribute("target","captureIFrame_"+b);e.setAttribute("data-transactionId",b);a.name&&e.setAttribute("data-capturefield",a.name);e.setAttribute("action",a.elementAction);
e.setAttribute("method","POST");e.setAttribute("data-capturedomelement","true");a.validate&&e.setAttribute("data-capturedomelementvalidate","true");e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementValue:"\u2713",elementName:"utf8"}));n&&n.mergeToken&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementValue:n.mergeToken,elementName:"merge_token",elementId:"merge_token_"+b}));hb&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",
fieldPrefix:f,elementValue:hb,elementName:"bp_channel",elementId:"bp_channel_"+b}));Qa&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementValue:Qa,elementName:"flow_path",elementId:"flow_path_"+b}));zb?e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementValue:zb,elementName:"access_token",elementId:"access_token_"+b})):Sa&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementValue:Sa,elementName:"access_token",
elementId:"access_token_"+b}));V&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementValue:d,elementName:"capture_screen",elementId:"screen_"+b}));Ya&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementValue:Ya,elementName:"js_version",elementId:"js_version_"+b}));a.serverNextScreen&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementValue:a.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+
b}));a.engageTokenRequired&&e.appendChild(k.domHelpers.createInput({elementType:"hidden",elementValue:gb,fieldPrefix:f,elementName:"token",elementId:"token_"+b}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",elementValue:b,fieldPrefix:f,elementName:"capture_transactionId",elementId:"transactionId_"+b}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementValue:a.name,elementName:"form",elementId:"form_"+b}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",
fieldPrefix:f,elementValue:n.flow,elementName:"flow",elementId:"flow_"+b}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementName:"client_id",elementId:"client_id_"+b,elementValue:janrain.settings.capture.clientId}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementName:"redirect_uri",elementId:"redirect_uri_"+b,elementValue:janrain.settings.capture.redirectUri}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,
elementValue:janrain.settings.capture.responseType,elementName:"reponse_type",elementId:"response_type_"+b}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementValue:F,elementName:"flow_version",elementId:"flow_version_"+b}));e.appendChild(k.domHelpers.createInput({elementType:"hidden",fieldPrefix:f,elementValue:ib,elementName:"locale",elementId:"locale_"+b}));for(d=0;d<i;d++)switch(b=g[d],b.elementType){case "div":b.fieldPrefix=b.fieldPrefix||f;e.appendChild(k.domHelpers.createDiv(b));
break;case "anchor":b.fieldPrefix=b.fieldPrefix||f;e.appendChild(k.domHelpers.createAnchor(b));break;case "hidden":b.fieldPrefix=b.fieldPrefix||f;e.appendChild(k.domHelpers.createInput(b));break;case "file":b.fieldPrefix=b.fieldPrefix||f;e.setAttribute("enctype","multipart/form-data");e.appendChild(k.domHelpers.createInput(b));break;case "submit":b.fieldPrefix=b.fieldPrefix||f,e.appendChild(k.domHelpers.createInput(b))}k.domHelpers.createFormHandler(e,a);return e},createFormHandler:function(a,b){"function"===
typeof b.callback&&(a.setAttribute("next",'{"function":"'+b.elementId+'"}'),kb[b.elementId]=b.callback);R(a,"submit",La)},createFormAndPost:function(a){var b=a.fieldPrefix||C,c=X();a.fieldPrefix=a.fieldPrefix||b;a.transactionId=c;var f=k.domHelpers.createForm(a),b=k.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:b,elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});f.appendChild(b);document.body.appendChild(f);k.domHelpers.createFormHandler(f,
a);b.click()}},createListOfLinks:function(a,b){var c=a.fieldPrefix||C,f;optionsLength=a.length;f="<ul";y(b)&&b.length&&(f=f+' class="'+b.join(" "),f+='"');f+=">";for(var d=0;d<optionsLength;d++){f+="<li";"string"===typeof a[d].listItemId&&(f+=' id="'+c+a[d].listItemId+'" ');a[d].hide&&(f+=' style="display: none;" ');if(!a[d].listItemClasses||!y(a[d].listItemClasses))a[d].listItemClasses=[];"string"===typeof a[d].listItemId&&!x(a[d].listItemClasses,"capture_"+a[d].listItemId)&&a[d].listItemClasses.push("capture_"+
a[d].listItemId);y(a[d].listItemClasses)&&a[d].listItemClasses.length&&(f+=' class="',f+=a[d].listItemClasses.join(" "),f+='"');f+=">";f+='<a href="'+a[d].anchorHref+'"';"string"===typeof a[d].anchorId&&(f+=' id="'+c+a[d].anchorId+'" ');if(!a[d].anchorClasses||!y(a[d].anchorClasses))a[d].anchorClasses=[];"string"===typeof a[d].anchorId&&!x(a[d].anchorClasses,"capture_"+a[d].anchorId)&&a[d].anchorClasses.push("capture_"+a[d].anchorId);y(a[d].anchorClasses)&&a[d].anchorClasses.length&&(f+=' class="',
f+=a[d].anchorClasses.join(" "),f+='"');f+=">";f+=a[d].anchorText;f+="</a>";f+="</li>"}return f+"</ul>"},togglePasswordInput:function(a){var a=xa(a),b=a.getAttribute("data-capturefield"),b=n&&n.fields&&b?n.fields[b]:"",d=c(a);if(b&&!b.placeholder)return!1;a.getAttribute("value")===a.getAttribute("placeholder")&&a.setAttribute("value","");if(j&&"text"===a.type){for(var b=[],f=0,e=v.length;f<e;f++)d+v[f].elementName==a.id&&(v[f].elementName=v[f].elementName,b.push(v[f]));d=document.createElement("span");
f=a.parentElement;f.insertBefore(d,a);f.removeChild(a);e=document.createElement("input");e.id=a.id;e.setAttribute("data-capturefield",a.name);e.className="capture_password";e.name=a.name;e.setAttribute("type","password");f.insertBefore(e,d);f.removeChild(d);Ia().attachEventHandlers(null,b);e.focus()}else a.setAttribute("type","password")},clearPlaceHolder:function(a){if(O)return!0;a=xa(a);a.getAttribute("value")===a.getAttribute("placeholder")&&(j?a.value="":a.setAttribute("value",""),o(a).remove("capture_input_placeholder"))},
restorePlaceHolder:function(a){if(O)return!0;var a=xa(a),b=a.getAttribute("placeholder");if(!b)return!1;"password"===a.getAttribute("type")&&""===a.value&&a.setAttribute("type","text");b&&""===a.value&&(j?a.value=b:a.setAttribute("value",b),o(a).append("capture_input_placeholder"))},validation:function(){function a(a){f=a;a=b.id||b.name;I[a].status=f;if((I[a].element=b)&&b.form&&b.form.id)I[a].formId=b.form.id}var b,d,f,e;return{getElement:function(){return b},getParentDiv:function(){return d},getState:function(){return f},
getValidation:function(){return e},setState:function(b){a(b)},setValidation:function(a){e=a},setParentDiv:function(a){(d=a)&&d.className.split(" ")},setElement:function(a){b=a;d&&d.className.split(" ")},valid:function(){o(d).append("capture_validated").remove("capture_validating").remove("capture_error");a("valid");var c={};b&&(c.field=b);janrain.events.onCaptureValidationSuccess.fire(c);janrain.events.onCaptureContentChange.fire()},pending:function(){a("pending");o(d).append("capture_validating").remove("capture_validated");
janrain.events.onCaptureContentChange.fire()},notValid:function(f,g){a("invalid");if(f){if("noValidationMessage"!==f){o(d).append("capture_error").remove("capture_validated");for(var k,i=c(d),j=d.getElementsByTagName("div"),l=j.length,m=0;m<l;m++)if("capture_tip_error"===j[m].className){var n=0===d.id.indexOf(i+"form_collection_")?i+"form_collection_":i+"form_item_";if(d.id.split(n)[1]===j[m].getAttribute("data-elementName")||d.id.split(n)[1]+"[dateselect_year]"===j[m].getAttribute("data-elementName")){k=
j[m];break}}k&&(k.innerHTML=f)}"function"===typeof g&&g();janrain.events.onCaptureContentChange.fire()}k={};b&&(k.field=b);k.message=f;k.parentDiv=d;e&&(k.validation=e);janrain.events.onCaptureValidationFailed.fire(k)}}}},sa={createSelect:k.createSelect,createTextarea:k.createTextarea,createAnchor:k.createAnchor,createInput:k.createInput,createLabel:k.createLabel,createDiv:k.createDiv,createImage:k.createImage,createListOfLinks:k.createListOfLinks,toggelPassword:k.togglePasswordInput,clearPlaceHolder:k.clearPlaceHolder,
restorePlaceHolder:k.restorePlaceHolder,getElementByEventAttribute:xa};B.prototype.render={data:{engageCookieData:function(a){return Gb(a.cookieName)},stringData:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",b=a.displaySavedValue&&Hb&&ic[a.value]?ic[a.value]:a.value;return b=a.justString?b:k.wrapStringData(a,b)},imageData:function(a){var b;a.value&&(a.returnImageTag?(b={elementName:a.elementname,hide:a.hide,src:a.value},a.classes&&(b.classes=a.classes),
a.elementId&&(b.elementId=a.elementId),b=k.createImage(b)):b=a.value);return b}},htmlElement:{parent:B.prototype.render,anchor:function(a){return a=""+k.createAnchor(a)},textarea:function(a){var b;b=""+k.wrapFormItemStart(a);b+=k.createTextarea(a);return b+=k.wrapFormItemEnd(a)},select:function(a){var b;b=""+k.wrapFormItemStart(a);b+=k.createSelect(a);b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);return b},multi:function(a,b){var d="",f,e=y(a.value)?a.value:"string"===typeof a.value?a.value.split(","):
[],g=a.options.length;a.type="elementCollection";for(var d=d+k.wrapFormItemStart(a),d=d+k.createLabel(a),i=0;i<g;i++)f=a.options[i],f.value=f.value||f.label,f.label=f.label||f.value,d+=this.input({elementName:a.elementName,type:b,elementId:a.elementName+"_"+f.value+"_"+i,name:a.name,value:f.value,collection:!0,label:f.label,checked:x(e,f.value)}),v.push({elementName:a.elementName+"_"+f.value+"_"+i,handler:function(b,h){return function(){for(var d=c(this),f=document.getElementById(d+"form_collection_"+
a.elementName),f=Ma("capture_form_item_"+a.elementName,f),d=document.getElementById(d+"form_item_"+a.elementName+"_"+b+"_"+h),e=0,g=f.length;e<g;e++)o(f[e]).remove("capture_toggled");d&&o(d).append("capture_toggled")}}(f.value,i),eventType:"click"});d+=k.createTip(a);return d+=k.wrapFormItemEnd(a)},multiCheckbox:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},multiRadio:function(a){return this.multi(a,a.element.split("multi")[1].toLowerCase())},input:function(a){var b;
b=""+k.wrapFormItemStart(a);b+=k.createInput(a);b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);return b},button:function(a){var b;b=""+k.wrapFormItemStart(a);b+=k.createButton(a);b+=k.wrapFormItemEnd(a);k.attachFieldEventHandlers(a);return b},form:function(a){var b="<form ",c="object"===typeof a.elementAttributes?a.elementAttributes:{},d=a.localFieldPrefix||C,e=a.classes||[];e.indexOf("capture_form"===-1)&&e.push("capture_form");e.indexOf(-1==="capture_"+a.elementName)&&e.push("capture_"+a.elementName);
b+="id='"+d+a.elementName+"' ";b+=sc(c)+" ";b+="name='"+a.elementName+"' ";b+="data-capturefield='"+a.name+"' ";b+="action='"+janrain.settings.capture.captureServer+"/"+a.action+"' ";y(e)&&(b+="class='"+e.join(" ")+"' ");var b=b+"method='POST' novalidate='novalidate' "+("data-transactionId='"+a.transactionId+"' "),b=b+("target='captureIFrame_"+a.transactionId+"' "),b=b+">"+('<div id="'+d+a.elementName+'_defaultSavedProfileMessage"></div>'),b=b+('<div id="'+d+a.elementName+'_errorMessages"></div>'),
g="";if(a.errors){janrain.events.onCaptureFormError.fire(a.errors);for(var i in a.errors)a.errors.hasOwnProperty(i)&&(g+=k.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),g+=a.errors[i]+"</div>")}v.push({handler:function(){var b=document.getElementById(d+a.elementName);if(!b)return!1;var c=Ma("capture_form_error_container",b),c=c.length?c[0]:document.getElementById(d+a.elementName+"_errorMessages");g?(c.innerHTML=g,o(b).append("capture_form_level_error")):c.innerHTML=
""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,j;for(j in c)c.hasOwnProperty(j)&&(b+=k.createInput({elementName:j,type:"hidden",value:c[j]}))}b+=k.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});hb&&(b+=k.createInput({elementName:"bp_channel",elementId:"bp_channel"+a.transactionId,type:"hidden",value:hb}));Qa&&(b+=k.createInput({elementName:"flow_path",elementId:"flow_path_"+
a.transactionId,type:"hidden",value:Qa}));n&&n.mergeToken&&(b+=k.createInput({elementName:"merge_token",elementId:"merge_token_"+a.transactionId,type:"hidden",value:n.mergeToken}));zb?b+=k.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,type:"hidden",value:zb}):Sa&&(b+=k.createInput({elementName:"access_token",elementId:"accessToken_"+a.transactionId,type:"hidden",value:Sa}));V&&(b+=k.createInput({elementName:"capture_screen",elementId:"screen_"+a.transactionId,type:"hidden",
value:V}));Ya&&(b+=k.createInput({elementName:"js_version",elementId:"js_version_"+a.transactionId,type:"hidden",value:Ya}));a.serverNextScreen&&(b+=k.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+a.transactionId,type:"hidden",value:a.serverNextScreen}));if(a.engageTokenRequired||hc)b+=k.createInput({elementName:"token",elementId:"token_"+a.transactionId,type:"hidden",value:gb});b+=k.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+a.transactionId,
type:"hidden",value:a.transactionId});b+=k.createInput({elementName:"form",elementId:"form_"+a.transactionId,type:"hidden",value:a.name});b+=k.createInput({elementName:"flow",elementId:"flow_"+a.transactionId,type:"hidden",value:n.flow});b+=k.createInput({elementName:"client_id",elementId:"client_id_"+a.transactionId,type:"hidden",value:janrain.settings.capture.clientId});b+=k.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+a.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});
b+=k.createInput({elementName:"response_type",elementId:"response_type_"+a.transactionId,type:"hidden",value:janrain.settings.capture.responseType});b+=k.createInput({elementName:"flow_version",elementId:"flow_version_"+a.transactionId,type:"hidden",value:F});return b+=k.createInput({elementName:"locale",elementId:"locale_"+a.transactionId,type:"hidden",value:ib})},div:function(a){return k.createDiv(a)},close:function(a){return"capture"===a.element?"photoManager"===a.type?"</div>":"":"</"+a.element+
">"}},captureElement:{table:function(a){var b='<table class="capture_table">',c=B.prototype.render.htmlElement;if(a.th.display){var b=b+"<tr>",d;for(d in a.th.cols)b+="<th>"+a.th.cols[d]+"</th>";b+="</tr>"}for(var e in a.rows){var b=b+"<tr>",g;for(g in a.rows[e].cells)a.rows[e].cells[g].type&&"radio"===a.rows[e].cells[g].type?(d=a.rows[e].cells[g],d.name="table",a.value&&d.elementValue===a.value[d.rendererChildFieldName]&&(d.checked=!0),b+="<td>",b+=k.wrapFormItemStart(a),b+=c.input(d),b+=k.wrapFormItemEnd(a),
b+="</td>"):b+="<td>"+a.rows[e].cells[g]+"</td>";b+="</tr>"}return b+"</table>"},countrySelect:function(a){a.options=[{text:"country",value:"country",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},
{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",
value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",
value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},
{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},
{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",
value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},
{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},
{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",
value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},
{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",
value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",
value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",
value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},
{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",
value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},
{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return B.prototype.render.htmlElement.select(a)},stateSelect:function(a){var b=[{text:"state",value:"state",disabled:!0}],b=a.noCanadianProvinces?b.concat(Sc):b.concat(Sc,dd);a.options=b;return B.prototype.render.htmlElement.select(a)},
keepMeLoggedIn:function(a){var b=a.fieldPrefix||C,a=""+k.createInput({label:a.label||"Keep me logged in",type:"checkbox",name:a.name,justElement:!0,value:"yes",checked:a.checked||!1,elementName:"capture_keep_me_logged_in"});v.push({elementName:"capture_keep_me_logged_in",handler:function(){loggedInElement=document.getElementById(b+"capture_keep_me_logged_in");loggedInElement.checked?janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},
!0)},eventType:"render"});v.push({elementName:"capture_keep_me_logged_in",handler:function(a){H(a).checked?janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},!0)},eventType:"click"});return a},captcha:function(a){var b="http:"===document.location.protocol?"http://www.google.com/recaptcha/api/js/recaptcha_ajax.js":"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js";bc||ta(b,function(){bc=!0});v.push({elementName:a.name,
handler:function(){function a(){if("undefined"===typeof Recaptcha)setTimeout(a,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}a()},eventType:"render"});b=""+k.wrapFormItemStart(a);a.label&&(b+=k.createLabel(a));b=b+'<div id="recaptcha_container"></div>'+k.createTip(a);return b+=
k.wrapFormItemEnd(a)},mergeAccounts:function(a,b){var b=b?M.parse(b):{custom:!1},c=B.prototype.render,d=a.value,e="";d.existing_provider="legacy"===d.existing_provider?"email":d.existing_provider;a.customText||(a.customText={});var g=a.customText.connectRadio||'Connect this session with your existing account <br /><span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',
k=a.customText.connectLegacyRadio||'Connect this session with your existing account <br /><span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',i=a.customText.createRadio||"Create a new account using Google sign-in.",j=a.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",l=a.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',
m=a.customText.moreInfo||"More Info ?",n=a.customText.createButton||"Create",p=a.customText.connectButton||"Connect";d.connectRadioText=ca(d,g);d.connectLegacyRadioText=ca(d,k);d.createRadioText=ca(d,i);d.foundExistingAccountText=ca(d,j);d.moreInfoHoverText=ca(d,l);d.moreInfoText=ca(d,m);d.createButtonText=ca(d,n);d.connectButtonText=ca(d,p);d.connect_button=c.htmlElement.button({elementContent:'<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+d.existing_provider.toLowerCase()+
'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+d.current_provider.toLowerCase()+'"></span>'+p,elementName:a.name+"_connectButton",name:a.name+"_connectButton",element:"button",type:"button"});d.create_button=c.htmlElement.button({elementContent:n,hide:!0,elementName:a.name+"_createButton",name:a.name+"_createButton",element:"button",type:"submit"});d.merge_radio=c.htmlElement.multiRadio({element:"multiRadio",value:[1],elementName:a.name+"_mergeRadio",
classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===d.existing_provider?ca(d,k):ca(d,g),value:1},{label:i,value:2}]});d.rendered_current_photo=d.current_photo?'<img src="'+d.current_photo+'" height="25" width="25" />':"";d.rendered_existing_provider_photo=d.existing_provider_photo?'<div class="capture_icon_col"><img src="'+d.existing_provider_photo+'" height="25" width="25" /></div>':"";d.current_provider_lowerCase=d.current_provider.toLowerCase();d.existing_provider_lowerCase=
d.existing_provider.toLowerCase();b.custom?v.push({handler:function(){var b=document.getElementById(a.name);b.innerHTML=ca(d,b.innerHTML)},eventType:"render"}):e+=ca(d,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}          </div>         <span class="capture_mergeProvider janrain-provider-icon-30 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
v.push({elementName:a.name+"_connectButton",handler:function(){"email"===d.existing_provider?(janrain.capture.ui.renderScreen(a.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(wc=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(d.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});v.push({elementName:a.name+"_createButton",handler:function(){ec?mb():(kc=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});v.push({elementName:a.name+"_mergeRadio_1_0",handler:function(){document.getElementById(C+a.name+"_connectButton").style.display="";document.getElementById(C+a.name+"_createButton").style.display="none";o(document.getElementById(C+"form_item_"+a.name+"_mergeRadio_1_0")).append("capture_toggled");o(document.getElementById(C+"form_item_"+a.name+"_mergeRadio_2_1")).remove("capture_toggled")},eventType:"click"});v.push({elementName:a.name+
"_mergeRadio_2_1",handler:function(){document.getElementById(C+a.name+"_connectButton").style.display="none";document.getElementById(C+a.name+"_createButton").style.display="";o(document.getElementById(C+"form_item_"+a.name+"_mergeRadio_2_1")).append("capture_toggled");o(document.getElementById(C+"form_item_"+a.name+"_mergeRadio_1_0")).remove("capture_toggled")},eventType:"click"});return e},publicProfileLink:function(a,b){var c="",d=b?M.parse(b).elementHref:a.elementHref;a.elementAttributes="object"===
typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=d+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return c+=k.createAnchor(a)},linkAccounts:function(a){function b(c,d,h){var e;e='<li class="capture_provider_linked"><span class="'+("janrain-provider-icon-"+r+" janrain-provider-icon-"+c+(a.customIcons?"-custom":"")+'">');e=e+'</span><span class="'+("janrain-provider-text-"+c+(a.customIcons?"-custom":
"")+'">'+(a.displayFormat?ca({provider:c,displayName:d},a.displayFormat):c));e+="</span>";if(S||0!==t)e+='<span tabindex="0" class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+c+'" data-captureidentifier="'+h+'"></span>';return e+"</li>"}function c(b){var h=H(b);if(o(h).has("capture_remove_linkedaccount")){var g=h.getAttribute("data-captureidentifier");k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",
elementId:"getUserData_form",fieldPrefix:p,captureScreen:d,needsResponse:!0,callback:function(){var b=h.getAttribute("data-captureprovider");janrain.events.onCaptureProfileUnlink.fire({provider:b});if(a.customAddLinks){var c=h.parentNode,d=document.createElement("li");d.className="capture_custom_add_linkedaccount";d.setAttribute("data-captureprovider",b);d.innerHTML=ca({provider:b},a.customAddLinkFormat);c&&c.parentNode?c.parentNode.insertBefore(d,c):document.getElementById(e+a.name+"_linkedproviderlist").appendChild(d)}Lb(h.parentNode)},
fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:g},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:g}]})}K(b)}a.value||(a.value={});a.customText||(a.customText={});var d=V,e=a.fieldPrefix||C,g='<div class="capture_linkAccounts" id="'+e+a.name+'_currentlinkedaccounts">',i=n.fields[a.linkAccountContainer].elementName||n.fields[a.linkAccountContainer].name||a.linkAccountContainer,j=a.customText.linkAnotherAccount||"Link Another Account",l=y(a.value.providers)?
a.value.providers.length:0,m=e+a.name+"_linkaccountsscreen",p=e,r=a.providerIconSize&&x(cd,a.providerIconSize)?a.providerIconSize:16,u=B.prototype.render,g=g+('<ul class="capture_provider" id="'+e+a.name+'_linkedproviderlist">');if(!a.customAddLinks)for(var t=0;t<l;t++)g+=b(a.value.providers[t],a.value.displayNames[t],a.value.identifiers[t]);if(a.customAddLinks){t=0;for(j=a.customProviders.length;t<j;t++)x(a.value.providers,a.customProviders[t])?(l=a.value.providers.indexOf(a.customProviders[t]),
g+=b(a.value.providers[l],a.value.displayNames[l],a.value.identifiers[l])):(g+='<li tabindex="0" class="capture_custom_add_linkedaccount" data-captureprovider="'+a.customProviders[t]+'">',g+=ca({provider:a.customProviders[t]},a.customAddLinkFormat)+"</li>");var w=function(a){a=H(a);a=Pc(a,"li");o(a).has("capture_custom_add_linkedaccount")&&(a=a.getAttribute("data-captureprovider"),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0),janrain.engage&&janrain.engage.signin&&
janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:d},!0),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.triggerFlow(a))};v.push({elementName:a.name+"_linkedproviderlist",handler:w,eventType:"click"});v.push({elementName:a.name+"_linkedproviderlist",handler:function(a){13===a.keyCode&&w(a)},eventType:"keypress"})}else g+='<li class="capture_linkAccount"><a href="#" id="'+e+a.name+'_linknewlink">'+j+"</a></li>";g+="</ul></div>";v.push({elementName:a.name+"_linknewlink",
handler:function(a){janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:d},!0);Cb(document.getElementById(m));K(a)},eventType:"click"});v.push({elementName:a.name+"_currentlinkedaccounts",handler:function(a){13===a.keyCode&&c(a)},eventType:"keypress"});v.push({elementName:a.name+"_currentlinkedaccounts",handler:c,eventType:"click"});g=g+'<div style="display: none;">'+
('<div id="'+m+'" class="janrain-capture-ui capture-ui-content capture_addLinkedAccount">');aa&&aa.modal&&(g+=u.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));g+='<div  id="'+e+a.name+'_linkAccountContainerContainer">';g+="</div></div></div>";a.customAddLinks||v.push({handler:function(){var b=document.getElementById(e+i);document.getElementById(e+a.name+"_linkAccountContainerContainer").appendChild(b)},eventType:"render"});return g},
errorMessages:function(){var a;a=""+B.prototype.render.htmlElement.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+B.prototype.render.htmlElement.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success","capture_profileSavedMessage_container"]});return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&
!1===a.displayPublic)return"";var b="",b="";a.value.firstname&&(b+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&(b+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(b+=a.justString?a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+a.value.lastname+"</span>");return b=a.justString?b:k.wrapStringData(a,
b,"capture_stringdata_nameBlock")},nameFull:function(a){var b,c=B.prototype.render.htmlElement;b='<div class="capture_form_item capture_nameBlock">'+c.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&
a.placeholder.firstname?a.placeholder.firstname:""});b+=c.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""});b+=c.input({elementName:a.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",
type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return b+"</div>"},dateselect_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic||!a.value.dateselect_month||!a.value.dateselect_year||!a.value.dateselect_day)return"";var b="",c="",b=parseInt(a.value.dateselect_month,10),c=parseInt(a.value.dateselect_year,10),d=parseInt(a.value.dateselect_day,
10);a.format?(b=new Date(c,b-1,d),c=a.format,c=c.replace("{yyyy}",b.getFullYear()),c=c.replace("{month}",bd[b.getMonth()]),c=c.replace("{day}",ad[b.getDay()]),c=c.replace("{m}",b.getMonth()+1),c=c.replace("{d}",b.getDate())):c=b+"/"+d+"/"+c;return b=a.justString?c:k.wrapStringData(a,c,"capture_stringdata_dateselectBlock")},dateselect:function(a){function b(d){d=H(d);d=c(d);d=document.getElementById(d+"form_item_"+a.elementName);o(d).append("capture_focused").remove("capture_error");Nb&&window.scrollTo(0,
0);janrain.events.onCaptureContentChange.fire()}function g(b){var d=H(b),e=c(d),e=document.getElementById(e+"form_item_"+a.elementName);o(e).remove("capture_focused");J(d,a)&&ja(b)}a.customText||(a.customText={});var f=a.customText.dayLabelDateSelect||"day",i=a.customText.monthLabelDateSelect||"month",j=a.customText.yearLabelDateSelect||"year",l='<div id="'+(a.fieldPrefix||C)+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',m,n=y(a.format)&&3===a.format.length?a.format:["month",
"day","year"],p=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):"",r=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"";m=a.value&&a.value.dateselect_month?parseInt(a.value.dateselect_month):"";var t=[{text:i,value:"",disabled:!0},{text:"January",value:1},{text:"February",value:2},{text:"March",value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},{text:"August",value:8},{text:"September",value:9},{text:"October",value:10},
{text:"November",value:11},{text:"December",value:12}],u=a.monthStart||1,x=a.monthEnd||13,w=a.dayStart||1,B=a.dayEnd||31,i=a.yearStart||1929,z=a.yearEnd||2012;m={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],justElement:!0,value:m,options:t.slice(0,1).concat(t.slice(u,x))};f={elementName:a.name+"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],
rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",justElement:!0,value:p,options:d(w,B,"asc",f)};i=parseInt(i,10);z=parseInt(z,10);j={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],value:r,options:d(i,z,"desc",j)};for(r=0;3>r;r++){var A;switch(n[r]){case "month":A=m;break;case "day":A=f;break;case "year":A=j}0===r&&(A.label=a.label);
2===r&&(A.publicPrivateToggle=a.publicPrivateToggle,A.displayPublic=a.displayPublic,A.tip=a.tip,A.justElement=!1);l+=k.createSelect(A)}l+="</div>";v.push({elementName:a.name+"_dateselectyear",handler:b,eventType:"focus"});v.push({elementName:a.name+"_dateselectyear",handler:g,eventType:"blur"});v.push({elementName:a.name+"_dateselectday",handler:b,eventType:"focus"});v.push({elementName:a.name+"_dateselectday",handler:g,eventType:"blur"});v.push({elementName:a.name+"_dateselectmonth",handler:b,eventType:"focus"});
v.push({elementName:a.name+"_dateselectmonth",handler:g,eventType:"blur"});return l},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var b="",b="";a.value.streetaddress&&(b+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&(b+='<div class="capture_stringdata_addressBlock_streetaddress2">'+a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+=
'<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(b+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&(b+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(b+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)b+="</div>";a.value.country&&(b+=
'<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return b=k.wrapStringData(a,b,"capture_stringdata_addressBlock")},addressFull:function(a){var b,d=B.prototype.render.htmlElement;a.value||(a.value={});a.value.country||(a.value.country="United States");b='<div class="capture_form_item capture_addressBlock">'+d.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",label:"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,
publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});b+=d.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?
a.placeholder.streetaddress2:""});b+=d.input({elementName:a.name+"[city]",elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});b+=B.prototype.render.captureElement.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",
rendererFieldName:a.name,label:"",placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:""});v.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});b+=d.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],
type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});b+=B.prototype.render.captureElement.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],value:a.value&&a.value.country?a.value.country:"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});
v.push({elementName:a.name+"_country",handler:function(b){var b=H(b),b=c(b),d=this.options[this.selectedIndex].value||"",e=document.getElementById(b+a.name+"_stateprovince");"United States"===d||"Canada"===d?document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="inline-block":(e.selectedIndex=0,document.getElementById(b+"form_item_"+a.name+"[stateprovince]").style.display="none")},eventType:"change"});return b+"</div>"},backButton:function(a){var b;a.type="button";a.elementContent=
'<span class="janrain-icon-16 janrain-icon-back"></span>';b=""+k.createButton(a);a.type="backButton";v.push({elementName:a.elementName,handler:function(){yc=!1;var a=dc.pop();a&&janrain.capture.ui.render(a.flow,a.values)},eventType:"click"});return b},partial:function(a){var b=document.getElementById(a.layout);if(b)return b.innerHTML;throw A(a.layout);},photoManager:function(a,b){function d(b){va=!1;var c=document.getElementById(n+a.name+"_profile_pic_uploadform_container"),e=document.getElementById(n+
a.name+"_upload_photo_form");c.innerHTML="";var f=document.createElement("div");f.innerHTML=aa;var h=document.createElement("div");h.innerHTML=ba;c.appendChild(f);c.appendChild(e);c.appendChild(h);Cb(document.getElementById(G));c=document.getElementById(n+"photo_chooser");R(c,"change",E);janrain.events.onModalClose.addHandler(function(){va=!0});b&&K(b)}function e(b){if(0<parseInt(b.unscaled.width)){w=b;var c=b.unscaled.height/b.sizedHeight,d=Math.round(p/(b.unscaled.width/b.sizedWidth)),f=document.getElementById(n+
a.name+"_profile_pic_image_edit"),c=Math.round(r/c);"none"===f.style.display&&(f.style.display="block");f.style.width=d+"px";f.style.height=c+"px";f.style.marginLeft="-"+Math.round(b.unscaled.left/b.sizedWidth*d)+"px";f.style.marginTop="-"+Math.round(b.unscaled.top/b.sizedHeight*c)+"px"}}function g(){if(A)return!1;var b=document.getElementById(n+a.name+"_profile_pic_image_edit_crop");crop(b,e,u,t,function(){janrain.events.onCaptureContentChange.fire()});b.style.display="inline";A=!0}function i(a){if(!w)return!1;
H(a);var a=w.sizedWidth/w.originalWidth,b=w.sizedHeight/w.originalHeight;document.getElementById(n+"width").value=Math.round(w.unscaled.width/a);document.getElementById(n+"height").value=Math.round(w.unscaled.height/b);document.getElementById(n+"x").value=Math.round(w.unscaled.left/a);document.getElementById(n+"y").value=Math.round(w.unscaled.top/b)}var b=b?M.parse(b):{custom:!1},j={};if(y(a.value)&&a.value.length){Wa={};for(var l=0,m=a.value.length;l<m;l++)Wa[a.value[l].type]=a.value[l]}else Wa=
!1;var l=k.createDiv({elementName:a.elementName+"_parent"}),o=V,n=a.fieldPrefix||C,m=B.prototype.render.htmlElement,p=a.previewSizeWidth||100,r=a.previewSizeHeight||100,t=a.originalMaxWidth||450,u=a.originalMaxHeight||450,w,A=!1,z="object"===typeof Wa,D=z?"":"capture_profile_pic ",G=n+a.name+"_uploadphotoscreen",I=n+a.name+"_editphotoscreen";j.profilePicClass=D;j.uploadPhotoScreenId=G;j.editPhotoScreenId=I;var p=parseInt(p,10),r=parseInt(r,10),t=parseInt(t,10),u=parseInt(u,10),F={elementName:a.elementName};
z&&Wa.large&&(F.classes=["capture_userphoto"]);j.mainDiv=k.createDiv(F);j.closeDiv="</div>";a.customText||(a.customText={});var F=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",J=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",L=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",N=a.customText.removePhotoLinkPhotoManager||"Remove photo",O=a.customText.editPhotoLinkPhotoManager||"Edit Photo",Q=a.customText.chooseDifferentPhotoLinkPhotoManager||
"Choose a different photo",S=a.customText.editPhotoButtonTextPhotoManager||"Save",T=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",W=a.customText.removePhotoButtonTextPhotoManager||"Remove",Y=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",aa=a.customText.uploadNewPhotoInstructionPhotoManager||"",ba=a.customText.uploadNextStepInstructionPhotoManager||"",da=a.customText.editPhotoPreviewTitlePhotoManager||"";j.editProfilePhotoTitle=a.customText.editProfilePhotoTitlePhotoManager||
"Profile Photo";j.editProfileInstruction=J;j.profilePhotoTitle=F;j.prefixFieldName=n+a.name;j.editPhotoPreviewTitle=da;Lb(document.getElementById(G));Lb(document.getElementById(I));j.profileImage='<div id="'+n+a.name+'_profile_pic" class="'+D+'capture_profile_pic_display capture_default">';z&&Wa.large&&(j.profileImage+=k.createImage({src:Wa.large.value,imageId:a.name+"_profile_pic_image"}));j.profileImage+="</div>";j.photoLinks=k.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:L,
anchorHref:"#",anchorClasses:["capture_upload_photo_link"],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:O,anchorHref:"#",anchorClasses:["capture_edit_photo_link"],anchorId:"edit_photo_link",hide:!z},{listItemId:"remove_photo",listItemClasses:[],anchorText:N,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",hide:!z}],["options"]);j.uploadImage=z&&Wa.large?k.createImage({src:Wa.large.value,imageId:a.name+"_profile_pic_image_upload"}):
"";j.editImage=z&&Wa.original?k.createImage({src:Wa.original.value+"?"+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit"}):"";j.cropImage=z&&Wa.original?k.createImage({src:Wa.original.value+"?"+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}):"";j.photoChooserErrors=k.createDiv({elementId:"photo_chooser_errors"});j.photoChooserErrors+="</div>";var Z=X();k.domHelpers.createIFrame(Z);j.uploadFormOpen=m.form({action:"widget/photo/upload_photo.jsonp",
elementAttributes:{enctype:"multipart/form-data"},transactionId:Z,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form"});j.uploadFileField=k.createInput({elementName:"photo",elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});j.uploadSubmitButton=k.createInput({elementName:"photo_submit",elementId:"photo_submit",value:T,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});j.uploadFormClose="</form>";var $=X();
k.domHelpers.createIFrame($);j.editFormOpen=m.form({action:"widget/photo/crop_photo.jsonp",transactionId:$,name:a.name+"_crop_photo_form",elementName:a.name+"_crop_photo_form"});j.editFormOpen+=k.createDiv({elementName:"",classes:["capture_popup-arrow"],type:"div"});j.editFormOpen+="</div>";j.editFormOpen+=k.createInput({elementName:"width",elementId:"width",justElement:!0,type:"hidden"});j.editFormOpen+=k.createInput({elementName:"height",elementId:"height",justElement:!0,type:"hidden"});j.editFormOpen+=
k.createInput({elementName:"x",elementId:"x",justElement:!0,type:"hidden"});j.editFormOpen+=k.createInput({elementName:"y",elementId:"y",justElement:!0,type:"hidden"});j.editSubmitButton=k.createInput({elementName:"edit_photo_submit",elementId:"edit_photo_submit",value:S,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});j.editFormClose="</form>";j.chooseDifferentPhotoLink=k.createAnchor({elementHref:"#",elementText:Q,elementId:a.name+"_different_photo_link"});b.custom?v.push({handler:function(){var b=
document.getElementById(n+a.name+"_parent");b.innerHTML=ca(j,b.innerHTML);v.push({elementName:a.name+"_upload_photo_form",handler:La,eventType:"submit"});v.push({elementName:a.name+"_crop_photo_form",handler:La,eventType:"submit"});U(Z);U($)},eventType:"render"}):(l+=ca(j,'{| mainDiv |}      {| profileImage |}     {| photoLinks |}     &nbsp;  {| closeDiv |}  <\!-- hidden crop form --\> <div style="display: none;">     {| editFormOpen |}     <div class="capture_footer">         {| chooseDifferentPhotoLink |}         {| editSubmitButton |}     </div>     {| editFormClose |} </div>  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| photoChooserErrors |}             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div>  <\!-- hidden edit photo screen --\> <div style="display: none;">     <div id="{| editPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| editProfilePhotoTitle |}</h1>         </div>         <div class="{| profilePicClass |}profile_pic_edit_container">             <h2>{| editPhotoPreviewTitle |}</h2>             <div id="{| prefixFieldName |}_profile_pic_edit" class="{| profilePicClass |}capture_profile_pic_edit capture_default">                 {| editImage |}                 &nbsp;             </div>         </div>         <div id="{| prefixFieldName |}_profile_pic_editPhoto_container" class="capture_editPhoto_container">             <h2>{| editProfileInstruction |}</h2>             {| cropImage |}         </div>     </div> </div> '),
l+="</div>",v.push({elementName:a.name+"_upload_photo_form",handler:La,eventType:"submit"}),v.push({elementName:a.name+"_crop_photo_form",handler:La,eventType:"submit"}),U(Z),U($));v.push({eventType:"render",handler:function(){var b=document.getElementById(n+a.name+"_different_photo_link");R(b,"click",d);b=document.getElementById(n+a.name+"_crop_photo_form");document.getElementById(n+a.name+"_profile_pic_editPhoto_container").appendChild(b);R(b,"submit",i)}});v.push({elementName:"upload_photo_link",
handler:d,eventType:"click"});v.push({elementName:"edit_photo_link",handler:function(a){"function"!==typeof crop?ta("http://janrain-widgets.s3.amazonaws.com/crop/crop.js",g):setTimeout(g,50);va=!1;Cb(document.getElementById(I));janrain.events.onModalClose.addHandler(function(){va=!0});K(a)},eventType:"click"});v.push({elementName:"remove_photo_link",handler:function(a){var b=H(a),d=c(b);if(!document.getElementById(d+"remove_photo_contain")){var e=k.domHelpers.createDiv({elementId:"remove_photo_contain",
fieldPrefix:d,classes:["capture_popup_container pad"]}),b=k.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementText:W,elementId:"confirm_remove_photo_link"}),f=k.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementId:"cancel_remove_photo_link",elementText:Y});e.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';e.appendChild(b);e.appendChild(f);document.getElementById(d+"remove_photo").appendChild(e);var h=function(a){var b=[d+"createFormAndPostSubmit",d+
"confirm_remove_photo_link",d+"remove_photo_link"],c=H(a).getAttribute("id")||"";!x(b,H(a).getAttribute("id"))&&0>c.indexOf(d+"createFormAndPostSubmit_")&&(e.innerHTML="",Lb(e),pc(document,"click",h),K(a))};R(f,"click",h);R(document,"click",h);R(b,"click",function(a){k.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:d,captureScreen:o,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});K(a)});K(a)}},
eventType:"click"});return l},slider:function(a){for(var b=k.createDiv({elementName:"slider capture_form_item"}),c=B.prototype.render.htmlElement,d=a.fieldPrefix||C,e=a.value&&a.value.score?a.value.score:0,b=b+("<label>"+a.label+"</label>"),b=b+k.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),b=b+k.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),b=b+k.createDiv({elementName:a.elementName+"_marker",classes:["capture_slider_marker"]}),
b=b+'</div></div><div class="capture_slider_list"><ul>',g=0,j;j=a.legend_items[g];g++)b+="<li>"+j+"</li> ";b=b+"</ul></div></div>"+c.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&a.value.score?a.value.score:""});b+="</div>";v.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(d+a.elementName+
"_marker").style.left=e+"%"}});if(!0===a.enabled){var i=!1;v.push({elementName:a.elementName+"_marker",eventType:"mousedown",handler:function(b){i=!0;var c=document.getElementById(d+a.elementName+"_base"),e=document.getElementById(d+a.elementName+"_score"),h=c.getBoundingClientRect().width;(new Ec).setElement(document.getElementById(d+a.elementName+"_marker")).setElementBoundry(document.getElementById(d+a.elementName+"_container")).setCallback(function(a){e.value=Math.round(100*(a.pos_x/h))}).drag(b)}});
v.push({elementName:a.elementName+"_marker",eventType:"mouseup",handler:function(){var b=document.getElementById(d+a.elementName+"_marker"),c=document.getElementById(d+a.elementName+"_base"),e=document.getElementById(d+a.elementName+"_score"),h=c.getBoundingClientRect().width,b=parseInt(Mc(b.id,"left")),h=c.getBoundingClientRect().width;e.value=Math.round(100*(b/h))}});v.push({elementName:a.elementName+"_container",eventType:"mouseover",handler:function(){document.getElementById(d+a.elementName+"_container").style.cursor=
"pointer"}});v.push({elementName:a.elementName+"_container",eventType:"click",handler:function(b){if(!0===i)i=!1;else{var c=document.getElementById(d+a.elementName+"_marker"),e=document.getElementById(d+a.elementName+"_base"),h=document.getElementById(d+a.elementName+"_score"),g=e.getBoundingClientRect().width,j=b.clientX-Rc(e).x;_marker_left_style=parseInt(Mc(c.id,"left"));_marker_left=isNaN(_marker_left_style)?0:_marker_left_style;_time=500;(new Ec).setElement(c).setAcceleration("sinusoidal").setDuration(_time).startPosition(_marker_left).endPosition(j).setDirection("horizontal").setCallback(function(){h.value=
Math.round(100*(j/g))}).animate()}}})}return b},collection:{radio:function(a){for(var b=a.fieldPrefix||C,c=k.createDiv({elementName:a.elementName,classes:a.classes||""}),d=0;d<a.collection.length;d++)c+="<div class='capture_radio_toggle",c+=(0===d?" capture_toggled":"")+"'>",c+="<input type='radio' id='"+b+"radio_"+a.collection[d].elementName+"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===d?"checked='true' ":"")+"/>",c+="<label ",c+="class='capture_radio_label' ",c+="for='"+
b+"radio_"+a.collection[d].elementName+"'>"+a.collection[d].label+" ",c+="</label></div>",v.push({elementName:"radio_"+a.collection[d].elementName,handler:function(b){T(b,a)},eventType:"click"});return c+"</div>"},accordion:function(){return"<div>"},tab:function(a){for(var b,c=[],d=k.createDiv({elementName:a.elementName,classes:a.classes||""}),e=0;e<a.collection.length;e++)b={},b.listItemId="tab_li_"+a.collection[e].elementName,b.listItemClasses=["capture_tab_toggle"],0===e&&b.listItemClasses.push("capture_toggled"),
b.anchorId="tab_"+a.collection[e].elementName,b.anchorText=a.collection[e].label,b.anchorHref="#",c.push(b),v.push({elementName:"tab_"+a.collection[e].elementName,handler:function(b){T(b,a)},eventType:"click"});d+=k.createListOfLinks(c,["capture_tabs"]);return d+"</div>"}},pluralIterator:function(a){var b="",c="",d=a.format||"",e=a.startHTML||"",g=a.endHTML||"",a=y(a.value)?a.value:[],j=a.length,i;for(i=0;i<j;++i)c+=ca(a[i],d);c&&(b+=e+c+g);return b}},widget:{login:function(){v.push({handler:function(){var a=
document.getElementById("janrainEngageEmbed"),b=document.getElementById(C+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=X();janrain.engage.signin.appendTokenParams({capture_transactionId:c});xc=c}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());Jc||ka()},
eventType:"render"});var a=k.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(a,b){b=b?M.parse(b):{text:"Share"};v.push({elementName:"share_widget",eventType:"click",handler:function(){janrain.engage.share.show()}});var c=k.createDiv({elementName:"share_widget",classes:["share_widget"]});return c+=b.text+" </div>"}}};var cc,Tc,Ra=0,va=!0,I={};ba.accessDenied='<div class="capture_access">'+(bb.accessDenied||"Sorry. Access denied.")+"</div>";ba.retrievingUserData=
'<div class="capture_retrieving">'+(bb.retrievingUserData||"Please wait while we retrieve your user data.")+"</div>";var Dc=[],Kc={};return{modal:{close:function(){"object"==typeof w&&w.close()},closeConfirm:function(){"object"==typeof w&&w.closeConfirm()},open:function(a){a=a||aa.flow.defaultScreen;if("object"==typeof w&&(janrain.capture.ui.renderScreen(a),a=document.getElementById(n.screens[a].layout)))w.setShowContentOnLoad(!0),w.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},
setBorder:function(a){"object"===typeof w&&(w.setBorder(a),w.refresh());return!0},setBorderColor:function(a){"object"===typeof w&&(w.setBorderColor(a),w.refresh());return!0},setBorderOpacity:function(a){"object"===typeof w&&(w.setBorderOpacity(a),w.refresh());return!0},setBorderRadius:function(a){"object"==typeof w&&(w.setBorderRadius(a),w.refresh());return!0}},start:function(a,c){b(a,c)},hasActiveSession:function(){return!!Sa},render:function(a,b){a.i18nStrings&&(bb=a.i18nStrings);if(a.version)F=
a.version;else throw Error("MissingVersionError: Missing version.");Db(a);S=a.hasTraditionalAccount;Gc=a.form;if(S)for(var c=Ma("janrain_traditional_account_only"),d=c.length,e=0;e<d;e++)c[e].style.display="";c=new Ia;d=!1;ec&&hc&&(d=janrain.settings.capture.registerFlow||"socialRegister");d=n.oneTimeRender||d||janrain.settings.capture.screenToRender||n.defaultScreen;c.setScreenData(d,n.screens[d]);if(b)for(var g in b)b[g].id&&b[g].value&&(c=document.getElementById(b[g].id),c.value=b[g].value,"radio"===
b[g].type&&(c.checked=b[g].checked,b[g].checked&&c.click()))},renderScreen:function(a,b){yc=!1;b||dc.push(aa);(new Ia).setScreenData(a,n.screens[a])},setHandler:function(a,b,c){this.setFieldAttribute(a,b+"Handler",c)},setFieldAttribute:function(a,b,c){fc.push({field:a,attribute:b,value:c})},setRenderer:function(a,b,c){B.prototype.render[a].helpers=sa;B.prototype.render[a][b]=c},setValidator:function(a,b){G.prototype[a]=b},registerFunction:function(a,b){Kc[a]=b},addRenderer:function(a,b,c){this.setRenderer(a,
b,c)},trackLoadedCssFiles:function(a){u.push(a)},handleCaptureUniqueResponse:function(a){Ub(a)},handleCaptureResponse:function(a,b){Rb(a,b)},handleErrorResponse:function(a,b){a.result&&a.result.error&&"access_token_expired"===a.result.error&&(ua(),janrain.events.onCaptureExpiredToken.fire());var c=a.result.error+": "+a.result.errorDescription;if("linkError"===a.result.error&&n.fields.linkedAccounts&&n.fields.linkedAccounts.messages&&n.fields.linkedAccounts.messages.errors&&n.fields.linkedAccounts.messages.errors.linkError){var c=
n.fields.linkedAccounts.messages.errors.linkError,d=N().getCookie("expected_tab");janrain.events.onCaptureLinkAccountError.fire({message:c,provider:d})}else lc&&(d=k.domHelpers.createDiv({classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()}),d.innerHTML=c,lc.insertBefore(d,lc.firstChild),janrain.events.onCaptureContentChange.fire()),lc||alert(c),la(a),"function"===typeof b&&b()},createCaptureSession:function(a){da(a)},endCaptureSession:function(){ua()},addTransactionIds:function(a){m(a)},
getFailedLogins:function(){return Za},setCustomHtml:function(a,b){x(vc,a)&&(ba[a]=b)},getEngageCookie:function(a){return Gb(a)},getProfileCookieData:function(a,b){return Vb(a,b)},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);Fb(a.transactionId);xb();Ob=!0},federateSetLoginSuccess:function(a){a=Ac[a.transactionId];a.fireEvent&&janrain.events[a.fireEvent]&&janrain.events[a.fireEvent].fire(a)},federateRefreshToken:function(a){a&&"ok"===a.stat&&(da(a.accessToken,!1,
!0),eb())},scriptLoader:function(a,b){return qc(a,b)},noop:function(){},validationHandler:function(a){var b=document.getElementById(a.elementId),c=new k.validation;c.setParentDiv(b);c.setElement(b);c.valid();a.valid?c.valid():c.notValid(a.reason)}}};return{engage:{signin:janrain&&janrain.engage&&janrain.engage.signin?janrain.engage.signin:oa,share:janrain&&janrain.engage&&janrain.engage.share?janrain.engage.share:Z,publish:janrain&&janrain.engage&&janrain.engage.publish?janrain.engage.publish:fb,
simpleshare:janrain&&janrain.engage&&janrain.engage.simpleshare?janrain.engage.simpleshare:kb},capture:{ui:fd}}}();janrain.engage=janrain.apps.engage;janrain.capture=janrain.apps.capture;
