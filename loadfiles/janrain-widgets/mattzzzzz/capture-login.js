/*
 -*- Engage Auth Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2012.48
 -*- Capture UI Widget -*-
 Copyright (c) 2012, Janrain, Inc. All rights reserved.
 Version: 2012.48
*/
"object"!==typeof window.janrain&&(window.janrain={});janrain.apps={};
janrain.apps=function(){var pc,Bb,Cd,Dd,Qa,gd,Ed,Fd,Gd,Hd,Id,Jd,Ha,ab;function Mc(){return"http:"===document.location.protocol?"http://cdn.quilt.janrain.com/2.1.3/":"https://d3hmp0045zy3cs.cloudfront.net/2.1.3/"}function be(a,d,c){var e;if(document.getElementById(a))return!1;if(f){e="";var i=document.createElement("div");i.innerHTML=e+"<iframe "+('name="'+a+'" ')+('id="'+a+'" ')+('src="'+d+'" ')+'style="display: none;"></iframe>';document.body&&document.body.appendChild(i)}else e=document.createElement("iframe"),
e.setAttribute("name",a),e.id=a,e.setAttribute("src",d),e.style.display="none",e.className="",document.body&&document.body.appendChild(e);"function"===typeof c&&c()}function Nc(a){for(var d="",d="",c=0;c<a;c++)d+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return d}function Cb(){function a(a,c,d,e){c={action:a,key:c,messageId:d};"set"===a&&(c.value=e);return"janrainCapture:"+Q.stringify(c)}function d(a,c){function d(){e++;if(10<e)return!1;if("undefined"!==typeof D[a])return clearTimeout(h),
"get"===D[a].action&&"function"===typeof c&&c(D[a].storedValue),!0;var h=setTimeout(d,50)}var e=0;d()}function c(c,e){var h=Nc(40);window.setTimeout(function(){F.contentWindow.postMessage(a("get",c,h),Oc)});d(h,e)}function e(a,d){if(h)Pc?c(a,d):setTimeout(function(){e(a,d)},50);else return window.localStorage.getItem(a)}function i(a){if(0!==a.data.indexOf("janrainCapture:")||!x(j,a.origin.replace(/^https?:\/\/|:\d{1,4}$/g,"").toLowerCase()))return!1;a=Q.parse(a.data.replace("janrainCapture:",""));
D[a.messageId]=a}var h=!1,D={},F,Oc,j=janrain.settings&&janrain.settings.whiteListedDomains?janrain.settings.whiteListedDomains:[];return{setItem:function(c,e){if(h){var i=Nc(40);window.setTimeout(function(){F.contentWindow.postMessage(a("set",c,i,e),Oc)});return d(i)}return window.localStorage.setItem(c,e)},removeItem:function(c){if(h){var e=Nc(40);window.setTimeout(function(){F.contentWindow.postMessage(a("remove",c,e),Oc)});return d(e)}return window.localStorage.removeItem(c)},getItem:e,setMultiDomain:function(a){if(h=
a)window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent?window.attachEvent("onmessage",i):document.attachEvent&&document.attachEvent("onmessage",i),F=document.getElementById("xDomainLocalStorageJanrain"),Oc=janrain.settings.storageServerDomain}}}function z(){function a(){if(i&&Ub){var a=new Cb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.removeItem(e);a.removeItem(e+"_Expires")}else{var a=D?"; domain="+D:"",c=new Date;c.setTime(c.getTime()+-864E6);document.cookie=
e+"="+h+";expires="+c.toUTCString()+a+"; path="+F}}function d(c,d){var h,D,F,j,f;if(i&&Ub)if(f=new Cb,janrain.settings.multiDomainLocalStorage)f.setMultiDomain(!0),f.getItem(c,function(h){h?f.getItem(c+"_Expires",function(i){i?Math.round((new Date).getTime()/1E3)>Math.round((new Date(i)).getTime()/1E3)?(e=c,a(),"function"===typeof d&&d(!1)):"function"===typeof d&&d(h):(new z).getCookie(c+"_session")?"function"===typeof d&&d(h):(e=c,a())}):"function"===typeof d&&d(!1)});else if(j=f.getItem(c),h=f.getItem(c+
"_Expires"),j){if(!(h&&Math.round((new Date).getTime()/1E3)>Math.round((new Date(h)).getTime()/1E3))&&(h||(new z).getCookie(c+"_session")))return j;e=c;a()}else return!1;else{h=document.cookie.split(";");D=h.length;for(var E=0;E<D;E++)if(F=h.pop(),j=F.split("="),F=j[0],j=j[1],F.trim()===c)return j;return!1}}var c,e,i=!1,h,D,F="/";return{create:function(){if(i&&Ub){var a=new Cb;a.setMultiDomain(janrain.settings.multiDomainLocalStorage);a.setItem(e,h);c?a.setItem(e+"_Expires",c):(new z).setName(e+"_session").setValue("session").create()}else document.cookie=
e+"="+h+(c?"; expires="+c:"")+(D?"; domain="+D:"")+"; path="+F},remove:a,setExpirationDirectly:function(a){a&&(c=a);return this},setExpiration:function(a){if(a){var d=new Date;d.setTime(d.getTime()+864E5*a);c=d.toUTCString()}return this},setName:function(a){a&&(e=a);return this},setValue:function(a){"undefined"!==typeof a&&(h=a);return this},setUseLocalStorage:function(a){i=a;return this},setPath:function(a){a&&(F=a);return this},setDomain:function(a){a&&(D=a);return this},getCookie:function(a,c){return d(a,
c)}}}function Vb(){return"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(na)?parseFloat(RegExp.$1):!1}function qc(){return!/Chrome\//.test(na)&&/Safari\//.test(na)}function ka(a,d,c,e,i,h){"number"===typeof c&&"number"===typeof e&&"number"===typeof i&&"number"===typeof h?("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=c+"px "+e+"px "+i+"px "+h+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=c+"px "+e+"px "+i+
"px "+h+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=c+"px "+e+"px "+i+"px "+h+"px")):("undefined"!==typeof a.style.borderRadius&&(a.style.borderRadius=d+"px"),"undefined"!==typeof a.style.MozBorderRadius&&(a.style.MozBorderRadius=d+"px"),"undefined"!==typeof a.style.webkitBorderRadius&&(a.style.webkitBorderRadius=d+"px"));return a}function Wb(a,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;var c=a-d;0>c&&(c=0);c>a&&(c=a);return c}function rc(a,
d){if(f&&9>=f)return a.style.backgroundImage="url('"+Db("rel/img/c7a91677d94f4a79e1b26c8ceb31af82.png")+"')",!0;var c;if(c=qc()){a:{if(na&&(c=na.match(/(\d)[\d.]+ Safari/))&&c[1]){c=1*c[1];break a}c=0}c=4>=c}if(c||Ia.getMobileDevice()){var e=c="",i="",h=d.split(","),D={top:"left top, left bottom",right:"right top, right bottom",bottom:"left bottom, left top",left:"left top, left bottom"};h[0]&&D[h[0]]&&(c=D[h[0]]);h[1]&&(e="from("+h[1]+")");h[h.length-1]&&(i="to("+h[h.length-1]+")");a.style.backgroundImage=
"-webkit-gradient(linear,"+c+","+e+","+i+")"}a.style.backgroundImage="-moz-linear-gradient("+d+")";a.style.backgroundImage="-webkit-linear-gradient("+d+")";a.style.backgroundImage="-ms-linear-gradient("+d+")";a.style.backgroundImage="-o-linear-gradient("+d+")";a.style.backgroundImage="linear-gradient("+d+")"}function Xb(a,d,c,e){var i=sc(c),h=sc(c,e);if(c=ce(c))c.a=e,h="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")";if(0<d){a.style.backgroundColor=i;a.style.padding=d+"px";if(0<f&&8>=f||f&&W)return!1;a.style.backgroundColor=
h;a.style.padding=d+"px"}else a.style.backgroundColor="",a.style.padding="0px"}function ce(a){var d={};if("string"!==typeof a||!a)return!1;a=a.replace(/\s+/g,"");a=a.replace(/,{2,}/g,",");a=a.replace(/[^\d.,]/g,"");a=a.split(",");if(3>a.length||4<a.length)return!1;d.r=a[0];d.g=a[1];d.b=a[2];d.a=a[3]?a[3]:1;return d}function sc(a,d){var c=a.split("");if("#"!==c[0])return a;4===a.length&&(a=c[0]+c[1]+c[1]+c[2]+c[2]+c[3]+c[3]);var a=a.substring(1,7),c=parseInt(a.substring(0,2),16),e=parseInt(a.substring(2,
4),16),i=parseInt(a.substring(4,6),16);return isNaN(d)?"rgb("+c+","+e+","+i+")":"rgba("+c+","+e+","+i+","+d+")"}function w(a,d,c){if(null==a)return!1;"object"===typeof window.attachEvent?a.attachEvent("on"+d,c):a.addEventListener(d,c,!1)}function bb(a,d,c){"object"===typeof window.detachEvent?a.detachEvent("on"+d,c):a.removeEventListener(d,c,!1)}function Qc(){var a,d,c,e,i,h,D,F;d=document.documentElement?document.documentElement:{clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0,offsetWidth:0,
offsetHeight:0};D=d.scrollWidth?d.scrollWidth:0;F=d.scrollHeight?d.scrollHeight:0;i=d.offsetWidth?d.offsetWidth:0;h=d.offsetHeight?d.offsetHeight:0;c=document.body.scrollWidth?document.body.scrollWidth:0;e=document.body.scrollHeight?document.body.scrollHeight:0;a=document.body.offsetWidth?document.body.offsetWidth:0;d=document.body.offsetHeight?document.body.offsetHeight:0;i=Math.max(c,D,a,i);return{height:Math.max(e,F,d,h),width:i}}function Za(a){return{width:a.style&&a.style.width?parseInt(a.style.width):
a.offsetWidth?parseInt(a.offsetWidth):0,height:a.style&&a.style.height?parseInt(a.style.height):a.offsetHeight?parseInt(a.offsetHeight):0}}function Kd(a,d){var c=document.getElementById(a);if("object"===typeof c.currentStyle)var e=c.currentStyle[d];else window.getComputedStyle&&(e=document.defaultView.getComputedStyle(c,null).getPropertyValue(d));return e}function S(a,d,c,e,i){var h=/^(?:[^\u0000-\u0080]|[-0-9a-z?,.!&\s#()])+$/i,D=/(?:^rgb\s*\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$)|(?:^#[a-f0-9]{1,6}$)/i;
if("array"===a){if(!v(e))return i||I.log(e+" is wrong type, must be array, using default value instead"),c;if(d&&v(d))for(var F=0;F<e.length;F++)if(0>d.indexOf(e[F]))return i||I.log(e+" is not within the valid range, using default value instead"),c;return e}if("url"===a){if("string"!==typeof e)return c;e&&(e=e.trim());if(/^http(?:s)?:\/\/[-a-z0-9._~@:!$&'()*+,;=\s/?#]+$/i.test(e))return e;i||I.log(e+" is not the valid format, using default value instead");return c}if("text"===a){if(d){if(0<=d.indexOf(e))return e;
i||I.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}return h.test(e)?e:c}if("usertext"===a){if("string"!==typeof e&&"number"!==typeof e)return c;if(v(d)){if(1===d.length){if(e.length<=d[0])return e;i||I.log(e+" is too long, using default value instead");return c}if(2===d.length){if(e.length<=d[1]&&e.length>=d[0])return e;i||I.log(e+" is not within the valid range, using default value instead");return c}i||I.log("usertext range is invalid, using default value instead");
return c}return e}"string"===typeof e&&0==e.length&&(e=" ");if(!h.test(e))return i||I.log(e+" contains invalid character(s)"),c;if("boolean"===a){if("boolean"===typeof e)return e;i||I.log(e+" is wrong type, must be boolean, using default value instead");return c}if("text"===a)return e;if("number"===a){if(isNaN(parseInt(e)))return i||I.log(e+" is wrong type, must be a valid number"),c;e=parseFloat(e)}if("color"===a){e&&(e=e.trim());if("transparent"===e||D.test(e))return e;i||I.log('Value of "'+e+'" for '+
arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if(typeof e!=a&&"color"!=a)return i||I.log(e+" for "+arguments.callee.caller.name+" is "+typeof e+" expected "+a),c;if("object"===typeof d&&"string"===a){if(0<=d.indexOf(e))return e;i||I.log('Value of "'+e+'" for '+arguments.callee.caller.name+' is not a valid value, using default value of "'+c+'" instead');return c}if("object"===typeof d&&"number"===a){2===d.length?(h=d[0],D=d[1]):(h=d.shift(),
D=d.pop(),F=d);if(e<h)return i||I.log("Value of "+e+" for "+arguments.callee.caller.name+" is below minimum of "+h+", using minimum value of "+h+" instead"),h;if(e>D)return i||I.log("Value of "+e+" for "+arguments.callee.caller.name+" is above maximum of "+D+", using maximum value of "+D+" instead"),D;if(F&&"number"===typeof F.indexOf(e)||e==h||e==D)return e;return F?(i||I.log("Value of "+e+" for "+arguments.callee.caller.name+" is not a valid value, using default value of "+c+" instead"),c):e}return 0!=
e&&!e?c:e}function Yb(a){for(var d=Yb.options,a=d.parser[d.strictMode?"strict":"loose"].exec(a),c={},e=14;e--;)c[d.key[e]]=a[e]||"";c[d.q.name]={};c[d.key[12]].replace(d.q.parser,function(a,e,D){e&&(c[d.q.name][e]=D)});return c}function Ra(a){return document.getElementById(R(a).getAttribute("id"))}function R(a){return a.target?a.target:a.srcElement}function hd(a,d){function c(a){v=!0;"undefined"!==typeof f&&clearTimeout(f);if("string"===typeof a)return"function"===typeof F&&F(a),!0;if("object"===
typeof a||"undefined"===typeof a)return"object"===typeof a&&"error"===a.type?"function"===typeof F&&F(a):"function"===typeof i&&i(),!0}function e(){j++;if(v)return!0;j<h?f=setTimeout(e,50):c("Load Timeout Error")}var i=d,h=200,D=!1,F,j=0,f,o=document.createElement("script"),w=document.getElementsByTagName("script")[0],v=!1;o.src=a;o.setAttribute("type","text/javascript");o.onload=o.onerror=o.onreadystatechange=function(a){!v&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&
c(a)};return{setTimeoutCallback:function(a){D=!0;F=a;return this},setCallback:function(a){i=a;return this},setTimeoutLimit:function(a){h=a;return this},load:function(){w.parentNode.insertBefore(o,w);D&&e()}}}function za(a,d){hd(a,d).load()}function Ld(a,d){f&&9>f&&Zb(a,d)}function Zb(a,d){function c(c){F=!1;"function"===typeof d&&d();janrain.events.onCssLoad.fire({source:a,noload:c})}function e(){if(F){for(f=j.length;0<=--f;)if(j[f].href===h.href){c();break}D+=1;F&&(200>D?setTimeout(e,50):c(!0))}}
function i(){var a;try{a=!!h.sheet.cssRules}catch(d){D+=1;200>D?setTimeout(i,50):a&&c(!0);return}c()}if(!x(tc,a)){tc.push(a);var h,D=0,F=!0,j=document.styleSheets,f;"undefined"===typeof janrain.events.onCssLoad&&(janrain.events.onCssLoad=new rb);Eb?(h=document.createElement("style"),h.innerHTML='@import "'+a+'";'):(h=document.createElement("link"),h.rel="stylesheet",h.href=a,h.type="text/css");uc||Eb?(uc&&e(),Eb&&i()):(h.onload=function(){c()},h.onerror=function(){c(!0)});document.getElementsByTagName("head")[0].appendChild(h)}}
function o(a){var d;d=a&&a.className?a.className.split(" "):[];return{append:function(c){-1===d.indexOf(c)&&(d.push(c),a&&(a.className=d.join(" ")));return this},remove:function(c){-1!==d.indexOf(c)&&(d.splice([d.indexOf(c)],1),a&&(a.className=d.join(" ").trim()));return this},has:function(a){return-1!==d.indexOf(a)}}}function Md(a,d){for(var c in d)d.hasOwnProperty(c)&&(a.style[c]=d[c])}function ta(a,d){a.appendChild(document.createTextNode(d))}function id(a){for(var d=a.lastChild;d;)a.removeChild(d),
d=a.lastChild}function v(a){return"[object Array]"===Object.prototype.toString.call(a)}function x(a,d){return!v(a)?!1:-1<a.indexOf(d)}function Sa(a,d){for(var c in a)a.hasOwnProperty(c)&&d.call(a[c],c,a[c])}function Fb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Nd(a,d){for(var c=d.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1}function $b(a){var d="",c;for(c in a)d+="&"+encodeURIComponent(c)+"="+encodeURIComponent(a[c]);return d="?"+d.substr(1)}function C(a){if(!a)return!1;
if(a.preventDefault)a.preventDefault();else try{a.returnValue=!1}catch(d){}}function Gb(a){if(!a)return!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function de(a){if(!a)return!1;var d=a.getElementsByTagName("input");d||(d=a.getElementsByTagName("button"));if(!d)return!1;for(var c=d.length,e=0;e<c;e++)if("submit"===d[e].type)return d[e];d=a.getElementsByTagName("button");for(e=0;e<c;e++)if("submit"===d[e].type)return d[e]}function Rc(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Od(a){if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){var d=
a.split("/"),a=parseInt(d[1],10),c=parseInt(d[0],10),d=parseInt(d[2],10),e=new Date(d,c-1,a);return e.getFullYear()==d&&e.getMonth()==c-1&&e.getDate()==a?!0:!1}return!1}function Aa(a,d){var c,e,i;void 0===a&&(a="{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}");void 0===d&&(d=new Date);c=function(){var a=d.getHours();12<a&&(a-=12);0===a&&(a=12);return a};e=function(a){return 10>a?"0"+a:a};i=a.replace(/{yyyy}/g,d.getFullYear());i=i.replace(/{month}/g,vc[d.getMonth()]);i=i.replace(/{mmm}/g,vc[d.getMonth()].substring(0,
3));i=i.replace(/{day}/g,ee[d.getDay()]);i=i.replace(/{0m}/g,e(d.getMonth()+1));i=i.replace(/{m}/g,d.getMonth()+1);i=i.replace(/{0d}/g,e(d.getDate()));i=i.replace(/{d}/g,d.getDate());i=i.replace(/{ord}/g,function(){var a=["th","st","nd","rd"],c=d.getDate()%100;return a[(c-20)%10]||a[c]||a[0]}());i=i.replace(/{0hour}/g,e(c()));i=i.replace(/{hour}/g,c());i=i.replace(/{0h}/g,e(d.getHours()));i=i.replace(/{h}/g,d.getHours());i=i.replace(/{minute}/g,e(d.getMinutes()));i=i.replace(/{second}/g,e(d.getSeconds()));
return i=i.replace(/{ampm}/g,11<d.getHours()?"PM":"AM")}function Pd(a,d,c){function e(){var a=f.search(o);if(-1===a)return!1;var c=f.substring(a,a+2);isNaN(c)||12<c?(j.setMonth(f.substring(a,a+1)-1),f=f.substring(a+1)):(j.setMonth(c-1),f=f.substring(a+2));return K=!0}function i(){var a=f.search(o);if(-1===a)return!1;var c=f.substring(a,a+2);isNaN(c)||31<c?(j.setDate(f.substring(a,a+1)),f=f.substring(a+1)):(j.setDate(c),f=f.substring(a+2));return E=!0}function h(){var a;a=f.search(o);if(-1===a)return!1;
f=f.substring(a);a=f.match(w)[0];j.setFullYear(a);f=f.substring(a.length);return C=!0}function D(){var a,c,d=-1,e;for(e=0;12>e;++e)a=f.search(v[e]),-1===d&&-1<a&&(d=a,c=e),-1<a&&a<d&&(d=a,c=e);if(-1===d)return!1;j.setMonth(c);f=f.substring(d);a=f.search(x);-1===a&&(a=f.length);f=f.substring(a);return K=!0}var j=new Date,a=a.match(/\{+([a-z0])+\}/g),f=d,o=/[0-9]{1}/,w=/[0-9]+/,v=[/jan/i,/feb/i,/mar/i,/apr/i,/may/i,/jun/i,/jul/i,/aug/i,/sep/i,/oct/i,/nov/i,/dec/i],x=/[^a-zA-Z]/,K=!1,C=!1,E=!1;"undefined"===
typeof c&&(c=!1);j.setMonth(0);j.setFullYear(0);j.setDate(1);j.setMinutes(0);j.setSeconds(0);j.setHours(0);j.setMilliseconds(0);for(var d=0,r=a.length;d<r;++d){var A=!0;switch(a[d]){case "{m}":K||(A=!1,c||(A=D()),A||(A=e()));break;case "{0m}":K||(A=!1,c||(A=D()),A||(A=e()));break;case "{month}":K||(A=D(),!A&&!c&&(A=e()));break;case "{mmm}":K||(A=D(),!A&&!c&&(A=e()));break;case "{d}":E||(A=i());break;case "{0d}":E||(A=i());break;case "{yyyy}":C||(A=h())}if(!A){j=new Date("Invalid Date");break}if(K&&
C&&E)break}return j}function Rd(a,d){for(var c in d)d.hasOwnProperty(c)&&(a[c]=d[c])}function Sd(a,d){var c=v(d),e=c&&[]||{};if(c){var a=a||[],e=e.concat(a),i;for(i in d)if(c=d[i],"object"===typeof c)e[i]=merge(a[i],c);else{var h=!1,f;for(f in a)if(a[f]==c){h=!0;break}h||e.push(c)}}else{if(a&&"object"===typeof a)for(h in a)a.hasOwnProperty(h)&&(e[h]=a[h]);for(h in d)d.hasOwnProperty(h)&&(e[h]="object"!==typeof d[h]||!d[h]?d[h]:a[h]?Sd(a[h],d[h]):d[h])}return e}function X(a,d){for(var c=d,e=/\{\|(.*?)\|\}/,
i;i=e.exec(c);)try{var h=i[1].trim(),c=c.replace(i[0],"undefined"!==typeof a[h]?a[h]:"")}catch(f){return window.console&&window.console.log&&console.log(f.name+": "+f.message,"error"),!1}return c}function jd(a,d){var c=a.parentNode.nodeName.toLowerCase();return"body"===c?!1:a.nodeName.toLowerCase()===d.toLowerCase()?a:c===d.toLowerCase()?a.parentNode:jd(a.parentNode,d)}function kd(a,d){return!a?!1:"body"===a.nodeName.toLowerCase()?!1:o(a).has(d)?a:kd(a.parentNode,d)}function Sc(a){var d=[],c;for(c in a)a.hasOwnProperty(c)&&
d.push(c+'="'+a[c]+'"');return d.join(" ")}function Td(a){for(var d=[],c=0,e=a.length;c<e;c++)d.push(a[c]);return d}function Ud(a){if(a&&0<a.length)for(var a=a[0].children,d=a.length,c=0;c<d;++c)a[c].blur&&a[c].blur()}function Vd(a){var d,c;if(a&&(a.blur&&a.blur(),a.children)){c=a.children;a=0;for(d=c.length;a<d;a++)Vd(c[a])}}function Tc(){function a(a){var a=a||"img",c=document.createElement(a);c.style.position="absolute";c.style.cursor="pointer";c.style.zIndex=1E3;"a"===a?(c.setAttribute("href",
"#"),c.className="janrain_modal_closebutton",cb&&(c.innerHTML=cb)):(c.src=Ua,za||(c.style.right="-6px",c.style.top="-7px",c.style.height="31px",c.style.width="28px"));c.onclick=ha?e:d;return c}function d(a){Va||(y.style.display="none",Ta.style.display="none",M.style.display="none");va&&Ia.deactivate();("object"===typeof a||!a)&&janrain.events.onModalClose.fire();("object"===typeof a||!a)&&qa.fire();"object"===typeof a&&C(a)}function c(){var a=document.createElement("div"),c=document.createElement("div"),
e=document.createElement("a"),h=document.createElement("a"),i=document.createElement("h3");e.innerHTML=db;h.innerHTML=ta;i.innerHTML=lb;e.setAttribute("href","#");h.setAttribute("href","#");a.className="janrain_close_confirm_container";c.className="janrain_close_confirm";e.className="janrain_modal_confirm";h.className="janrain_modal_cancel";w(e,"click",function(a){d();y.removeChild(Ba);Ba=null;C(a)});w(h,"click",function(a){y.removeChild(Ba);Ba=null;C(a)});c.appendChild(i);c.appendChild(h);c.appendChild(e);
a.appendChild(c);return a}function e(a){Ba||(Ba=c(),y.appendChild(Ba));C(a)}function i(a){var c,d,e=document.documentElement.scrollTop>=document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,h=document.documentElement.scrollLeft>=document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;"undefined"!=typeof window.innerWidth?(c=window.innerWidth,d=window.innerHeight):(c=document.documentElement.offsetWidth,d=document.documentElement.offsetHeight);
var i=Za(a);d-=i.height;c-=i.width;e+=d/2;h+=c/2;0>d&&(document.documentElement.scrollTop=0,document.body.scrollTop=0,e=10);0>c&&(document.documentElement.scrollLeft=0,h=document.body.scrollLeft=0);a.style.top=e+"px";a.style.left=h+"px";"absolute"!==a.style.position&&(a.style.position="absolute")}function h(){if(Va){var a=document.getElementById("previewMode");a.style.position="relative";a.appendChild(y)}else i(y);Va||I.show()}function j(a){wa||(xa=S("number",[0,20],10,a),Ca.fire({radius:Wb(Da,xa)}))}
function F(a){wa||(ga=S("color",null,"#000000",a))}function o(a){wa||(Da=S("number",[0,20],10,a),s.fire({radius:Wb(Da,xa),refresh:!0}))}function v(a){wa||($=S("number",[0,1],0.5,a),"object"==typeof y&&Xb(y,xa,ga,$))}function x(a){if("portrait"===a){N="portrait";var c="one column"}"landscape"===a&&(N="landscape",c="two column");na.fire({orientation:N,format:c,width:Q,height:A});setTimeout(z,100);h()}function qb(a){a&&(Ea=a);f&&W&&(Ea+=xa-2);"object"==typeof y&&(y.style.width=Ea+"px");return this}function R(a){a&&
(X=a);f&&W&&(X=X+2*xa-4);a&&"object"==typeof y&&(y.style.height=X+"px");return this}function K(){Ha>=ab&&"undefined"===typeof window.orientation?"landscape"!==N&&x("landscape"):90===window.orientation||-90===window.orientation?"landscape"!==N&&x("landscape"):"portrait"!==N&&x("portrait");h()}function z(){var a=Qc();M.style.height=a.height+"px";M.style.width=a.width+"px"}function E(){return"object"===typeof y&&"none"!==y.style.display}var Q=380,A=131,y,Qd="janrainModal",Ta,M,fb,Ea=Q,X=A,xa=10,ga="#000000",
Da=10,$=0.5,ha=!1,Ua=Db("rel/img/b573cd6e318034fa17bb7e9690552ca1.png"),cb="",wa=janrain.settings&&janrain.settings.capture&&janrain.settings.capture.noModalBorderInlineCss,za=!1,lb="Are you sure you want to quit?",db="Yes, quit",ta="No, stay",Ba,N="landscape",gb=!0,va="boolean"===typeof va?va:"number"===typeof window.orientation?!0:!1,Wa="boolean"===typeof Wa?Wa:janrain.settings.previewMode,Va=Wa,Fa=Fa||!1,Ja=!1;janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseImage&&
(Ua=janrain.settings.capture.modalCloseImage,za=!0);janrain.settings&&janrain.settings.capture&&janrain.settings.capture.modalCloseHtml&&(cb=janrain.settings.capture.modalCloseHtml);window.janrain.events.onModalClose||(window.janrain.events.onModalClose=Z());window.janrain.events.onModalOpen||(window.janrain.events.onModalOpen=Z());var qa=Z(),hb=Z(),s=Z(),Ca=Z(),na=Z();Ia&&Ia.onOrientationChange&&Ia.onViewportChange&&(Ia.onOrientationChange.addHandler(function(a){x(a.orientation)}),Ia.onViewportChange.addHandler(function(){i(y)}));
"undefined"!==typeof janrain.events.onCaptureRenderComplete&&(janrain.events.onCaptureRenderComplete.addHandler(function(){E()&&(Ja=!0)}),janrain.events.onCaptureContentChange.addHandler(function(){E()&&Ja&&(h(),setTimeout(z,500),Ja=!1)}));return{isOpen:function(){return E()},setWidth:function(a){qb(a);return this},setHeight:function(a){R(a);return this},setBorder:function(a){("string"==typeof a||"number"==typeof a)&&j(a);wa||"object"==typeof y&&Xb(y,xa,ga,$);return this},setBorderColor:function(a){a&&
F(a);wa||"object"==typeof y&&Xb(y,xa,ga,$);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&o(a);wa||"object"==typeof y&&ka(y,Da);return this},setBorderOpacity:function(a){("number"===typeof a||"string"===typeof a)&&v(a);return this},setZIndex:function(a){M.style.zIndex=a},setPreviewMode:function(a){"boolean"===typeof a&&(Va=a);return this},setId:function(a){Qd=a;y&&(y.id=a);return this},show:function(){va||(y.style.display="block");"object"==typeof Ta&&gb&&(Ta.style.display=
"block");Va?va&&(y.style.display="block"):(M.style.display="block",va?(Ia.setElement(y).activate(),y.style.display="block"):(w(window,"resize",K),w(window,"resize",z),K(),z()));wa||s.fire({radius:Wb(Da,xa),refresh:!1});hb.fire();janrain.events.onModalOpen.fire();y.focus()},close:function(a){d(a)},closeConfirm:function(){e()},refresh:function(a){Fa||y.appendChild(fb);a&&a.center&&h()},remove:function(){if(Va){var a=document.getElementById("previewMode");"object"===typeof fb&&y.removeChild(fb);"object"===
typeof y&&a.removeChild(y);"object"===typeof M&&document.body.removeChild(M);if(a=document.getElementById("janrainEngageEmbed_old"))a.id="janrainEngageEmbed";M=y=""}else"object"===typeof fb&&y.removeChild(fb),"object"===typeof M&&document.body.removeChild(M),"object"===typeof y&&document.body.removeChild(y)},addContent:function(c){janrain.events.onAuthWidgetContentPlaced.fire();Ta=c;if(!y){y=document.createElement("div");y.id=Qd;if("number"===typeof Ea||"string"===typeof Ea)y.style.width=Ea+"px";
y.style.height=X+"px";y.style.position="absolute";wa||(y.style.padding=xa+"px",ka(y,Da),Xb(y,xa,ga,$));y.style.zIndex=1E3;y.style.display="none";c=Qc();M=document.createElement("div");janrain.settings&&janrain.settings.capture&&janrain.settings.capture.captureServer&&(M.id="janrainModalOverlay");M.style.width=c.width+"px";M.style.height=c.height+"px";M.style.left=0;M.style.top=0;M.style.backgroundColor="#000000";M.style.position="absolute";c=M;"undefined"!==typeof c.style.filter&&(c.style.filter=
"alpha(opacity=40)");"undefined"!==typeof c.style.opacity&&(c.style.opacity="0.4");"undefined"!==typeof c.style.KhtmlOpacity&&(c.style.KhtmlOpacity="0.4");"undefined"!==typeof c.style.MozOpacity&&(c.style.MozOpacity="0.4");M.style.display="none";M.style.zIndex=1E3;fb=cb?a("a"):a();y.appendChild(fb);document.body.appendChild(M);document.body.appendChild(y)}y.appendChild(Ta);setTimeout(z,500);Va&&h();return this},getContent:function(){return Ta},getBorderWidth:function(){return xa},getState:function(){return{width:Ea,
borderWidth:xa,borderColor:ga,borderRadius:Da,borderOpacity:$,orientation:N}},setState:function(a){r("customizable_auth_widget_styling")&&("undefined"!==typeof a.borderWidth&&j(a.borderWidth),"undefined"!==typeof a.borderColor&&F(a.borderColor),"undefined"!==typeof a.borderOpacity&&v(a.borderOpacity),"undefined"!==typeof a.orientation&&x(a.orientation),"undefined"!==typeof a.borderRadius&&(("string"==typeof a.borderRadius||"number"==typeof a.borderRadius)&&o(a.borderRadius),"object"==typeof y&&ka(y,
Da)))},setConfirmClose:function(a){ha=a;return this},setShowContentOnLoad:function(a){gb=a;return this},setConfirmMessageText:function(a){lb=a},setConfirmLinkText:function(a){db=a},setCancelLinkText:function(a){ta=a},onClose:qa,onShow:hb,onOrientationChange:na,onBorderRadiusChange:s,onBorderWidthChange:Ca}}function fe(a){function d(){var a=window.open(c,"","width="+e+", height="+i+", status=1, location=1, resizable=yes"),d=window.setInterval(function(){if(a&&a.closed||a&&"undefined"===typeof a.closed||
"undefined"===typeof a)window.clearInterval(d),"function"===typeof h&&h()},500)}var c=a,e=400,i=400,h;return{show:function(){d()},setWidth:function(a){a&&(e=a);return this},setHeight:function(a){a&&(i=a);return this},setCallback:function(a){a&&(h=a);return this}}}function ld(){function a(){qb=(new Date).getTime()-e;if(qb<c){var a=Math.round(d()*v+f);i.style[o]=a+"px"}else clearInterval(x),i.style[o]=j+"px",K()}function d(){if("flat"==r)return qb*(1/c);if("sinusoidal"==r)return Math.abs(Math.sin(qb*
(Math.PI/(2*c))))}var c="1000",e,i,h=document,f,j,o="left",v,x,qb,r="flat",K,I;return{setAcceleration:function(a){r=a;return this},setCallback:function(a){K=a;return this},setDuration:function(a){c=a;return this},setDirection:function(a){"horizontal"===a&&(o="left");"vertical"===a&&(o="top");return this},setElement:function(a){i=a;return this},setElementBoundry:function(a){h=a;return this},startPosition:function(a){f=a;return this},endPosition:function(a){j=a;return this},animate:function(){v=j-f;
e=(new Date).getTime();x=setInterval(a,10);return this},drag:function(a){var c=this;this.moveHandler=function(a){var c=ge({event:cc&&a.targetTouches.length?a.targetTouches[0]:a,boundry:h}).x();i.style.left=c+"px";Gb(a);C(a);I&&clearTimeout(I);I=setTimeout(function(){K({pos_x:c})},500)};this.upHandler=function(a){c.unbindDragHandlers();Gb(a);C(a)};w(document,pc,this.moveHandler);w(document,Bb,this.upHandler);Gb(a);C(a)},unbindDragHandlers:function(){bb(document,Bb,this.upHandler);bb(document,pc,this.moveHandler);
return this}}}function ge(a){return{x:function(){var d=a.event.clientX-Wd(a.boundry).x,d=d<this.boundry_x()?d:this.boundry_x();return 0<d?d:0},boundry_x:function(){var d=a.boundry.getBoundingClientRect();return d.width?d.width:d.right-d.left},y:function(){},boundry_y:function(){}}}function Wd(a){var d=curtop=0;if(a.offsetParent){do d+=a.offsetLeft,curtop+=a.offsetTop;while(a=a.offsetParent);return{x:d,y:curtop}}}function Z(){return new rb}function rb(){this.eventHandlers=[];this.firedEvents=[]}function wc(){if(function(){if("object"!==
typeof janrain.events||"object"!==typeof janrain.apps.engage||"object"!==typeof janrain.apps.engage.signin)return!1;if(!0===janrain.settings.custom)return!0;for(var a="onAuthWidgetLoad,onAuthWidgetContentPlaced,onCustomizationChange,onProviderLoginComplete,onProviderLoginCancel,onProviderLoginError,onProviderLoginStart,onProviderLoginSuccess,onProviderLoginToken,onReturnExperienceFound,onModalWidgetReady".split(","),c=0;c<a.length;c++)if("object"!==typeof janrain.events[a[c]])return!1;return!0}())clearTimeout(a),
janrain.events.onAuthWidgetLoad.fire();else var a=setTimeout(wc,5)}function xc(){function a(){if("object"!==typeof janrain.events||"object"!==typeof janrain.apps.capture||"undefined"===typeof janrain.events.captureEvents)return!1;for(var a=0,d=janrain.events.captureEvents.length;a<d;a++)if("object"!==typeof janrain.events[janrain.events.captureEvents[a]])return!1;return janrain.settings.capture.federate&&!janrain.federateJSLoaded||!janrain.ready?!1:!0}if("function"===typeof janrainCaptureWidgetOnLoad)if(a())clearTimeout(d),
janrainCaptureWidgetOnLoad();else var d=setTimeout(xc,5)}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var d=Object(this),c=d.length>>>0;if(0===c)return-1;var e=0;0<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&Infinity!=e&&-Infinity!=e&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=c)return-1;for(e=0<=e?e:Math.max(c-Math.abs(e),0);e<c;e++)if(e in d&&d[e]===a)return e;return-1});Array.prototype.map||(Array.prototype.map=function(a,d){if(null===
this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!==typeof a)throw new TypeError;for(var i=Array(e),h=0;h<e;h++)h in c&&(i[h]=a.call(d,c[h],h,c));return i});Array.prototype.filter||(Array.prototype.filter=function(a,d){if(null==this)throw new TypeError;var c=Object(this),e=c.length>>>0;if("function"!=typeof a)throw new TypeError;for(var i=[],h=0;h<e;h++)if(h in c){var f=c[h];a.call(d,f,h,c)&&i.push(f)}return i});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,
"")});var he=window.innerWidth?window.innerWidth:document.body&&document.body.clientWidth?document.body.clientWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:0;ab=window.innerHeight?window.innerHeight:document.body&&document.body.clientHeight?document.body.clientHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:0;Ha=he;var Ub=window.localStorage&&window.localStorage.getItem&&window.localStorage.removeItem&&
window.localStorage.setItem,tc=[],Pc=!1,W="CSS1Compat"!==document.compatMode,dc=!1,$=!1,j=[],mb="b781cd5",Xd=!0,ec=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),fc=null!==ec?ec[0]:!1,Hb="number"===typeof window.orientation||
null!==ec,ee="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),vc="January,February,March,April,May,June,July,August,September,October,November,December".split(","),ie=[16,20,30,32,48,50,64],Yd=[{text:"AL",value:"AL"},{text:"AK",value:"AK"},{text:"AZ",value:"AZ"},{text:"AR",value:"AR"},{text:"CA",value:"CA"},{text:"CO",value:"CO"},{text:"CT",value:"CT"},{text:"DE",value:"DE"},{text:"DC",value:"DC"},{text:"FL",value:"FL"},{text:"GA",value:"GA"},{text:"HI",value:"HI"},{text:"ID",
value:"ID"},{text:"IL",value:"IL"},{text:"IN",value:"IN"},{text:"IA",value:"IA"},{text:"KS",value:"KS"},{text:"KY",value:"KY"},{text:"LA",value:"LA"},{text:"ME",value:"ME"},{text:"MD",value:"MD"},{text:"MA",value:"MA"},{text:"MI",value:"MI"},{text:"MN",value:"MN"},{text:"MS",value:"MS"},{text:"MO",value:"MO"},{text:"MT",value:"MT"},{text:"NE",value:"NE"},{text:"NV",value:"NV"},{text:"NH",value:"NH"},{text:"NJ",value:"NJ"},{text:"NM",value:"NM"},{text:"NY",value:"NY"},{text:"NC",value:"NC"},{text:"ND",
value:"ND"},{text:"OH",value:"OH"},{text:"OK",value:"OK"},{text:"OR",value:"OR"},{text:"PA",value:"PA"},{text:"PR",value:"PR"},{text:"RI",value:"RI"},{text:"SC",value:"SC"},{text:"SD",value:"SD"},{text:"TN",value:"TN"},{text:"TX",value:"TX"},{text:"UT",value:"UT"},{text:"VT",value:"VT"},{text:"VA",value:"VA"},{text:"WA",value:"WA"},{text:"WV",value:"WV"},{text:"WI",value:"WI"},{text:"WY",value:"WY"}],je=[{text:"AB",value:"AB"},{text:"BC",value:"BC"},{text:"MB",value:"MB"},{text:"NB",value:"NB"},{text:"NL",
value:"NL"},{text:"NS",value:"NS"},{text:"NT",value:"NT"},{text:"NU",value:"NU"},{text:"ON",value:"ON"},{text:"PE",value:"PE"},{text:"QC",value:"QC"},{text:"SK",value:"SK"},{text:"YT",value:"YT"}];Qa=13;Id=8;Jd=46;Fd=38;Hd=40;Ed=37;Gd=39;Dd=9;gd=27;var cc="ontouchstart"in window;Cd=cc?"touchstart":"mousedown";Bb=cc?"touchend":"mouseup";pc=cc?"touchmove":"mousemove";janrain.settings&&janrain.settings.storageServer&&be("xDomainLocalStorageJanrain",janrain.settings.storageServer,function(){w(document.getElementById("xDomainLocalStorageJanrain"),
"load",function(){Pc=!0})});var na=navigator.userAgent,f=Vb(),Eb=/Gecko\//.test(na),uc=/AppleWebKit\//.test(na);/Chrome\//.test(na);var ke=qc(),r=function(){var a=function(a){for(var d=[],i=0;i<a.length;i++)d.push(a[i]);return d},d={};janrain.settings&&janrain.settings.permissions&&(d.login=a(janrain.settings.permissions));janrain.settings&&janrain.settings.share&&janrain.settings.share.permissions&&(d.share=a(janrain.settings.share.permissions));return function(a,e){e=e||"login";return!d[e]?!1:0<=
d[e].indexOf(a)}}();Yb.options={strictMode:!1,key:"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","),q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};
for(var ha=function(a,d,c){ha=document.getElementsByClassName?function(a,c,d){for(var a=(c||document).getElementsByClassName(a),d=d?RegExp("\\b"+d+"\\b","i"):null,c=[],f,j=0,o=a.length;j<o;j+=1)f=a[j],(!d||d.test(f.nodeName))&&c.push(f);return c}:function(a,c,d){var d=d||"*",c=c||document,f=a.split(" "),a=[],c="*"===d&&c.all?c.all:c.getElementsByTagName(d),d=[],j;j=0;for(var o=f.length;j<o;j+=1)a.push(RegExp("(^|\\s)"+f[j]+"(\\s|$)"));for(var o=0,v=c.length;o<v;o+=1){f=c[o];j=!1;for(var w=0,x=a.length;w<
x&&!(j=a[w].test(f.className),!j);w+=1);j&&d.push(f)}return d};return ha(a,d,c)},Ia=function(){function a(){if("undefined"===typeof window.orientation)return!1;var a;e(document.body,x);v=f().content;j();o();document.body.style.padding="0px";document.body.style.margin="0px";"object"===typeof window.onresize&&(a="resize");"object"===typeof window.onorientationchange&&(a="orientationchange");a&&(window.addEventListener(a,function(){I(window.orientation,{height:screen?screen.height:0,width:screen?screen.width:
0},{height:window.innerHeight,width:window.innerWidth});h()},!1),setTimeout(h,30),window.addEventListener("beforeunload",function(){window.removeEventListener(a,h,!1)},!1));r.addHandler(function(){d({height:window.innerHeight,width:window.innerWidth},0)});E.addHandler(function(a){ab=a.height;Ha=a.width});window.addEventListener("beforeunload",function(){window.removeEventListener(eventName,h,!1)},!1)}function d(a,c){var e=window.innerHeight,h=window.innerWidth,i=!0,f=!0;e!=a.height&&(i=!1);h!=a.width&&
(f=!1);i&&f?20>c?setTimeout(function(){d({height:e,width:h},++c)},100):E.fire({height:e,width:h}):setTimeout(function(){d({height:e,width:h},0)},100)}function c(){setTimeout(function(){w(v)},20);e(x,document.body)}function e(a,c){for(var d=0;d<a.style.length;d++){var e=a.style[d];c.style.setProperty(e,a.style.getPropertyValue(e),a.style.getPropertyPriority(e))}}function i(){var a;a=(0===window.orientation||180===window.orientation)&&Ha>ab||(90===window.orientation||-90===window.orientation)&&ab>Ha?
!1:!0;var c="landscape";if(a&&(0===window.orientation||180===window.orientation))c="portrait";if(!a&&(90===window.orientation||-90===window.orientation))c="portrait";return c}function h(){var a=i();w("width=device-width, initial-scale=1, maximum-scale=1");r.fire({orientation:a})}function f(){var a=document.getElementsByTagName("meta"),c;for(c in a)if("viewport"===a[c].name)return a[c];return!1}function j(){if("undefined"===typeof document.getElementsByTagName||f())return!1;var a=document.getElementsByTagName("head")[0],
c=document.createElement("meta");c.setAttribute("name","viewport");a.appendChild(c);return!0}function o(){if("undefined"===typeof document.getElementsByTagName)return!1;document.getElementsByTagName("head");var a=document.createElement("meta");a.setAttribute("name","HandheldFriendly");a.content="true"}function w(a){var c=f();if(!c||c.content==a)return!1;if("undefined"===typeof a){var d=f();document.getElementsByTagName("head")[0].removeChild(d)}c.content=a;return!0}var v,x=document.createElement("div"),
C=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|blackberry|rim tablet|android|htc|lg|midp|mmp|mobile|nokia|opera mini|palm|pocket|psp|sgh|smartphone|symbian|treo mini|playstation portable|sonyericsson|samsung|mobileexplorer|palmsource|benq|windows phone|windows mobile|iemobile|windows ce|nintendo wii|\Wsilk\W)/i),K=null!==C?C[0]:!1,r=Z(),E=Z();K&&K[0].match(/android|\Wsilk\W/);var I=function(){var a=window.orientation,c={height:screen?screen.height:0,width:screen?screen.width:0},d={height:window.innerHeight,
width:window.innerWidth},e=!1;return function(h,i,f){var j=!1,o=function(a,c){return a.height>=a.width&&c.height>=c.width||a.width>a.height&&c.width>c.height?!0:!1},w=a===h,v=o(i,c),D=o(f,d);if(!w&&(!v||!D))j=!0;!w&&!v&&(e=!0);j&&(e&&!o(i,f)&&(j=f.height,f.height=f.width,f.width=j),ab=f.height,Ha=f.width);a=h;c={height:i.height,width:i.width};d={height:f.height,width:f.width}}}();return{setElement:function(){return this},onOrientationChange:r,onViewportChange:E,getMobileDevice:function(){return K},
getOrientation:function(){return i()},activate:function(){a()},deactivate:function(){c()}}}(),Db=function(a){var d;d="https:"===document.location.protocol?"https://docj27ko03fnu.cloudfront.net/":"http://cdn.rpxnow.com/";d=d.replace(/\/$/,"");return d+"/"+a},Uc={openId:{aol:{identifier:"aol",flow:"openid1",width:514,height:550,color:"#0FD6FF",friendlyName:"AOL"},blogger:{identifier:"blogger",flow:"openid1",width:800,height:600,color:"#FF6600",friendlyName:"Blogger"},livejournal:{identifier:"livejournal",
flow:"openid1",width:800,height:600,color:"##213368",friendlyName:"LiveJournal"},netlog:{identifier:"netlog",flow:"openid1",width:800,height:600,color:"#000000",friendlyName:"Netlog"},wordpress:{identifier:"wordpress",flow:"openid1",width:800,height:600,color:"#21759b",friendlyName:"WordPress"},openid:{identifier:"openid",flow:"openid1",width:800,height:600,color:"#f79311",friendlyName:"OpenID"}},openId2:{flickr:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#FF0084",
friendlyName:"Flickr"},google:{identifier:"https://www.google.com/accounts/o8/id",flow:"openid",width:500,height:450,color:"#1C69F5",friendlyName:"Google"},hyves:{identifier:"http://hyves.nl/",flow:"openid",width:800,height:600,color:"#659BC8",friendlyName:"Hyves"},myopenid:{identifier:"http://myopenid.com/",flow:"openid",width:800,height:600,color:"#8cc63f",friendlyName:"MyOpenID"},paypal:{identifier:"https://www.paypal.com/webapps/auth/server",flow:"openid",width:800,height:600,color:"#1A3665",
friendlyName:"PayPal"},verisign:{identifier:"http://pip.verisignlabs.com/",flow:"openid",width:945,height:600,color:"#B8004D",friendlyName:"VeriSign"},yahoo:{identifier:"https://me.yahoo.com/id",flow:"openid",width:500,height:500,color:"#650065",friendlyName:"Yahoo!",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}}},oauth:{facebook:{flow:"facebook",width:1050,height:550,color:"#3B5998",
friendlyName:"Facebook",publishSettings:{},shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}},contact:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!0,actionLink:!0}}}},myspace:{flow:"myspace",width:800,height:500,color:"#000000",friendlyName:"Myspace",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,
image:!1,media:!1,actionLink:!1}}}},twitter:{flow:"twitter",width:800,height:500,color:"#35CCFF",friendlyName:"Twitter",shareSettings:{broadcast:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},
format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{max:140,urlRegex:/\b(?:[a-z]{1}[-a-z0-9+\.]+:(?:\/\/)?)?[-a-z0-9._~@:!$&'()*+,;=]+(?:\.[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\.(?:aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|xxx))(?::\d+)?(?:\/[-a-z0-9._~@:!$&'()*+,;=]+)*(?:\?[-a-z0-9._~@:!$&'()*+,;=%]+)?(?:#[-a-z0-9._~@:!$&'()*+,;=%]+)?\b/ig,urlLength:23},format:{message:"#{MESSAGE} #{URL}"},
features:{message:!0,title:!1,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},linkedin:{flow:"linkedin",width:550,height:750,color:"#006699",friendlyName:"LinkedIn",shareSettings:{broadcast:{counter:{},format:{},features:{message:!0,title:!0,url:!0,description:!0,image:!0,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},live_id:{flow:"liveid",width:900,height:600,color:"#666666",
friendlyName:"Windows Live ID"},salesforce:{flow:"salesforce",width:800,height:500,color:"#333333",friendlyName:"Salesforce"},orkut:{flow:"orkut",width:800,height:600,color:"#333",friendlyName:"Orkut"},vzn:{flow:"vzn",width:600,height:450,color:"#333",friendlyName:"VZnet"},foursquare:{flow:"foursquare",width:950,height:550,color:"#333",friendlyName:"Foursquare"},sinaweibo:{flow:"sinaweibo",width:950,height:550,color:"#333",friendlyName:"Sina Weibo"},tumblr:{flow:"tumblr",width:950,height:550,color:"#333",
friendlyName:"Tumblr"},microsoft_live_connect:{flow:"microsoft_live_connect",width:950,height:550,color:"#333",friendlyName:"Microsoft Live Connect"},renren:{flow:"renren",width:950,height:550,color:"#333",friendlyName:"Renren"},disqus:{flow:"disqus",width:950,height:550,color:"#333",friendlyName:"Disqus"},soundcloud:{flow:"soundcloud",width:950,height:550,color:"#333",friendlyName:"SoundCloud"},vk:{flow:"vk",width:950,height:550,color:"#333",friendlyName:"VK"},mixi:{flow:"mixi",width:950,height:550,
color:"#333",friendlyName:"Mixi",shareSettings:{broadcast:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}},contact:{counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!0,url:!1,description:!1,image:!1,media:!1,actionLink:!1}}}},email:{color:"#009ddc",shareSettings:{email:{providers:{google:!0,yahoo:!0},counter:{},format:{message:"#{MESSAGE} #{URL}"},features:{message:!0,title:!1,url:!1,description:!1,
image:!1,media:!1,actionLink:!1}}}}}},sb={},Zd=["openId","openId2","oauth"];0<Zd.length;){var $d=Zd.pop(),Ib;for(Ib in Uc[$d])sb[Ib]=Uc[$d][Ib]}_draggingSliderFx=[];var I=function(){var a=[];return{log:function(d){var c={};c.id=a.length+1;c.message=d;a.push(c);return this},show:function(){if(0!=a.length){for(var d in a)if("undefined"!==typeof a[d].id){var c=a[d];"object"===typeof console&&("function"===typeof console.error?console.error("WARNING ID:"+c.id+" MESSAGE: "+c.message):"function"===typeof console.log&&
console.log("WARNING ID:"+c.id+" MESSAGE: "+c.message))}a=[]}}}}();rb.prototype.addHandler=function(a){this.eventHandlers.push(a);return this.eventHandlers.length-1};rb.prototype.removeHandler=function(a){return this.eventHandlers[a]?(this.eventHandlers[a]=null,!0):!1};rb.prototype.fire=function(a){for(var d=this.eventHandlers.length,c=0;c<d;c++)try{if("function"===typeof this.eventHandlers[c])this.eventHandlers[c](a)}catch(e){I.log(e),I.show()}this.firedEvents.push({event:this,args:a})};"undefined"===
typeof janrain.events&&(janrain.events={});var Q;Q||(Q={});(function(){function a(a){return 10>a?"0"+a:a}function d(a){f.lastIndex=0;return f.test(a)?'"'+a.replace(f,function(a){var c=o[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,e){var f,i,o,v,F=h,x,A=e[a];A&&"object"===typeof A&&"function"===typeof A.toJSON&&(A=A.toJSON(a));"function"===typeof w&&(A=w.call(e,a,A));switch(typeof A){case "string":return d(A);case "number":return isFinite(A)?
""+A:"null";case "boolean":case "null":return""+A;case "object":if(!A)return"null";h+=j;x=[];if("[object Array]"===Object.prototype.toString.apply(A)){v=A.length;for(f=0;f<v;f+=1)x[f]=c(f,A)||"null";o=0===x.length?"[]":h?"[\n"+h+x.join(",\n"+h)+"\n"+F+"]":"["+x.join(",")+"]";h=F;return o}if(w&&"object"===typeof w){v=w.length;for(f=0;f<v;f+=1)"string"===typeof w[f]&&(i=w[f],(o=c(i,A))&&x.push(d(i)+(h?": ":":")+o))}else for(i in A)Object.prototype.hasOwnProperty.call(A,i)&&(o=c(i,A))&&x.push(d(i)+(h?
": ":":")+o);o=0===x.length?"{}":h?"{\n"+h+x.join(",\n"+h)+"\n"+F+"}":"{"+x.join(",")+"}";h=F;return o}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
f=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,j,o={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},w;"function"!==typeof Q.stringify&&(Q.stringify=function(a,d,e){var f;j=h="";if("number"===typeof e)for(f=0;f<e;f+=1)j+=" ";else"string"===typeof e&&(j=e);if((w=d)&&"function"!==typeof d&&("object"!==typeof d||"number"!==typeof d.length))throw Error("JSON.stringify");return c("",{"":a})});
"function"!==typeof Q.parse&&(Q.parse=function(a,c){function d(a,e){var f,h,i=a[e];if(i&&"object"===typeof i)for(f in i)Object.prototype.hasOwnProperty.call(i,f)&&(h=d(i,f),void 0!==h?i[f]=h:delete i[f]);return c.call(a,e,i)}var f,a=""+a;e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return f=eval("("+a+")"),"function"===typeof c?d({"":f},""):f;throw new SyntaxError("JSON.parse");})})();janrain.events.onCustomizationChange||(janrain.events.onCustomizationChange=Z());janrain.events.onProviderLoginStart||(janrain.events.onProviderLoginStart=Z());janrain.events.onProviderLoginComplete||(janrain.events.onProviderLoginComplete=Z());janrain.events.onProviderLoginError||(janrain.events.onProviderLoginError=Z());janrain.events.onProviderLoginSuccess||
(janrain.events.onProviderLoginSuccess=Z());janrain.events.onProviderLoginToken||(janrain.events.onProviderLoginToken=Z());janrain.events.onProviderLogoutStart||(janrain.events.onProviderLogoutStart=Z());janrain.events.onProviderLogoutComplete||(janrain.events.onProviderLogoutComplete=Z());wc();janrain.events.captureEvents="onCaptureRenderStart,onCaptureRenderComplete,onCaptureScreenShow,onCaptureSessionCreated,onCaptureSessionEnded,onCaptureAccessDenied,onCaptureRegistrationStart,onCaptureLoginStart,onCaptureLoginSuccess,onCaptureProfileSaveSuccess,onCaptureProfileSaveFailed,onCaptureFederateNoLogin,onCaptureFederateLogin,onCaptureFederateRefreshedToken,onCaptureLoginFailed,onCaptureRegistrationSuccess,onCaptureRegistrationFailed,onCaptureEmailVerificationSuccess,onCaptureEmailVerificationFailed,onCaptureForgotPasswordCodeSuccess,onCaptureForgotPasswordCodeFailed,onCaptureSaveSuccess,onCaptureSaveFailed,onCaptureSessionFound,onCaptureSessionNotFound,onCaptureContentChange,onCaptureModalReady,onCaptureValidationSuccess,onCaptureValidationFailed,onCaptureValidationComplete,onCaptureServerValidationFailed,onCaptureFormError,onCaptureProfileCookieSet,onCaptureExpiredToken,onCaptureInvalidToken,onCaptureTransactionTimeout,onCaptureCustomEvent,onCaptureProfileLink,onCaptureEmailSent,onCaptureProfileUnlink,onCaptureBackplaneReady,onCaptureBackplaneInitFailed,onCaptureAutoSaveUpdate,onCaptureControlSuccesss,onCaptureControlFailed,onModalClose,onModalOpen,onCaptureAccountReactivateSuccess,onCaptureAccountReactivateFailed,onCaptureAccountDeactivateSuccess,onCaptureAccountDeactivateFailed,onCaptureLinkAccountError,onCaptureError,onCaptureSubscriptionUpdate".split(",");
for(var Jb=0,le=janrain.events.captureEvents.length;Jb<le;Jb++)"undefined"===typeof janrain.events[janrain.events.captureEvents[Jb]]&&(janrain.events[janrain.events.captureEvents[Jb]]=new rb);janrain.events.onCaptureEmailVerficationSuccess=janrain.events.onCaptureEmailVerificationSuccess;janrain.federateJSLoaded=!1;janrain.settings.capture.federate&&hd("https://d1v9u0bgi1uimx.cloudfront.net/sso.js",function(){janrain.federateJSLoaded=!0}).setTimeoutLimit(1E4).setTimeoutCallback(function(){janrain.settings.capture.federate=
!1}).load();xc();var me=new function(){function a(){function a(){return{twoColumn:{actionText:"Sign in using your account with",providersPerPage:6},oneColumn:{actionText:"Sign in with",width:200},oneRow:{actionText:"Sign in with"},footerHeight:10,headerHeight:20}}function c(){if(Ga){var a=document.createElement("div");a.style.backgroundColor=ua?"aqua":ra;a.style.width=U+"px";a.style.height=bb+"px";a.style.position="absolute";a.style.left="0px";a.style.paddingLeft=m+"px";a.style.paddingRight=m+"px";
a.style.paddingBottom=m+"px";a.style.bottom="0px";a.style.fontSize="10px";a.style.textAlign="left";a.style.color=sa;a.style.fontFamily=n;ka(a,null,0,0,G,G);var k=document.createElement("div");k.appendChild(document.createTextNode(janrain.settings.translate.POWERED_BY_PREFIX||"Powered by "));k.style.paddingLeft="1px";var f=document.createElement("a");f.setAttribute("href","http://www.janrain.com/products/engage/engage-introduction?utm_source="+Yb(janrain.settings.appUrl).host+"&utm_medium=partner&utm_campaign=attribution");
f.setAttribute("target","_blank");f.appendChild(document.createTextNode("Janrain"));k.appendChild(f);a.appendChild(k);mb=a}O=h();a=document.createElement("div");a.style.backgroundColor=ua?"orange":ra;a.className="janrainHeader";a.style.fontSize=Ka+"px";a.style.color=sa;a.style.position="relative";a.style.height=la+"px";40===La&&(a.style.cssFloat="left");a.style.left=40===La?"-6px":"-5px";a.style.paddingLeft=m+"px";a.style.paddingRight=m+"px";a.style.paddingTop=m+"px";a.style.paddingBottom="0px";a.style.whiteSpace=
"nowrap";a.style.width=40===La?"81px":U+"px";a.style.zIndex="100";40===La?ka(a,null,G,0,0,G):ka(a,null,G,G,0,0);40===La&&(a.style.marginTop="-3px");a.style.textAlign="one column"===u?"center":"left";k=e();Aa=document.createElement("div");Aa.style.paddingLeft="1px";Aa.style.fontFamily=n;" "!==k&&Aa.appendChild(document.createTextNode(k));a.appendChild(Aa);kb=a;L=document.createElement("div");L.className="janrainContent";L.style.width=U+"px";L.style.height=i()+"px";L.style.paddingLeft=m+"px";L.style.paddingRight=
m+"px";L.style.boxSizing="content-box";40===La&&(L.style.paddingTop=m-1+"px");$||(L.style.backgroundColor=ra);$||(L.style.border=Wa?"1px solid "+qb:"1px solid "+ra);L=ka(L,G);$||(L.style.overflow="hidden");L.style.position=Wa?"relative":"absolute";nb=y();2==O||0==O?($a=(new v).setSide("right").create(),Xa=(new v).setSide("left").create()):($a=(new v).setSide("top").create(),Xa=(new v).setSide("bottom").create());a=document.createElement("div");a.id="janrainView";" "!==e()&&a.appendChild(kb);$&&(k=
F("blank"),k.style.display="none",a.appendChild(k));a.appendChild(nb);!$&&$a&&Xa&&(a.appendChild($a),a.appendChild(Xa));0<O&&Ga&&a.appendChild(mb);L.appendChild(a);r("customizable_auth_widget_styling")||d(L);dc||I.show()}function d(a){function c(a){var d="string"===typeof a.getAttribute("style")?a.getAttribute("style"):null;d&&(d.cssText&&(d=d.cssText),a.style.setAttribute?a.style.setAttribute("cssText",d.replace(/(((?!!important).)+?);/g,"$1 !important;")):a.setAttribute("style",d.replace(/(((?!!important).)+?);/g,
"$1 !important;")))}for(var e=a.getElementsByTagName("*"),k=0,f=e.length;k<f;k++)"janrainProviderPages"===e[k].id||"janrainSlideControl"===e[k].className||"janrainSlideControl"===e[k].parentNode.className||c(e[k]);c(a)}function e(){if(da&&(da==a().twoColumn.actionText||da==a().oneColumn.actionText||da==a().oneRow.actionText))Ja=!1;return Ja&&da?da:j.translate.HEADER?j.translate.HEADER:"two column"===u?a().twoColumn.actionText:"one column"===u?a().oneColumn.actionText:"one row"===u?a().oneRow.actionText:
da}function h(){var a=u;if("default"==a||"two column"==a)return 2;if("one column"==a)return 1;if("one row"==a)return 0}function i(){var a=" "===da?0:la+m,c=Ga&&"one row"!==u?bb+m:0;return q()+a+c}function o(){var a=parseInt(nb.style.left),c=parseInt(nb.style.top),d;1==O?parseInt(nb.style.height):parseInt(nb.style.width);2==O&&(d=(U-3*m-(2==O?10:0))/O);if("one column"===u){if(" "===da&&(c+=11,0<c||-9<=c))return 0;if(9>c)return 1;if(0<c||c>=-(la-(m+1)))return 0}0==O&&(d=U-100);if(0>a&&a<-d)return 1;
if(0<a||a>=-m)return 0}function q(){if("two column"===u)var a=aa/2;"one column"===u&&(a=aa);"one row"===u&&(a=1);var c="one row"===u?0:2*a,d="one column"===u?3*m:0;if(7===f||6===f||f&&W){if("two column"===u&&(d=m,7===f||6===f))d=2*m;if("one column"===u&&(d=3*m,(7===f||6===f)&&!W))d+=m;if("one row"===u&&(7===f||6===f))d=m}"one column"===u&&Ya<=aa&&(d=f&&W?d+2*m:d-2*m);return J*a+m*(a+1)+c+d}function v(){function a(){var c;B="over";var ib=o();if(0==ib&&"left"===k||0==ib&&"top"===k||1==ib&&"right"===
k||1==ib&&"bottom"===k)return this.style.cursor="default",t.onclick="",!1;var i=this;setTimeout(function(){if(1===n){if("over"!==B)return!1;f&&(e.style.display="block");h.style.display="block";t.onclick=d;i.style.cursor="pointer";var a=document.getElementById("janrainProviderPages");c="top"==k||"bottom"==k?parseInt(a.style.top):parseInt(a.style.left);var ib="right"===k||"bottom"===k?c-Za:c+Za;"top"===k||"bottom"===k?a.style.top=ib+"px":a.style.left=ib+"px";n=2}},f?50:100)}function c(){var a;B="out";
var d=o();if(1==d&&"right"===k||0==d&&"left"===k||0==d&&"top"===k||1==d&&"bottom"===k)return!1;setTimeout(function(){if(2===n){if("out"!==B)return!1;f&&(e.style.display="none");h.style.display="none";var c=document.getElementById("janrainProviderPages");a="top"==k||"bottom"==k?parseInt(c.style.top):parseInt(c.style.left);var d="right"===k||"bottom"===k?a+Za:a-Za;"top"===k||"bottom"===k?c.style.top=d+"px":c.style.left=d+"px";n=1}},f?200:400)}function d(){h.style.display="none";t.style.cursor="default";
x(k,function(a){D(a);n=1})}var e,k,i,h,j={left:"-33px -16px",right:"0px -16px",top:"-16px -33px",bottom:"-16px 0px"},B="",n=1,t;return{setSide:function(a){k=a;return this},create:function(){var f;if(Ya<=aa)f=!1;else{f=document.createElement("div");f.setAttribute("id","janrainShim_"+k);f.style.background="black";"top"===k||"bottom"===k?(f.style.height="19px",f.style.width="100%"):(f.style.height="100%",f.style.width="17px");f.style.filter=ua?"alpha(opacity=100)":"alpha(opacity=0)";f.style.position=
"absolute";f.style.zindex="99";if("top"===k||"bottom"===k)f.style.left="0";f.style[k]=m+"px";f.style.top="one column"!==u?m+1+"px":"top"===k?"10px":"0px";f.style.display="none";e=f;f=document.createElement("div");f.style.backgroundColor=ua?"green":ra;f.className="janrainSlideControllerMask";f.style.position="absolute";"one column"!==u&&(f.style.width=m+"px",f.style.height="100%",f.style.top="0px",f.style[k]="0px",f.style.borderWidth="1px","right"===k&&(!Ga||"one row"===u)&&ka(f,null,0,0,G,0),"left"===
k&&(!Ga||"one row"===u)&&ka(f,null,0,0,0,G),"right"===k&&" "===da&&ka(f,null,0,G,G,0),"left"===k&&" "===da&&ka(f,null,G,0,0,G));"one column"===u&&(f.style.height=m+"px",f.style.fontSize="0px",f.style.width="100%",f.style.padding="0px",f.style[k]="0px","top"===k&&" "===da?ka(f,null,G,G,0,0):"bottom"===k&&!Ga&&ka(f,null,0,0,G,G));"one row"===u&&(f.style.height="105.5%");i=f;f=document.createElement("div");f.setAttribute("id","janrainArrow_"+k);f.style.background="url("+Db("rel/img/ee9d3aa7c5896c69488b5941ef31c7bc.png")+
") no-repeat scroll "+j[k]+" transparent";f.style.height="19px";f.style.width="17px";f.style.position="absolute";if("top"===k||"bottom"===k)f.style.left=U/2+"px";f.style[k]=m+"px";f.style.top="one column"!==u?q()/2-2*m+1+"px":"top"===k?"10px":"0px";f.style.display="none";h=f;f=document.createElement("div");f.className="janrainSlideControl";f.style.backgroundColor=ua?"purple":"transparent";"one column"===u?(f.style.width=U+4+"px",f.style.left="3px","top"==k?(f.style.height=m+"px",f.style.top=la+m+
"px"," "===da&&(f.style.left="0px",f.style.width=U+10+"px")):(f.style.height="20px",f.style.bottom=(Ga?bb+m:0)+"px",ka(f,null,0,0,G,G))):(f.style.width="right"===k?"20px":"0px",f.style[k]="0px",f.style.height=q()-(m*(" "===da)?1:2)+"px",40===La&&"one row"===u&&"left"===k&&(f.style.left=Ha+"px"),"right"===k&&!Ga&&ka(f,null,0,0,G,0),"left"===k&&!Ga&&ka(f,null,0,0,0,G));f.style.position="absolute";f.style.zIndex="100";f.style.cursor="pointer";f.onmouseover=a;f.onmouseout=c;f.onclick=d;t=f;t.appendChild(i);
t.appendChild(e);t.appendChild(h);f=t}return f}}}function x(a,c){var d=document.getElementById("janrainProviderPages"),k=new ld;if("top"===a||"bottom"===a){if(" "===da)var e=-(q()-J),h=0;else e=-(q()-J-la-m),h=la+m;50===J&&(e-=20);f&&W&&(e+=m," "!==da&&(h+=m));k.setElement(d).setAcceleration("sinusoidal").setDuration(100*aa).startPosition(parseInt(d.style.top)).endPosition("bottom"===a?e:h).setDirection("vertical").setCallback(function(){c(a)}).animate()}else f&&W?(e=-(U-2*m-39),"one row"===u&&(e=
-(Ha-1*m))):(e=-(U-32),"one row"===u&&(e=-(U-24))),k.setElement(d).setAcceleration("sinusoidal").setDuration(800).startPosition(parseInt(d.style.left)).endPosition("right"==a?e:m).setDirection("horizontal").setCallback(function(){c(a)}).animate()}function y(){var a,c;function d(e){e=e.touches[0];"one column"===u?a=e.pageY:c=e.pageX}function e(d){d.preventDefault();d=d.touches[0];d="one column"===u?a-d.pageY:c-d.pageX;if(35<d||-35>d){var k;k="one column"===u?0<d?"bottom":"top":0<d?"right":"left";var f=
o(),h=!0;"bottom"===k&&f+1==n&&(h=!1);"top"===k&&0==f&&(h=!1);"left"===k&&0==f&&(h=!1);"right"===k&&f+1==n&&(h=!1);h&&("one column"===u?i.style.top=parseInt(i.style.top)-d+"px":i.style.left=parseInt(i.style.left)-d+"px",x(k,function(){D()}),i.ontouchmove="")}}function k(){i.ontouchmove=e}var h,i,j,B,n,q=O,t=[];B=A();n=$?1:Math.ceil(Ya/aa);2<n&&I.log("Either reduce the number of providers, or increase the setting for providersPerPage.");i=document.createElement("div");i.setAttribute("id","janrainProviderPages");
$&&(i.className="janrainConfigureMode");i.style.paddingTop=(6===f||7===f)&&f&&W?2*m:m+"px";if((6===f||7===f)&&!W)i.style.paddingTop=m+4+"px";1<n&&(i.ontouchstart=d,i.ontouchmove=e,i.ontouchend=k);40===La&&"one row"===u?i.style.left=Ha+m+"px":f&&W?"one column"!==u&&(i.style.left=m+"px"):i.style.left=m+"px";40===La&&"one row"===u&&(i.style.cssFloat="left");40===La&&"one row"===u&&(i.style.marginTop="1px");"one column"===u&&(i.style.top=(f&&W?1:0)+la+m+"px");"one row"!==u&&" "===da&&(i.style.top="0px");
"one column"===u&&" "===da&&(i.style.top="0px");h=U*n;i.style.position=f&&W&&"one column"===u?"relative":"absolute";"two column"===u&&!(Ya<=aa)&&(i.style.width=h+"px");"one row"===u&&(i.style.width=(!0===$?U+m:2*U)+"px");$&&(q=0);c=0;a=0;for(var v=0;v<n;v++){for(j=0;j<=q;j++)t[j]=document.createElement("ul"),t[j].className="providers",t[j].id="janrainProviders_"+j,1<q&&(t[j].style.cssFloat="left"),1<q&&(t[j].style.styleFloat="left"),t[j].style.listStyleType="none",t[j].style.marginTop="0px",t[j].style.marginLeft=
"0px",t[j].style.marginRight="0px",t[j].style.marginBottom="0px",t[j].style.padding="0px";h=document.createElement("div");h.className="janrainPage";h.setAttribute("pageIndex",v);f&&W&&1===n&&(h.style.width="110%");for(j=0;j<q;j++)h.appendChild(t[j]);if($||1>O)for(j=0;j<=q;j++)h.appendChild(t[j]);for(var w=B.length%2,s=$?Ya:aa,C=0;C<s&&!(0==B.length);C++){if(2==q)var Ac=1==w?t[B.length%2?0:1]:t[B.length%2];if(1==q||0==q)Ac=t[0];j=B.shift();Ac.appendChild(j)}i.appendChild(h)}return i}function D(a){0==
o()?("left"===a&&(Xa.style.width=m+"px",$a.style.display="block",$a.style.width="20px"),"top"===a&&($a.style.height=m+"px",Xa.style.display="block",Xa.style.height="20px")):("right"===a&&($a.style.width=m+"px",Xa.style.display="block",Xa.style.width="20px"),"bottom"===a&&(Xa.style.height=m+"px",$a.style.display="block",$a.style.height="20px"))}function A(){for(var a=[],c=0;c<Ya;c++){var d=F(Ta[c],c+1);a.push(d)}if("one column"==u){var e=a.slice(0),c=function(){var a=-Infinity,c,d,k=function(){c=e[d].children[0].children[1];
return void 0!==c};for(d=0;d<e.length;d++)k()&&(a=Math.max(a,c.offsetWidth));for(d=0;d<e.length;d++)k()&&(c.style.width=a+5+"px")};janrain.events.onModalOpen?janrain.events.onModalOpen.addHandler(c):janrain.events.onAuthWidgetContentPlaced.addHandler(c)}return a}function C(a,c){c.style.cursor="pointer";c.setAttribute("id","janrain-"+a);c.setAttribute("role","button");"one row"===u?c.style.background="transparent":("gradient"===eb&&rc(c,"bottom, #eeeeee, #ffffff"),"gray"===eb&&(c.style.backgroundColor=
"#eeeeee"),"white"===eb&&(c.style.backgroundColor="#ffffff"));w(c,"mouseover",function(){Vb();"one row"===u?c.style.background="transparent":(c.style.backgroundColor="#E3E3E3",c.style.backgroundImage="")});w(c,"mouseout",function(){Vb();"one row"===u?c.style.background="transparent":("gradient"===eb&&rc(c,"bottom, #eeeeee, #ffffff"),"gray"===eb&&(c.style.backgroundColor="#eeeeee"),"white"===eb&&(c.style.backgroundColor="#ffffff"))});dc||E(c,a);return c}function F(a,c){var d=document.createElement("li");
d.style.listStyle="none";0==O&&!1===$&&(d.style.cssFloat="left");0==O&&!1===$&&(d.style.styleFloat="left");d.style.height=f&&W?J+2:J+"px";if("two column"==u){var e=$?3*m:Ya<=aa?0:3*m;d.style.width=6===f||Vb&&W?(U-e-4*m)/O+"px":(U-e-(2==O?10:0))/O+"px"}d.style.marginTop="0px";if("one column"==u){if(7==f||6==f)d.style.marginTop="-1px";f&&W?d.style.marginRight="0px":d.style.width=U-m/2+"px";d.style.marginLeft="0px"}else d.style.marginRight=m+"px";0==O&&(d.style.width=J+"px");d.style.marginBottom=(7===
f||6===f||f&&W?3:m)+"px";d.style.position="relative";0!=O&&(d.style.border="1px solid "+Ua);0!=O&&ka(d,Qa);var e=document.createElement("a"),k=document.createElement("span"),i=document.createElement("span");"undefined"!==typeof c&&(e.tabIndex=c);e.style.fontFamily="Helvetica, lucida grande, Verdana, sans-serif";e.style.fontSize="12px";e.style.lineHeight="14px";e.style.marginLeft="auto";e.style.marginRight="auto";e.href="javascript:void(0);";e.style.textDecoration="none";e.style.display="block";e.style.paddingLeft=
"5px";e.style.paddingRight="5px";e.style.textAlign="left";i.className="janrain-provider-text-color-"+a;i.style.fontFamily=n;i.style.cursor="pointer";i.style.marginLeft="7px";i.style.textAlign="left";30==J&&(k.className="janrain-provider-icon-24 janrain-provider-icon-"+a,k.style.marginTop="3px",i.style.marginTop="9px",i.style.verticalAlign="top",i.style.display="inline-block");50==J&&(k.className="janrain-provider-icon-32 janrain-provider-icon-"+a,k.style.marginTop="9px",k.style.backgroundColor="transparent",
i.style.marginTop="16px",i.style.fontSize="16px",i.style.lineHeight="20px",i.style.verticalAlign="top",i.style.display="inline-block");"one column"==u&&(e.style.textAlign="center");"two column"==u&&275>U&&(i.style.textIndent="-9999px",i.style.marginLeft=0,e.style.textAlign="center");2==O&&(30==J&&(e.style.width="auto"),50==J&&(k.style.marginLeft="5px"));if(0==O&&(30==J||50==J)){var k=document.createElement("a"),h=document.createElement("span"),j=document.createTextNode(a);"undefined"!==typeof c&&
(k.tabIndex=c);k.className="janrain-provider-icon-32 janrain-provider-icon-bg janrain-provider-icon-"+a;k.style.marginTop="0px";k.href="javascript:void(0);";k.style.textDecoration="none";k.style.display="block";h.style.display="inline-block";h.style.textIndent="-9999px"}if("customopenid"===a){var B=document.createTextNode(qa.customOpenIdProviderName);if(1==O||2==O){if(30==J||50==J)k.style.backgroundImage="url("+qa.largeIcon+")",i.appendChild(B),i.style.color=qa.customOpenIdProviderColor||"#000000";
15<=B.length&&(B.textContent=B.textContent.substr(0,15))}if(0==O&&(30==J||50==J))j=document.createTextNode(qa.customOpenIdProviderName),k.style.backgroundImage="url("+qa.largeIcon+")";f&&10>f&&(k.style.backgroundImage="none",k.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+qa.largeIcon+"')")}else if("blank"!==a&&(1==O||2==O))30==J&&(k.style.backgroundColor="transparent",i.innerHTML=sb[a].friendlyName),50==J&&(k.style.backgroundColor="transparent",
i.innerHTML=sb[a].friendlyName);6===f&&"one row"!==u&&(B=document.createElement("div"),B.style.height=k.style.height,B.style.width="90px",B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=crop,src='"+k.src+"')",k.style.filter="alpha(opacity=0)",B.appendChild(k),d.appendChild(B));0==O?(d.appendChild(k),k.appendChild(h),h.appendChild(j)):(d.appendChild(e),e.appendChild(k),e.appendChild(i));return C(a,d)}function K(a,c){var d=document.createElement("a"),k=j.translate.SIGN_IN_AS||
"Sign in as {name}",k=k.replace("{name}",c),e=document.createElement("span"),k=document.createTextNode(k),h=document.createElement("span");e.className="janrain-provider-text-color-"+a;d.href="javascript:void(0);";d.style.textDecoration="none";d.style.display="block";if("customopenid"===a){var B=document.createElement("span");document.createElement("span");B.className="janrain-provider-icon-32 janrain-provider-icon-"+a;B.style.backgroundImage="url("+qa.largeIcon+")";e.style.color=qa.customOpenIdProviderColor||
"#000000";10>f&&(B.style.backgroundImage="none",B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+qa.largeIcon+"')")}else B=document.createElement("span"),B.className="janrain-provider-icon-24 janrain-provider-icon-"+a;h.style.display="inline-block";h.style.verticalAlign="top";h.style.fontFamily=n;var m=document.createElement("div"),o=7.5*k.length+30,q=i();m.style.fontSize="16px";m.style.height="100%";m.style.position="relative";if(0==O||120>
q)15<=k.length&&(m.style.fontSize="14px",o=7*k.length+30),20<=k.length&&(m.style.fontSize="12px",o=6*k.length+30),24<=k.length&&(m.style.fontSize="10px",o=5*k.length+50),30<=k.length&&(k.textContent=k.textContent.substr(0,26)+"...",o=162);m.style.width=o+"px";if(0==O||116>q)"customopenid"===a?(B=document.createElement("span"),document.createElement("span"),B.className="janrain-provider-icon-24 janrain-provider-icon-"+a,B.style.backgroundImage="url("+qa.largeIcon+")",e.style.color=qa.customOpenIdProviderColor||
"#000000",f&&10>f&&(B.style.backgroundImage="none",B.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enable=true,sizingMethod=scale,src='"+qa.largeIcon+"')")):(B=document.createElement("span"),B.className="janrain-provider-icon-24 janrain-provider-icon-"+a);30===J&&(h.style.marginTop="9px",h.style.fontSize="12px",B.style.marginTop="3px");50===J&&(h.style.marginTop="16px",B.className="janrain-provider-icon-32 janrain-provider-icon-"+a,B.style.marginTop="9px");"one row"===u&&30===J&&
(B.style.marginTop="-1px");h.appendChild(e);e.appendChild(k);B.style.marginRight="10px";B.style.verticalAlign="top";d.style.overflow="hidden";d.style.position="relative";d.style.height=("one row"!==u?J:25)+"px";d.style.marginBottom="one row"===u?"-4px":"4px";"one row"===u&&(d.style.top="-4px");d.style.left="0px";f&&W&&(d.style.marginRight="5px");f&&W&&(d.style.marginLeft="3px");d.style.border="1px solid "+Ua;ka(d,Qa);"customopenid"===a&&(d.style.color=sb[a].color);6===f||7===f||f&&W?m.style.left=
"10px":m.style.margin="0 auto";m.appendChild(B);m.appendChild(h);0==O&&(m.style.paddingTop="2px",h.style.marginTop="6px");0==O||116>q?(d.appendChild(m),m.style.width="auto"):(50===J&&parseInt(d.style.height),h.style.cssFloat="none",h.style.styleFloat="none",d.appendChild(B),d.appendChild(h));return C(a,d)}function E(a,c){w(a,"click",function(){R(c)})}function R(a){var c=sb[a],d={appUrl:j.appUrl,mobileDevice:fc,language:j.language,popup:Va,tokenUrl:Ba||j.tokenUrl||window.location.href,facebookPermissions:cb,
forceReauth:lb,widgetType:"auth",tokenAction:db,bpChannel:wa,customOpenid:ab,customOpenidOpxblob:j.customOpenidOpxblob};c.name=a;new xa(c,d,function(){Fa||(ub=setTimeout(function(){Ra(c)},300))})}function z(){var a=document.createElement("div");a.style.position="absolute";a.style.top="0px";a.style.left="0px";a.style.width=U+"px";a.style.zIndex="102";a.style.textAlign="center";a.style.padding=m+"px";a.style.backgroundColor="transparent"===ra?"#ffffff":ra;a.style.height=i()-(f&&W?0:2*m)+"px";ka(a,G);
return a}function Q(a){var c=document.createElement("a"),d=document.createTextNode(j.translate.USE_ANOTHER_ACCOUNT||"switch accounts");c.setAttribute("class","janrainSwitchAccountLink");c.setAttribute("href","");c.style.fontSize="12px";c.style.fontFamily=n;c.style.color=sa;c.onclick=a;c.appendChild(d);return c}function X(){return"modal"===N?document.getElementById("janrainModal"):"embed"===N?document.getElementById("janrainEngageEmbed"):!1}function V(){var a=parseInt(L.style.width);return a=a+2*m+
2}function ba(){var a=X();null!==a&&"object"===typeof L&&L.parentNode===a&&a.removeChild(L)}function Z(){var a="";"object"===typeof s&&(a=s.getState());return{type:N,width:V(),fontFamily:n,fontSize:Ka,fontColor:sa,backgroundColor:ra,borderColor:qb,borderRadius:G,format:u,providersPerPage:aa,providers:Ta,buttonBackgroundStyle:eb,buttonBorderColor:Ua,buttonBorderRadius:Qa,actionText:e(),showAttribution:Ga,modalState:a}}function ha(a){u=S("string",["default","two column","one column","one row"],"two column",
a);"default"===u&&(u="two column");"one row"==a&&(G=S("number",[0,10],5,G));na()}function ga(a){"two column"===u&&(U=S("number",[225,600],380,a));"one column"===u&&(U=S("number",[160,600],200,a));"one row"===u&&(J=30,a=Ya<=aa?m*(parseInt(aa)-1):m*(parseInt(aa)+2),40===La&&(a+=Ha-m),U=J*aa+a);if(("two column"===u||"one column"===u)&&!$)U=U-2*m-2;f&&W&&(U=U+2*m+2);"one row"!==u&&(J=380<U?50:30)}function oa(c){"string"===typeof c&&(Ja=!0,da=S("text",null,da,c)," "===da?G=S("number",[0,5],5,G,!0):la=
"two column"!==u?a().headerHeight-5:a().headerHeight)}function ta(a){eb=S("string",["gray","white","gradient"],"gradient",a)}function va(a){Ua=S("color",null,"#CCCCCC",a)}function za(a){ra=S("color",null,"#ffffff",a)}function ya(a){"undefined"===typeof a&&(a=5);G=" "===da||!Ga||"one row"===u?S("number",[0,5],5,a,!0):S("number",[0,10],10,a)}function Ca(a){Ga=S("boolean",null,!0,a);i();G=a?S("number",[0,10],5,G,!0):S("number",[0,5],5,G,!0)}function Ea(a){qb=S("color",null,"#C0C0C0",a)}function na(){"two column"===
u&&(Ka=18);if("one column"===u||"one row"===u)Ka=14}function Ia(a){sa=S("color",null,"#333333",a)}function ma(a){if("object"==typeof a){O=h();for(var c=0,d=a.length;c<d;c++)sb[a[c]]||(I.log(a[c]+" is not a valid provider: removing."),a.splice(c,1),--c,--d);Ta=a;Ya=a.length;"object"===typeof s&&s.setHeight(i()-2*m).refresh()}}function Oa(a){"two column"===u&&(aa=S("number",[4,6,8],6,a));"one column"===u&&(aa=S("number",[1,6],6,a));"one row"===u&&(aa=jc?Ya:S("number",[4,8],6,a),ga(U))}function Ra(a){var c=
document.createTextNode(j.translate&&j.translate.SIGNING_IN?j.translate.SIGNING_IN:"Signing in ..."),d=document.createElement("div");Sa=z(a.name);d.appendChild(c);d.style.position="absolute";d.style.marginTop="-8px";d.style.top="50%";d.style.textAlign="center";d.style.width="100%";Sa.appendChild(d);L&&L.appendChild(Sa)}var ua=!1,U=380,Ja=!1,n="Helvetica, lucida grande, Verdana, sans-serif",Ka=18,sa="#666666",ra="#ffffff",qb="#C0C0C0",G=10,L,Aa,u="two column",O,Wa,aa=6,Ta=["aol","google","yahoo","openid"],
Ya=4,Ua="#CCCCCC",Qa=5,eb="gradient",J=30,la=a().headerHeight,La=60,Ha=89,bb=a().footerHeight,m=5,Za=10,da="Sign in using your account with",Sa,nb,$a,Xa,Ga=!0,gb=!1,hb=!1,kb,mb;janrain.events.onProviderLoginStart.addHandler(function(a){fb("login_tab",a.provider,1)});return{build:c,setFormat:function(c){c&&ha(c);"two column"!==u&&(la=a().headerHeight-5);"two column"===u&&(aa=a().twoColumn.providersPerPage,la=a().headerHeight);return this},setActionText:function(a){"string"===typeof a&&oa(a);return this},
setFontSize:function(a){a&&na(a);return this},setFontFamily:function(a){a&&a&&(n=a);return this},setFontColor:function(a){a&&Ia(a);return this},setButtonBorderColor:function(a){a&&va(a);return this},setButtonBorderRadius:function(a){if("string"==typeof a||"number"==typeof a)Qa=S("number",[0,20],5,a);return this},setButtonBackgroundStyle:function(a){a&&ta(a);return this},setWidth:function(a){("string"==typeof a||"number"==typeof a)&&ga(a);return this},refresh:function(){ba();var a=X();c();var d=M("expected_tab");
d&&!jb?Da("expected_tab",d):(null!==a&&"object"===typeof L&&a.appendChild(L),"object"===typeof s&&s.setHeight(parseInt(L.style.height)+2).refresh());janrain.events.onCustomizationChange.fire(Z());return this},remove:function(){ba();return this},setRowHeight:function(a){if(0!==h())return this;a||(a=60);oneRowHeaderHeight=S("number",[40,60,90],60,a);40===oneRowHeaderHeight&&(J=30,La=40);60===oneRowHeaderHeight&&(J=30);90===oneRowHeaderHeight&&(J=50);return this},setHeight:function(a){"object"==typeof L&&
(L.style.height=a+"px");return this},setBackgroundColor:function(a){a&&za(a);return this},setBorderColor:function(a){a&&Ea(a);return this},setBorderRadius:function(a){("string"==typeof a||"number"==typeof a)&&ya(a);return this},setProviders:function(a){"object"==typeof a&&ma(a);return this},setProvidersPerPage:function(a){if("string"==typeof a||"number"==typeof a)Oa(a),"object"===typeof s&&s.setHeight(i()).refresh("janrainModal");return this},setShowAttribution:function(a){"boolean"===typeof a&&Ca(a);
return this},setPreviewMode:function(a){"boolean"===typeof a&&(dc=a);return this},setProviderFlow:function(a,c){return E(a,c)},triggerFlow:function(a){return R(a)},setNoReturnExperience:function(a){"boolean"===typeof a&&(gb=a);return this},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&(hb=a);return this},setConfigureMode:function(a){"boolean"===typeof a&&($=a,O=h());return this},embed:function(a){if((Wa=a)&&"object"==typeof L)L.style.position="relative";return this},getContentsDiv:function(){return L},
getErrorPage:function(a,c){var d=document.createTextNode(c.msg),k=document.createElement("div");k.appendChild(d);k.style.color=sa;k.style.fontSize=Ka+"px";k.style.width="100%";var e=z(a);e.appendChild(k);e.appendChild(Q(function(){L.removeChild(e);L.removeChild(Sa);lb=!0;return!1},a));L.appendChild(e);return L},getReturnExperience:function(a,c){if(dc||gb||-1===Ta.indexOf(a))return L;var d=K(a,c),k=z(a),e=document.createElement("div"),f=function(){lb=jb=!0;L.removeChild(k);return!1};e.style.position=
"relative";e.style.top="50%";30===J&&(e.style.marginTop="-25px");50===J&&(e.style.marginTop="-35px");0==O&&(e.style.top="0",e.style.marginTop="0");k.id="janrainAuthReturnExperience";k.appendChild(e);e.appendChild(d);hb||e.appendChild(Q(f,a));L.appendChild(k);return L},getWidth:function(){return V()},getActualHeight:function(){return parseInt(L.style.height)+2},getHeight:function(){return i()-2*m},getState:function(){return Z()},setState:function(c){if(r("customizable_auth_widget_styling")){var d=
c.fontFamily;d&&(n=d);na(c.fontSize);Ia(c.fontColor);za(c.backgroundColor);Ea(c.borderColor);"embed"===N&&c.format&&(c.format&&ha(c.format),"two column"!==u&&(la=a().headerHeight-5),"two column"===u&&(aa=a().twoColumn.providersPerPage,la=a().headerHeight));if("string"==typeof c.providersPerPage||"number"==typeof c.providersPerPage)Oa(c.providersPerPage),"object"===typeof s&&s.setHeight(i()).refresh("janrainModal");ta(c.buttonBackgroundStyle);va(c.buttonBorderColor);Qa=S("number",[0,20],5,c.buttonBorderRadius);
oa(c.actionText);Ca(c.showAttribution);ya(c.borderRadius);"embed"===N&&("string"==typeof width||"number"==typeof width)&&ga(c.width)}ma(c.providers)},showNotice:function(){Ra()},removeNotice:function(){Fb(Sa)},removeReturnExperience:function(){var a=document.getElementById("janrainAuthReturnExperience");Fb(a)}}}function d(){if("object"===typeof q)if("object"===typeof ba){var a=q.getState();a.width=ba.width;ba=a}else ba=q.getState();"object"===typeof q&&q.remove();"object"===typeof s&&s.remove();o();
N="modal";"object"===typeof q&&ba&&r("customizable_auth_widget_styling")&&q.setState(ba);"object"===typeof s&&hb&&r("customizable_auth_widget_styling")&&s.setState(hb);"object"===typeof s&&s.show();"object"===typeof q&&q.refresh()}function c(){if("object"===typeof q){if("object"===typeof ba){var a=q.getState();a.borderRadius=ba.borderRadius;a.format=ba.format;a.width=ba.width;ba=a}else ba=q.getState();hb=ba.modalState;delete hb.orientation}"object"===typeof q&&q.remove();"object"===typeof s&&s.remove();
"object"===typeof s&&(s="");i();N="embed";"object"===typeof q&&ba&&r("customizable_auth_widget_styling")&&q.setState(ba);"object"===typeof q&&q.refresh()}function e(){var a,c;o();c=document.getElementsByTagName("a");var d=RegExp("(\\s|^)"+j.linkClass+"(\\s|$)");for(a in c)d.test(c[a].className)&&(c[a].onclick=h)}function i(){var c=M("expected_tab");q=new a;q.setBackgroundColor(ac).embed(!0).setPreviewMode(V).setShowAttribution(kc).setNoReturnExperience(sa).setNoReturnExperienceSwitchAccountLink(Ob).setFormat(xb).setRowHeight(Pb).setFontSize(Oa).setFontFamily(yb).setFontColor(lc).setActionText(oa).setProviders(mc).setProvidersPerPage(zb).setWidth(Sa).setBorderColor(Za).setBorderRadius(bb).setButtonBorderColor(Qb).setButtonBorderRadius(Ab).setButtonBackgroundStyle(Rb).build();
var d=document.getElementById("janrainEngageEmbed");null===d&&(d=document.getElementById("janrainModal"));va||(c?(ga("welcome_info_name",unescape(M("welcome_info_name"))),Da("expected_tab",c)):Ra(d,q.getContentsDiv()))}function h(){"object"===typeof s&&s.show();return!1}function o(){var c=Wb(kb,Ca),d=M("expected_tab");if("undefined"===typeof c||0>c)c=5;q=new a;q.setBackgroundColor(ac).setPreviewMode(V).setShowAttribution(kc).setNoReturnExperience(sa).setNoReturnExperienceSwitchAccountLink(Ob).setFontSize(Oa).setFontFamily(yb).setFontColor(lc).setActionText(oa).setProviders(mc).setProvidersPerPage(zb).setBorderRadius(c).setButtonBorderColor(Qb).setButtonBorderRadius(Ab).setButtonBackgroundStyle(Rb).build();
if("object"!==typeof s){s=new Tc;s.ready=!1;var e=s.addContent;s.addContent=function(a){s.ready=!0;e(a);janrain.events.onModalWidgetReady.fire()}}s.setHeight(q.getActualHeight()).setWidth(q.getWidth()).setPreviewMode(V).setBorderColor(Qa).setBorder(Ca).setBorderOpacity(ua).setBorderRadius(kb);va||(d?(ga("welcome_info_name",unescape(M("welcome_info_name"))),Da("expected_tab",d)):s.addContent(q.getContentsDiv()));s.onOrientationChange.addHandler(function(a){"portrait"===a.orientation&&q.setFormat(a.format).setWidth(200).refresh({center:!0});
"landscape"===a.orientation&&q.setHeight(a.height).setWidth(a.width).setFormat(a.format).refresh({center:!0});s.setHeight(q.getActualHeight());s.setWidth(q.getWidth())});s.onShow.addHandler(function(){"object"==typeof q&&s.setWidth(q.getWidth())});s.onBorderWidthChange.addHandler(function(a){"object"===typeof s&&"object"===typeof q&&(q.setBorderRadius(a.radius).refresh(),a=q.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&s.setBorderRadius(a.borderRadius+a.modalState.borderWidth))});
s.onBorderRadiusChange.addHandler(function(a){"object"===typeof q&&(q.setBorderRadius(a.radius).refresh(),a=q.getState(),a.borderRadius<a.modalState.borderRadius-a.modalState.borderWidth&&s.setBorderRadius(a.borderRadius+a.modalState.borderWidth))})}function v(a,c){if(!r("customizable_auth_widget_styling"))return!1;if("object"===typeof q)return c(a),!0}function x(a){return v(a,function(a){q.setBackgroundColor(a).refresh()})}function C(a){return v(a,function(a){q.setBorderRadius(a).refresh()})}function R(a){return v(a,
function(a){q.setBorderColor(a).refresh()})}function X(a){return"modal"===N?!1:v(a,function(a){q.setWidth(a).refresh({center:!0})})}function ha(a){return v(a,function(a){q.setActionText(a).refresh()})}function K(a){return v(a,function(a){q.setButtonBorderColor(a).refresh()})}function ta(a){return v(a,function(a){q.setButtonBorderRadius(a).refresh()})}function E(a){return v(a,function(a){q.setButtonBackgroundStyle(a).refresh()})}function na(a){return"modal"==N?!1:v(a,function(a){q.setFormat(a).refresh()})}
function A(a){return v(a,function(a){q.setProvidersPerPage(a).refresh()})}function y(a){return v(a,function(a){q.setFontFamily(a).refresh()})}function Ia(a){return v(a,function(a){q.setFontSize(a).refresh()})}function Ta(a){return v(a,function(a){q.setFontColor(a).refresh()})}function M(a){var c;if("single cookie"===Ja){c=z().getCookie("janrain_engage_login_data");if(!c)return;c=Q.parse(c);return!c[a]?void 0:a=c[a]}if("default"===Ja)return a=z().getCookie(a),!a?void 0:a}function fb(a,c,d){var e;if(!a||
!c)return!1;d||(d=1);if("single cookie"===Ja)return(oldCookieJSON=z().getCookie("janrain_engage_login_data"))||(oldCookieJSON="{}"),d=Q.parse(oldCookieJSON),d[a]=c,e=new z,e.setName("janrain_engage_login_data").setValue(Q.stringify(d)).setExpiration(1826).create(),!0;return"default"===Ja?(e=new z,e.setName(a).setValue(c).setExpiration(d).create(),!0):!1}function Ea(a,c){if(sa)return!1;if("expected_tab"===a&&!c){var d=M("login_tab");d&&Ea("expected_tab",d);return!1}if(!c||"undefined"===c||"expected_tab"!==
a&&"expected_user_input"!==a&&"welcome_info_name"!==a)return!1;c="welcome_info_name"===a?escape(c):c;fb(a,c,1826)}function Aa(a,c){var d={};a||(a=Kc);c||(c=Kc.appUrl);if(f&&3>Bb)return d.widget_type=a.widget_type,d.provider=a.provider,d.time=(new Date).getTime(),d=$b(d),za(c+"/signin/get_login_info"+d),Bb++,!0;"object"===typeof janrain.events.onProviderLoginCancel&&janrain.events.onProviderLoginCancel.fire(a);"undefined"!==typeof ub&&clearTimeout(ub);return!1}function xa(a,c,d){var e=c.appUrl+"/"+
a.flow+"/start",f=window.location.href;c.mobileDevice&&(f="mobile");var i=c.language||"en",h=c.popup?"xdr":"xdrsw",j=c.tokenUrl||window.location.href,o={};Kc={appUrl:c.appUrl,provider:a.name,widget_type:c.widgetType};o.language_preference=i;o.token_url=j;o.display="popup";o.widget=!0;"object"===typeof c.facebookPermissions&&(o.ext_perm=c.facebookPermissions.toString());o.openid_identifier=a.identifier;o.origin_url=f;o.provider_name=a.name;o.force_reauth=c.forceReauth;o.xdReceiver=c.appUrl+"/"+h;o.callback=
"none";o.widget_type=c.widgetType;o.token_action="url";if("event"===c.tokenAction||"hybrid"===c.tokenAction)o.token_action="event";c.mobileDevice&&"hybrid"===c.tokenAction&&(o.token_action="url");c.bpChannel&&(o.bp_channel=c.bpChannel);c.customOpenid&&"string"===typeof c.customOpenidOpxblob&&(o.opx_blob=c.customOpenidOpxblob);e+=$b(o);(function(){janrain.events.onProviderLoginStart.fire({provider:a.name,width:a.width,height:a.height});var f;c.mobileDevice&&"event"!==c.tokenAction||!c.popup?za(c.appUrl+
"/signin/set_login_tab?login_tab="+a.name+"&origin_url="+encodeURIComponent(window.location.href),function(){window.top.location.href=e}):(f=new fe(e),f.setWidth(a.width).setHeight(a.height).setCallback(function(){var e={},f="";e.widget_type=c.widgetType;e.provider=a.name||"";e.time=(new Date).getTime();f=$b(e);"function"===typeof d&&d();za(c.appUrl+"/signin/get_login_info"+f);janrain.events.onProviderLoginComplete.fire({provider:a.name})}).show())})()}function ga(a,c){if(!c||"undefined"===c||"welcome_info_name"!==
a)return!1;c&&(gb=c)}function Da(a,c){function d(){janrain.events.onReturnExperienceFound.fire({returnProvider:c,welcomeName:gb})}var e=function(a){var d=function(){600>a&&setTimeout(function(){e(++a)},50)};if("object"!==typeof q)return d(),!1;"modal"===N?s.addContent(q.getReturnExperience(c,gb)):"embed"===N&&Ra(document.getElementById("janrainEngageEmbed"),q.getReturnExperience(c,gb));"modal"===N&&janrain.events.onModalWidgetReady.fire()};if("expected_tab"!==a||!c)return!1;"object"===typeof q&&q.removeReturnExperience();
mb?d():janrain.events.onAuthWidgetLoad.addHandler(d);e(0)}function Ra(a,c){janrain.settings.capture&&(a?a.appendChild(c):(a=document.createElement("div"),a.id="janrainEngageEmbed",a.style.display="none",document.body.appendChild(a)));a?(a.appendChild(c),janrain.events.onAuthWidgetContentPlaced.fire()):(I.log('Missing container div, please place this div where you wantthe embedded widget to be displayed on your page- <div id="janrainEngageEmbed"></div>.'),I.show());return a}function Ha(a,c){Ba=Ba||
bc;tokenUrl=c?Ba:bc;var d="";if(!Yb(tokenUrl).query)var d=d+"?",e=!0;for(var f in a)e?(d+=f+"="+a[f],e=!1):d+="&"+f+"="+a[f];Ba=tokenUrl+d}function Ua(){j=janrain.settings;if("en"!==janrain.settings.language&&"undefined"===typeof janrain.settings.translate)return setTimeout(Ua,5),!1;Zb(Mc()+"providers.css");f&&9>=f&&Zb(Mc()+"providers-ie.css");if(j.stop)return!0;Hb&&za(j.appUrl+"/signin/establish_session");db=j.tokenAction?j.tokenAction:db;if(!j.tokenUrl&&"event"===db)bc=window.location.href;else if(j.tokenUrl)bc=
j.tokenUrl;else return I.log("Missing tokenUrl.  tokenUrl is required."),I.show(),!1;N=S("string",["modal","embed"],"embed",j.type?j.type:N);va=j.multi?j.multi:fc?!0:va;Fa=j.custom?j.custom:Fa;lb=j.forceReauth?j.forceReauth:lb;wa=j.bpChannel?j.bpChannel:wa;cb=j.facebookPermissions?j.facebookPermissions:cb;Ja=j.storageType?S("string",["default","single cookie"],"default",j.storageType):Ja;Va="boolean"===typeof j.popup?j.popup:Va;fc&&"event"!==db&&(Va=!1);Wa=j.returnExperienceTimeout?j.returnExperienceTimeout:
Wa;va&&(setTimeout(function(){var a=M("expected_tab");a?(ga("welcome_info_name",unescape(M("welcome_info_name"))),Da("expected_tab",a)):"modal"===N?s.addContent(q.getContentsDiv()):"embed"===N&&(a=document.getElementById("janrainEngageEmbed"),Ra(a,q.getContentsDiv()))},Wa),za(j.appUrl+"/signin/get_cookies"));if(j.customOpenid&&r("customizable_auth_widget_styling")){ab=!0;if(!j.customOpenidFlow)return I.log("Missing customOpenidFlow. customOpenidFlow is required when adding a custom openid provider."),
I.show(),!1;if(!j.customOpenidIdentifier)return I.log("Missing customOpenidIdentifier. customOpenidIdentifier is required when adding a custom openid provider."),I.show(),!1;sb.customopenid={flow:j.customOpenidFlow,identifier:j.customOpenidIdentifier,width:j.customOpenidModalWidth||800,height:j.customOpenidModalHeight||600}}if(Fa)return!0;db=j.tokenAction?j.tokenAction:db;Ca=r("customizable_auth_widget_styling")?j.modalBorderWidth:Ca;Qa=r("customizable_auth_widget_styling")?j.modalBorderColor:Qa;
kb=r("customizable_auth_widget_styling")?j.modalBorderRadius:kb;ua=r("customizable_auth_widget_styling")?j.modalBorderOpacity:ua;ac=r("customizable_auth_widget_styling")?j.backgroundColor:ac;bb=r("customizable_auth_widget_styling")?j.borderRadius:bb;Za=r("customizable_auth_widget_styling")?j.borderColor:Za;xb=r("customizable_auth_widget_styling")?j.format:xb;lc=r("customizable_auth_widget_styling")?j.fontColor:lc;Oa=r("customizable_auth_widget_styling")?j.fontSize:Oa;yb=r("customizable_auth_widget_styling")?
j.fontFamily:yb;Sa=r("customizable_auth_widget_styling")?j.width:Sa;Pb=r("customizable_auth_widget_styling")?j.rowHeight:Pb;zb=r("customizable_auth_widget_styling")?j.providersPerPage:zb;jc=r("customizable_auth_widget_styling")?j.providersNotPaged:jc;oa=r("customizable_auth_widget_styling")?j.actionText:oa;Qb=r("customizable_auth_widget_styling")?j.buttonBorderColor:Qb;Ab=r("customizable_auth_widget_styling")?j.buttonBorderRadius:Ab;Rb=r("customizable_auth_widget_styling")?j.buttonBackgroundStyle:
Rb;kc=r("customizable_auth_widget_hide_attribution")?j.showAttribution:kc;V=j.previewMode;sa=j.noReturnExperience;Ob=j.noReturnExperienceSwitchAccountLink;mc=j.providers;"undefined"===typeof janrain.settings.translate&&(janrain.settings.translate=j.translate={});if(j.customOpenid&&r("customizable_auth_widget_styling")){if(!j.customOpenidLargeIcon)return I.log("Missing customOpenidLargeIcon.  customOpenidLargeIcon is required and should be the full path to an image that is 50px x 50px."),I.show(),
!1;qa={largeIcon:j.customOpenidLargeIcon,customOpenIdProviderName:j.customOpenIdProviderName||janrain.settings.translate.SIGN_IN||"Sign in",customOpenIdProviderColor:j.customOpenIdProviderColor}}j.previewMode?("modal"===N&&(janrain.ready?d():w(window,"load",d)),"embed"===N&&(janrain.ready?c():w(window,"load",c))):("modal"===N&&(janrain.ready?e():w(window,"load",e)),"embed"===N&&(janrain.ready?i():w(window,"load",i)))}var cb,wa,ab=!1,lb=!1,db="url",bc,Ba,N="embed",gb="unknown",va=!1,Wa=300,lb=!1,Va=
!0,Fa=!1,Ja="default",qa,hb,s,Ca,Qa,kb,ua,q,ba,ac,bb,Za,Sa,Pb,xb,mc=[],jc=!1,zb,oa,Oa,yb,lc,Qb,Ab,Rb,V,sa,Ob,kc,jb=!1,mb=!1;janrain.events.onAuthWidgetLoad||(janrain.events.onAuthWidgetLoad=Z());janrain.events.onModalWidgetReady||(janrain.events.onModalWidgetReady=Z());janrain.events.onReturnExperienceFound||(janrain.events.onReturnExperienceFound=Z());janrain.events.onAuthWidgetLoad.addHandler(function(){mb=!0});janrain.events.onAuthWidgetLoad.addHandler(function(){"function"===typeof janrainWidgetOnload&&
(Fa?janrainWidgetOnload():q?janrainWidgetOnload(q.getState()):janrainWidgetOnload())});for(var ub,Bb=0,Kc,Lc="onAuthWidgetContentPlaced,onProviderLoginStart,onProviderLoginError,onProviderLoginToken,onProviderLoginCancel,onProviderLoginSuccess,onProviderLoginComplete,onProviderLogoutStart,onProviderLogoutComplete".split(","),nc=0;nc<Lc.length;nc++)"undefined"===typeof janrain.events[Lc[nc]]&&(janrain.events[Lc[nc]]=new rb);janrain.events.onProviderLoginError.addHandler(function(a){if(Fa)return!0;
var c=M("login_tab");if("modal"===N){var d=document.getElementById("janrainModal");d&&d.appendChild(q.getErrorPage(c,a.err))}"embed"===N&&(d=document.getElementById("janrainEngageEmbed"))&&Ra(d,q.getErrorPage(c,a.err))});Ua();return{appendTokenParams:function(a,c){Ha(a,c)},appendTokenParamsCumulative:function(a){Ha(a,!0)},setBackplaneChannel:function(a){wa=a},setLoginCookie:function(a,c){Ea(a,c)},loginHandler:function(a){var c=db;a?("ok"===a.stat&&("event"===c||"hybrid"===c?za(a.redirectUrl):(c=document.createElement("form"),
c.action=a.redirectUrl,c.method="POST",janrain.settings.targetTop&&(c.target="_top"),document.body.appendChild(c),c.submit())),"fail"===a.stat&&(a.err&&160===a.err.code?janrain.events.onProviderLoginCancel.fire(a):janrain.events.onProviderLoginError.fire(a),"undefined"!==typeof ub&&clearTimeout(ub))):Aa()},cancelLogin:function(a){Aa(a,j.appUrl);Fa||q.removeNotice()},removeNotice:function(){q.removeNotice()},setWelcomeInfoName:function(a,c){ga(a,c)},setReturnExperience:function(a,c){Da(a,c)},setNoReturnExperience:function(a,
c){var d;"boolean"===typeof a&&q?(q.setNoReturnExperience(a),c||q.refresh(),d=!0):d=!1;return d},setNoReturnExperienceSwitchAccountLink:function(a){"boolean"===typeof a&&q?(q.setNoReturnExperienceSwitchAccountLink(a).refresh(),a=!0):a=!1;return a},setPreviewMode:function(a){"boolean"===typeof a&&q?(q.setPreviewMode(a).refresh(),a=!0):a=!1;return a},setConfigureMode:function(a){"boolean"===typeof a&&q?(q.setConfigureMode(a).refresh(),a=!0):a=!1;return a},setCustom:function(a){Fa=a},getState:function(){return"object"===
typeof q?q.getState():!1},setProviderFlow:function(c,d){var e;e=!r("customizable_auth_widget_styling")||!Fa?!1:a().setProviderFlow(c,d);return e},triggerFlow:function(c){c=!r("customizable_auth_widget_styling")||!Fa?!1:a().triggerFlow(c);return c},debugDump:function(){if("undefined"!==typeof console){console.log("-------------START---------------");null!==document.doctype?(console.log("DOCTYPE Name: "+document.doctype.name),console.log("DOCTYPE NodeType: "+document.doctype.nodeType)):console.log("DOCTYPE name: not available (probably quirks mode)");
console.log("User Agent: "+navigator.userAgent);console.log("App Version: "+navigator.appVersion);console.log("Platform: "+navigator.platform);console.log("OS CPU: "+navigator.oscpu);console.log("Language: "+navigator.language);console.log("Release: ");console.log("Web Address: "+location.href);console.log("Cookies Enabled: "+navigator.cookieEnabled);console.log("COOKIES::: "+document.cookie);console.log("AUTH SETTINGS:::");for(var a in janrain.settings)if(console.log(" ---- "+a+": "+janrain.settings[a]),
"object"===typeof janrain.settings[a])for(var c in janrain.settings[a])"function"!==typeof janrain.settings[a][c]&&console.log(" --- --- "+c+": "+janrain.settings[a][c]);console.log("-------------END---------------")}},version:"not sure",widget:{init:function(){c()},setBackgroundColor:function(a){return x(a)},setBorderColor:function(a){return R(a)},setBorderRadius:function(a){return C(a)},setWidth:function(a){return X(a)},setActionText:function(a){return ha(a)},setFontFamily:function(a){return y(a)},
setFontSize:function(a){return Ia(a)},setFontColor:function(a){return Ta(a)},setFormat:function(a){return na(a)},setButtonBorderColor:function(a){return K(a)},setButtonBorderRadius:function(a){return ta(a)},setButtonBackgroundStyle:function(a){return E(a)},setProviders:function(a){var c;"object"===typeof q&&($?q.setProviders(a):q.setProviders(a).refresh(),c=!0);return c},setProvidersPerPage:function(a){return A(a)},setShowAttribution:function(a){var c;r("customizable_auth_widget_hide_attribution")?
"object"===typeof q&&q.setShowAttribution(a).refresh():c=!1;return c},refresh:function(){return q.refresh()},getWidth:function(){return q.getWidth()}},modal:{init:function(){d()},close:function(){"object"==typeof s&&s.close()},create:function(){return new Tc},setBorder:function(a){r("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorder(a),s.refresh({center:!0})),a=!0):a=!1;return a},setBorderColor:function(a){r("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorderColor(a),
s.refresh()),a=!0):a=!1;return a},setBorderOpacity:function(a){r("customizable_auth_widget_styling")?("object"===typeof s&&(s.setBorderOpacity(a),s.refresh()),a=!0):a=!1;return a},setBorderRadius:function(a){r("customizable_auth_widget_styling")?("object"==typeof s&&(s.setBorderRadius(a),s.refresh()),a=!0):a=!1;return a}}}},ne=new function(){return{status:"not loaded"}},oe=new function(){return{status:"not loaded"}},pe=new function(){return{status:"not loaded"}},re=new function(){function a(b){function a(){eb=
!0;var p=b||i();b&&!Xd&&(I.log("This environment does not allow specifying a flow path through janrain.capture.ui.start"),I.show(),p=null);b&&(tb=Yb(b).queryKey.flow_path);za(p,Xb);Ta();gb();janrain.events.onCaptureLoginFailed.addHandler(function(){gc++;N()});janrain.events.onCaptureLoginSuccess.addHandler(function(){gc=0;N()});janrain.events.onCaptureLoginSuccess.addHandler(function(){Ab(cd)});janrain.events.onCaptureRegistrationSuccess.addHandler(function(){Ab(cd)});janrain.events.onCaptureValidationComplete.addHandler(function(){a:{var b=
!1,a;for(a in ja)if("invalid"===ja[a].status){var p=ja[a].postValidationActions;if(p)for(var c in p){if(!ja[a].validation||"undefined"===typeof ja[a].validation[c])break a;for(var g in p[c])if(p[c].hasOwnProperty(g))switch(g){case "render":p[c].render.screen&&!b&&(b=!0,(new sa).setScreenData(p[c].render.screen,n.screens[p[c].render.screen]));break;case "setCookie":var H=p[c].setCookie.name,d=p[c].setCookie.value,e=p[c].setCookie.days;(new z).setExpiration(e).setUseLocalStorage(!0).setName(H).setValue(d).create()}}}}});
janrain.events.onCaptureRenderComplete.addHandler(function(){if(U){var b=Ka.savedProfileMessage||"Your profile has been saved",a=ha("capture_profileSavedMessage_container",ca.div),p=a.length;if(p)for(var c=0,p=a.length;c<p;c++)a[c].innerHTML=b,a[c].style.display="",mc(a[c]);else if(nd&&(a=document.getElementById(P+nd+"_defaultSavedProfileMessage")))a.innerHTML='<div class="capture_save_success capture_profileSavedMessage_container">'+b+"</div>",mc(a);U=!1;janrain.settings.capture.autoSave&&bc()}Ha()});
janrain.events.onCaptureContentChange.addHandler(function(){if("object"===typeof m&&m.isOpen()){m.setHeight(Za(m.getContent()).height);var b=m.getState().width,a=Za(m.getContent()).width;(b=b!==a)&&m.setWidth(a);m.refresh({center:b})}});janrain.settings.custom&&!La&&M()}function c(){ke&&!janrain.settings.capture.federateEnableSafari&&(janrain.settings.capture.federate=!1);janrain.settings.capture.federate&&!janrain.federateJSLoaded&&(janrain.settings.capture.federate=!1,Wc=!0);janrain.settings.capture.redirectFlow?
cc(a):a()}function g(){ra=Backplane.getChannelID();if(!Vc){Vc=!0;var b=function(){Backplane.expectMessages("identity/login")};janrain.events.onCaptureLoginSuccess.addHandler(b);janrain.events.onCaptureRegistrationSuccess.addHandler(b);janrain.events.onCaptureBackplaneReady.fire();c()}}zb(jc());janrain.settings.capture.noStyling||(Zb(Mc()+"widgets.css"),Ld(Mc()+"widgets-ie.css"));if(janrain.settings.capture.stylesheets&&v(janrain.settings.capture.stylesheets))for(var d=janrain.settings.capture.stylesheets,
e=d.length,Pa=0;Pa<e;Pa++)Zb(d[Pa]),j(d[Pa]);if(f&&9>f&&janrain.settings.capture.conditionalIEStylesheets&&v(janrain.settings.capture.conditionalIEStylesheets)){d=janrain.settings.capture.conditionalIEStylesheets;e=d.length;for(Pa=0;Pa<e;Pa++)Ld(d[Pa]),j(d[Pa])}if(Hb&&janrain.settings.capture.mobileStylesheets&&v(janrain.settings.capture.mobileStylesheets)){d=janrain.settings.capture.mobileStylesheets;e=d.length;for(Pa=0;Pa<e;Pa++)Zb(d[Pa]),j(d[Pa])}janrain.settings.capture.backplane?za(u,function(){function b(){p++;
if(20<p)return V("backplanecallback not successful"),janrain.events.onCaptureBackplaneInitFailed.fire(),Vc=!0,janrain.settings.capture.backplane=!1,c(),!1;if(Vc)return clearTimeout(a),!1;var a=setTimeout(b,500)}"function"===typeof Backplane?Backplane(g):G=!0;var a={serverBaseURL:O,busName:janrain.settings.capture.backplaneBusName};"undefined"!==typeof janrain.settings.capture.backplaneChannelExpires&&(a.channelExpires=janrain.settings.capture.backplaneChannelExpires);Backplane.init(a);G&&"undefined"!==
typeof Backplane&&g();var p=0;b()}):c()}function d(b,a,c,g){var d=[];g&&d.push({value:"",text:g,disabled:!0});if("desc"===c)for(c=a;c>b-1;c--)d.push({value:c,text:c});else for(c=b;c<a+1;c++)d.push({value:c,text:c});return d}function c(b){return"string"===typeof b?"capture_"+b+"_":"capture_"+e(b)+"_"}function e(b){var a=b.getAttribute("data-capturescreenname");if(a&&n.screens[a])return a;for(var a=ha("capture_screen_container"),c=0,g=a.length;c<g;c++)if(Nd(a[c],b))return a=a[c].getAttribute("data-capturescreenname"),
b.setAttribute("data-capturescreenname",a),a}function i(){var b=ic,a=janrain.settings.capture.flowVersion||"HEAD",c=janrain.settings.capture.flowName||"default",g=janrain.settings.capture.appid||janrain.settings.capture.appId;return uri=g?h()+"/widget_data/flow.js:"+g+":"+b+":"+a+":"+c:h()+"/widget_data/flow.js:"+b+":"+a+":"+c}function h(){return"https://dlzjvycct5xka.cloudfront.net"}function j(b){x(nb,b)||nb.push(b);$a=nb.length}function F(b){return{name:"MissingLayoutDivError",message:"The div containing the layout template code for '"+
b+"' is missing."}}function r(b){b=R(b);$(b)}function S(b){var a=0,c=0,g=0,d=0;Sa(ja,function(e,f){"pending"==f.status&&b===f.formId&&a++;"invalid"==f.status&&b===f.formId&&c++;"undefined"!==typeof f.unique&&!1===f.unique&&b===f.formId&&g++;"valid"==f.status&&b===f.formId&&d++});return{pending:a,invalid:c,notUnique:g,valid:d}}function $(b,a){var c=b.getAttribute("data-capturefield"),c=Bc.check(b,n.fields[c]),g=document.getElementById(b.id+"_errors");!c.valid&&c.reason?g&&(g.innerHTML=c.reason):g&&
(g.innerHTML="");if(a)return"object"!==typeof c&&(c={valid:!0}),c}function W(b,a){var H=c(b),g=document.getElementById(H+a.name+"_dateselectmonth"),g=g.options[g.selectedIndex].value,d=document.getElementById(H+a.name+"_dateselectday"),d=d.options[d.selectedIndex].value,H=document.getElementById(H+a.name+"_dateselectyear"),H=H.options[H.selectedIndex].value;return!g||!d||!H?!1:g+"/"+d+"/"+H}function Z(b,a){if(!b)return!1;for(var c=b.getElementsByTagName("input"),g=b.getElementsByTagName("select"),
d=b.getElementsByTagName("textarea"),e=[],c=[c,g,d],a=a||!1,g={},d=0,f=c.length;d<f;d++)for(var i=c[d],h=i.length,j=0;j<h;j++){var l=i[j];"true"===l.getAttribute("data-capturecollection")?g[l.name]||(cb(l,!0,a)||e.push(l),g[l.name]=!0):"file"===l.type?$(l,!0).valid||e.push(l):cb(l,!0,a)||e.push(l)}janrain.events.onCaptureValidationComplete.fire({fieldsWithError:e});return 0===e.length}function K(){}function ka(b){function a(b){C(b);(y?c:g)(b)}function c(b){C(b);n.style.display="none";y=!1}function g(){if(!y){var b=
fa||G;if(pa.getMonth()!==b.getMonth()||pa.getFullYear()!==b.getFullYear())pa=new Date(b),m(pa)}y=!0;n.style.display="block"}function d(b){id(J);for(var b=parseInt(b),a=-10;11>a;++a){var p=document.createElement("option");p.setAttribute("value",b+a);ta(p,b+a);J.appendChild(p)}J.value=b}function e(){pa.setMonth(M.value);pa.setFullYear(J.value);m(pa)}function Pa(b){M.value=b.getMonth();b=b.getFullYear();d(b);J.value=b}function i(b){return function(a){C(a);pa.setMonth(pa.getMonth()+b);m(pa)}}function h(b){b=
b.getDay();return x?(b-1+7)%7:b}function j(b){fa=new Date(pa);fa.setDate(b);"object"===typeof r&&"INPUT"===r.nodeName&&(r.value=Aa(Q,fa));c();D(fa)}function l(b,a){return b.getDate()===a.getDate()&&b.getMonth()===a.getMonth()&&b.getFullYear()===a.getFullYear()}function m(b){function a(b){C(b);var b=R(b),p=b.getAttribute("data-date");N&&o(N.parentNode).remove("capture_datePicker_selectedDate");o(b.parentNode).append("capture_datePicker_selectedDate");N=b;j(p)}id(u);if(O)Pa(pa);else{var p=Aa(U,b);id(q);
ta(q,p)}p=document.createElement("tr");p.className="capture_datePicker_daysOfTheWeekHeader";for(var c=0,g=s.length;c<g;c++){var H=document.createElement("th");ta(H,s[c]);p.appendChild(H)}u.appendChild(p);var d=b.getMonth(),p=new Date(b),e,b=1;p.setDate(1);e=h(p);var c=document.createElement("tr"),ea=new Date(p),f=1-e;ea.setDate(f);for(g=0;g<e;++g){var H=document.createElement("td"),Y=document.createElement("a");ta(Y,ea.getDate());H.appendChild(Y);H.style.textAlign="right";Y.setAttribute("data-date",
f);Y.href="#";H.className="capture_datePicker_prevMonthDay";c.appendChild(H);ea>E&&ea<z?(o(H).append("capture_datePicker_day"),w(Y,"click",a)):o(H).append("capture_datePicker_day_disabled");fa&&l(ea,fa)&&(o(H).append("capture_datePicker_selectedDate"),N=Y);l(ea,S)&&o(H).append("capture_datePicker_today");ea.setDate(ea.getDate()+1);f++}for(;p.getMonth()===d;)H=document.createElement("td"),Y=document.createElement("a"),Y.setAttribute("data-date",b),Y.href="#",ta(Y,b),p>E&&p<z?(H.className="capture_datePicker_day",
w(Y,"click",a)):H.className="capture_datePicker_day_disabled",fa&&l(p,fa)&&(o(H).append("capture_datePicker_selectedDate"),N=Y),l(p,S)&&o(H).append("capture_datePicker_today"),H.appendChild(Y),c.appendChild(H),++e,6<e&&(e=0,u.appendChild(c),c=document.createElement("tr")),++b,p.setDate(b);g=h(p);b=new Date(p);b.setDate(b.getDate()-1);b=b.getDate()+1;if(0<g){for(g=h(p);7>g;++g)H=document.createElement("td"),Y=document.createElement("a"),H.style.textAlign="right",Y.href="#",Y.setAttribute("data-date",
b),ta(Y,p.getDate()),H.appendChild(Y),H.className="capture_datePicker_nextMonthDay",c.appendChild(H),p>E&&p<z?(o(H).append("capture_datePicker_day"),w(Y,"click",a)):o(H).append("capture_datePicker_day_disabled"),fa&&l(p,fa)&&(o(H).append("capture_datePicker_selectedDate"),N=Y),l(p,S)&&o(H).append("capture_datePicker_today"),p.setDate(p.getDate()+1),b++;u.appendChild(c)}}var k=b||{},n,q,Y,Sb,t,u,s="Su,Mo,Tu,We,Th,Fr,Sa".split(","),x=!1,y=Y=!1,A,D=k.callback||function(){};t=k.monthPreviousText;var F=
k.monthNextText,r=k.targetElement,B=k.extraTargetElements||[],b=k.elementAttachedTo,L=k.openOnTargetElementFocus,qe=k.provideOpenButton,K,I=!!k.hasCloseButton,E=k.minimumSelectableDate||"1/1/1500",z=k.maximumSelectableDate||"12/31/2499",O=k.monthAndYearSelectable,P=k.arrowKeyNavigation,M,J,ae=k.defaultDate||new Date,G=ae,pa,fa=k.preSelectedDate,N,Q=k.format||"{m}/{d}/{yyyy}",U=k.calendarTitleFormat||"{month} {yyyy}",S=new Date;"string"===typeof G?(G=new Date(G),isNaN(G.getMonth())&&(G=new Date)):
"number"===typeof G&&(A=G,G=new Date,G.setDate(G.getDate()+A));pa=new Date(G);"number"===typeof E?(A=E,E=new Date,E.setDate(E.getDate()+A)):"string"===typeof E&&(E=new Date(E));"number"===typeof z?(A=z,z=new Date,z.setDate(z.getDate()+A)):"string"===typeof z&&(z=new Date(z));isNaN(E.getMonth())&&(E=new Date("1/1/1500"));isNaN(z.getMonth())&&(z=new Date("12/31/2499"));"undefined"===typeof P&&(P=!0);z.setDate(z.getDate()+1);A="January,February,March,April,May,June,July,August,September,October,November,December".split(",");
k.monthNames&&12===k.monthNames.length&&(A=k.monthNames);k.weekStartsOnMonday&&(x=k.weekStartsOnMonday,Y=!0);k.daysOfWeek&&7===k.daysOfWeek.length&&(s=k.daysOfWeek,Y=!1);Y&&s.push.apply(s,s.splice(0,1));n=document.createElement("div");n.className="capture_datePicker_wrapper";k.additionalClasses&&(v(k.additionalClasses)&&(k.additionalClasses=k.additionalClasses.join(" ")),n.className+=" "+k.additionalClasses);"object"===typeof r&&(o(r).append("capture_datePicker_targetElement"),fa&&!isNaN(fa.getMonth())&&
"INPUT"===r.nodeName&&(r.value=Aa(Q,fa)),"undefined"===typeof b&&(b=r.parentNode));k=0;"object"===typeof b&&(o(b).append("capture_datePicker_mainTarget"),k=b.offsetHeight);Md(n,{display:"none",position:"absolute",top:k+"px",right:"0",zIndex:"100"});k=document.createElement("div");k.className="capture_datePicker_header";q=document.createElement("div");q.className="capture_datePicker_monthAndYearDisplayDiv";Y=document.createElement("a");Y.setAttribute("href","#");Y.className="capture_datePicker_previousMonthButton capture_datePicker_monthButtons";
Sb=document.createElement("a");Sb.setAttribute("href","#");Sb.className="capture_datePicker_nextMonthButton capture_datePicker_monthButtons";k.appendChild(q);n.appendChild(k);if(O){M=document.createElement("select");J=document.createElement("select");M.className="capture_datePicker_monthSelect";J.className="capture_datePicker_yearSelect";for(var X=pa.getMonth(),V=0;12>V;++V){var W=document.createElement("option");W.setAttribute("value",V);ta(W,A[V]);M.appendChild(W)}A=pa.getFullYear();d(A);M.value=
X;J.value=A;w(M,"change",e);w(J,"change",e);q.appendChild(M);q.appendChild(J)}t?ta(Y,t):o(Y).append("janrain-icon-16").append("janrain-icon-back");F?ta(Sb,F):o(Sb).append("janrain-icon-16").append("janrain-icon-forward");w(Y,"click",i(-1));w(Sb,"click",i(1));k.appendChild(Y);k.appendChild(Sb);t=document.createElement("table");t.className="capture_datePicker_monthTable";t.style.width="100%";t.cellSpacing=0;t.cellPadding=0;u=document.createElement("tbody");t.appendChild(u);n.appendChild(t);I&&(I=document.createElement("div"),
I.className="capture_datePicker_closeButton",I.style.textAlign="center",t=document.createElement("a"),t.href="#",ta(t,"Close"),w(t,"click",c),I.appendChild(t),n.appendChild(I));qe&&"object"===typeof b&&(K=document.createElement("span"),K.className="capture_datePicker_openButton janrain-icon-calendar janrain-icon-16",w(K,"click",a),b.appendChild(K));m(G);L&&"object"===typeof r&&w(r,"focus",g);"object"===typeof r&&(w(r,"keydown",function(b){switch(b.keyCode){case Dd:case Qa:case gd:c()}}),w(r,"keyup",
function(){if("INPUT"===r.nodeName){var b=Pd(Q,r.value);!isNaN(b.getMonth())&&b>E&&b<z&&(pa=b,fa=new Date(b),m(b))}}),w(r,"blur",function(){if("INPUT"===r.nodeName){var b=Pd(Q,r.value);isNaN(b.getMonth())||!(b>E&&b<z)?fa?(pa=new Date(fa),j(fa.getDate())):r.value="":(b=Aa(Q,fa),b!==r.value&&(r.value=b))}}));w(document,"click",function(b){if(y){for(b=R(b);b;){if(b===n||b===r||b===K)return;for(var a=0,p=B.length;a<p;++a)if(b===B[a])return;b=b.parentNode}c()}});w(document,"keydown",function(b){if(y)if(b.keyCode===
Qa||b.keyCode===gd)c();else if(P){C(b);var a={};a[Ed]=-1;a[Fd]=-7;a[Gd]=1;a[Hd]=7;b=a[b.keyCode]||0;0!==b&&(a=fa?new Date(fa):new Date(ae),a.setDate(a.getDate()+b),a>E&&a<z&&(fa=new Date(a),pa=new Date(fa),m(pa),"object"===typeof r&&"INPUT"===r.nodeName&&(r.value=Aa(Q,fa)),D(fa)))}});"object"===typeof b&&b.appendChild(n);f&&7>=f&&"object"===typeof b&&Md(b,{position:"relative",zIndex:1});return{show:g,hide:c,setSelectedDate:function(b){"object"===typeof b&&"function"===typeof b.getMonth&&(fa=new Date(b),
pa=new Date(b),m(b));return this},getSelectedDate:function(){return fa}}}function E(){}function na(b){var a=oa(),b=ua({flow_control:b,token:ma,capture_transactionId:a});jb("/widget/control.jsonp",b);Oa(a)}function A(b){var a=document.getElementById("captureIFrame_"+b);"yes"!==a.getAttribute("data-captureiframeloadeventbound")&&(a.setAttribute("data-captureiframeloadeventbound","yes"),w(document.getElementById("captureIFrame_"+b),"load",fb))}function y(b,a,c){if(!v(b)&&!a)return!1;v(b)||(b=[]);var g=
b.length,d,e=new sa,f="",i=[],h=document.getElementById(c+a);if(!h)return!1;for(a=0;a<g;a++)if(d=n.fields[b[a]])d.fieldPrefix=c,d.name=d.elementName=b[a],f+=e.renderField(d),i.push(d.name);if(!f.length&&h)return h.innerHTML="",!1;h.innerHTML=f;a=0;for(g=i.length;a<g;a++)(b=document.getElementById(c+i[a]))&&w(b,"blur",Ua)}function Ha(){for(var b=ca.div.getElementsByTagName("select"),a=b.length,c=0;c<a;c++)b[c].getElementsByTagName("option")[b[c].selectedIndex].disabled&&(o(b[c]).append("capture_disabled"),
w(b[c],"change",function(){o(this).remove("capture_disabled")}))}function Ta(){w(document.body,"click",function(b){var a=janrain.settings.capture.logoutLinksClass||"capture_end_session",c=R(b);c&&c.nodeName&&"A"===c.nodeName&&(o(c).has(a)&&(Ca(),C(b)),a=c.getAttribute("data-capturescreen"),c=c.getAttribute("data-captureuseruuid"),a&&c?(Ub(a,c),C(b)):a&&!c&&(Mb=!0,janrain.capture.ui.renderScreen(a),C(b)))})}function M(){janrain.events.onProviderLoginToken.addHandler(function(b){if(b.janrainWidgetParameters&&
b.janrainWidgetParameters.widget_type&&"share"===b.janrainWidgetParameters.widget_type)return!1;b.linkAccounts?l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"linkAccount_form",captureScreen:b.currentScreen,needsResponse:!0,callback:function(){janrain.events.onCaptureProfileLink.fire({provider:b.janrainWidgetParameters.provider,authProfile:uc})},fields:[{elementName:"engage_add_account",elementType:"hidden",elementValue:"true"},
{elementName:"token",elementType:"hidden",elementValue:b.token}]}):(janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(janrain.settings.noReturnExperience,!0),Zc&&(Gc=vb),vb=b.token,ca.values=Ob(ca.div.id),Dc.push(ca),Wb(b.keepMeLoggedIn))});La=!0}function fb(b){var b=R(b),a=b.getAttribute("data-transactionId"),c=Q.parse(b.getAttribute("next"));"formClicked"===b.className&&function(){jb("/widget/get_result.jsonp",{transactionId:a,cache:(new Date).getTime()},function(){function b(){d++;
if(10<d)return V("could not find transaction status"),!1;if(aa[a])yb(a),clearTimeout(e),e=aa[a],"success"===e.status?wa(c):V("there was a problem with the response",e);else var e=setTimeout(b,50)}var d=0;b()})}()}function Ea(b,a){for(var H=R(b).getAttribute("id").split("_")[3],g=R(b),d=c(g),g=g.parentNode,e=o(g).has("capture_tab_toggle"),f=e?"capture_tab_toggle":"capture_radio_toggle",i=0;i<a.collection.length;i++)a.collection[i].elementName!==H&&(document.getElementById(d+a.collection[i].elementName).style.display=
"none");for(var f=ha(f,document.getElementById(d+a.elementName)),h=f.length,i=0;i<h;i++)o(f[i]).remove("capture_toggled");o(g).append("capture_toggled");document.getElementById(d+H).style.display="block";janrain.events.onCaptureContentChange.fire();e&&C(b)}function ab(b,a,c,g){c=g?Q.stringify(g):c;Oa(a);b.className="formClicked";b.setAttribute("next",c)}function xa(){var b,a,d,g,e,f,i=!1;return{setIframe:function(a){b=a;return this},setTransactionId:function(b){a=b;return this},setNext:function(b){d=
b;g=Q.parse(d);return this},setForm:function(b){e=b;return this},setEvent:function(b){f=b;return this},dontSubmit:function(){return g?g.dontSubmit:!1},process:function(){a:if(g.conditional){for(var h=g.conditional,l=h.length,j=0;j<l;j++){var k;b:{k=h[j];var m=n.fields[k.field],m=c(e)+(m.elementId||m.elementName),m=document.getElementById(m);switch(k.compare){case "=":if(m.value===k.value){k=!0;break b}}k=void 0}if(k){i=h[j];break}}i?i.nosubmit?(C(f),wa(i.next)):ab(b,a,d,i.next):ab(b,a,d)}else if(g.dontSubmit){C(f);
if(g.storeValues){h=ha("capture_focused");Ud(h);if(!Z(e))break a;h=S(e.id);if(0<h.notUnique||0<h.pending||0<h.invalid)break a;Ob(e.id,!0)}wa(g)}else ab(b,a,d)}}}function ga(b){var a=R(b),c=a&&a.id?a.id:"",g=R(b).getAttribute("data-transactionId"),d=document.getElementById("captureIFrame_"+g),e=ha("capture_focused"),i=!1;a.getAttribute("next")||a.setAttribute("next",'{"noop":""}');var h=a.getAttribute("next"),l=new xa;l.setNext(h);l.dontSubmit()&&(i=!0);if(f&&i&&vd)setTimeout(function(){Vd(a);ga(b)},
0);else{vd=!0;if(!i&&("true"!==a.getAttribute("data-capturedomelement")||"true"===a.getAttribute("data-capturedomelementvalidate"))){la||Da(a);ca.values=Ob(ca.div.id);if(Z(a)){Ud(e);var j=!1,k=function(){var g=S(c);m++;400<m&&(clearTimeout(validationTimeout),C(b));0<g.invalid?(C(b),la||sb(a)):0===g.pending?("function"===typeof validationTimeout&&clearTimeout(validationTimeout),j&&a.submit()):(C(b),j=!0,validationTimeout=setTimeout(k,50))},m=0;k()}else return la||sb(a),C(b),!1;e=de(a);h=B();e.parentNode.insertBefore(h,
e);e.style.display="none"}i&&C(b);l.setIframe(d).setTransactionId(g).setForm(a).setEvent(b).process()}}function Da(b){for(var b=rb(b),a=0,c=b.length;a<c;a++)ud.clearPlaceHolder(b[a])}function rb(b){for(var a=[],c=Td(b.getElementsByTagName("input")),c=c.concat(Td(b.getElementsByTagName("textarea"))),b=0,g=c.length;b<g;b++)c[b].getAttribute("placeholder")&&c[b].getAttribute("placeholder").length&&a.push(c[b]);return a}function sb(b){for(var b=rb(b),a=0,c=b.length;a<c;a++)ud.restorePlaceHolder(b[a])}
function Ua(b){vd=!1;b=Ra(b);cb(b,!1)}function cb(b,a,d){if(b.type&&("hidden"===b.type||"submit"===b.type||"file"===b.type)||!b.getAttribute("data-capturefield"))return!0;var g=b.getAttribute("data-capturerendererfield")?n.fields[b.getAttribute("data-capturerendererfield")]:n.fields[b.getAttribute("data-capturefield")],e=b.getAttribute("data-capturerendererchildfieldname"),f=e?g.elementName+"["+e+"]":g.elementName,i=c(b),h,j;h=!1;if(g.validation)h=(h=g.validation[e])&&h.required?h.required:!1,j=g.validation.required||
h;else return!0;h=b.id||b.name;if(!b.value&&!j)return delete ja[h],!0;if(ja[h]&&ja[h].status&&"pending"===ja[h].status||g.validation.type&&"server"===g.validation.type||e&&!g.validation[e]&&"dateselect"!==g.type)return!0;ja[h]=ja[h]||{};ja[h].element=b;ja[h].formId=b.form&&b.form.id?b.form.id:"";ja[h].status="pending";ja[h].postValidationActions=g.validation.actions||null;e="multiCheckbox"===g.element||"multiRadio"===g.element?document.getElementById(i+"form_collection_"+g.elementName):"dateselect"===
g.type?document.getElementById(i+"form_item_"+g.name):document.getElementById(i+"form_item_"+f);d||o(e).append("capture_validating");f=new l.validation;f.setParentDiv(e);f.setElement(b);b=Bc.check(b,g,a);b.validation&&(f.setValidation(b.validation),ja[h].validation=b.validation);b.valid?(h=!0,d||(f.valid(g.validation.hideValidated),o(e).remove("capture_validating"))):b.pending?(d||f.pending(),h=!0):(h=!1,d||(f.notValid(b.reason),o(e).remove("capture_validating")));return h}function wa(b){Dc.push(ca);
if(b.noop)return!1;b.url&&(window.location.href=b.url);b.screen&&(new sa).setScreenData(b.screen,n.screens[b.screen]);if(b.action&&ca)janrain.capture.ui[b.action]();if(b["function"]&&"function"===typeof Gb[b["function"]])Gb[b["function"]]()}function Vb(){if(0===yd)return!1;var b=(new Date).getTime()-yd,b=Math.floor(b/1E3);if(60>b)return b+" seconds ago";b=Math.floor(b/60);if(1==b)return b+" minute ago";if(59>b)return b+" minutes ago"}function lb(b){this.id=b.id;this.value=b.value;"checked"in b&&(this.checked=
b.checked);this.time=(new Date).getTime()}function db(b){function a(){if(!Tb)return!1;if(Z(f,!0)){zd=ha("capture_validated",f).map(function(b){return b.id});la||Da(f);f.submit();f.getAttribute("next");var b=f.getAttribute("data-transactionId"),p=document.getElementById("captureIFrame_"+b);(new xa).setIframe(p).setTransactionId(b).setNext('{"noop": ""}').setForm(f).setEvent(null).process()}}function c(b){var a=R(b);""!==a.name&&setTimeout(function(){var b={id:a.id,value:a.value};if("radio"===a.type||
"checkbox"==a.type)b.checked=a.checked;Ad[a.id]=new lb(b);g()},0)}function g(){oc&&clearTimeout(oc);oc=setTimeout(function(){Nd(document.body,f)&&a()},h)}function d(b){b=R(b);b.tagName.match(/select/i)&&clearTimeout(oc);fd=b.id}function e(b){var a=R(b).id;setTimeout(function(){a===fd&&(fd="")},0)}Tb=!0;var f=document.getElementById(b),b=janrain.settings.capture.autoSaveUpdateInterval||1E4,h=janrain.settings.capture.autoSaveDelay||janrain.settings.capture.autoSaveInterval||1E4;w(f,"submit",function(){wc=
(new Date).getTime()});pb=function(b){var a={};a.target=b;c(a)};clearInterval(xc);xc=setInterval(function(){if(!Tb)return!1;janrain.events.onCaptureAutoSaveUpdate.fire({durationSinceLastUpdate:Vb()})},b);w(f,"keyup",function(b){(b.keyCode==Id||b.keyCode==Jd)&&c(b)});w(f,"keypress",function(b){(b.charCode||b.keyCode)&&c(b)});w(f,"change",c);f.addEventListener?(f.addEventListener("focus",d,!0),f.addEventListener("blur",e,!0)):"object"===typeof window.attachEvent&&(f.attachEvent("onfocusin",d),f.attachEvent("onfocusout",
e))}function bc(){for(;_draggingSliderFx.length;)_draggingSliderFx.pop().unbindDragHandlers();Sa(Ad,function(b,a){var p=document.getElementById(b);if(wc<a.time&&p)if("radio"===p.type||"checkbox"===p.type){var c=jd(p,"form").name,c=p=document[c][p.name];if(p.length)for(var d=0,e=p.length;d<e;d++)if(p[d].value===a.value){c=p[d];break}c.checked=a.checked}else p.value!==a.value&&(p.value=a.value)});for(Ad={};zd.length;)document.getElementById(zd.pop()).className+=" capture_validated";var b=document.getElementById(fd);
if(b){var a=function(){if(this.setSelectionRange){var b=this.value.length+1;this.setSelectionRange(b,b)}else this.value=this.value;bb(this,"focus",a)};w(b,"focus",a);b.focus()}}function Ba(b){(new z).setExpiration(1826).setUseLocalStorage(!0).setName("janrainLastAuthMethod").setValue(b).create()}function N(){(new z).setUseLocalStorage(!0).setName("janrainFailedLogins").setValue(gc).create()}function gb(){var b=new z;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainFailedLogins",
function(b){Rc(b)&&(gc=parseInt(b,10))}):(b=b.getCookie("janrainFailedLogins"),Rc(b)&&(gc=parseInt(b,10)))}function va(){var b=36E5*J+(new Date).getTime();return(new Date((new Date).setTime(b))).toUTCString()}function Wa(){clearTimeout(rd);rd=setTimeout(Fa,1E4)}function Va(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b,a,c=new z;c.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)c.getCookie("janrainCaptureTokenRefresh",
function(c){c&&(a=new Date,b=new Date(c),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):Wa())});else if(c=c.getCookie("janrainCaptureTokenRefresh"))a=new Date,b=new Date(c),a.getTime()>b.getTime()?JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken"):Wa()}}function Fa(){if(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&!("undefined"===typeof JANRAIN||"undefined"===typeof JANRAIN.SSO)){var b=
new z;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureToken",function(b){b?Va():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}):b.getCookie("janrainCaptureToken")?Va():JANRAIN.SSO.CAPTURE.refresh_token("janrain.capture.ui.federateRefreshToken")}}function Ja(b){var a=new z;a.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken").setValue(b);janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);
a.create()}function qa(){var b=new z;b.setUseLocalStorage(!0).setName("janrainCaptureTemporaryToken");janrain.settings.capture.cookieDomain&&b.setDomain(janrain.settings.capture.cookieDomain);b.remove()}function hb(){var b=new z;b.setUseLocalStorage(!0);janrain.settings.multiDomainLocalStorage?b.getCookie("janrainCaptureTemporaryToken",function(b){b&&(s(b),qa())}):b.getCookie("janrainCaptureTemporaryToken")&&(s(b.getCookie("janrainCaptureTemporaryToken")),qa())}function s(b,a,c){var g=va();ma=b;a?
(janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&Fa(),janrain.events.onCaptureSessionCreated.fire({accessToken:b}),janrain.events.onCaptureSessionFound.fire({accessToken:b})):(a=new z,a.setExpirationDirectly(g).setUseLocalStorage(!0).setName("janrainCaptureToken").setValue(ma),janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain),a.create(),janrain.settings.capture.federate&&"token"===janrain.settings.capture.responseType&&(g=
new z,a=36E5*J-6E5+(new Date).getTime(),a=(new Date((new Date).setTime(a))).toUTCString(),g.setExpirationDirectly(a).setUseLocalStorage(!0).setName("janrainCaptureTokenRefresh").setValue(a),janrain.settings.capture.cookieDomain&&g.setDomain(janrain.settings.capture.cookieDomain),g.create(),Fa()),Ib&&(janrain.events.onCaptureLoginSuccess.fire({accessToken:b}),Ib=!1),c?janrain.events.onCaptureFederateRefreshedToken.fire({accessToken:b}):janrain.events.onCaptureSessionCreated.fire({accessToken:b}))}
function Ca(b){var a=new z,c=oa(),g="function"===typeof janrain.settings.capture.federateLogoutCallback?janrain.settings.capture.federateLogoutCallback:function(){},d=function(){janrain.capture.ui.federateLogoutCallbackFired(c,g)};a.setUseLocalStorage(!0).setName("janrainCaptureToken");janrain.settings.capture.cookieDomain&&a.setDomain(janrain.settings.capture.cookieDomain);a.remove();b||(ma="");janrain.settings.capture.keepProfileCookieAfterLogout||(a.setName("janrainCaptureProfileData"),janrain.settings.capture.cookieDomain&&
a.setDomain(janrain.settings.capture.cookieDomain),a.remove());janrain.settings.capture.backplane&&"function"===typeof Backplane&&Backplane.resetCookieChannel();n&&Rb(n,!0);if(janrain.settings.capture.federate){clearTimeout(rd);JANRAIN.SSO.logout({sso_server:janrain.settings.capture.federateServer,logout_uri:janrain.settings.capture.federateLogoutUri},d);var e=0,f=function(){e++;if(20<e)return V("federatecallback not successful"),Yc.push(c),g(),janrain.settings.capture.federate=!1;if(x(Yc,c))return clearTimeout(b),
!1;var b=setTimeout(f,500)};f()}else Wc&&g();janrain.events.onCaptureSessionEnded.fire()}function Wb(b){var a=oa(),c=ua({capture_screen:janrain.settings.capture.registerFlow||"socialRegister",token:vb,capture_transactionId:a});Gc&&(c.merge_token=Gc,Gc=null);"true"===b&&(c.capture_keep_me_logged_in="yes");janrain.settings.capture.thinRegistration&&(c.thin_registration=!0);if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var b=janrain.settings.capture.dataDefaults,
g;for(g in b)b.hasOwnProperty(g)&&"undefined"===typeof c[g]&&(c[g]=b[g])}jb("/widget/token_url.jsonp",c);Oa(a);Zc&&(Zc=!1)}function kb(){var b=new z;b.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)b.getCookie("janrainCaptureToken",function(b){b?s(b,!0):janrain.events.onCaptureSessionNotFound.fire();wb=!0});else{if(b.getCookie("janrainCaptureToken"))return s(b.getCookie("janrainCaptureToken"),!0),!0;janrain.events.onCaptureSessionNotFound.fire();return!1}}function ua(b,a){var c=
{js_version:mb,capture_screen:ia,flow:n.flow,client_id:janrain.settings.capture.clientId,redirect_uri:janrain.settings.capture.redirectUri,response_type:janrain.settings.capture.responseType,flow_version:Ga,locale:ic};ra&&(c.bp_channel=ra);tb&&(c.flow_path=tb);if("object"===typeof b)for(var g in b)b.hasOwnProperty(g)&&(c[g]=b[g]);if(v(a)){g=0;for(var d=a.length;g<d;g++)c.hasOwnProperty(a[g])&&delete c[a[g]]}return c}function q(b){b=aa[b];b.fireEvent&&janrain.events[b.fireEvent]&&("onCaptureLoginSuccess"===
b.fireEvent&&dd||janrain.events[b.fireEvent].fire(b))}function ba(b,a){function c(){g++;if(10<g)return V("set login not successful"),ob[a].eventFiredDueToSlowResponse=!0,q(a),janrain.settings.capture.federate=!1,Wc=!0,!1;if(ob[a]&&ob[a].setLoginSuccess)return clearTimeout(b),!1;var b=setTimeout(c,500)}JANRAIN.SSO.CAPTURE.set_login({code:b,transaction_id:a,login_callback:"federateSetLoginSuccess",nologin_callback:"federateNoLogin"});var g=0;c()}function ac(b){function a(){g++;if(10<g)return V("check login not successful"),
janrain.settings.capture.federate=!1,Wc=!0,kb(),wb=!0,!1;if(-1<xd.indexOf(c))return clearTimeout(b),!1;var b=setTimeout(a,500)}b||(b={});var c=oa(),b={sso_server:janrain.settings.capture.federateServer,client_id:janrain.settings.capture.clientId,response_method:b.response_method||"jsonp",response_type:janrain.settings.capture.responseType,redirect_uri:janrain.settings.capture.redirectUri,widget_parameters:Q.stringify(ua({capture_transactionId:c},["client_id"])),transaction_id:c,logout_uri:janrain.settings.capture.federateLogoutUri,
nologin_callback:"federateNoLogin",xd_receiver:janrain.settings.capture.federateXdReceiver};ra&&(b.bp_channel=ra);JANRAIN.SSO.CAPTURE.check_login(b);Oa(c);var g=0;a()}function Xb(){if(Na.capture_complete_social_registration)wb=!0,s(Na.capture_complete_social_registration);else if(janrain.settings.capture.federate)ac();else{var b;a:{if(b=td.anchor)if(b=b.split("="),"access_token"===b[0]&&b[1]){Ib=!0;s(b[1]);b=!0;break a}b=!1}if(b||kb())return wb=!0,!1;janrain.settings.multiDomainLocalStorage||(wb=
!0)}}function cc(b){var a=td.anchor;if(!a)return b(),!1;var c=a.split(","),g=c.length,d,a={};if(1<g){for(var e=0;e<g;e++)d=c[e],d=d.split("="),a[d[0]]=d[1];if(!a.transactionId||!a.engageToken)return b(),!1;ed=b=a.transactionId;vb=a.engageToken;jb("/widget/get_result.jsonp",{transactionId:b},function(){})}else return b(),!1}function dc(b,a){var c=b["if"].compare;if(!c||0>c.indexOf(":"))return!1;switch(c.split(":")[0]){case "cookie":var g=c.split(":")[1],c=new z;c.setUseLocalStorage(!0);"janrainLastAuthMethod"===
g&&!zc&&(zc=ia);if(janrain.settings.multiDomainLocalStorage)c.getCookie(g,function(c){d&&"janrainLastAuthMethod"===g&&(bd=!0);xb(Pb(b["if"],c)?b.then:b["else"],a)});else{var d=c.getCookie(g);d&&"janrainLastAuthMethod"===g&&(bd=!0);xb(Pb(b["if"],d)?b.then:b["else"],a)}break;case "session":c=c.split(":")[1],"boolean"===typeof b["if"].to&&(b["if"].to+=""),"exists"===c&&xb(Pb(b["if"],!!ma+"")?b.then:b["else"],a)}}function Pb(b,a){var c=Rc(a)?parseInt(a,10):a,g,d=Rc(b.to)?parseInt(b.to,10):b.to;switch(b.withOperator){case "===":g=
d===c;break;case "!==":g=d!==c;break;case "==":g=d==c;break;case "!=":g=d!==c;break;case ">":g=c>d;break;case "<":g=c<d}return g}function xb(b,a){!b&&"function"===typeof a&&a();if(!b)return!1;if("undefined"===typeof b["if"]){if(b.render){var c=b.render.screen,g=n.screens[c];(new sa).setScreenData(c,g)}}else dc(b,a)}function mc(b){if(!b)return!1;"undefined"!==typeof janrain.settings.capture.hideSavedProfileMessageDelay&&setTimeout(function(){b&&(b.style.display="none")},janrain.settings.capture.hideSavedProfileMessageDelay)}
function jc(){for(var b="",a=[],c=0;10>c;c++)b=Nc(40),a.push(b);return a}function zb(b){if(!v(b))return!1;for(var a=b.length,c=0;c<a;c++){var g=b[c];-1===$c.indexOf(g)&&$c.push(g)}}function oa(){var b=$c.pop();0===$c.length&&zb(jc());-1===Ya.indexOf(b)&&Ya.push(b);return b}function Oa(b){var a=Ya.indexOf(b);-1<a&&Ya.splice(a,1);-1===ad.indexOf(b)&&ad.push(b)}function yb(b){var a=ad.indexOf(b);-1<a&&ad.splice(a,1);-1===xd.indexOf(b)&&xd.push(b)}function lc(b){if(b.status){aa[b.transactionId]=b;"success"===
b.status?(janrain.events.onCaptureSaveSuccess.fire(b),Lb&&!md?Lb="":md=!1):janrain.events.onCaptureSaveFailed.fire(b);if("reactivateAccount"===b.action&&b.statusMessage&&("accountReactivated"===b.statusMessage||"invalidReactivationCode"===b.statusMessage))"success"===b.status?janrain.events.onCaptureAccountReactivateSuccess.fire(b):janrain.events.onCaptureAccountReactivateFailed.fire(b);"deactivateAccount"===b.action&&b.statusMessage&&("success"===b.status&&"accountDeactivated"===b.statusMessage?
janrain.events.onCaptureAccountDeactivateSuccess.fire(b):janrain.events.onCaptureAccountDeactivateFailed.fire(b));if("emailCode"===b.action&&b.statusMessage&&("verified"===b.statusMessage||"invalidVerificationCode"===b.statusMessage))if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureEmailVerificationSuccess.fire(b),(b.accessToken||b.authorizationCode)&&janrain.settings.capture.federate&&b.sso&&b.ssoCode)b.fireEvent="onCaptureEmailVerificationSuccess",
ob[b.transactionId]=b,ba(b.ssoCode,b.transactionId)}else janrain.events.onCaptureEmailVerificationFailed.fire(b);if("emailCode"===b.action&&b.statusMessage&&("forgotPasswordCodeRedeemed"===b.statusMessage||"invalidForgotPasswordCode"===b.statusMessage))if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureForgotPasswordCodeSuccess.fire(b),(b.accessToken||b.authorizationCode)&&janrain.settings.capture.federate&&b.sso&&b.ssoCode)b.fireEvent="onCaptureForgotPasswordCodeSuccess",
ob[b.transactionId]=b,ba(b.ssoCode,b.transactionId)}else janrain.events.onCaptureForgotPasswordCodeFailed.fire(b);"profile"===b.action&&b.statusMessage&&"profileFound"!==b.statusMessage&&("success"===b.status?(U=!0,yd=(new Date).getTime(),janrain.events.onCaptureProfileSaveSuccess.fire(b)):janrain.events.onCaptureProfileSaveFailed.fire(b));if("traditionalSignin"===b.action||"socialSignin"===b.action||"ssoSignin"===b.action)if("success"===b.status){if(b.authorizationCode){var a=Jb(janrain.settings.capture.redirectUri,
{code:b.authorizationCode});b.redirectUri=a}if(b.accessToken||b.authorizationCode){if(!janrain.settings.capture.federate||!b.sso||!b.ssoCode)dd?dd=!1:janrain.events.onCaptureLoginSuccess.fire(b);("traditionalSignin"===b.action||"socialSignin"===b.action)&&Ba(b.action);janrain.settings.capture.federate&&b.sso&&b.ssoCode&&(b.fireEvent="onCaptureLoginSuccess",ob[b.transactionId]=b,ba(b.ssoCode,b.transactionId));janrain.settings.capture.federate&&b.ssoImplicitLogin&&(janrain.events.onCaptureFederateLogin.fire(b),
yb(b.transactionId),wb=!0)}b.authorizationCode&&janrain.settings.capture.redirectOnLogin&&(window.location=a)}else janrain.events.onCaptureLoginFailed.fire(b);if("traditionalRegister"===b.action||"socialRegister"===b.action)if("success"===b.status){if((!janrain.settings.capture.federate||!b.sso||!b.ssoCode)&&janrain.events.onCaptureRegistrationSuccess.fire(b),Hc&&(Hc=!1),b.accessToken||b.authorizationCode)"socialRegister"===b.action?Ba("socialSignin"):Ba("traditionalSignin"),janrain.settings.capture.federate&&
b.sso&&b.ssoCode&&(b.fireEvent="onCaptureRegistrationSuccess",ob[b.transactionId]=b,ba(b.ssoCode,b.transactionId))}else janrain.events.onCaptureRegistrationFailed.fire(b);"control"===b.action&&("success"===b.status?janrain.events.onCaptureControlSuccesss.fire(b):janrain.events.onCaptureControlFailed.fire(b));b.userData&&janrain.settings.capture.setProfileCookie&&(b=b.userData,a=va(),(new z).setExpirationDirectly(a).setUseLocalStorage(!0).setName("janrainCaptureProfileData").setValue(Q.stringify(b)).create(),
janrain.events.onCaptureProfileCookieSet.fire(b))}}function Qb(){if("object"!==typeof m)return!1;Ka.modalConfirmText&&m.setConfirmMessageText(Ka.modalConfirmText);Ka.modalConfirmLinkText&&m.setConfirmLinkText(Ka.modalConfirmLinkText);Ka.modalCancelLinkText&&m.setCancelLinkText(Ka.modalCancelLinkText)}function Ab(b){n=b;n.flow=janrain.settings.capture.flowName;"undefined"===typeof cd&&(cd=b);"object"!==typeof n.layouts&&(n.layouts={});"object"!==typeof n.layouts.captureAccessDeniedBuiltIn&&(n.layouts.captureAccessDeniedBuiltIn=
{});n.layouts.captureAccessDeniedBuiltIn.html=document.getElementById("captureAccessDeniedBuiltIn")?document.getElementById("captureAccessDeniedBuiltIn").innerHTML:Jc.accessDenied;"object"!==typeof n.layouts.captureRetrievingUserDataBuiltIn&&(n.layouts.captureRetrievingUserDataBuiltIn={});n.layouts.captureRetrievingUserDataBuiltIn.html=document.getElementById("captureRetrievingUserDataBuiltIn")?document.getElementById("captureRetrievingUserDataBuiltIn").innerHTML:Jc.retrievingUserData;for(b=0;b<Ec.length;b++)n.fields[Ec[b].field][Ec[b].attribute]=
Ec[b].value}function Rb(b,a){Sa(b.fields,function(c,g){if((!b.form||a)&&g.doNotPrePopulate)g.value=""})}function V(){Uc.push(arguments);if(window.console){var b=arguments;b.callee=b.callee.caller;b=[].slice.call(b);f?console.log(b):console.log.apply(console,b)}}function sa(){function b(b,a,p){a&&a.screenConditionals?xb(a.screenConditionals,p):"function"===typeof p&&p()}function a(b){janrain.events.onCaptureAccessDenied.fire();Nb=!0;od="accessDenied";e({layout:"captureAccessDeniedBuiltIn",modal:b.modal,
source:"server"})}function c(b){var a,p=oa();switch(b){case "email":(b=Na&&Na.verification_code?Na.verification_code:"")?(a=ua({capture_transactionId:p,verification_code:b}),jb("/widget/email_code.jsonp",a),Oa(p),V("need to verify "+b)):V("no code supplied");break;case "password":(b=Na&&Na.code?Na.code:"")?(V("need to verify "+b),a=ua({capture_transactionId:p,code:b}),jb("/widget/email_code.jsonp",a),Oa(p)):V("no code supplied");break;case "reactivate":(b=Na&&Na.reactivation_code?Na.reactivation_code:
"")?(V("need to verify "+b),a=ua({capture_transactionId:p,reactivation_code:b}),jb("/widget/reactivate_account.jsonp",a),Oa(p)):V("no code supplied")}}function g(b){b&&($b=b.validateOnRender);if(b&&"changePasswordLink"===b.dataType&&!b.errors)return c("password"),!1;if(b&&"verifyEmail"===b.dataType&&!b.errors)return c("email"),!1;if(b&&"reactivateAccount"===b.dataType&&!b.errors)return c("reactivate"),!1;var g=b.dataType&&"public"===b.dataType;if(b&&b.hasUserData&&!n.fused||b&&b.hasUserData&&g&&!n.privacyFiltered)return g=
b.dataType&&"public"===b.dataType,!ma&&!g?a(b):(Nb=!0,od="retrievingUserData",e({layout:"captureRetrievingUserDataBuiltIn",modal:b.modal,source:"server"}),kc(g)),h(),!1;if(!ma&&b&&b.requireAccessToken)return a(b),h(),!1;Nb=!1;e(b);h();bd&&(bd=!1,janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperienceSwitchAccountLink(!0))}function d(a,p){if(Db)setTimeout(function(){d(a,p)},50);else{p&&p.type&&"completeSocialRegistration"===p.type&&(dd=!0);if(Hb&&p&&(n.noModalForMobile||
p.noModalForMobile))p.modal=!1;if(Hb&&p&&(n.modalForMobile||p.modalForMobile))p.modal=!0;wb?(ia=a,P="capture_"+ia+"_",b(a,p,function(){g(p)})):setTimeout(function(){d(a,p)},50)}}function e(b){if(ca&&ca.div&&(!b.modal||ca.modal&&b.modal)&&!b.keepPreviousScreen)ca.div.style.display="none";var a=b.layout,p=b.source,c=b.modal,b=!!b.modalLoadOnLoad;if("server"===p){var g=document.getElementById(a);g||(g=document.createElement("div"),g.setAttribute("id",a));try{hc[a]?s.html=hc[a]:(s.html=n.layouts[a].html,
hc[a]=s.html)}catch(d){throw{name:"MissingLayoutError",message:"The json containing the layout template code for '"+a+"' is missing."};}}if("client"===p)try{if(g=document.getElementById(a))hc[a]?s.html=hc[a]:(s.html=g.innerHTML,hc[a]=s.html);else throw s.html="",F(a);}catch(H){throw V(H.name+": "+H.message,"warn"),Error("Exiting, please see documentation for setting up layouts.");}o(g).append("janrain-capture-ui").append("capture-ui-content").append("capture_screen_container");Hb&&(o(g).append("janrain-capture-ui-mobile"),
Ia.onOrientationChange.addHandler(function(b){o(g).append("janrain-capture-ui-mobile-"+b.orientation).remove("janrain-capture-ui-mobile-"+{portrait:"landscape",landscape:"portrait"}[b.orientation]);janrain.events.onCaptureContentChange.fire()}),Ia.onOrientationChange.fire({orientation:Ia.getOrientation()}));s.div=g;Nb||s.div.setAttribute("data-capturescreenname",ia);yc=s.div;s.modalLoadOnLoad=b;s.source=p;s.modal=c;ca=s;"undefined"===typeof Eb[ia]&&(Eb[ia]={});Eb[ia].layout=s}function f(b,a){if("object"===
typeof b.displayCondition&&"undefined"!==typeof b.displayConditionPassed&&!1===b.displayConditionPassed)return!1;if(b.close)return r.render.htmlElement.close(b);if("data"==b.element){if("string"===b.type)return r.render.data.stringData(b);if("image"===b.type)return r.render.data.imageData(b);if("engageCookie"===b.type)return r.render.data.engageCookieData(b)}if("multiRadio"==b.element)return r.render.htmlElement.multiRadio(b);if("multiCheckbox"==b.element)return r.render.htmlElement.multiCheckbox(b);
if("textarea"==b.element)return r.render.htmlElement.textarea(b);if("select"==b.element)return r.render.htmlElement.select(b);if("input"==b.element)return r.render.htmlElement.input(b);if("form"==b.element)return r.render.htmlElement.form(b);if("div"==b.element)return r.render.htmlElement.div(b);if("anchor"==b.element)return r.render.htmlElement.anchor(b);if("button"==b.element)return r.render.htmlElement.button(b);if("capture"==b.element){if("datePicker"==b.type)return r.render.captureElement.datePicker(b);
if("keepMeLoggedIn"==b.type)return r.render.captureElement.keepMeLoggedIn(b);if("countrySelect"==b.type)return r.render.captureElement.countrySelect(b);if("stateSelect"==b.type)return r.render.captureElement.stateSelect(b);if("publicProfileLink"==b.type)return r.render.captureElement.publicProfileLink(b,a);if("errorMessages"==b.type)return r.render.captureElement.errorMessages(b);if("savedProfileMessage"==b.type)return r.render.captureElement.savedProfileMessage(b);if("captcha"==b.type)return r.render.captureElement.captcha(b);
if("linkAccounts"==b.type)return r.render.captureElement.linkAccounts(b);if("mergeAccounts"==b.type)return r.render.captureElement.mergeAccounts(b,a);if("radioCollection"==b.type)return r.render.captureElement.collection.radio(b);if("tabCollection"==b.type)return r.render.captureElement.collection.tab(b);if("photoManager"==b.type)return r.render.captureElement.photoManager(b,a);if("dateselect_public"==b.type)return r.render.captureElement.dateselect_public(b);if("dateselect"==b.type)return r.render.captureElement.dateselect(b);
if("addressFull"==b.type)return r.render.captureElement.addressFull(b);if("addressFull_public"==b.type)return r.render.captureElement.addressFull_public(b);if("nameFull"==b.type)return r.render.captureElement.nameFull(b);if("nameFull_public"==b.type)return r.render.captureElement.nameFull_public(b);if("backButton"==b.type)return r.render.captureElement.backButton(b);if("partial"==b.type)return r.render.captureElement.partial(b,a);if("slider"==b.type)return r.render.captureElement.slider(b,a);if("table"==
b.type)return r.render.captureElement.table(b,a);if("pluralIterator"==b.type)return r.render.captureElement.pluralIterator(b);if("datetime_public"==b.type)return r.render.captureElement.datetime_public(b);if("newsletterSubscriptions"==b.type)return r.render.captureElement.newsletterSubscriptions(b)}return"widget"==b.element?r.render.widget[b.type](b,a):!1}function h(){Db=!0;janrain.events.onCaptureRenderStart.fire(n);Ma=[];n.fields.submitButton||(n.fields.submitButton={element:"input",type:"submit",
label:"",classes:["form_item"],name:"capture_submit",elementName:"capture_submit",value:"Submit"});n.fields.loginWidget||(n.fields.loginWidget={element:"widget",type:"login"});n.fields.shareWidget||(n.fields.shareWidget={element:"widget",type:"share"});n.fields.backButton||(n.fields.backButton={element:"capture",type:"backButton",name:"capture_back",value:""});n.fields.captcha||(n.fields.captcha={element:"capture",type:"captcha"});n.fields.keepMeLoggedIn||(n.fields.keepMeLoggedIn={element:"capture",
type:"keepMeLoggedIn"});n.fields.errorMessages||(n.fields.errorMessages={element:"capture",type:"errorMessages"});n.fields.savedProfileMessage||(n.fields.savedProfileMessage={element:"capture",type:"savedProfileMessage"});s.originalHtml=s.html;s.flow=n;s.html=i(s.html);s.div.innerHTML=s.html;if("server"==s.source){if(!document.getElementById("janrainCaptureWidget")){var b=document.createElement("div");b.id="janrainCaptureWidget";document.body.appendChild(b)}document.getElementById("janrainCaptureWidget").appendChild(s.div)}if(!Nb){for(var b=
0,a=Xa.length;b<a;b++)cb(document.getElementById(Xa[b]),!1);Xa=[]}k();l();if(0<janrain.events.onCssLoad.firedEvents.length)for(var b=janrain.events.onCssLoad.firedEvents,a=0,p=b.length;a<p;a++)"object"==typeof b&&b[a].args&&b[a].args.source&&-1==Xc.indexOf(b[a].args.source)&&b[a].event.fire(b[a].args);for(b=0;b<Ma.length;b++)a=document.getElementById(P+Ma[b].elementName),Ma[b].next&&Ma[b].next.type&&"server"===Ma[b].next.type?a.setAttribute("next",'{"noop":""}'):Ma[b].next?(Ma[b].next.conditional&&
a.setAttribute("next",Q.stringify(Ma[b].next)),Ma[b].next.screen&&a.setAttribute("next",Q.stringify(Ma[b].next)),Ma[b].next.url&&a.setAttribute("next",Q.stringify(Ma[b].next)),Ma[b].next.action&&a.setAttribute("next",Q.stringify(Ma[b].next))):a.setAttribute("next",'{"noop":""}');u();ca=s;janrain.events.onCaptureContentChange.fire()}function i(b){for(var a=/\{\*(.*?)\*\}/,p=/^\s*\/\s*/,c=/^\s*#\s*/,g=/\{(.*?)*\}\s*/,d=!1,H,e=[],h=[];H=a.exec(b);)try{var ea=H[1].trim();if(g.test(ea))var l=ea.match(g),
ea=ea.replace(l[0],"").trim(),j=l[0].match(/\{(.*?)*\}\s*/)[0];else j=null;d=!1;c.test(ea)&&(ea=ea.replace("#","").trim(),d=!0);if(p.test(ea)){var k=ea.replace("/",""),T={};if("undefined"==typeof n.fields[k])return V("No field definition for"+k,"error"),!1;T.element=n.fields[k].element;T.type=n.fields[k].type;T.close=!0}else{if("undefined"==typeof n.fields[ea])return V("No field definition named "+ea+" for tag "+H[0],"error"),!1;T=n.fields[ea];T.name=ea;d&&(T.start=!0);if("form"===T.element&&!T.transactionId){var m=
ed||oa();ed=null;T.transactionId=m}T.elementName=T.elementName||ea}var j=j||null,o=f(T,j);o||(o=" ");b=b.replace(H[0],o);(T.next||"form"===T.element&&!T.close)&&Ma.push({elementName:T.elementName,next:T.next});T.onclickHandler&&t.push({elementName:T.elementName,handler:T.onclickHandler,eventType:"click"});T.onchangeHandler&&t.push({elementName:T.elementName,handler:T.onchangeHandler,eventType:"change"});"string"===typeof T.element&&"form"===T.element&&!T.close&&(t.push({elementName:T.elementName,
handler:ga,eventType:"submit"}),janrain.settings.capture.autoSave&&!Hb&&t.push({elementName:T.elementName,handler:db,eventType:"render"}));if("form"===T.element&&("widget/traditional_register.jsonp"===T.action||"widget/social_register.jsonp"===T.action))h.push("widget/traditional_register.jsonp"===T.action?"traditionalRegister":"socialRegister");if("form"===T.element&&"widget/traditional_signin.jsonp"===T.action||"widget"===T.element&&"login"===T.type)e.push("widget/traditional_signin.jsonp"===T.action?
"traditionalSignin":"socialSignin")}catch(q){return V(q.name+": "+q.message,"error"),!1}e.length&&janrain.events.onCaptureLoginStart.fire({action:e.join(","),screen:ia});h.length&&janrain.events.onCaptureRegistrationStart.fire({action:h.join(","),screen:ia});return b}function l(){s.div.getAttribute("data-captureventadded")||(w(s.div,"click",function(b){var a=R(b);if(a&&a.nodeName&&"A"===a.nodeName){var p=a.getAttribute("data-capturecontrol");p&&(na(p),C(b));a.getAttribute("data-cancelcapturereturnexperience")&&
zc&&(janrain.capture.ui.setNoReturnExperience(),C(b));if((a=a.getAttribute("data-modalwindow"))&&"object"===typeof m)"close"===a&&(janrain.capture.ui.modal.close(),C(b)),"closeconfirm"===a&&(janrain.capture.ui.modal.closeConfirm(),C(b))}}),s.div.setAttribute("data-captureventadded",!0));for(var b=s.div.getElementsByTagName("img"),a=b.length,p=0;p<a;p++)w(b[p],"load",function(){janrain.events.onCaptureContentChange.fire()});b=ha(janrain.settings.capture.modalOpenClass||"capture_modal_open");a=b.length;
if(!da){for(p=0;p<a;p++)w(b[p],"click",function(b){"object"===typeof m?(janrain.capture.ui.renderScreen(ca.flow.defaultScreen),m.setShowContentOnLoad(!0).addContent(ca.div).show(),Mb=!1,janrain.events.onCaptureScreenShow.fire({screen:ia}),janrain.events.onCaptureContentChange.fire()):qc=!0;C(b)});da=!0}}function k(){if(n.cssDependencies&&v(n.cssDependencies))for(var b=0;b<n.cssDependencies.length;b++)j(n.cssDependencies[b]);$a&&eb&&!qd?janrain.events.onCssLoad.addHandler(function(b){s=ca;Xc.push(b.source);
for(b=0;b<$a;b++)if(-1==Xc.indexOf(nb[b]))return!1;qd||(q(),qd=!0)}):q();Db=!1;b={flow:n,renderingBuiltInScreen:Nb,screen:ia};Nb&&(b.builtInScreenRendered=od);janrain.events.onCaptureRenderComplete.fire(b);n.screens&&n.screens[ia]&&n.screens[ia].type&&"completeSocialRegistration"===n.screens[ia].type&&(Ja(ma),Ca(!0))}function q(){var b=!1,a=!1;if(s.modal){if("object"===typeof m){var b=!0,p=m.getContent();p&&document.body.appendChild(p);m.close(!0)}else m=new Tc,Qb();rc||(a=!0,janrain.events.onModalClose.addHandler(function(){n&&
n.mergeToken&&(n.mergeToken="")}),rc=!0);m=Ac(m);m.setShowContentOnLoad(!0).addContent(s.div);a&&janrain.events.onCaptureModalReady.fire();if(b||s.modalLoadOnLoad||qc||Mb)m.show(),Mb=!1,janrain.events.onCaptureScreenShow.fire({screen:ia})}else"object"===typeof m&&m.close(!0),Mb=!1,janrain.events.onCaptureScreenShow.fire({screen:ia});s.div.style.display="block";janrain.events.onCaptureContentChange.fire()}function u(b){for(var b=b||t,a=0;a<b.length;a++)if("function"===typeof b[a].handler)if("render"===
b[a].eventType)b[a].handler(P+b[a].elementName);else{var p=document.getElementById(P+b[a].elementName);w(p,b[a].eventType,b[a].handler)}t=[]}var s={},r;r=new E;Bc=new K;return{setScreenData:d,render:h,renderField:f,attachEventHandlers:u}}function Ob(b,a){for(var c=[],g=document.getElementById(b).getElementsByTagName("INPUT"),d=g.length,e=0;e<d;e++){var f={};f.id=g[e].id;f.placeholder=g[e].getAttribute("placeholder");if(ec||a)Ic[g[e].getAttribute("data-capturefield")]=g[e].value;f.value=f.placeholder?
f.placeholder===g[e].value?"":g[e].value:g[e].value;"radio"===g[e].type&&(f.type="radio",f.checked=g[e].checked);c.push(f)}return c}function kc(b,a){var c="function"===typeof a?a:function(){};if(b){var g=Cc||Na.uuid||"";Cc&&(Cc="");g?(V("need to get data for "+g),l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/public_profile.jsonp",elementId:"getPublicUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"},
{elementName:"uuid",elementType:"hidden",elementValue:g}]})):V("no uuid supplied")}else{if(!ma)return!1;l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",needsResponse:!0,callback:c,fields:[{elementName:"data_fetch",elementType:"hidden",elementValue:"true"}]})}}function jb(b,a,c){var g=-1<b.indexOf("?")?"&":"?",d=0===b.indexOf("http")?"":janrain.settings.capture.captureServer,e=[],f;for(f in a)a.hasOwnProperty(f)&&
e.push(f+"="+encodeURIComponent(a[f]));za(d+b+g+e.join("&"),c)}function Jb(b,a){var c=-1<b.indexOf("?")?"&":"?",g=[],d;for(d in a)a.hasOwnProperty(d)&&g.push(d+"="+encodeURIComponent(a[d]));return b+c+g.join("&")}function ub(b,a){var c={},g=b&&b.userData&&b.userData.migratedUserType?b.userData.migratedUserType:null,d=a?fc:Fc;vb&&!a&&(c.capture_social_registration=vb);ma&&a&&(c.capture_complete_social_registration=ma);sd&&(c.authProvider=sd);g&&(c.migratedUserType=g);Ca();c=Jb(d,c);window.location=
c}function pc(b,a){var c=!1,g;if("ok"===b.stat&&(g=b.result,g.accessToken&&g.oneTime&&(Lb=g.accessToken,md=!0),g.accessToken&&!g.oneTime&&s(g.accessToken),g&&lc(g),sd=g&&g.authProvider?g.authProvider:null,uc=g&&g.authProfileData?g.authProfileData:{},g&&g.screen&&n.screens&&n.screens[g.screen]&&n.screens[g.screen].type&&"completeSocialRegistration"===n.screens[g.screen].type&&hb(),"socialSignin"===g.action&&"success"===g.status&&"noUserForIdentifier"===g.statusMessage||"socialSignin"===g.action&&"success"===
g.status&&janrain.settings.capture.socialRegistrationRedirectUrlCondition)){var d=janrain.settings.capture.socialRegistrationRedirectUrlCondition;if(d){var e=[];Sa(d,function(b,a){g[b]===a||g.userData&&g.userData[b]===a?e.push(!0):e.push(!1)})}Fc&&"noUserForIdentifier"===g.statusMessage&&(c=!0,ub(g));fc&&d&&!x(e,!1)&&(c=!0,ub(g,!0))}"function"===typeof a&&!c&&a(g)}function Kc(b){function a(b){return'<li><a href="#" class="capture_suggestion">'+b+"</a></li>"}var b=b.result,d=c(b.submittedScreen),g=
n.fields[b.field],e=document.getElementById(d+(g.elementId||g.elementName)),f=b.alternatives,h=g.validation.messages.unique||"",i=document.getElementById(d+"form_item_"+g.elementName),j=new l.validation;j.setElement(e);j.setParentDiv(i);if(!1===b.unique){if(f){var f=f.map(a),k=function(b){var a=R(b);o(a).has("capture_suggestion")&&(e.value=a.innerHTML,bb(i,"click",k),j.valid(),C(b))};j.notValid(h+'<ul class="capture_suggestions">'+f.join("")+"</ul>",function(){w(i,"click",k)})}else j.notValid(h);
j.setUnique(!1)}else j.valid(),j.setUnique(!0)}function Lc(b){var a=[];n&&n.fields&&Sa(n.fields,function(c,g){g&&g.type&&g.type===b&&a.push(g)});return a}function nc(b,a){if("string"!==typeof b||!janrain.settings.capture.setProfileCookie)return!1;var c=new z,g;c.setUseLocalStorage(!0);if(janrain.settings.multiDomainLocalStorage)c.getCookie("janrainCaptureProfileData",function(c){c.length&&(g=Q.parse(c),"function"===typeof a&&"object"===typeof g&&a(g[b]))});else if((c=c.getCookie("janrainCaptureProfileData"))&&
c.length)if(g=Q.parse(c),"object"===typeof g)return g[b]}function k(b){var a=z();return x(["expected_tab","welcome_info_name","login_tab"],b)&&(b=a.getCookie(b))?unescape(b):""}function B(){var b=document.createElement("div");b.className="capture_btn capture_processing";b.innerHTML="Processing";return b}function Ac(b){var a=janrain.settings.capture.modalBorderWidth||10,c=janrain.settings.capture.modalBorderColor||"#000",g=janrain.settings.capture.modalBorderRadius||10,d=janrain.settings.capture.modalBorderOpacity||
0.5;b.setConfirmClose(!!janrain.settings.capture.confirmModalClose).setBorderColor(c).setBorder(a).setBorderOpacity(d).setBorderRadius(g);return b}function Cb(b){if("object"!==typeof m)m=new Tc,Qb();else{var a=m.getContent();a.style.display="none";a&&document.body.appendChild(a)}ca&&ca.modal&&Dc.push(ca);m=Ac(m);m.addContent(b).show();m.setHeight(Za(b).height);m.setWidth(Za(b).width).refresh({center:!0})}function Ub(b,a){n&&b&&a&&n.screens&&n.screens[b]&&n.screens[b].dataType&&"public"===n.screens[b].dataType?
(!n._uuid||n._uuid&&n._uuid!==a||!n.privacyFiltered?(Cc=a,n.fused=!1):Cc="",Mb=!0,janrain.capture.ui.renderScreen(b)):V("Cannot get public flow and show screen.")}var t=[],Bc,Db=!1,tb,ic=janrain.settings.capture.language||janrain.settings.language||"en-US",Ma=[],ia,Eb={},P,zc,bd=!1,$b,Dc=[],ca={},Ec=[],cd,Gb={},ec=janrain.settings.capture.mode13||!1,Fc=janrain.settings.capture.socialRegistrationRedirect,fc=janrain.settings.capture.socialRegistrationCompleteRedirect,dd=!1,Hc=!1,Ic={},ed,Mb=!1,ya,Nb=
!1,vb,Gc,Ib=!1,ma,wb=!1,Lb,md=!1,U=!1,qd=!1,n,Ka={},yc,ra,Vc=!1,G=!1,L=janrain.settings.capture.backplaneVersion||"1.2",Pc="1.2"===L+""?"backplane.js":"backplane"+L+".js",u=janrain.settings.capture.backplaneLibrary||"https://d134l0cdryxgwa.cloudfront.net/"+Pc,O=janrain.settings.capture.backplaneServerBaseUrl||"https://backplane1.janrainbackplane.com/v"+L,hc={},aa={},$c=[],Ya=[],ad=[],xd=[],eb=!1,J=janrain.settings.capture.accessTokenLifeHours||1,la="placeholder"in document.createElement("input"),
La=!1,Zc=!1,nd,m,qc=!1,da=!1,rc=!1,nb=[],$a=0,Xa=[],Ga="HEAD",sc=!1,Jc={},Qc=["accessDenied","retrievingUserData"],od,ib={},tc=!1,gc=0,Kb=[],pd=!1,Wc=!1,ob={},Yc=[],rd,td=Yb(window.location.href),Na=td.queryKey,Cc,sd,uc,vc="widget/traditional_register.jsonp,widget/traditional_signin.jsonp,widget/token_url.jsonp,widget/social_register.jsonp,widget/public_profile.jsonp,widget/recover_password.jsonp,widget/email_code.jsonp,widget/reactivate_account.jsonp".split(","),Xc=[],wd={};"en"===ic&&(ic="en-US");
Fc&&Na&&Na.capture_social_registration&&(vb=Na.capture_social_registration,Hc=!0);ib.publicPrivateTogglers=[];K.prototype.check=function(b,a,d){if(a.validation&&!0!==a.validation.noTrim&&"string"===typeof b.value&&("text"===b.type||"email"===b.type))b.value=b.value.trim();var a=a||n.fields[b.name],g=b.getAttribute("data-capturerendererchildfieldname"),g=g&&a.validation&&a.validation[g]?a.validation[g]:g&&"dateselect"!==a.type?!1:a.validation;if(!a.validation)return!0;a.validation.temp=g;if(!a.validation.temp)return!0;
a.validation.temp.messages||(a.validation.temp.messages={});if(!this.hasValue(b,a))return{valid:!1,reason:a.validation.temp.messages.required||"Field not completed"};if(!this.isDate(b,a))return{valid:!1,reason:a.validation.temp.messages.isDate||"Not a valid date"};if(!this.isValidMaxFileSize(b,a))return{valid:!1,reason:a.validation.temp.messages.maxFileSize||"File is too large"};if(!this.isValidFileType(b,a))return{valid:!1,reason:a.validation.temp.messages.validFileTypes||"File is not a valid file type"};
if(!this.isValidMinYears(b,a))return{valid:!1,reason:a.validation.temp.messages.minYears||"Not old enough",validation:{minYears:g.minYears}};if(!this.isValidMinLength(b,a))return{valid:!1,reason:a.validation.temp.messages.minLength||"Invalid length"};if(!this.isValidMaxLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxLength||"Invalid length"};if(!this.isValidMaxNumericLength(b,a))return{valid:!1,reason:a.validation.temp.messages.maxNumericLength||"Invalid number of numeric characters"};
if(!this.isValidFormat(b,a))return{valid:!1,reason:a.validation.temp.messages.format||"Invalid format"};if(!this.isValidMatch(b,a))return{valid:!1,reason:a.validation.temp.messages.match||"Invalid match"};g=this.custom(b,a);if(!g)return"undefined"===typeof g?{pending:!0}:{valid:!1,reason:a.validation.temp.messages.custom||"Invalid"};g=ja&&ja[b.id]&&"undefined"!==typeof ja[b.id].unique&&!1===ja[b.id].unique;return a.validation.temp.unique&&(!d||g)?(d=document.getElementById(c(b)+"form_item_"+b.getAttribute("name")),
this.isUnique(b,d,a,function(){}),{pending:!0}):{valid:!0}};K.prototype.custom=function(b,a){if(!a||!a.validation.temp.custom||"function"!==typeof Bd[a.validation.temp.custom])return!0;var d=new l.validation,g=document.getElementById(c(b)+"form_item_"+a.elementName);d.setParentDiv(g);d.setElement(b);return Bd[a.validation.temp.custom](b.name,b.value,d)};K.prototype.getRating=function(b){var b=b.value,a=[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/],c=0,g;g=Math.min(8,Math.floor(3*Math.log(b.length+1)));
for(var d=0;d<a.length;d++)a[d].test(b)&&c++;return g+=Math.floor(Math.pow(2,c)/2)};K.prototype.isValidMaxNumericLength=function(b,a){if(!a)return!0;var c=a.validation.temp.maxNumericLength;if(!c)return!0;var g=b.value.match(/(\d)/g);v(g)&&g.length>c&&a.validation.temp.actions&&a.validation.temp.actions.maxNumericLength&&Kb.push(a.validation.temp.actions.maxNumericLength);return v(g)?g.length<=c:!0};K.prototype.isValidMaxLength=function(b,a){var c=b.value;if(!a)return!0;var g=a.validation.temp.maxLength;
if(!g)return!0;c.length>g&&a.validation.temp.actions&&a.validation.temp.actions.maxLength&&Kb.push(a.validation.temp.actions.maxLength);return c.length<=g};K.prototype.isValidMinLength=function(b,a){var c=b.value;if(!a)return!0;var g=a.validation.temp.minLength;if(!g)return!0;c.length<g&&a.validation.temp.actions&&a.validation.temp.actions.minLength&&Kb.push(a.validation.temp.actions.minLength);return c.length>=g};K.prototype.isValidMaxFileSize=function(b,a){if(!window.File||!window.FileReader||!window.FileList||
!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.maxFileSize;return!c?!0:b.files[0].size<c};K.prototype.isValidFileType=function(b,a){if(!window.File||!window.FileReader||!window.FileList||!window.Blob||!a||"file"!==b.type)return!0;var c=a.validation.temp.validFileTypes;return!v(c)?!0:x(c,b.files[0].type)};K.prototype.isDate=function(b,a){if((!a||"dateselect"!==a.type)&&!a.validation.temp.isDate)return!0;var d=W(b,a);if(d)d=Od(d);else{if(!(d=a.validation.temp.required))var g=c(b),
d=document.getElementById(g+a.name+"_dateselectmonth"),d=d.options[d.selectedIndex].value,e=document.getElementById(g+a.name+"_dateselectday"),e=e.options[e.selectedIndex].value,g=document.getElementById(g+a.name+"_dateselectyear"),g=g.options[g.selectedIndex].value,d=!(!d&&!e&&!g);d=d?!1:!0}return d};K.prototype.isValidMinYears=function(b,a){if(!a||"dateselect"!==a.type)return!0;var c=W(b,a),d=a.validation.temp.minYears;if(!Od(c)||!d)return!0;var e=new Date,c=Math.abs(((new Date(c)).getTime()-e.getTime())/
864E5),c=Math.floor(c/365.242199);c>=d||a.validation.temp.actions&&a.validation.temp.actions.minYears&&Kb.push(a.validation.temp.actions.minYears);return c>=d};K.prototype.hasValue=function(b,a){var c;if("select"===a.element)c=b.options[b.selectedIndex].value;else if("checkbox"===a.type&&!("multiCheckbox"===a.element||"multiRadio"===a.element))c=b.checked;else if("multiCheckbox"===a.element||"multiRadio"===a.element)if(c=a.elementName){c=document.getElementsByName(c);for(var d=c.length,e=[],f=0;f<
d;f++)c[f].checked&&e.push(c[f]);c=e.length}else c=!1;else c=b.value;if(!a||!a.validation.temp.required)return!0;if("dateselect"===a.type)return c=W(b,a),!c?!1:!0;c||a.validation.temp.actions&&a.validation.temp.actions.required&&Kb.push(a.validation.temp.actions.required);return c};K.prototype.isUnique=function(b,a,c,d){a=b.form.getAttribute("data-capturefield");c=b.getAttribute("data-capturefield");b=ua({value:b.value,form:a,capture_screen:e(b),field:c});ma&&(b.access_token=ma);tb&&(b.flow_path=
tb);jb("/widget/unique.jsonp",b,d)};K.prototype.isBlacklisted=function(b,a,c){function d(){var a=b.value,c=response;if(!c||0===c.length)return!0;for(var p,g=0;g<c.length;g++)if(p=RegExp("^"+c[g]+"$","i"),p.test(a))return!0;return!1}captureUIBlacklistCallback=function(b){c(d(b))};v(a)?c(d(a)):"string"===typeof a?captureUIBlacklistCallback(["chad"]):c(!0)};K.prototype.isValidFormat=function(b,a){var c={alpha:/^[a-z]+$/i,numeric:/^(\d+)$/,numericReal:/^(\d+\.?\d*|\.\d+|\-\d+\.?\d*|\-\.\d+)$/,alphaExtended:/^[a-zA-Z\-']+$/,
alphaExtendedSpaces:/^[a-zA-Z\-'\s]+$/,alphaNumeric:/^[a-z0-9]+$/i,alphaNumericExtended:/^[a-z][-a-z0-9\s_.]*[a-z0-9]$/i,email:/^.+@(?:[^.]+\.)+(?:[^.]{2,})$/,zipCode:/^\d{5}$/,"zipCode+4":/^\d{5}(\-\d{4})?$/,phone:/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,phoneInternational:/^(\d{1,4}[-. ]?)?\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,i18nAlphaNumeric:/^[^-\s^`~!@#$%^&*()_=+\[{\]}\|;:\u2018\u201c,<.>/?]+$/};if(!a||!a.validation.temp.format)return!0;var d=a.validation.temp.format;
if("string"===typeof d&&c[d])d=c[d];else return!1;(c=d.test(b.value))||a.validation.temp.actions&&a.validation.temp.actions.format&&Kb.push(a.validation.temp.actions.format);return c};K.prototype.isValidMatch=function(b,a){if(!a)return!0;var d=a.validation.temp.match;if(!d)return!0;d=n.fields[d];d=c(b)+(d.elementId||d.elementName);d=document.getElementById(d);b.value!==d.value&&a.validation.temp.actions&&a.validation.temp.actions.match&&Kb.push(a.validation.temp.actions.match);return b.value===d.value};
var l={autoSelectPreferredTab:function(b,a){var c=Number(Na.capture_selected_tab);isNaN(c)||(c=b.collection[c])&&t.push({elementName:a+"_"+c.elementName,handler:function(b){var a=document.getElementById(b);setTimeout(function(){a.click()},0)},eventType:"render"})},attachFieldEventHandlers:function(b){b.type||(b.type="");var a=b.elementId||b.elementName;"password"===b.type&&(t.push({elementName:a,handler:l.togglePasswordInput,eventType:"click"}),t.push({elementName:a,handler:l.togglePasswordInput,
eventType:"focus"}),b.validation&&("function"===typeof b.validation.rating?t.push({elementName:a,handler:function(a){var a=Ra(a),c=Bc.getRating(a);b.validation.rating(a,c)},eventType:"keyup"}):b.validation.rating&&t.push({elementName:a,handler:function(b){b=Ra(b);b=Bc.getRating(b);V("Password Strength",b)},eventType:"keyup"})));if("text"===b.type||"password"===b.type||"email"===b.type)t.push({elementName:a,handler:l.clearPlaceHolder,eventType:"focus"}),t.push({elementName:a,handler:l.restorePlaceHolder,
eventType:"blur"});t.push({elementName:a,handler:function(b){b=R(b);c(b);(b=kd(b,"capture_form_item"))&&o(b).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()},eventType:"focus"});t.push({elementName:a,handler:function(b){b=R(b);c(b);(b=kd(b,"capture_form_item"))&&o(b).remove("capture_focused")},eventType:"blur"});b.validation&&t.push({elementName:a,handler:Ua,eventType:b.validation.eventType||"blur"});b.rendererFieldName&&b.rendererChildFieldName&&n.fields[b.rendererFieldName].validation&&
n.fields[b.rendererFieldName].validation[b.rendererChildFieldName]&&t.push({elementName:b.rendererFieldName+"_"+b.rendererChildFieldName,handler:Ua,eventType:"blur"})},attachModifyEventHandler:function(b){t.push({elementName:b.elementId||b.elementName,eventType:b.modify.event,handler:function(){var a=document.getElementById(b.modify.element),c=b.modify.attributes;if(c&&a)for(var d in c)c.hasOwnProperty(d)&&a.setAttribute(d,c[d])}})},wrapStringData:function(b,a,c){var d="",e=["capture_data_item"];
c&&e.push(c);d+=l.createDiv({elementId:"stringdata_"+b.name,classes:e});b.label&&(d+=l.createLabel({elementId:b.name,label:b.label,classes:["capture_data_label"]}));d+=l.createDiv({elementId:b.name,classes:["capture_data"]});return d+a+"</div></div>"},wrapFormItemStart:function(b){var a="",c=[],d=b.classes||[],e="elementCollection"===b.type?"form_collection":"form_item";if(b.justElement||"submit"===b.type||"button"===b.type)return"";-1===d.indexOf("capture_"+e)&&d.push("capture_"+e);b.errors&&-1===
d.indexOf("capture_error")&&!b.collection&&d.push("capture_error");!b.collection&&b.type&&-1===d.indexOf("capture_"+b.type)&&("checkbox"===b.type||"radio"===b.type?c.push("capture_"+b.type):d.push("capture_"+b.type));"elementCollection"===b.type&&b.displayInline&&-1===d.indexOf("capture_form_collection_inline")&&d.push("capture_form_collection_inline");b.collection?(-1===d.indexOf("capture_"+e+"_"+b.elementName)&&d.push("capture_"+e+"_"+b.elementName),b.checked&&d.push("capture_toggled"),a+=l.createDiv({elementName:e+
"_"+b.elementId,hide:b.hide,classes:d})):a+=l.createDiv({elementName:e+"_"+b.elementName,hide:b.hide,classes:d});if(("checkbox"===b.type||"radio"===b.type)&&!b.collection)a+=l.createDiv({elementName:e+"_inner_"+b.elementName,classes:c});return a},wrapFormItemEnd:function(b){return b.justElement||"submit"===b.type||"button"===b.type?"":"</div>"},createPublicPrivateToggle:function(b){function a(){for(var b=ib.publicPrivateTogglers,c=b.length,p=0;p<c;p++)b[p]&&(b[p].style.display="none");ib.publicPrivateTogglers=
[]}function d(a){var p=R(a),g=c(p),e=document.getElementById(g+"display_toggle_options_"+b.elementName),f=document.getElementById(g+"display["+(b.rendererFieldName||b.elementName)+"]"),H=document.getElementById(g+"display_indicator_public_"+b.elementName),h=document.getElementById(g+"display_indicator_private_"+b.elementName),i=g+"display_option_public_"+b.elementName,ea=g+"display_option_private_"+b.elementName;document.getElementById(g+"display_toggle_options_"+b.elementName);if(p.parentNode&&p.parentNode.id&&
(p.parentNode.id===i||p.parentNode.id===ea))p=p.parentNode;if(!p.id)return!1;p.id===i?(o(document.getElementById(i)).append("capture_checked"),o(document.getElementById(ea)).remove("capture_checked"),f.value="public",o(H).append("capture_toggled"),o(h).remove("capture_toggled")):(o(document.getElementById(i)).remove("capture_checked"),o(document.getElementById(ea)).append("capture_checked"),f.value="private",o(H).remove("capture_toggled"),o(h).append("capture_toggled"));pb&&pb(f);e.style.display=
"none";C(a)}var g;g=""+l.createDiv({classes:["capture_display_toggle_wrap"],elementId:"display_toggle_wrap_"+b.elementName});g+=l.createDiv({classes:["capture_display_toggle_options"],elementId:"display_toggle_options_"+b.elementName});var e=["capture_display_option"];b.displayPublic&&e.push("capture_checked");g+=l.createDiv({classes:e,elementId:"display_option_public_"+b.elementName});g+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';
e=["capture_display_option"];b.displayPublic||e.push("capture_checked");g+=l.createDiv({classes:e,elementId:"display_option_private_"+b.elementName});g+='<span class="janrain-icon-check janrain-icon-16"></span><span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>';e=["capture_display_toggle","capture_public"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic&&e.push("capture_toggled");g+=l.createDiv({classes:e,
elementId:"display_indicator_public_"+b.elementName});g+='&nbsp;<span class="capture_display_label">public</span> <span class="janrain-icon-unlocked janrain-icon-16"></span></div>';e=["capture_display_toggle","capture_private"];b.disablePublicPrivate&&e.push("capture_display_toggle_disabled");b.displayPublic||e.push("capture_toggled");g+=l.createDiv({classes:e,elementId:"display_indicator_private_"+b.elementName});g=g+'<span class="capture_display_label">private</span> <span class="janrain-icon-locked janrain-icon-16"></span></div></div>'+
l.createInput({type:"hidden",elementName:"display["+(b.rendererFieldName||b.elementName)+"]",value:b.displayPublic?"public":"private"});t.push({elementName:"display_toggle_wrap_"+b.elementName,eventType:"click",handler:function(d){var g=R(d),e=c(g),e=document.getElementById(e+"display_toggle_options_"+b.elementName),f="none"===e.style.display||""===e.style.display?"block":"none";g.parentNode&&o(g.parentNode).has("capture_display_toggle")&&(g=g.parentNode);o(g).has("capture_display_toggle")&&!o(g).has("capture_display_toggle_disabled")&&
("block"===f&&(a(),ib.publicPrivateTogglers.push(e)),e.style.display=f);C(d)}});t.push({elementName:"display_option_public_"+b.elementName,handler:d,eventType:"click"});t.push({elementName:"display_option_private_"+b.elementName,handler:d,eventType:"click"});sc||(w(document.body,"click",function(b){b=R(b);b.parentNode&&o(b.parentNode).has("capture_display_toggle")&&(b=b.parentNode);!o(b).has("capture_display_toggle")&&!o(b).has("capture_display_option")&&a()}),sc=!0);return g},createAnchor:function(b){var a=
"",c=b.fieldPrefix||P,d=b.elementId||b.elementName,e="object"===typeof b.elementAttributes?b.elementAttributes:{},f=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[];x(f,"capture_"+d)||f.push("capture_"+d);a=a+"<a "+("id='"+c+d+"' ");b.target&&(a+="target='"+b.target+"' ");a+="class='"+f.join(" ")+"' ";a+=Sc(e)+" ";a+="data-capturefield='"+b.name+"' ";a+="href='"+b.elementHref+"' ";a+="name='"+b.elementName+"' ";a+=">";b.elementText&&(a+=b.elementText);return a+"</a>"},createTextarea:function(b){var a=
"",c=b.fieldPrefix||P,d=b.elementId||b.elementName,e=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],f=b.rows||"5",a=a+l.createLabel(b);x(e,"capture_"+d)||e.push("capture_"+d);x(e,"capture_textarea")||e.push("capture_textarea");a=a+"<textarea "+("id='"+c+d+"' ")+("class='"+e.join(" ")+"' ");a+="data-capturefield='"+b.name+"' ";a=a+("rows='"+f+"' ")+("name='"+b.elementName+"' ");b.placeholder&&la&&(a+="placeholder='"+b.placeholder+"'");a+=">";b.value&&(a+=b.value);a+="</textarea>";b.publicPrivateToggle&&
(a+=l.createPublicPrivateToggle(b));return a+=l.createTip(b)},createTip:function(b){var a;a="<div class='capture_tip' ";b.tip||(a+="style='display:none;' ");a+=">"+("undefined"!==typeof b.tip?b.tip:"")+"</div>";a=a+"<div class='capture_tip_validating'"+(" data-elementName='"+b.elementName+"'>");a=a+"Validating</div><div class='capture_tip_error'"+(" data-elementName='"+b.elementName+"'>");b.errors&&v(b.errors)&&(a+=b.errors.join(" "),janrain.events.onCaptureServerValidationFailed.fire(b));return a+
"</div>"},createLabel:function(b,a){var c,d=b.fieldPrefix||P,e=b.elementId||b.elementName;if(!b.label)return a?a:"";c="<label ";"elementCollection"!==b.type&&(c+=" for='"+d+e+"'");c+=">";a&&(c+=a);b.label&&(c+=b.label);return c+"</label>"},createSelect:function(b){var a="",d=b.fieldPrefix||P,g=b.rendererFieldName,e=b.rendererChildFieldName,h,i=b.justElement,j=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],k=b.elementId||b.elementName;x(j,"capture_"+k)||j.push("capture_"+k);x(j,"capture_select")||
j.push("capture_select");a+=l.createLabel(b);a=a+'<span class="capture_select_arrow"><select '+("id='"+d+k+"' ")+("class='"+j.join(" ")+"' ");g&&(a+="data-capturerendererfield='"+g+"' ");b.showFieldWhere&&(a+='data-showFieldWhere="'+b.showFieldWhere+'" ');e&&(a+="data-capturerendererchildfieldname='"+e+"' ");a+="data-capturefield='"+b.name+"' ";a+="name='"+b.elementName+"' ";a+=">";g=b.options||[];e=g.length;for(j=0;j<e;j++){var m=g[j],o=m.value||""===m.value?m.value:m.text,a=a+('<option value="'+
o+'"');m.disabled&&(a+=' disabled="true"');v(m.showField)&&(a+=' data-showField="'+m.showField.join(",")+'"');o===b.value&&(a+=' selected="selected"',h=m.showField);a+=">"+m.text+"</option>"}a+="</select></span>";b.publicPrivateToggle&&(a+=l.createPublicPrivateToggle(b));i||(a+=l.createTip(b));t.push({handler:function(){h&&y(h,b.showFieldWhere,d)},eventType:"render"});t.push({elementName:k,handler:function(b){var b=R(b),a=c(b),d=b.getElementsByTagName("option")[b.selectedIndex].getAttribute("data-showField"),
p=b.getAttribute("data-showFieldWhere");d&&d.length&&(d=d.split(","));f&&9>f&&pb&&pb(b);y(d,p,a)},eventType:"change"});return a},createButton:function(b){var a="",c=b.fieldPrefix||P,d=b.elementId||b.elementName,e=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],f=b.type?b.type:"submit";x(e,"capture_"+d)||e.push("capture_"+d);x(e,"capture_btn")||e.push("capture_btn");x(e,"capture_primary")||e.push("capture_primary");a+="<button ";b.hide&&(a+="style='display:none' ");a=a+("id='"+c+d+"' ")+
("class='"+e.join(" ")+"' ");a=a+("type='"+f+"' ")+("data-capturefield='"+b.name+"' ");b.value&&(a+="value='"+b.value+"' ");a+="name='"+b.elementName+"' ";a+=">";b.elementContent&&(a+=b.elementContent);a+="</button>";b.modify&&l.attachModifyEventHandler(b);return a},createInput:function(b){var a="",c="",d=b.fieldPrefix||P,e=b.elementId||b.elementName,f=b.elementClasses&&v(b.elementClasses)?b.elementClasses:[],h="object"===typeof b.elementAttributes?b.elementAttributes:{},i="button"===b.type||"submit"===
b.type||"checkbox"===b.type||"radio"===b.type||"hidden"===b.type,j=b.justElement||b.collection||"hidden"===b.type||"button"===b.type||"submit"===b.type,k="password"===b.type&&!la&&b.placeholder?"text":b.type,m=("checkbox"===b.type&&!b.collection||"radio"===b.type&&!b.collection)&&!b.justElement,o=b.rendererFieldName,n=b.rendererChildFieldName,q=$b&&!b.collection;x(f,"capture_"+e)||f.push("capture_"+e);i||(c+=l.createLabel(b));a+="<input ";b.hide&&(a+="style='display:none' ");a=a+("id='"+d+e+"' ")+
(Sc(h)+" ");"text"===b.type||"email"===b.type||"password"===b.type||"file"===b.type?x(f,"capture_text_input")||f.push("capture_text_input"):"checkbox"===b.type||"radio"===b.type?x(f,"capture_input_"+b.type)||f.push("capture_input_"+b.type):"submit"===b.type&&(x(f,"capture_btn")||f.push("capture_btn"),x(f,"capture_primary")||f.push("capture_primary"));a+="data-capturefield='"+b.name+"' ";b.collection&&(a+="data-capturecollection='true' ");o&&(a+="data-capturerendererfield='"+o+"' ");n&&(a+="data-capturerendererchildfieldname='"+
n+"' ");("checkbox"===b.type||"radio"===b.type)&&b.elementValue?a+="value='"+b.elementValue+"' ":b.value?(h=b.value,b.displaySavedValue&&Ic[b.value]&&(h=Ic[b.value],"password"===b.type&&(k="password")),("password"===b.type||"text"===b.type||"email"===b.type)&&!b.errors&&q&&Xa.push(d+e),a+="value='"+h+"' "):b.placeholder&&!la?(a+="value='"+b.placeholder+"' ",x(f,"capture_input_placeholder")||f.push("capture_input_placeholder")):a+="value='' ";a=a+("type='"+k+"' ")+("class='"+f.join(" ")+"' ");b.placeholder&&
(a+="placeholder='"+b.placeholder+"' ");if(b.checked||b.elementValue&&b.value===b.elementValue)a+="checked='checked' ";a+="name='"+b.elementName+"' ";a+="/>";c="checkbox"===b.type||"radio"===b.type?c+l.createLabel(b,a):c+a;b.modify&&l.attachModifyEventHandler(b);b.publicPrivateToggle&&(c+=l.createPublicPrivateToggle(b));m&&(c+="</div>");j||(c+=l.createTip(b));return c},createDiv:function(b){var a="<div ",c=b.fieldPrefix||P,d=b.elementId||b.elementName,e="object"===typeof b.elementAttributes?b.elementAttributes:
{},f=b.classes||[];x(f,"capture_"+d)||f.push("capture_"+d);a+="id='"+c+d+"'";if("option"===b.type&&!b["default"]||b.hide)a+=" style='display:none'";"radioCollection"===b.type&&f.push("radio_set");v(f)&&f.length&&(a=a+' class="'+f.join(" ").replace(/\[/g,"_").replace(/\]/g,"_"),a+='" ');a+=Sc(e)+" ";a+="data-capturefield='"+b.name+"' ";a+=">";b.elementText&&(a+=b.elementText);b.closeDiv&&(a+="</div>");return a},createImage:function(b){var a,c=b.fieldPrefix||P,d=b.classes||[],e=b.elementId||b.imageId||
b.elementName||"";a="<img "+('src="'+b.src+'"');e&&!x(d,"capture_"+e)&&d.push("capture_"+e);b.hide&&(a+=" style='display:none'");b.alt&&(a+=" alt='"+b.alt+"'");"undefined"!==typeof b.width&&(a+=" width='"+b.width+"'");"undefined"!==typeof b.height&&(a+=" height='"+b.height+"'");e&&(a+=' id="'+c+b.imageId+'" ');v(d)&&d.length&&(a=a+'class="'+d.join(" "),a+='" ');return a+"/>"},domHelpers:{createIFrame:function(b,a){var c,d="captureIFrame_"+b;if(document.getElementById(d))return!1;if(wd[a]&&(c=document.getElementById(wd[a])))c=
"div"==c.parentNode.tagName.toLowerCase()?c.parentNode:c,Fb(c);wd[a]=d;if(f){c="";var e=document.createElement("div");e.innerHTML=c+"<iframe "+('name="'+d+'" ')+('data-transactionId="'+b+'" ')+('id="'+d+'" ')+'src="about:blank" style="display: none;"></iframe>';document.body.appendChild(e)}else c=document.createElement("iframe"),c.setAttribute("name",d),c.setAttribute("data-transactionId",b),c.id=d,c.setAttribute("src","about:blank"),c.style.display="none",c.className="",document.body.appendChild(c)},
createAnchor:function(b){var a=b.fieldPrefix||P,c=document.createElement("a");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!x(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);c.setAttribute("href",b.elementHref);c.innerHTML=b.elementText;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createDiv:function(b){var a=b.fieldPrefix||P,c=document.createElement("div");if(!b.classes||b.classes&&!v(b.classes))b.classes=
[];b.elementId&&!x(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createImage:function(b){var a=b.fieldPrefix||P,c=document.createElement("img");if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!x(b.classes,a+b.elementId)&&b.classes.push(a+b.elementId);b.alt&&c.setAttribute("alt",b.alt);"undefined"!==typeof b.width&&c.setAttribute("width",b.width);"undefined"!==
typeof b.height&&c.setAttribute("height",b.height);c.src=b.elementSrc;b.elementId&&(c.id=a+b.elementId);c.className=b.classes.join(" ");b.hideElement&&(c.style.display="none");return c},createInput:function(b){var a=document.createElement("input"),c=b.fieldPrefix||P,d="object"===typeof b.elementAttributes?b.elementAttributes:{},e=b.containerDivClasses||[],f;"submit"===b.elementType&&b.containerDiv&&(f=this.createDiv({elementName:b.elementName+"_containverDiv",classes:e}));if(!b.classes||b.classes&&
!v(b.classes))b.classes=[];for(var h in d)d.hasOwnProperty(h)&&a.setAttribute(h,d[h]);b.elementId&&!x(b.classes,c+b.elementId)&&b.classes.push(c+b.elementId);b.elementType&&a.setAttribute("type",b.elementType);b.name&&a.setAttribute("data-capturefield",b.name);b.elementValue&&(a.value=b.elementValue);b.elementName&&(a.name=b.elementName);b.elementId&&(a.id=c+b.elementId);b.hideElement&&(a.style.display="none");a.className=b.classes.join(" ");return f?(f.appendChild(a),f):a},createForm:function(b){b.transactionId||
(b.transactionId=oa());var a=b.transactionId,d=b.captureScreen||ia,g=c(d),e=document.createElement("form"),f=v(b.fields)?b.fields:[],h=f.length;l.domHelpers.createIFrame(a,g+b.elementId);b.needsResponse&&A(a);if(!b.classes||b.classes&&!v(b.classes))b.classes=[];b.elementId&&!x(b.classes,g+b.elementId)&&b.classes.push(g+b.elementId);e.id=g+b.elementId+"_"+a;e.className=b.classes.join(" ");e.setAttribute("target","captureIFrame_"+a);e.setAttribute("data-transactionId",a);b.name&&e.setAttribute("data-capturefield",
b.name);e.setAttribute("action",b.elementAction);e.setAttribute("method","POST");e.setAttribute("data-capturedomelement","true");b.validate&&e.setAttribute("data-capturedomelementvalidate","true");e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:"\u2713",elementName:"utf8"}));n&&n.mergeToken&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:n.mergeToken,elementName:"merge_token",elementId:"merge_token_"+a}));ra&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:g,elementValue:ra,elementName:"bp_channel",elementId:"bp_channel_"+a}));tb&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:tb,elementName:"flow_path",elementId:"flow_path_"+a}));if(Lb)e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:Lb,elementName:"access_token",elementId:"access_token_"+a}));else{var i=b.elementAction.substring(janrain.settings.capture.captureServer.length+1,b.elementAction.length);b&&b.elementAction&&
!x(vc,i)&&ma&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:ma,elementName:"access_token",elementId:"access_token_"+a}))}ia&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:d,elementName:"capture_screen",elementId:"screen_"+a}));mb&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:mb,elementName:"js_version",elementId:"js_version_"+a}));b.serverNextScreen&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",
fieldPrefix:g,elementValue:b.serverNextScreen,elementName:"serverNextScreen",elementId:"serverNextScreen_"+a}));b.engageTokenRequired&&e.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:vb,fieldPrefix:g,elementName:"token",elementId:"token_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",elementValue:a,fieldPrefix:g,elementName:"capture_transactionId",elementId:"transactionId_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,
elementValue:b.name,elementName:"form",elementId:"form_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:n.flow,elementName:"flow",elementId:"flow_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementName:"client_id",elementId:"client_id_"+a,elementValue:janrain.settings.capture.clientId}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementName:"redirect_uri",elementId:"redirect_uri_"+
a,elementValue:janrain.settings.capture.redirectUri}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:janrain.settings.capture.responseType,elementName:"reponse_type",elementId:"response_type_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:Ga,elementName:"flow_version",elementId:"flow_version_"+a}));e.appendChild(l.domHelpers.createInput({elementType:"hidden",fieldPrefix:g,elementValue:ic,elementName:"locale",
elementId:"locale_"+a}));for(d=0;d<h;d++)switch(a=f[d],a.elementType){case "div":a.fieldPrefix=a.fieldPrefix||g;e.appendChild(l.domHelpers.createDiv(a));break;case "anchor":a.fieldPrefix=a.fieldPrefix||g;e.appendChild(l.domHelpers.createAnchor(a));break;case "hidden":a.fieldPrefix=a.fieldPrefix||g;e.appendChild(l.domHelpers.createInput(a));break;case "file":a.fieldPrefix=a.fieldPrefix||g;e.setAttribute("enctype","multipart/form-data");e.appendChild(l.domHelpers.createInput(a));break;case "submit":a.fieldPrefix=
a.fieldPrefix||g,e.appendChild(l.domHelpers.createInput(a))}l.domHelpers.createFormHandler(e,b);return e},createFormHandler:function(b,a){"function"===typeof a.callback&&(b.setAttribute("next",'{"function":"'+a.elementId+'"}'),Gb[a.elementId]=a.callback);w(b,"submit",ga)},createFormAndPost:function(b){var a=b.fieldPrefix||P,c=oa();b.fieldPrefix=b.fieldPrefix||a;b.transactionId=c;var d=l.domHelpers.createForm(b),a=l.domHelpers.createInput({elementType:"submit",elementName:"formpost_"+c,fieldPrefix:a,
elementId:"createFormAndPostSubmit_"+c,elementValue:"submit",hideElement:!0});d.appendChild(a);document.body.appendChild(d);l.domHelpers.createFormHandler(d,b);a.click()}},createListOfLinks:function(b,a){var c=b.fieldPrefix||P,d;optionsLength=b.length;d="<ul";v(a)&&a.length&&(d=d+' class="'+a.join(" "),d+='"');d+=">";for(var e=0;e<optionsLength;e++){d+="<li";"string"===typeof b[e].listItemId&&(d+=' id="'+c+b[e].listItemId+'" ');b[e].hide&&(d+=' style="display: none;" ');if(!b[e].listItemClasses||
!v(b[e].listItemClasses))b[e].listItemClasses=[];"string"===typeof b[e].listItemId&&!x(b[e].listItemClasses,"capture_"+b[e].listItemId)&&b[e].listItemClasses.push("capture_"+b[e].listItemId);v(b[e].listItemClasses)&&b[e].listItemClasses.length&&(d+=' class="',d+=b[e].listItemClasses.join(" "),d+='"');d+=">";d+='<a href="'+b[e].anchorHref+'"';"string"===typeof b[e].anchorId&&(d+=' id="'+c+b[e].anchorId+'" ');if(!b[e].anchorClasses||!v(b[e].anchorClasses))b[e].anchorClasses=[];"string"===typeof b[e].anchorId&&
!x(b[e].anchorClasses,"capture_"+b[e].anchorId)&&b[e].anchorClasses.push("capture_"+b[e].anchorId);v(b[e].anchorClasses)&&b[e].anchorClasses.length&&(d+=' class="',d+=b[e].anchorClasses.join(" "),d+='"');d+=">";d+=b[e].anchorText;d+="</a>";d+="</li>"}return d+"</ul>"},togglePasswordInput:function(b){var b=Ra(b),a=b.getAttribute("data-capturefield"),a=n&&n.fields&&a?n.fields[a]:"",d=c(b);if(a&&!a.placeholder)return!1;b.getAttribute("value")===b.getAttribute("placeholder")&&b.setAttribute("value","");
if(f&&"text"===b.type){for(var a=[],e=0,h=t.length;e<h;e++)d+t[e].elementName==b.id&&(t[e].elementName=t[e].elementName,a.push(t[e]));d=document.createElement("span");e=b.parentElement;e.insertBefore(d,b);e.removeChild(b);h=document.createElement("input");h.id=b.id;h.setAttribute("data-capturefield",b.name);h.className="capture_password capture_text_input";h.name=b.name;h.setAttribute("type","password");e.insertBefore(h,d);e.removeChild(d);sa().attachEventHandlers(null,a);h.focus()}else b.setAttribute("type",
"password")},clearPlaceHolder:function(b){if(la)return!0;b="value"in b?b:Ra(b);b.value===b.getAttribute("placeholder")&&(f?b.value="":b.setAttribute("value",""),o(b).remove("capture_input_placeholder"))},restorePlaceHolder:function(b){if(la)return!0;var b="value"in b?b:Ra(b),a=b.getAttribute("placeholder");if(!a)return!1;"password"===b.getAttribute("type")&&""===b.value&&b.setAttribute("type","text");a&&""===b.value&&(f?b.value=a:b.setAttribute("value",a),o(b).append("capture_input_placeholder"))},
validation:function(){function b(b){e=b;ja[a.id||a.name].status=e}var a,d,e,f,h;return{getElement:function(){return a},getParentDiv:function(){return d},getState:function(){return e},getValidation:function(){return h},setState:function(a){b(a)},setUnique:function(b){f=b;ja[a.id||a.name].unique=f},setValidation:function(b){h=b},setParentDiv:function(b){(d=b)&&d.className.split(" ")},setElement:function(b){a=b;d&&d.className.split(" ")},valid:function(c){c||o(d).append("capture_validated");o(d).remove("capture_validating").remove("capture_error");
b("valid");c={};a&&(c.field=a);janrain.events.onCaptureValidationSuccess.fire(c);janrain.events.onCaptureContentChange.fire()},pending:function(){b("pending");o(d).append("capture_validating").remove("capture_validated").remove("capture_error");janrain.events.onCaptureContentChange.fire()},notValid:function(e,g){b("invalid");if(e){if("noValidationMessage"!==e){o(d).append("capture_error").remove("capture_validated");for(var f,i=c(d),j=d.getElementsByTagName("div"),k=j.length,l=0;l<k;l++)if("capture_tip_error"===
j[l].className){var m=0===d.id.indexOf(i+"form_collection_")?i+"form_collection_":i+"form_item_";if(d.id.split(m)[1]===j[l].getAttribute("data-elementName")||d.id.split(m)[1]+"[dateselect_year]"===j[l].getAttribute("data-elementName")){f=j[l];break}}f&&(f.innerHTML=e)}"function"===typeof g&&g();janrain.events.onCaptureContentChange.fire()}f={};a&&(f.field=a);f.message=e;f.parentDiv=d;h&&(f.validation=h);janrain.events.onCaptureValidationFailed.fire(f)}}}},ud={createSelect:l.createSelect,createTextarea:l.createTextarea,
createAnchor:l.createAnchor,createInput:l.createInput,createLabel:l.createLabel,createDiv:l.createDiv,createImage:l.createImage,createListOfLinks:l.createListOfLinks,toggelPassword:l.togglePasswordInput,clearPlaceHolder:l.clearPlaceHolder,restorePlaceHolder:l.restorePlaceHolder,getElementByEventAttribute:Ra};E.prototype.render={data:{engageCookieData:function(b){return k(b.cookieName)},stringData:function(b){if("undefined"!==typeof b.displayPublic&&!1===b.displayPublic)return"";var a="",c,a=n.fields&&
n.fields[b.value]?n.fields[b.value]:"";b.displaySavedValue&&(c=a&&a.type&&"password"===a.type);c=b.displaySavedValue&&Ic[b.value]&&(!c||c&&ec)?Ic[b.value]:b.value;return a=b.justString?c:l.wrapStringData(b,c)},imageData:function(b){var a;b.value&&(b.returnImageTag?(a={elementName:b.elementname,hide:b.hide,src:b.value},b.classes&&(a.classes=b.classes),b.elementId&&(a.elementId=b.elementId),a=l.createImage(a)):a=b.value);return a}},htmlElement:{parent:E.prototype.render,anchor:function(b){return b=
""+l.createAnchor(b)},textarea:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createTextarea(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},select:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createSelect(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},multi:function(b,a){var d="",e,f=v(b.value)?b.value:"string"===typeof b.value?b.value.split(","):[],h=b.options.length,i=0;for(e=f.length;i<e;i++)f[i]=f[i].toString();b.type="elementCollection";d+=l.wrapFormItemStart(b);
d+=l.createLabel(b);for(i=0;i<h;i++)e=b.options[i],e.value="undefined"===typeof e.value?"":e.value.toString(),e.label="undefined"===typeof e.label?"":e.label.toString(),e.value=e.value||e.label,e.label=e.label||e.value,d+=this.input({elementName:b.elementName,type:a,elementId:b.elementName+"_"+e.value+"_"+i,name:b.name,value:e.value,collection:!0,label:e.label,checked:x(f,e.value)}),t.push({elementName:b.elementName+"_"+e.value+"_"+i,handler:function(a,d){return function(){for(var e=c(this),g=document.getElementById(e+
"form_collection_"+b.elementName),g=ha("capture_form_item_"+b.elementName,g),e=document.getElementById(e+"form_item_"+b.elementName+"_"+a+"_"+d),p=0,f=g.length;p<f;p++)o(g[p]).remove("capture_toggled");e&&o(e).append("capture_toggled")}}(e.value,i),eventType:"click"});d+=l.createTip(b);return d+=l.wrapFormItemEnd(b)},multiCheckbox:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},multiRadio:function(b){return this.multi(b,b.element.split("multi")[1].toLowerCase())},input:function(b){var a;
a=""+l.wrapFormItemStart(b);a+=l.createInput(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},button:function(b){var a;a=""+l.wrapFormItemStart(b);a+=l.createButton(b);a+=l.wrapFormItemEnd(b);l.attachFieldEventHandlers(b);return a},form:function(b){var a="<form ",c="object"===typeof b.elementAttributes?b.elementAttributes:{},d=b.localFieldPrefix||P,e=b.classes||[];e.indexOf("capture_form"===-1)&&e.push("capture_form");e.indexOf(-1==="capture_"+b.elementName)&&e.push("capture_"+b.elementName);
a+="id='"+d+b.elementName+"' ";a+=Sc(c)+" ";a+="name='"+b.elementName+"' ";a+="data-capturefield='"+b.name+"' ";a+="action='"+janrain.settings.capture.captureServer+"/"+b.action+"' ";v(e)&&(a+="class='"+e.join(" ")+"' ");var a=a+"method='POST' novalidate='novalidate' "+("data-transactionId='"+b.transactionId+"' "),a=a+("target='captureIFrame_"+b.transactionId+"' "),a=a+"accept-charset='UTF-8' >"+('<div id="'+d+b.elementName+'_defaultSavedProfileMessage"></div>'),a=a+('<div id="'+d+b.elementName+'_errorMessages"></div>'),
f="";if(b.errors){janrain.events.onCaptureFormError.fire(b.errors);for(var h in b.errors)b.errors.hasOwnProperty(h)&&(f+=l.createDiv({elementId:"formerror_"+(new Date).getTime(),classes:["capture_form_error"]}),f+=b.errors[h]+"</div>")}t.push({handler:function(){A(b.transactionId)},eventType:"render"});t.push({handler:function(){var a=document.getElementById(d+b.elementName);if(!a)return!1;var c=ha("capture_form_error_container",a),c=c.length?c[0]:document.getElementById(d+b.elementName+"_errorMessages");
f?(c.innerHTML=f,o(a).append("capture_form_level_error")):c.innerHTML=""},eventType:"render"});if(janrain.settings.capture.dataDefaults&&"object"===typeof janrain.settings.capture.dataDefaults){var c=janrain.settings.capture.dataDefaults,i;for(i in c)c.hasOwnProperty(i)&&(a+=l.createInput({elementName:i,type:"hidden",value:c[i]}))}a+=l.createInput({elementName:"utf8",type:"hidden",value:"\u2713"});ra&&(a+=l.createInput({elementName:"bp_channel",elementId:"bp_channel"+b.transactionId,type:"hidden",
value:ra}));tb&&(a+=l.createInput({elementName:"flow_path",elementId:"flow_path_"+b.transactionId,type:"hidden",value:tb}));n&&n.mergeToken&&(a+=l.createInput({elementName:"merge_token",elementId:"merge_token_"+b.transactionId,type:"hidden",value:n.mergeToken}));Lb?a+=l.createInput({elementName:"access_token",elementId:"accessToken_"+b.transactionId,classes:["capture_accessToken"],type:"hidden",value:Lb}):b&&b.action&&!x(vc,b.action)&&ma&&(a+=l.createInput({elementName:"access_token",elementId:"accessToken_"+
b.transactionId,classes:["capture_accessToken"],type:"hidden",value:ma}));ia&&(a+=l.createInput({elementName:"capture_screen",elementId:"screen_"+b.transactionId,type:"hidden",value:ia}));mb&&(a+=l.createInput({elementName:"js_version",elementId:"js_version_"+b.transactionId,type:"hidden",value:mb}));b.serverNextScreen&&(a+=l.createInput({elementName:"serverNextScreen",elementId:"serverNextScreen_"+b.transactionId,type:"hidden",value:b.serverNextScreen}));if(b.engageTokenRequired||Hc)a+=l.createInput({elementName:"token",
elementId:"token_"+b.transactionId,type:"hidden",value:vb});a+=l.createInput({elementName:"capture_transactionId",elementId:"transactionId_"+b.transactionId,type:"hidden",value:b.transactionId});a+=l.createInput({elementName:"form",elementId:"form_"+b.transactionId,type:"hidden",value:b.name});a+=l.createInput({elementName:"flow",elementId:"flow_"+b.transactionId,type:"hidden",value:n.flow});a+=l.createInput({elementName:"client_id",elementId:"client_id_"+b.transactionId,type:"hidden",value:janrain.settings.capture.clientId});
a+=l.createInput({elementName:"redirect_uri",elementId:"redirect_uri_"+b.transactionId,type:"hidden",value:janrain.settings.capture.redirectUri});a+=l.createInput({elementName:"response_type",elementId:"response_type_"+b.transactionId,type:"hidden",value:janrain.settings.capture.responseType});a+=l.createInput({elementName:"flow_version",elementId:"flow_version_"+b.transactionId,type:"hidden",value:Ga});a+=l.createInput({elementName:"locale",elementId:"locale_"+b.transactionId,type:"hidden",value:ic});
l.domHelpers.createIFrame(b.transactionId,d+b.elementName);return a},div:function(b){return l.createDiv(b)},close:function(b){return"capture"===b.element?"photoManager"===b.type?"</div>":"":"</"+b.element+">"}},captureElement:{table:function(b){var a='<table class="capture_table">',c=E.prototype.render.htmlElement;if(b.th.display){var a=a+"<tr>",d;for(d in b.th.cols)a+="<th>"+b.th.cols[d]+"</th>";a+="</tr>"}for(var e in b.rows){var a=a+"<tr>",f;for(f in b.rows[e].cells)b.rows[e].cells[f].type&&"radio"===
b.rows[e].cells[f].type?(d=b.rows[e].cells[f],d.name="table",b.value&&d.elementValue===b.value[d.rendererChildFieldName]&&(d.checked=!0),a+="<td>",a+=l.wrapFormItemStart(b),a+=c.input(d),a+=l.wrapFormItemEnd(b),a+="</td>"):a+="<td>"+b.rows[e].cells[f]+"</td>";a+="</tr>"}return a+"</table>"},countrySelect:function(b){b.options=[{text:"country",value:"",disabled:!0},{text:"United States",value:"United States"},{text:"APO/FPO/DPO",value:"APO/FPO/DPO"},{text:"Canada",value:"Canada"},{text:"United Kingdom",
value:"United Kingdom"},{text:"Afghanistan",value:"Afghanistan"},{text:"Albania",value:"Albania"},{text:"Algeria",value:"Algeria"},{text:"American Samoa",value:"American Samoa"},{text:"Andorra",value:"Andorra"},{text:"Angola",value:"Angola"},{text:"Anguilla",value:"Anguilla"},{text:"Antigua and Barbuda",value:"Antigua and Barbuda"},{text:"Argentina",value:"Argentina"},{text:"Armenia",value:"Armenia"},{text:"Aruba",value:"Aruba"},{text:"Australia",value:"Australia"},{text:"Austria",value:"Austria"},
{text:"Azerbaijan Republic",value:"Azerbaijan Republic"},{text:"Bahamas",value:"Bahamas"},{text:"Bahrain",value:"Bahrain"},{text:"Bangladesh",value:"Bangladesh"},{text:"Barbados",value:"Barbados"},{text:"Belarus",value:"Belarus"},{text:"Belgium",value:"Belgium"},{text:"Belize",value:"Belize"},{text:"Benin",value:"Benin"},{text:"Bermuda",value:"Bermuda"},{text:"Bhutan",value:"Bhutan"},{text:"Bolivia",value:"Bolivia"},{text:"Bosnia and Herzegovina",value:"Bosnia and Herzegovina"},{text:"Botswana",value:"Botswana"},
{text:"Brazil",value:"Brazil"},{text:"British Virgin Islands",value:"British Virgin Islands"},{text:"Brunei Darussalam",value:"Brunei Darussalam"},{text:"Bulgaria",value:"Bulgaria"},{text:"Burkina Faso",value:"Burkina Faso"},{text:"Burundi",value:"Burundi"},{text:"Cambodia",value:"Cambodia"},{text:"Cameroon",value:"Cameroon"},{text:"Cape Verde Islands",value:"Cape Verde Islands"},{text:"Cayman Islands",value:"Cayman Islands"},{text:"Central African Republic",value:"Central African Republic"},{text:"Chad",
value:"Chad"},{text:"Chile",value:"Chile"},{text:"China",value:"China"},{text:"Colombia",value:"Colombia"},{text:"Comoros",value:"Comoros"},{text:"Congo, Democratic Republic of the",value:"Congo, Democratic Republic of the"},{text:"Congo, Republic of the",value:"Congo, Republic of the"},{text:"Cook Islands",value:"Cook Islands"},{text:"Costa Rica",value:"Costa Rica"},{text:"Cote d Ivoire (Ivory Coast)",value:"Cote d Ivoire (Ivory Coast)"},{text:"Croatia, Republic of",value:"Croatia, Republic of"},
{text:"Cyprus",value:"Cyprus"},{text:"Czech Republic",value:"Czech Republic"},{text:"Denmark",value:"Denmark"},{text:"Djibouti",value:"Djibouti"},{text:"Dominica",value:"Dominica"},{text:"Dominican Republic",value:"Dominican Republic"},{text:"Ecuador",value:"Ecuador"},{text:"Egypt",value:"Egypt"},{text:"El Salvador",value:"El Salvador"},{text:"Equatorial Guinea",value:"Equatorial Guinea"},{text:"Eritrea",value:"Eritrea"},{text:"Estonia",value:"Estonia"},{text:"Ethiopia",value:"Ethiopia"},{text:"Falkland Islands (Islas Malvinas)",
value:"Falkland Islands (Islas Malvinas)"},{text:"Fiji",value:"Fiji"},{text:"Finland",value:"Finland"},{text:"France",value:"France"},{text:"French Guiana",value:"French Guiana"},{text:"French Polynesia",value:"French Polynesia"},{text:"Gabon Republic",value:"Gabon Republic"},{text:"Gambia",value:"Gambia"},{text:"Georgia",value:"Georgia"},{text:"Germany",value:"Germany"},{text:"Ghana",value:"Ghana"},{text:"Gibraltar",value:"Gibraltar"},{text:"Greece",value:"Greece"},{text:"Greenland",value:"Greenland"},
{text:"Grenada",value:"Grenada"},{text:"Guadeloupe",value:"Guadeloupe"},{text:"Guam",value:"Guam"},{text:"Guatemala",value:"Guatemala"},{text:"Guernsey",value:"Guernsey"},{text:"Guinea",value:"Guinea"},{text:"Guinea-Bissau",value:"Guinea-Bissau"},{text:"Guyana",value:"Guyana"},{text:"Haiti",value:"Haiti"},{text:"Honduras",value:"Honduras"},{text:"Hong Kong",value:"Hong Kong"},{text:"Hungary",value:"Hungary"},{text:"Iceland",value:"Iceland"},{text:"India",value:"India"},{text:"Indonesia",value:"Indonesia"},
{text:"Ireland",value:"Ireland"},{text:"Israel",value:"Israel"},{text:"Italy",value:"Italy"},{text:"Jamaica",value:"Jamaica"},{text:"Jan Mayen",value:"Jan Mayen"},{text:"Japan",value:"Japan"},{text:"Jersey",value:"Jersey"},{text:"Jordan",value:"Jordan"},{text:"Kazakhstan",value:"Kazakhstan"},{text:"Kenya",value:"Kenya"},{text:"Kiribati",value:"Kiribati"},{text:"Korea, South",value:"Korea, South"},{text:"Kuwait",value:"Kuwait"},{text:"Kyrgyzstan",value:"Kyrgyzstan"},{text:"Laos",value:"Laos"},{text:"Latvia",
value:"Latvia"},{text:"Lebanon",value:"Lebanon"},{text:"Liechtenstein",value:"Liechtenstein"},{text:"Lithuania",value:"Lithuania"},{text:"Luxembourg",value:"Luxembourg"},{text:"Macau",value:"Macau"},{text:"Macedonia",value:"Macedonia"},{text:"Madagascar",value:"Madagascar"},{text:"Malawi",value:"Malawi"},{text:"Malaysia",value:"Malaysia"},{text:"Maldives",value:"Maldives"},{text:"Mali",value:"Mali"},{text:"Malta",value:"Malta"},{text:"Marshall Islands",value:"Marshall Islands"},{text:"Martinique",
value:"Martinique"},{text:"Mauritania",value:"Mauritania"},{text:"Mauritius",value:"Mauritius"},{text:"Mayotte",value:"Mayotte"},{text:"Mexico",value:"Mexico"},{text:"Micronesia",value:"Micronesia"},{text:"Moldova",value:"Moldova"},{text:"Monaco",value:"Monaco"},{text:"Mongolia",value:"Mongolia"},{text:"Montenegro",value:"Montenegro"},{text:"Montserrat",value:"Montserrat"},{text:"Morocco",value:"Morocco"},{text:"Mozambique",value:"Mozambique"},{text:"Namibia",value:"Namibia"},{text:"Nauru",value:"Nauru"},
{text:"Nepal",value:"Nepal"},{text:"Netherlands",value:"Netherlands"},{text:"Netherlands Antilles",value:"Netherlands Antilles"},{text:"New Caledonia",value:"New Caledonia"},{text:"New Zealand",value:"New Zealand"},{text:"Nicaragua",value:"Nicaragua"},{text:"Niger",value:"Niger"},{text:"Nigeria",value:"Nigeria"},{text:"Niue",value:"Niue"},{text:"Norway",value:"Norway"},{text:"Oman",value:"Oman"},{text:"Pakistan",value:"Pakistan"},{text:"Palau",value:"Palau"},{text:"Panama",value:"Panama"},{text:"Papua New Guinea",
value:"Papua New Guinea"},{text:"Paraguay",value:"Paraguay"},{text:"Peru",value:"Peru"},{text:"Philippines",value:"Philippines"},{text:"Poland",value:"Poland"},{text:"Portugal",value:"Portugal"},{text:"Puerto Rico",value:"Puerto Rico"},{text:"Qatar",value:"Qatar"},{text:"Romania",value:"Romania"},{text:"Russian Federation",value:"Russian Federation"},{text:"Rwanda",value:"Rwanda"},{text:"Saint Helena",value:"Saint Helena"},{text:"Saint Kitts-Nevis",value:"Saint Kitts-Nevis"},{text:"Saint Lucia",value:"Saint Lucia"},
{text:"Saint Pierre and Miquelon",value:"Saint Pierre and Miquelon"},{text:"Saint Vincent and the Grenadines",value:"Saint Vincent and the Grenadines"},{text:"San Marino",value:"San Marino"},{text:"Saudi Arabia",value:"Saudi Arabia"},{text:"Senegal",value:"Senegal"},{text:"Serbia",value:"Serbia"},{text:"Seychelles",value:"Seychelles"},{text:"Sierra Leone",value:"Sierra Leone"},{text:"Singapore",value:"Singapore"},{text:"Slovakia",value:"Slovakia"},{text:"Slovenia",value:"Slovenia"},{text:"Solomon Islands",
value:"Solomon Islands"},{text:"Somalia",value:"Somalia"},{text:"South Africa",value:"South Africa"},{text:"Spain",value:"Spain"},{text:"Sri Lanka",value:"Sri Lanka"},{text:"Suriname",value:"Suriname"},{text:"Svalbard",value:"Svalbard"},{text:"Swaziland",value:"Swaziland"},{text:"Sweden",value:"Sweden"},{text:"Switzerland",value:"Switzerland"},{text:"Tahiti",value:"Tahiti"},{text:"Taiwan",value:"Taiwan"},{text:"Tajikistan",value:"Tajikistan"},{text:"Tanzania",value:"Tanzania"},{text:"Thailand",value:"Thailand"},
{text:"Togo",value:"Togo"},{text:"Tonga",value:"Tonga"},{text:"Trinidad and Tobago",value:"Trinidad and Tobago"},{text:"Tunisia",value:"Tunisia"},{text:"Turkey",value:"Turkey"},{text:"Turkmenistan",value:"Turkmenistan"},{text:"Turks and Caicos Islands",value:"Turks and Caicos Islands"},{text:"Tuvalu",value:"Tuvalu"},{text:"Uganda",value:"Uganda"},{text:"Ukraine",value:"Ukraine"},{text:"United Arab Emirates",value:"United Arab Emirates"},{text:"Uruguay",value:"Uruguay"},{text:"Uzbekistan",value:"Uzbekistan"},
{text:"Vanuatu",value:"Vanuatu"},{text:"Vatican City State",value:"Vatican City State"},{text:"Venezuela",value:"Venezuela"},{text:"Vietnam",value:"Vietnam"},{text:"Virgin Islands (U.S.)",value:"Virgin Islands (U.S.)"},{text:"Wallis and Futuna",value:"Wallis and Futuna"},{text:"Western Sahara",value:"Western Sahara"},{text:"Western Samoa",value:"Western Samoa"},{text:"Yemen",value:"Yemen"},{text:"Zambia",value:"Zambia"},{text:"Zimbabwe",value:"Zimbabwe"}];return E.prototype.render.htmlElement.select(b)},
stateSelect:function(b){var a=[{text:"state",value:"",disabled:!0}],a=b.noCanadianProvinces?a.concat(Yd):a.concat(Yd,je);b.options=a;return E.prototype.render.htmlElement.select(b)},keepMeLoggedIn:function(b){var a=b.fieldPrefix||P,b=""+l.createInput({label:b.label||"Keep me logged in",type:"checkbox",name:b.name,justElement:!0,value:"yes",checked:b.checked||!1,elementName:"capture_keep_me_logged_in"});t.push({elementName:"capture_keep_me_logged_in",handler:function(){loggedInElement=document.getElementById(a+
"capture_keep_me_logged_in");loggedInElement.checked?janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},!0)},eventType:"render"});t.push({elementName:"capture_keep_me_logged_in",handler:function(b){R(b).checked?janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!0},!0):janrain.engage.signin.appendTokenParams({keepMeLoggedIn:!1},!0)},eventType:"click"});return b},captcha:function(b){var a="http:"===document.location.protocol?
"http://www.google.com/recaptcha/api/js/recaptcha_ajax.js":"https://www.google.com/recaptcha/api/js/recaptcha_ajax.js";tc||za(a,function(){tc=!0});t.push({elementName:b.name,handler:function(){function b(){if("undefined"===typeof Recaptcha)setTimeout(b,20);else{if(!janrain.settings.capture.recaptchaPublicKey)throw Error("missing recaptcha public key setting");Recaptcha.create(janrain.settings.capture.recaptchaPublicKey,"recaptcha_container",{theme:"clean",callback:function(){janrain.events.onCaptureContentChange.fire()}})}}
b()},eventType:"render"});a=""+l.wrapFormItemStart(b);b.label&&(a+=l.createLabel(b));a=a+'<div id="recaptcha_container"></div>'+l.createTip(b);return a+=l.wrapFormItemEnd(b)},mergeAccounts:function(b,a){var a=a?Q.parse(a):{custom:!1},c=E.prototype.render,d=b.value,e="";d.existing_provider="legacy"===d.existing_provider?"email":d.existing_provider;b.customText||(b.customText={});var f=b.customText.connectRadio||'Connect this session with your existing account <span class="capture_smallText">Enables you to sign in with either <span class="capture_capitalize">{| current_provider |}</span> or <span class="capture_capitalize">{| existing_provider |}</span> in the future.</span><span class="capture_recommended capture_smallText">Recommended</span>',
h=b.customText.connectLegacyRadio||'Connect this session with your existing account <span class="capture_smallText">You will need to sign in to your existing account to claim it.</span><span class="capture_recommended capture_smallText">Recommended</span>',i=b.customText.createRadio||"Create a new account using Google sign-in.",j=b.customText.foundExistingAccount||"We found an existing account for <b>{| current_emailAddress |}</b>",l=b.customText.moreInfoHover||'You\u2019re seeing this screen because on {| existing_createdDate |} you registered at {| existing_siteName |} with your <span class="capture_capitalize">{| existing_provider |}</span> account ({| existing_displayName |}).',
k=b.customText.moreInfo||"More Info ?",m=b.customText.createButton||"Create",n=b.customText.connectButton||"Connect";d.connectRadioText=X(d,f);d.connectLegacyRadioText=X(d,h);d.createRadioText=X(d,i);d.foundExistingAccountText=X(d,j);d.moreInfoHoverText=X(d,l);d.moreInfoText=X(d,k);d.createButtonText=X(d,m);d.connectButtonText=X(d,n);d.connect_button=c.htmlElement.button({elementContent:'<span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+d.existing_provider.toLowerCase()+
'"></span><span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-'+d.current_provider.toLowerCase()+'"></span>'+n,elementName:b.name+"_connectButton",name:b.name+"_connectButton",element:"button",type:"button"});d.create_button=c.htmlElement.button({elementContent:m,hide:!0,elementName:b.name+"_createButton",name:b.name+"_createButton",element:"button",type:"submit"});d.merge_radio=c.htmlElement.multiRadio({element:"multiRadio",value:[1],elementName:b.name+"_mergeRadio",
classes:["capture_form_collection_merge_radioButtonCollection"],options:[{label:"email"===d.existing_provider?X(d,h):X(d,f),value:1},{label:i,value:2}]});d.rendered_current_photo=d.current_photo?'<img src="'+d.current_photo+'" height="25" width="25" />':"";d.rendered_existing_provider_photo=d.existing_provider_photo?'<div class="capture_icon_col"><img src="'+d.existing_provider_photo+'" height="25" width="25" /></div>':"";d.current_provider_lowerCase=d.current_provider.toLowerCase();d.existing_provider_lowerCase=
d.existing_provider.toLowerCase();a.custom?t.push({handler:function(){var a=document.getElementById(b.name);a.innerHTML=X(d,a.innerHTML)},eventType:"render"}):e+=X(d,'<div id="capture_mergeAccounts_mergeAccounts_mergeOptionsContainer" class="capture_mergeAccounts_mergeOptionsContainer">     <div class="capture_header">         <div class="capture_icon_col">             {| rendered_current_photo |}         </div>         <div class="capture_displayName_col">             {| current_displayName |}<br />             {| current_emailAddress |}          </div>         <span class="capture_mergeProvider janrain-provider-icon-32 janrain-provider-icon-{| current_provider_lowerCase |}"></span>     </div>     <div class="capture_dashed">         <div class="capture_mergeCol capture_centerText capture_left">             <p class="capture_bigText">{| foundExistingAccountText |}</b>.</p>             <div class="capture_hover">                 <div class="capture_popup_container">                     <span class="capture_popup-arrow"></span>{| moreInfoHoverText |}                 </div>                 {| moreInfoText |}             </div>         </div>         <div class="capture_mergeCol capture_mergeExisting_col capture_right">             <div class="capture_shadow capture_backgroundColor capture_border">                 {| rendered_existing_provider_photo |}                 <div class="capture_displayName_col">                     {| existing_displayName |}<br />                     {| existing_provider_emailAddress |}                 </div>                 <span class="capture_mergeProvider janrain-provider-icon-16 janrain-provider-icon-{| existing_provider_lowerCase |} "></span>                 <div class="capture_centerText capture_smallText">Created {| existing_createdDate |} at {| existing_siteName |}</div>             </div>         </div>     </div>     {| merge_radio |}     <div class="capture_footer">         {| connect_button |}         {| create_button |}     </div> </div>');
t.push({elementName:b.name+"_connectButton",handler:function(){"email"===d.existing_provider?(janrain.capture.ui.renderScreen(b.traditionalMergeScreen),janrain.events.onCaptureContentChange.fire()):(Zc=!0,janrain.engage.signin.setCustom(!0),janrain.engage.signin.triggerFlow(d.existing_provider),janrain.engage.signin.setCustom(!1))},eventType:"click"});t.push({elementName:b.name+"_createButton",handler:function(){Fc?ub():(Gc=null,janrain.apps.capture.ui.renderScreen(janrain.settings.capture.mergeFlow||
janrain.settings.capture.registerFlow||"socialRegister"))},eventType:"click"});t.push({elementName:b.name+"_mergeRadio_1_0",handler:function(){document.getElementById(P+b.name+"_connectButton").style.display="";document.getElementById(P+b.name+"_createButton").style.display="none";o(document.getElementById(P+"form_item_"+b.name+"_mergeRadio_1_0")).append("capture_toggled");o(document.getElementById(P+"form_item_"+b.name+"_mergeRadio_2_1")).remove("capture_toggled")},eventType:"click"});t.push({elementName:b.name+
"_mergeRadio_2_1",handler:function(){document.getElementById(P+b.name+"_connectButton").style.display="none";document.getElementById(P+b.name+"_createButton").style.display="";o(document.getElementById(P+"form_item_"+b.name+"_mergeRadio_2_1")).append("capture_toggled");o(document.getElementById(P+"form_item_"+b.name+"_mergeRadio_1_0")).remove("capture_toggled")},eventType:"click"});return e},publicProfileLink:function(a,c){var d="",e=c?Q.parse(c).elementHref:a.elementHref;a.elementAttributes="object"===
typeof a.elementAttributes?a.elementAttributes:{};a.addUUIDToLink&&(a.elementAttributes["data-captureuseruuid"]=a.value);a.elementHref=e+"?uuid="+a.value;a.elementText=a.elementText||"Public Profile";return d+=l.createAnchor(a)},linkAccounts:function(a){function c(d,e,g){var f;f='<li class="capture_provider_linked"><span class="'+("janrain-provider-icon-"+r+" janrain-provider-icon-"+d+(a.customIcons?"-custom":"")+'">');f+='</span><span class="';var p=a.displayFormat?X({provider:d,displayName:e},a.displayFormat):
d;e&&"null"!=e.toLowerCase()&&a.displayFormatKnown&&(p=X({provider:d,displayName:e},a.displayFormatKnown));f+="janrain-provider-text-"+d+(a.customIcons?"-custom":"")+'">'+p+"</span>";if(pd||0!==u)f+='<span tabindex="0" class="capture_remove janrain-icon-ex janrain-icon-16 capture_remove_linkedaccount" data-captureprovider="'+d+'" data-captureidentifier="'+g+'"></span>';return f+"</li>"}function d(c){var p=R(c);if(o(p).has("capture_remove_linkedaccount")){var h=p.getAttribute("data-captureidentifier");
l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/profile.jsonp",elementId:"getUserData_form",fieldPrefix:q,captureScreen:e,needsResponse:!0,callback:function(){var c=p.getAttribute("data-captureprovider");janrain.events.onCaptureProfileUnlink.fire({provider:c});if(a.customAddLinks){var d=p.parentNode,e=document.createElement("li");e.className="capture_custom_add_linkedaccount";e.setAttribute("data-captureprovider",c);e.innerHTML=X({provider:c},a.customAddLinkFormat);
d&&d.parentNode?d.parentNode.insertBefore(e,d):document.getElementById(f+a.name+"_linkedproviderlist").appendChild(e)}Fb(p.parentNode)},fields:[{elementName:"identifier[]",elementType:"hidden",elementValue:h},{elementName:"identifier_to_remove",elementType:"hidden",elementValue:h}]})}C(c)}a.value||(a.value={});a.customText||(a.customText={});var e=ia,f=a.fieldPrefix||P,h='<div class="capture_linkAccounts" id="'+f+a.name+'_currentlinkedaccounts">',i=n.fields[a.linkAccountContainer].elementName||n.fields[a.linkAccountContainer].name||
a.linkAccountContainer,j=a.customText.linkAnotherAccount||"Link Another Account",k=v(a.value.providers)?a.value.providers.length:0,m=f+a.name+"_linkaccountsscreen",q=f,r=a.providerIconSize&&x(ie,a.providerIconSize)?a.providerIconSize:16,s=E.prototype.render,h=h+('<ul class="capture_provider" id="'+f+a.name+'_linkedproviderlist">');if(!a.customAddLinks)for(var u=0;u<k;u++)h+=c(a.value.providers[u],a.value.displayNames[u],a.value.identifiers[u]);if(a.customAddLinks){u=0;for(j=a.customProviders.length;u<
j;u++)x(a.value.providers,a.customProviders[u])?(k=a.value.providers.indexOf(a.customProviders[u]),h+=c(a.value.providers[k],a.value.displayNames[k],a.value.identifiers[k])):(h+='<li tabindex="0" class="capture_custom_add_linkedaccount" data-captureprovider="'+a.customProviders[u]+'">',h+=X({provider:a.customProviders[u]},a.customAddLinkFormat)+"</li>");var w=function(a){a=R(a);a=jd(a,"li");o(a).has("capture_custom_add_linkedaccount")&&(a=a.getAttribute("data-captureprovider"),janrain.engage&&janrain.engage.signin&&
janrain.engage.signin.setNoReturnExperience(!0),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:e},!0),janrain.engage&&janrain.engage.signin&&janrain.engage.signin.triggerFlow(a))};t.push({elementName:a.name+"_linkedproviderlist",handler:w,eventType:"click"});t.push({elementName:a.name+"_linkedproviderlist",handler:function(a){a.keyCode===Qa&&w(a)},eventType:"keypress"})}else h+='<li class="capture_linkAccount"><a href="#" id="'+f+a.name+
'_linknewlink">'+j+"</a></li>";h+="</ul></div>";t.push({elementName:a.name+"_linknewlink",handler:function(a){janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);janrain.engage&&janrain.engage.signin&&janrain.engage.signin.appendTokenParams({linkAccounts:!0,currentScreen:e},!0);Cb(document.getElementById(m));C(a)},eventType:"click"});t.push({elementName:a.name+"_currentlinkedaccounts",handler:function(a){a.keyCode===Qa&&d(a)},eventType:"keypress"});t.push({elementName:a.name+
"_currentlinkedaccounts",handler:d,eventType:"click"});h=h+'<div style="display: none;">'+('<div id="'+m+'"')+' class="janrain-capture-ui capture-ui-content capture_addLinkedAccount';Hb&&(h+=" janrain-capture-ui-mobile");h+='">';ca&&ca.modal&&(h+=s.captureElement.backButton({element:"capture",type:"backButton",elementName:"backButton",name:"backButton",value:""}));h+='<div  id="'+f+a.name+'_linkAccountContainerContainer">';h+="</div></div></div>";a.customAddLinks||t.push({handler:function(){var c=
document.getElementById(f+i);document.getElementById(f+a.name+"_linkAccountContainerContainer").appendChild(c)},eventType:"render"});return h},errorMessages:function(){var a;a=""+E.prototype.render.htmlElement.div({elementName:"placed_error_container_"+(new Date).getTime(),classes:["capture_form_error_container"]});return a+"</div>"},savedProfileMessage:function(){var a;a=""+E.prototype.render.htmlElement.div({elementName:"placed_profileSaved_container_"+(new Date).getTime(),hide:!0,classes:["capture_save_success",
"capture_profileSavedMessage_container"]});return a+"</div>"},nameFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c="",c="";a.value.firstname&&(c+=a.justString?a.value.firstname+" ":'<span class="capture_stringdata_nameBlock_firstname">'+a.value.firstname+"</span> ");a.value.middlename&&(c+=a.justString?a.value.middlename+" ":'<span class="capture_stringdata_nameBlock_middlename">'+a.value.middlename+"</span> ");a.value.lastname&&(c+=a.justString?
a.value.lastname:'<span class="capture_stringdata_nameBlock_lastname">'+a.value.lastname+"</span>");return c=a.justString?c:l.wrapStringData(a,c,"capture_stringdata_nameBlock")},nameFull:function(a){var c,d=E.prototype.render.htmlElement;c='<div class="capture_form_item capture_nameBlock">'+d.input({elementName:a.name+"[firstname]",elementId:a.name+"_firstname",elementClasses:["capture_nameFull_firstName"],label:"Name",type:"text",rendererChildFieldName:"firstname",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,
displayPublic:a.displayPublic,value:a.value&&a.value.firstname?a.value.firstname:"",placeholder:a.placeholder&&a.placeholder.firstname?a.placeholder.firstname:""});c+=d.input({elementName:a.name+"[middlename]",elementId:a.name+"_middlename",elementClasses:["capture_nameFull_middleName"],type:"text",rendererChildFieldName:"middlename",rendererFieldName:a.name,value:a.value&&a.value.middlename?a.value.middlename:"",placeholder:a.placeholder&&a.placeholder.middlename?a.placeholder.middlename:""});c+=
d.input({elementName:a.name+"[lastname]",elementClasses:["capture_nameFull_lastName"],elementId:a.name+"_lastname",type:"text",rendererFieldName:a.name,rendererChildFieldName:"lastname",value:a.value&&a.value.lastname?a.value.lastname:"",placeholder:a.placeholder&&a.placeholder.lastname?a.placeholder.lastname:""});return c+"</div>"},dateselect_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic||!a.value||!a.value.dateselect_month||!a.value.dateselect_year||!a.value.dateselect_day)return"";
var c="",c="",d,c=parseInt(a.value.dateselect_month,10);d=parseInt(a.value.dateselect_year,10);var e=parseInt(a.value.dateselect_day,10);a.format?(c=new Date(d,c-1,e),d=a.format,c=Aa(d,c)):c=c+"/"+e+"/"+d;return c=a.justString?c:l.wrapStringData(a,c,"capture_stringdata_dateselectBlock")},dateselect:function(a){function e(d){d=R(d);d=c(d);d=document.getElementById(d+"form_item_"+a.elementName);o(d).append("capture_focused").remove("capture_error");janrain.events.onCaptureContentChange.fire()}function f(d){var e=
R(d),g=c(e),g=document.getElementById(g+"form_item_"+a.elementName);o(g).remove("capture_focused");W(e,a)&&Ua(d)}a.customText||(a.customText={});var g=a.customText.dayLabelDateSelect||"day",h=a.customText.monthLabelDateSelect||"month",i=a.customText.yearLabelDateSelect||"year",j=a.fieldPrefix||P,k='<div id="'+j+"form_item_"+a.name+'" class="capture_form_item capture_dateselectBlock">',m,n,q,r=v(a.format)&&3===a.format.length?a.format:["month","day","year"],s=a.value&&a.value.dateselect_day?parseInt(a.value.dateselect_day):
"",u=a.value&&a.value.dateselect_year?parseInt(a.value.dateselect_year):"",w=a.value&&a.value.dateselect_month?parseInt(a.value.dateselect_month):"",h=[{text:h,value:"",disabled:!0},{text:"January",value:1},{text:"February",value:2},{text:"March",value:3},{text:"April",value:4},{text:"May",value:5},{text:"June",value:6},{text:"July",value:7},{text:"August",value:8},{text:"September",value:9},{text:"October",value:10},{text:"November",value:11},{text:"December",value:12}],x=a.monthStart||1,A=a.monthEnd||
13,y=a.dayStart||1,z=a.dayEnd||31,E=a.yearStart||1929,D=a.yearEnd||2012;q={elementName:a.name+"[dateselect_month]",elementId:a.name+"_dateselectmonth",rendererFieldName:a.name,rendererChildFieldName:"dateselect_month",elementClasses:["capture_dateselect_month"],justElement:!0,value:w,options:h.slice(0,1).concat(h.slice(x,A))};n={elementName:a.name+"[dateselect_day]",elementId:a.name+"_dateselectday",elementClasses:["capture_dateselect_day"],rendererFieldName:a.name,rendererChildFieldName:"dateselect_day",
justElement:!0,value:s,options:d(y,z,"asc",g)};E=parseInt(E,10);D=parseInt(D,10);m={elementName:a.name+"[dateselect_year]",justElement:!0,elementId:a.name+"_dateselectyear",rendererFieldName:a.name,rendererChildFieldName:"dateselect_year",elementClasses:["capture_dateselect_year"],value:u,options:d(E,D,"desc",i)};for(g=0;3>g;g++){var C;switch(r[g]){case "month":C=q;break;case "day":C=n;break;case "year":C=m}0===g&&(C.label=a.label);2===g&&(C.publicPrivateToggle=a.publicPrivateToggle,C.displayPublic=
a.displayPublic,C.tip=a.tip,C.justElement=!1);k+=l.createSelect(C)}if(a.datePicker){var F,r=new Date(w+"/"+s+"/"+u),B;B=isNaN(r.getMonth())?{provideOpenButton:!0}:{provideOpenButton:!0,defaultDate:r,preSelectedDate:r};Rd(B,a.datePickerSettings||{});t.push({elementName:m.elementName,eventType:"render",handler:function(){var a=document.getElementById(j+q.elementId),b=document.getElementById(j+n.elementId),c=document.getElementById(j+m.elementId);B.elementAttachedTo=c.parentNode;B.extraTargetElements=
[a,b,c];B.callback=function(d){a.value=d.getMonth()+1;c.value=d.getFullYear();b.value=d.getDate();pb&&pb(c);o(a).remove("capture_disabled");o(c).remove("capture_disabled");o(b).remove("capture_disabled");c.focus();c.blur()};F=new ka(B)}});var G=function(){if("undefined"!==typeof F){var a=document.getElementById(j+q.elementId),b=document.getElementById(j+n.elementId),c=document.getElementById(j+m.elementId),d=new Date;d.setFullYear(c.value);d.setMonth(a.value-1);d.setDate(b.value);F.setSelectedDate(d)}};
t.push({elementName:m.elementId,eventType:"change",handler:function(){G()}});t.push({elementName:q.elementId,eventType:"change",handler:function(){G()}});t.push({elementName:n.elementId,eventType:"change",handler:function(){G()}})}k+="</div>";t.push({elementName:a.name+"_dateselectyear",handler:e,eventType:"focus"});t.push({elementName:a.name+"_dateselectyear",handler:f,eventType:"blur"});t.push({elementName:a.name+"_dateselectday",handler:e,eventType:"focus"});t.push({elementName:a.name+"_dateselectday",
handler:f,eventType:"blur"});t.push({elementName:a.name+"_dateselectmonth",handler:e,eventType:"focus"});t.push({elementName:a.name+"_dateselectmonth",handler:f,eventType:"blur"});return k},addressFull_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c="",c="";a.value.streetaddress&&(c+='<div class="capture_stringdata_addressBlock_streetaddress">'+a.value.streetaddress+"</div>");a.value.streetaddress2&&(c+='<div class="capture_stringdata_addressBlock_streetaddress2">'+
a.value.streetaddress2+"</div>");if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+='<div class="capture_stringdata_addressBlock_citystatezip">';a.value.city&&(c+='<span class="capture_stringdata_addressBlock_city">'+a.value.city+"</span>, ");a.value.stateprovince&&(c+='<span class="capture_stringdata_addressBlock_stateprovince">'+a.value.stateprovince+"</span> ");a.value.zippostalcode&&(c+='<span class="capture_stringdata_addressBlock_zippostalcode">'+a.value.zippostalcode+"</span>");
if(a.value.city||a.value.stateprovince||a.value.zippostalcode)c+="</div>";a.value.country&&(c+='<div class="capture_stringdata_addressBlock_country">'+a.value.country+"</div>");return c=l.wrapStringData(a,c,"capture_stringdata_addressBlock")},addressFull:function(a){var d,e=E.prototype.render.htmlElement;a.value||(a.value={});a.value.country||(a.value.country="United States");d='<div class="capture_form_item capture_addressBlock">'+e.input({elementName:a.name+"[streetaddress]",elementId:a.name+"_streetaddress",
label:a.label||"Address",type:"text",rendererChildFieldName:"streetaddress",rendererFieldName:a.name,publicPrivateToggle:a.publicPrivateToggle,displayPublic:a.displayPublic,value:a.value&&a.value.streetaddress?a.value.streetaddress:"",placeholder:a.placeholder&&a.placeholder.streetaddress?a.placeholder.streetaddress:""});d+=e.input({elementName:a.name+"[streetaddress2]",elementId:a.name+"_streetaddress2",type:"text",rendererChildFieldName:"streetaddress2",rendererFieldName:a.name,value:a.value&&a.value.streetaddress2?
a.value.streetaddress2:"",placeholder:a.placeholder&&a.placeholder.streetaddress2?a.placeholder.streetaddress2:""});d+=e.input({elementName:a.name+"[city]",elementId:a.name+"_city",elementClasses:["capture_addressFull_city"],type:"text",rendererChildFieldName:"city",rendererFieldName:a.name,value:a.value&&a.value.city?a.value.city:"",placeholder:a.placeholder&&a.placeholder.city?a.placeholder.city:""});d+=E.prototype.render.captureElement.stateSelect({elementName:a.name+"[stateprovince]",elementId:a.name+
"_stateprovince",elementClasses:["capture_addressFull_stateprovince"],rendererChildFieldName:"stateprovince",rendererFieldName:a.name,label:"",placeholder:"State/Province",hide:!(a.value&&"United States"===a.value.country||a.value&&"Canada"===a.value.country),value:a.value&&a.value.stateprovince?a.value.stateprovince:""});t.push({elementName:a.name+"_stateprovince",handler:function(){},eventType:"change"});d+=e.input({elementName:a.name+"[zippostalcode]",elementId:a.name+"_zippostalcode",rendererChildFieldName:"zippostalcode",
rendererFieldName:a.name,elementClasses:["capture_addressFull_zippostalcode"],type:"text",value:a.value&&a.value.zippostalcode?a.value.zippostalcode:"",placeholder:a.placeholder&&a.placeholder.zippostalcode?a.placeholder.zippostalcode:""});d+=E.prototype.render.captureElement.countrySelect({elementName:a.name+"[country]",elementId:a.name+"_country",rendererChildFieldName:"country",rendererFieldName:a.name,elementClasses:["capture_addressFull_country"],value:a.value&&a.value.country?a.value.country:
"",placeholder:a.placeholder&&a.placeholder.country?a.placeholder.country:""});t.push({elementName:a.name+"_country",handler:function(d){var d=R(d),d=c(d),e=this.options[this.selectedIndex].value||"",f=document.getElementById(d+a.name+"_stateprovince");"United States"===e||"Canada"===e?document.getElementById(d+"form_item_"+a.name+"[stateprovince]").style.display="inline-block":(f.selectedIndex=0,document.getElementById(d+"form_item_"+a.name+"[stateprovince]").style.display="none")},eventType:"change"});
return d+"</div>"},backButton:function(a){var c;a.type="button";a.elementContent='<span class="janrain-icon-16 janrain-icon-back"></span>';c=""+l.createButton(a);a.type="backButton";t.push({elementName:a.elementName,handler:function(){eb=!1;var a=Dc.pop();a&&janrain.capture.ui.render(a.flow,a.values)},eventType:"click"});return c},partial:function(a){var c=document.getElementById(a.layout);if(c)return c.innerHTML;throw F(a.layout);},photoManager:function(a,d){function e(c){Tb=!1;var d=document.getElementById(n+
a.name+"_profile_pic_uploadform_container"),f=document.getElementById(n+a.name+"_upload_photo_form");d.innerHTML="";var g=document.createElement("div");g.innerHTML=$;var h=document.createElement("div");h.innerHTML=ca;d.appendChild(g);d.appendChild(f);d.appendChild(h);Cb(document.getElementById(G));d=document.getElementById(n+"photo_chooser");w(d,"change",r);janrain.events.onModalClose.addHandler(function(){Tb=!0});c&&C(c)}function f(c){if(0<parseInt(c.unscaled.width)){z=c;var d=c.unscaled.height/
c.sizedHeight,e=Math.round(q/(c.unscaled.width/c.sizedWidth)),g=document.getElementById(n+a.name+"_profile_pic_image_edit"),d=Math.round(s/d);"none"===g.style.display&&(g.style.display="block");g.style.width=e+"px";g.style.height=d+"px";g.style.marginLeft="-"+Math.round(c.unscaled.left/c.sizedWidth*e)+"px";g.style.marginTop="-"+Math.round(c.unscaled.top/c.sizedHeight*d)+"px"}}function h(){if(D)return!1;var c=document.getElementById(n+a.name+"_profile_pic_image_edit_crop");crop(c,f,y,u,function(){janrain.events.onCaptureContentChange.fire()});
c.style.display="inline";D=!0}function i(a){if(!z)return!1;R(a);var a=z.sizedWidth/z.originalWidth,b=z.sizedHeight/z.originalHeight;document.getElementById(n+"width").value=Math.round(z.unscaled.width/a);document.getElementById(n+"height").value=Math.round(z.unscaled.height/b);document.getElementById(n+"x").value=Math.round(z.unscaled.left/a);document.getElementById(n+"y").value=Math.round(z.unscaled.top/b)}var d=d?Q.parse(d):{custom:!1},j={};if(v(a.value)&&a.value.length){ya={};for(var k=0,m=a.value.length;k<
m;k++)ya[a.value[k].type]=a.value[k]}else ya=!1;var k=l.createDiv({elementName:a.elementName+"_parent"}),o=ia,n=a.fieldPrefix||P,m=E.prototype.render.htmlElement,q=a.previewSizeWidth||100,s=a.previewSizeHeight||100,u=a.originalMaxWidth||450,y=a.originalMaxHeight||450,z,D=!1,B="object"===typeof ya,F=B?"":"capture_profile_pic ",G=n+a.name+"_uploadphotoscreen",I=n+a.name+"_editphotoscreen";if(B&&ya.original)var K=-1<ya.original.value.indexOf("?")?"&":"?";j.profilePicClass=F;j.uploadPhotoScreenId=G;j.editPhotoScreenId=
I;var q=parseInt(q,10),s=parseInt(s,10),u=parseInt(u,10),y=parseInt(y,10),J={elementName:a.elementName};B&&ya.large&&(J.classes=["capture_userphoto"]);j.mainDiv=l.createDiv(J);j.closeDiv="</div>";a.customText||(a.customText={});var J=a.customText.profilePhotoTitlePhotoManager||"Profile Photo",L=a.customText.editProfileInstructionPhotoManager||"Select a region of the image to use for your photo.",M=a.customText.chooseNewPhotoLinkPhotoManager||"Choose new photo",N=a.customText.removePhotoLinkPhotoManager||
"Remove photo",O=a.customText.editPhotoLinkPhotoManager||"Edit Photo",S=a.customText.chooseDifferentPhotoLinkPhotoManager||"Choose a different photo",U=a.customText.editPhotoButtonTextPhotoManager||"Save",V=a.customText.uploadPhotoButtonTextPhotoManager||"Upload",W=a.customText.removePhotoButtonTextPhotoManager||"Remove",Z=a.customText.removePhotoCancelButtonTextPhotoManager||"Cancel",$=a.customText.uploadNewPhotoInstructionPhotoManager||"",ca=a.customText.uploadNextStepInstructionPhotoManager||"",
da=a.customText.editPhotoPreviewTitlePhotoManager||"";j.editProfilePhotoTitle=a.customText.editProfilePhotoTitlePhotoManager||"Profile Photo";j.editProfileInstruction=L;j.profilePhotoTitle=J;j.prefixFieldName=n+a.name;j.editPhotoPreviewTitle=da;Fb(document.getElementById(G));Fb(document.getElementById(I));j.profileImage='<div id="'+n+a.name+'_profile_pic" class="'+F+"capture_profile_pic_display"+(B?"":" capture_default")+'">';B&&ya.large&&(j.profileImage+=l.createImage({src:ya.large.value,imageId:a.name+
"_profile_pic_image"}));j.profileImage+="</div>";j.photoLinks=l.createListOfLinks([{listItemId:"upload_photo",listItemClasses:[],anchorText:M,anchorHref:"#",anchorClasses:["capture_upload_photo_link"],anchorId:"upload_photo_link"},{listItemId:"edit_photo",listItemClasses:[],anchorText:O,anchorHref:"#",anchorClasses:["capture_edit_photo_link"],anchorId:"edit_photo_link",hide:!B},{listItemId:"remove_photo",listItemClasses:[],anchorText:N,anchorHref:"#",anchorClasses:["capture_remove_photo_link"],anchorId:"remove_photo_link",
hide:!B}],["options"]);j.uploadImage=B&&ya.large?l.createImage({src:ya.large.value,imageId:a.name+"_profile_pic_image_upload"}):"";j.editImage=B&&ya.original?l.createImage({src:ya.original.value+K+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit"}):"";j.cropImage=B&&ya.original?l.createImage({src:ya.original.value+K+(new Date).getTime(),imageId:a.name+"_profile_pic_image_edit_crop",classes:["capture_profile_pic_original"]}):"";j.photoChooserErrors=l.createDiv({elementId:"photo_chooser_errors"});
j.photoChooserErrors+="</div>";var aa=oa();l.domHelpers.createIFrame(aa,a.name+"_upload_photo_form");j.uploadFormOpen=m.form({action:"widget/photo/upload_photo.jsonp",elementAttributes:{enctype:"multipart/form-data"},transactionId:aa,name:a.name+"_upload_photo_form",elementName:a.name+"_upload_photo_form"});j.uploadFileField=l.createInput({elementName:"photo",elementId:"photo_chooser",justElement:!0,elementAttributes:{"data-capturefield":a.name},type:"file"});j.uploadSubmitButton=l.createInput({elementName:"photo_submit",
elementId:"photo_submit",value:V,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});j.uploadFormClose="</form>";var ba=oa();l.domHelpers.createIFrame(ba,a.name+"_crop_photo_form");j.editFormOpen=m.form({action:"widget/photo/crop_photo.jsonp",transactionId:ba,name:a.name+"_crop_photo_form",elementName:a.name+"_crop_photo_form"});j.editFormOpen+=l.createDiv({elementName:"",classes:["capture_popup-arrow"],type:"div"});j.editFormOpen+="</div>";j.editFormOpen+=l.createInput({elementName:"width",
elementId:"width",justElement:!0,type:"hidden"});j.editFormOpen+=l.createInput({elementName:"height",elementId:"height",justElement:!0,type:"hidden"});j.editFormOpen+=l.createInput({elementName:"x",elementId:"x",justElement:!0,type:"hidden"});j.editFormOpen+=l.createInput({elementName:"y",elementId:"y",justElement:!0,type:"hidden"});j.editSubmitButton=l.createInput({elementName:"edit_photo_submit",elementId:"edit_photo_submit",value:U,classes:["capture_btn","capture_primary"],justElement:!0,type:"submit"});
j.editFormClose="</form>";j.chooseDifferentPhotoLink=l.createAnchor({elementHref:"#",elementText:S,elementId:a.name+"_different_photo_link"});d.custom?t.push({handler:function(){var c=document.getElementById(n+a.name+"_parent");c.innerHTML=X(j,c.innerHTML);t.push({elementName:a.name+"_upload_photo_form",handler:ga,eventType:"submit"});t.push({elementName:a.name+"_crop_photo_form",handler:ga,eventType:"submit"});A(aa);A(ba)},eventType:"render"}):(k+=X(j,'{| mainDiv |}      {| profileImage |}     {| photoLinks |}     &nbsp;  {| closeDiv |}  <\!-- hidden crop form --\> <div style="display: none;">     {| editFormOpen |}     <div class="capture_footer">         {| chooseDifferentPhotoLink |}         {| editSubmitButton |}     </div>     {| editFormClose |} </div>  <\!-- hidden upload form --\> <div style="display: none;">     {| uploadFormOpen |}     {| uploadFileField |}     <div class="capture_footer">         {| uploadSubmitButton |}     </div>     {| uploadFormClose |} </div>  <\!-- hidden upload screen --\> <div style="display: none;">     <div id="{| uploadPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| profilePhotoTitle |}</h1>         </div>         <div id="{| prefixFieldName |}_profile_pic_upload" class="{| profilePicClass |}capture_profile_pic_upload capture_default">             {| photoChooserErrors |}             {| uploadImage |}             &nbsp;         </div>         <div id="{| prefixFieldName |}_profile_pic_uploadform_container" class="capture_uploadPhoto_container">         </div>     </div> </div>  <\!-- hidden edit photo screen --\> <div style="display: none;">     <div id="{| editPhotoScreenId |}" class="janrain-capture-ui capture-ui-content capture_med_footer">         <div class="capture_header">             <h1>{| editProfilePhotoTitle |}</h1>         </div>         <div class="{| profilePicClass |}profile_pic_edit_container">             <h2>{| editPhotoPreviewTitle |}</h2>             <div id="{| prefixFieldName |}_profile_pic_edit" class="{| profilePicClass |}capture_profile_pic_edit capture_default">                 {| editImage |}                 &nbsp;             </div>         </div>         <div id="{| prefixFieldName |}_profile_pic_editPhoto_container" class="capture_editPhoto_container">             <h2>{| editProfileInstruction |}</h2>             {| cropImage |}         </div>     </div> </div> '),
k+="</div>",t.push({elementName:a.name+"_upload_photo_form",handler:ga,eventType:"submit"}),t.push({elementName:a.name+"_crop_photo_form",handler:ga,eventType:"submit"}),A(aa),A(ba));t.push({eventType:"render",handler:function(){var c=document.getElementById(n+a.name+"_different_photo_link");w(c,"click",e);c=document.getElementById(n+a.name+"_crop_photo_form");document.getElementById(n+a.name+"_profile_pic_editPhoto_container").appendChild(c);w(c,"submit",i)}});t.push({elementName:"upload_photo_link",
handler:e,eventType:"click"});t.push({elementName:"edit_photo_link",handler:function(a){"function"!==typeof crop?za("http://janrain-widgets.s3.amazonaws.com/crop/crop.js",h):setTimeout(h,50);Tb=!1;Cb(document.getElementById(I));janrain.events.onModalClose.addHandler(function(){Tb=!0});C(a)},eventType:"click"});t.push({elementName:"remove_photo_link",handler:function(a){var b=R(a),d=c(b);if(!document.getElementById(d+"remove_photo_contain")){var e=l.domHelpers.createDiv({elementId:"remove_photo_contain",
fieldPrefix:d,classes:["capture_popup_container pad"]}),b=l.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementText:W,elementId:"confirm_remove_photo_link"}),f=l.domHelpers.createAnchor({elementHref:"#",fieldPrefix:d,elementId:"cancel_remove_photo_link",elementText:Z});e.innerHTML='<div class="capture_popup-arrow"></div><p>Cant Be Undone</p>';e.appendChild(b);e.appendChild(f);document.getElementById(d+"remove_photo").appendChild(e);var g=function(a){var b=[d+"createFormAndPostSubmit",d+
"confirm_remove_photo_link",d+"remove_photo_link"],c=R(a).getAttribute("id")||"";!x(b,R(a).getAttribute("id"))&&0>c.indexOf(d+"createFormAndPostSubmit_")&&(e.innerHTML="",Fb(e),bb(document,"click",g),C(a))};w(f,"click",g);w(document,"click",g);w(b,"click",function(a){l.domHelpers.createFormAndPost({elementAction:janrain.settings.capture.captureServer+"/widget/photo/delete_photo.jsonp",fieldPrefix:d,captureScreen:o,needsResponse:!0,elementId:"delete_photo_form",callback:function(){}});C(a)});C(a)}},
eventType:"click"});return k},datePicker:function(a){var c="",d={provideOpenButton:!0};a.type="text";Rd(d,a.settings||{});c+=l.wrapFormItemStart(a);c+=l.createInput(a);c+=l.wrapFormItemEnd(a);t.push({elementName:a.elementName,eventType:"render",handler:function(a){a=document.getElementById(a);d.targetElement=a;new ka(d)}});l.attachFieldEventHandlers(a);return c},slider:function(a){if(a.publicDisplay&&"undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";for(var c=l.createDiv({elementName:"slider capture_form_item"}),
d=E.prototype.render.htmlElement,e=a.fieldPrefix||P,f=a.value&&0<=a.value.score?a.value.score:0,c=c+("<label>"+a.label+"</label>"),c=c+l.createDiv({elementName:a.elementName+"_container",classes:["capture_slider_container"]}),c=c+l.createDiv({elementName:a.elementName+"_base",classes:["capture_slider_base"]}),c=c+l.createDiv({elementName:a.elementName+"_marker",classes:["capture_slider_marker"]}),c=c+'</div></div><div class="capture_slider_list"><ul>',h=0,i;i=a.legend_items[h];h++)c+="<li>"+i+"</li> ";
c+="</ul></div></div>";a.publicPrivateToggle&&(c+=l.createPublicPrivateToggle(a));c+=d.input({elementName:a.elementName+"[score]",elementId:a.elementName+"_score",name:a.elementName+"_score",rendererChildFieldName:"score",rendererFieldName:a.elementName,type:"hidden",validation:!1,value:a.value&&0<=a.value.score?a.value.score:"initialValue"in a?a.initialValue:0});c+="</div>";t.push({elementName:a.elementName+"_marker",eventType:"render",handler:function(){document.getElementById(e+a.elementName+"_marker").style.left=
(0<=f?f:"initialPosition"in a?a.initialPosition:0)+"%"}});if(!0===a.enabled){var j=!1;t.push({elementName:a.elementName+"_marker",eventType:Cd,handler:function(c){j=!0;var d=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),d=d.getBoundingClientRect(),h=d.width?d.width:d.right-d.left,d=new ld;d.setElement(document.getElementById(e+a.elementName+"_marker")).setElementBoundry(document.getElementById(e+a.elementName+"_container")).setCallback(function(a){f.value=
Math.round(100*(a.pos_x/h));pb&&pb(f)}).drag(c);_draggingSliderFx.push(d);oc&&clearTimeout(oc)}});t.push({elementName:a.elementName+"_marker",eventType:Bb,handler:function(){var c=document.getElementById(e+a.elementName+"_marker"),d=document.getElementById(e+a.elementName+"_base"),f=document.getElementById(e+a.elementName+"_score"),c=parseInt(Kd(c.id,"left")),d=d.getBoundingClientRect();f.value=Math.round(100*(c/(d.width?d.width:d.right-d.left)))}});t.push({elementName:a.elementName+"_container",
eventType:"mouseover",handler:function(){document.getElementById(e+a.elementName+"_container").style.cursor="pointer"}});t.push({elementName:a.elementName+"_container",eventType:"click",handler:function(c){if(!0===j)j=!1;else{var d=document.getElementById(e+a.elementName+"_marker"),f=document.getElementById(e+a.elementName+"_base"),h=document.getElementById(e+a.elementName+"_score"),i=f.getBoundingClientRect(),p=i.width?i.width:i.right-i.left,k=c.clientX-Wd(f).x,c=parseInt(Kd(d.id,"left")),c=isNaN(c)?
0:c;(new ld).setElement(d).setAcceleration("sinusoidal").setDuration(500).startPosition(c).endPosition(k).setDirection("horizontal").setCallback(function(){h.value=Math.round(100*(k/p));pb&&pb(h)}).animate()}}})}return c},collection:{radio:function(a){for(var c=a.fieldPrefix||P,d=l.createDiv({elementName:a.elementName,classes:a.classes||""}),e=0;e<a.collection.length;e++)d+="<div class='capture_radio_toggle",d+=(0===e?" capture_toggled":"")+"'>",d+="<input type='radio' id='"+c+"radio_"+a.collection[e].elementName+
"' name='capture_collection_"+a.elementName+"' class='radio-input'"+(0===e?"checked='true' ":"")+"/>",d+="<label ",d+="class='capture_radio_label' ",d+="for='"+c+"radio_"+a.collection[e].elementName+"'>"+a.collection[e].label+" ",d+="</label></div>",t.push({elementName:"radio_"+a.collection[e].elementName,handler:function(c){Ea(c,a)},eventType:"click"});l.autoSelectPreferredTab(a,"radio");return d+"</div>"},accordion:function(){return"<div>"},tab:function(a){for(var c,d=[],e=l.createDiv({elementName:a.elementName,
classes:a.classes||""}),f=0;f<a.collection.length;f++)c={},c.listItemId="tab_li_"+a.collection[f].elementName,c.listItemClasses=["capture_tab_toggle"],0===f&&c.listItemClasses.push("capture_toggled"),c.anchorId="tab_"+a.collection[f].elementName,c.anchorText=a.collection[f].label,c.anchorHref="#",d.push(c),t.push({elementName:"tab_"+a.collection[f].elementName,handler:function(c){Ea(c,a)},eventType:"click"});l.autoSelectPreferredTab(a,"tab");e+=l.createListOfLinks(d,["capture_tabs"]);return e+"</div>"}},
newsletterSubscriptions:function(a){var c="",d=a.startHTML||"",e=a.endHTML||"",f=a.delimiter||"",h=v(a.value)?a.value:[],i="capture_newsletter_checkbox"+(v(a.classes)?" "+a.classes.join(" "):""),j=h.length,k=(a.fieldPrefix||P)+"form_item_"+a.elementName,m,n,o;if(0<j){c+=l.wrapFormItemStart(a);c+=l.createLabel(a);c+=d;for(d=0;d<j;++d)o=h[d],m=o.display_name||"",n="","active"===o.status&&(n='checked="checked"'),c+='<label><input type="checkbox" class="'+i+'" data-subId="'+o.list_id+'" '+n+">"+m+"</label>"+
f;f&&(c=c.slice(0,-f.length));c=c+e+l.createTip(a);c+=l.wrapFormItemEnd(a);t.push({handler:function(){for(var a=ha("capture_newsletter_checkbox",document.getElementById(k)),b=0,c=a.length;b<c;++b)w(a[b],"change",function(a){var b=R(a),a=b.getAttribute("data-subId"),c=b.checked?"active":"inactive",b=oa(),a=ua({list_id:a,token:ma,subscription_status:c,capture_transactionId:b});jb("/widget/update_subscription",a);Oa(b)})},eventType:"render"})}return c},pluralIterator:function(a){var c="",d="",e=a.format||
"",f=a.startHTML||"",h=a.endHTML||"",i=a.delimiter||"",j="undefined"===typeof a.emptyMessage?"There are no "+a.schemaId+".":a.emptyMessage,a=v(a.value)?a.value:[],k=a.length;if(0===k)return j;for(j=0;j<k;++j)d+=X(a[j],e)+i;i&&(d=d.slice(0,-i.length));d&&(c+=f+d+h);return c},datetime_public:function(a){if("undefined"!==typeof a.displayPublic&&!1===a.displayPublic)return"";var c,d,e,f=a.format||"{month} {d}{ord}, {yyyy} at {hour}:{minute} {ampm}",h="2012",i="01",j="01",k="NA",m="NA",n="NA",o;c=a.value.split(" ");
d=c.length;for(o=0;o<d;++o)e=c[o].split("-"),3===e.length?(h=e[0],i=e[1],j=e[2]):(e=c[o].split(":"),3===e.length?(k=e[0],m=e[1],n=e[2].split(".")[0]):(e=c[o].split("/"),3===e.length&&(h=e[0],i=e[1],j=e[2])));c=new Date;"NA"!==k||"NA"!==m||"NA"!==n?(c.setUTCHours(k),c.setUTCMinutes(m),c.setUTCSeconds(n),c.setUTCMilliseconds(0),c.setUTCMonth(i-1),c.setUTCDate(j),c.setUTCFullYear(h)):(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),c.setMonth(i-1),c.setDate(j),c.setFullYear(h));return"[object Date]"!==
Object.prototype.toString.call(c)||isNaN(c.getTime())?a.value:a.justString?Aa(f,c):l.wrapStringData(a,Aa(f,c))}},widget:{login:function(){t.push({handler:function(){var a=document.getElementById("janrainEngageEmbed"),b=document.getElementById(P+"login_widget");if(!janrain.settings.tokenAction||"event"===janrain.settings.tokenAction){var c=oa();janrain.engage.signin.appendTokenParams({capture_transactionId:c});ed=c}a?(b.appendChild(a),a.style.display="block",janrain.engage.signin.removeNotice()):(a=
document.createElement("div"),a.id="janrainEngageEmbed",document.body.appendChild(a),b.appendChild(a),a.style.display="block",janrain.engage.signin.widget.init());La||M()},eventType:"render"});var a=l.createDiv({elementName:"login_widget",classes:["login_widget"]});return a+"</div>"},share:function(a,c){c=c?Q.parse(c):{text:"Share"};t.push({elementName:"share_widget",eventType:"click",handler:function(){janrain.engage.share.show()}});var d=l.createDiv({elementName:"share_widget",classes:["share_widget"]});
return d+=c.text+" </div>"}}};var vd=!0,ja={},Tb=!0,Ad={},fd="",wc=0,zd=[],xc,oc=0,yd=0,pb=null;Jc.accessDenied='<div class="capture_access">'+(Ka.accessDenied||"Sorry. Access denied.")+"</div>";Jc.retrievingUserData='<div class="capture_retrieving">'+(Ka.retrievingUserData||"Please wait while we retrieve your user data.")+"</div>";var Uc=[],Bd={};return{modal:{close:function(){"object"==typeof m&&m.close()},closeConfirm:function(){"object"==typeof m&&m.closeConfirm()},open:function(a){Mb=!0;var c=
a||ca.flow.defaultScreen;if("object"==typeof m&&(a&&janrain.capture.ui.renderScreen(c),a=ca.div))m.setShowContentOnLoad(!0),m.addContent(a).show(),janrain.events.onCaptureContentChange.fire()},setBorder:function(a){"object"===typeof m&&(m.setBorder(a),m.refresh({center:!0}));return!0},setBorderColor:function(a){"object"===typeof m&&(m.setBorderColor(a),m.refresh());return!0},setBorderOpacity:function(a){"object"===typeof m&&(m.setBorderOpacity(a),m.refresh());return!0},setBorderRadius:function(a){"object"==
typeof m&&(m.setBorderRadius(a),m.refresh());return!0},setOverlayZIndex:function(a){"object"==typeof m&&(m.setZIndex(a),m.refresh());return!0}},start:function(b,c){a(b,c)},hasActiveSession:function(){return!!ma},render:function(a,c){var d=a;Xd&&"object"===typeof janrain.settings.capture.flowInjection&&(d=Sd(d,janrain.settings.capture.flowInjection));d.i18nStrings&&(Ka=d.i18nStrings);if(d.version)Ga=d.version;else throw Error("MissingVersionError: Missing version.");Ab(d);var e=d;pd=e.hasTraditionalAccount;
nd=e.form;if(pd)for(var e=ha("janrain_traditional_account_only"),f=e.length,h=0;h<f;h++)e[h].style.display="block";Rb(d);d=new sa;e=!1;Fc&&Hc&&(e=janrain.settings.capture.registerFlow||"socialRegister");e=n.oneTimeRender||e||janrain.settings.capture.screenToRender||n.defaultScreen;d.setScreenData(e,n.screens[e]);if(c)for(var i in c)c[i].id&&c[i].value&&(d=document.getElementById(c[i].id),d.value=c[i].value,"radio"===c[i].type&&(d.checked=c[i].checked,c[i].checked&&d.click()))},renderScreen:function(a,
c){eb=!1;c||Dc.push(ca);(new sa).setScreenData(a,n.screens[a])},setHandler:function(a,c,d){this.setFieldAttribute(a,c+"Handler",d)},setFieldAttribute:function(a,c,d){Ec.push({field:a,attribute:c,value:d})},setRenderer:function(a,c,d){E.prototype.render[a].helpers=ud;E.prototype.render[a][c]=d},setValidator:function(a,c){K.prototype[a]=c},registerFunction:function(a,c){Bd[a]=c},addRenderer:function(a,c,d){this.setRenderer(a,c,d)},trackLoadedCssFiles:function(a){Xc.push(a)},handleCaptureUniqueResponse:function(a){Kc(a)},
handleCaptureResponse:function(a,c){pc(a,c)},handleErrorResponse:function(a,c){janrain.events.onCaptureError.fire("object"===typeof a?a:"{"+a+"}");if(a.result&&a.result.error&&("access_token_expired"===a.result.error&&(Ca(),janrain.events.onCaptureExpiredToken.fire()),"invalid_argument"===a.result.error&&"malformed access token"===a.result.errorDescription&&(Ca(),janrain.events.onCaptureInvalidToken.fire()),"linkError"===a.result.error)){var d=Lc("linkAccounts"),e=d.length?d[0]:{},d=e.messages&&e.messages.errors&&
e.messages.errors.linkError?e.messages.errors.linkError:"That account is already in use.",f=z().getCookie("expected_tab");if(m&&m.isOpen()&&(e=e&&e.linkAccountContainer?ha("capture_"+e.linkAccountContainer,document.getElementById("janrainModal")):!1))for(var e=ha("capture_form_error_container",e[0]),h=0,i=e.length;h<i;h++)e[h].innerHTML='<div class="capture_form_error">'+d+"</div>";janrain.events.onCaptureLinkAccountError.fire({message:d,provider:f})}d=a.result.error+": "+a.result.errorDescription;
f=a.result.error;yc&&(e={classes:["capture_fatal_error"],elementId:"fatalerror_"+(new Date).getTime()},f&&e.classes.push("capture_errortype_"+f.replace(/ /g,"").toLowerCase()),f=l.domHelpers.createDiv(e),f.innerHTML=d,yc.insertBefore(f,yc.firstChild),janrain.events.onCaptureContentChange.fire());yc||alert(d);V(a);"function"===typeof c&&c()},createCaptureSession:function(a){s(a)},endCaptureSession:function(){Ca()},addTransactionIds:function(a){zb(a)},getFailedLogins:function(){return gc},setCustomHtml:function(a,
c){x(Qc,a)&&(Jc[a]=c)},getEngageCookie:function(a){return k(a)},getProfileCookieData:function(a,c){return nc(a,c)},federateLogoutCallbackFired:function(a,c){x(Yc,a)||(Yc.push(a),c())},federateNoLogin:function(a){janrain.events.onCaptureFederateNoLogin.fire(a.result);yb(a.transactionId);kb();wb=!0},federateSetLoginSuccess:function(a){a&&a.transactionId&&ob&&ob[a.transactionId]&&(ob[a.transactionId].setLoginSuccess=!0,ob[a.transactionId].eventFiredDueToSlowResponse||q(a.transactionId))},federateRefreshToken:function(a){a&&
"ok"===a.stat&&(s(a.accessToken,!1,!0),Wa())},scriptLoader:function(a,c){return hd(a,c)},noop:function(){},validationHandler:function(a){var c=document.getElementById(a.elementId),d=new l.validation;d.setParentDiv(c);d.setElement(c);d.valid();a.valid?d.valid():d.notValid(a.reason)},setNoReturnExperience:function(){var a=new z;a.setUseLocalStorage(!0).setName("janrainLastAuthMethod");a.remove();janrain.engage&&janrain.engage.signin&&janrain.engage.signin.setNoReturnExperience(!0);zc&&janrain.capture.ui.renderScreen(zc)},
getPublicProfile:function(a,c){Ub(a,c)},activateCaptureControl:function(a){na(a)}}};return{engage:{signin:janrain&&janrain.engage&&janrain.engage.signin?janrain.engage.signin:me,share:janrain&&janrain.engage&&janrain.engage.share?janrain.engage.share:ne,publish:janrain&&janrain.engage&&janrain.engage.publish?janrain.engage.publish:oe,simpleshare:janrain&&janrain.engage&&janrain.engage.simpleshare?janrain.engage.simpleshare:pe},capture:{ui:re}}}();janrain.engage=janrain.apps.engage;
janrain.capture=janrain.apps.capture;